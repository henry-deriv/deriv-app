(self.webpackChunk_deriv_reports=self.webpackChunk_deriv_reports||[]).push([["vendors-node_modules_lodash_debounce_index_js-node_modules_lodash_merge_index_js-node_modules-1e1141"],{"../../node_modules/lodash.debounce/index.js":(t,e,n)=>{var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),h=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return l.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=s.test(t);return n||o.test(t)?a(t.slice(2),n?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,s,o,a,u,c=0,l=!1,h=!1,b=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=r,s=i;return r=i=void 0,c=e,o=t.apply(s,n)}function m(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=s}function w(){var t=p();if(m(t))return O(t);a=setTimeout(w,function(t){var n=e-(t-u);return h?d(n,s-(t-c)):n}(t))}function O(t){return a=void 0,b&&r?g(t):(r=i=void 0,o)}function _(){var t=p(),n=m(t);if(r=arguments,i=this,u=t,n){if(void 0===a)return function(t){return c=t,a=setTimeout(w,e),l?g(t):o}(u);if(h)return a=setTimeout(w,e),g(u)}return void 0===a&&(a=setTimeout(w,e)),o}return e=v(e)||0,y(n)&&(l=!!n.leading,s=(h="maxWait"in n)?f(v(n.maxWait)||0,e):s,b="trailing"in n?!!n.trailing:b),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=u=i=a=void 0},_.flush=function(){return void 0===a?o:O(p())},_}},"../../node_modules/lodash.merge/index.js":(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",c="[object Null]",l="[object Object]",h="[object Proxy]",f="[object Undefined]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[s]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y[a]=y["[object Map]"]=y["[object Number]"]=y[l]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var v,b,g,m="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,w="object"==typeof self&&self&&self.Object===Object&&self,O=m||w||Function("return this")(),_=e&&!e.nodeType&&e,P=_&&t&&!t.nodeType&&t,S=P&&P.exports===_,j=S&&m.process,q=function(){try{return P&&P.require&&P.require("util").types||j&&j.binding&&j.binding("util")}catch(t){}}(),A=q&&q.isTypedArray,x=Array.prototype,C=Function.prototype,M=Object.prototype,F=O["__core-js_shared__"],E=C.toString,D=M.hasOwnProperty,k=(v=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",T=M.toString,I=E.call(Object),R=RegExp("^"+E.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=S?O.Buffer:void 0,z=O.Symbol,N=O.Uint8Array,Q=(K&&K.allocUnsafe,b=Object.getPrototypeOf,g=Object,function(t){return b(g(t))}),U=Object.create,L=M.propertyIsEnumerable,H=x.splice,$=z?z.toStringTag:void 0,B=function(){try{var t=ft(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),G=K?K.isBuffer:void 0,W=Math.max,J=Date.now,V=ft(O,"Map"),Y=ft(Object,"create"),X=function(){function t(){}return function(e){if(!St(e))return{};if(U)return U(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=this.__data__=new tt(t);this.size=e.size}function rt(t,e,n){(void 0!==n&&!bt(t[e],n)||void 0===n&&!(e in t))&&ot(t,e,n)}function it(t,e,n){var r=t[e];D.call(t,e)&&bt(r,n)&&(void 0!==n||e in t)||ot(t,e,n)}function st(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function ot(t,e,n){"__proto__"==e&&B?B(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}Z.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},Z.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Z.prototype.get=function(t){var e=this.__data__;if(Y){var n=e[t];return n===r?void 0:n}return D.call(e,t)?e[t]:void 0},Z.prototype.has=function(t){var e=this.__data__;return Y?void 0!==e[t]:D.call(e,t)},Z.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Y&&void 0===e?r:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=st(e,t);return!(n<0||(n==e.length-1?e.pop():H.call(e,n,1),--this.size,0))},tt.prototype.get=function(t){var e=this.__data__,n=st(e,t);return n<0?void 0:e[n][1]},tt.prototype.has=function(t){return st(this.__data__,t)>-1},tt.prototype.set=function(t,e){var n=this.__data__,r=st(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(V||tt),string:new Z}},et.prototype.delete=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return ht(this,t).get(t)},et.prototype.has=function(t){return ht(this,t).has(t)},et.prototype.set=function(t,e){var n=ht(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},nt.prototype.clear=function(){this.__data__=new tt,this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},nt.prototype.get=function(t){return this.__data__.get(t)},nt.prototype.has=function(t){return this.__data__.has(t)},nt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!V||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new et(r)}return n.set(t,e),this.size=n.size,this};function at(t){return null==t?void 0===t?f:c:$&&$ in Object(t)?function(t){var e=D.call(t,$),n=t[$];try{t[$]=void 0;var r=!0}catch(t){}var i=T.call(t);return r&&(e?t[$]=n:delete t[$]),i}(t):function(t){return T.call(t)}(t)}function ut(t){return jt(t)&&at(t)==s}function ct(t,e,n,r,i){t!==e&&function(t,e,n){for(var r=-1,i=Object(t),s=n(t),o=s.length;o--;){var a=s[++r];if(!1===e(i[a],a,i))break}}(e,(function(s,o){if(i||(i=new nt),St(s))!function(t,e,n,r,i,s,o){var a=yt(t,n),u=yt(e,n),c=o.get(u);if(c)rt(t,n,c);else{var h,f,d,p,y,v=s?s(a,u,n+"",t,e,o):void 0,b=void 0===v;if(b){var g=mt(u),m=!g&&Ot(u),w=!g&&!m&&qt(u);v=u,g||m||w?mt(a)?v=a:jt(y=a)&&wt(y)?v=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(a):m?(b=!1,v=function(t,e){return t.slice()}(u)):w?(b=!1,p=new(d=(h=u).buffer).constructor(d.byteLength),new N(p).set(new N(d)),f=p,v=new h.constructor(f,h.byteOffset,h.length)):v=[]:function(t){if(!jt(t)||at(t)!=l)return!1;var e=Q(t);if(null===e)return!0;var n=D.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==I}(u)||gt(u)?(v=a,gt(a)?v=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=void 0;void 0===u&&(u=t[a]),i?ot(n,a,u):it(n,a,u)}return n}(t,At(t))}(a):St(a)&&!_t(a)||(v=function(t){return"function"!=typeof t.constructor||pt(t)?{}:X(Q(t))}(u))):b=!1}b&&(o.set(u,v),i(v,u,r,s,o),o.delete(u)),rt(t,n,v)}}(t,e,o,n,ct,r,i);else{var a=r?r(yt(t,o),s,o+"",t,e,i):void 0;void 0===a&&(a=s),rt(t,o,a)}}),At)}var lt=B?function(t,e){return B(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Mt;function ht(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ft(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!St(t)||function(t){return!!k&&k in t}(t))&&(_t(t)?R:d).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function dt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&p.test(t))&&t>-1&&t%1==0&&t<e}function pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||M)}function yt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var vt=function(t){var e=0,n=0;return function(){var r=J(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(lt);function bt(t,e){return t===e||t!=t&&e!=e}var gt=ut(function(){return arguments}())?ut:function(t){return jt(t)&&D.call(t,"callee")&&!L.call(t,"callee")},mt=Array.isArray;function wt(t){return null!=t&&Pt(t.length)&&!_t(t)}var Ot=G||function(){return!1};function _t(t){if(!St(t))return!1;var e=at(t);return e==a||e==u||e==o||e==h}function Pt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function St(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function jt(t){return null!=t&&"object"==typeof t}var qt=A?function(t){return function(e){return t(e)}}(A):function(t){return jt(t)&&Pt(t.length)&&!!y[at(t)]};function At(t){return wt(t)?function(t,e){var n=mt(t),r=!n&&gt(t),i=!n&&!r&&Ot(t),s=!n&&!r&&!i&&qt(t),o=n||r||i||s,a=o?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!D.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||dt(c,u))||a.push(c);return a}(t,!0):function(t){if(!St(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=pt(t),n=[];for(var r in t)("constructor"!=r||!e&&D.call(t,r))&&n.push(r);return n}(t)}var xt,Ct=(xt=function(t,e,n){ct(t,e,n)},function(t,e){return vt(function(t,e,n){return e=W(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=W(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(t,e,Mt),t+"")}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,s=r>2?e[2]:void 0;for(i=xt.length>3&&"function"==typeof i?(r--,i):void 0,s&&function(t,e,n){if(!St(n))return!1;var r=typeof e;return!!("number"==r?wt(n)&&dt(e,n.length):"string"==r&&e in n)&&bt(n[e],t)}(e[0],e[1],s)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var o=e[n];o&&xt(t,o,n)}return t})));function Mt(t){return t}t.exports=Ct},"../../node_modules/mobx-persist-store/lib/esm5/index.js":(t,e,n)=>{"use strict";n.d(e,{Ko:()=>y,Rf:()=>v});var r=new Map,i={},s={},o=n("mobx"),a=function(t,e,n){void 0===n&&(n="")},u=function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},l=function(){function t(t){this.options=t}return t.prototype.setItem=function(t,e){var n;return u(this,void 0,void 0,(function(){var r,i,s,o,u;return c(this,(function(c){switch(c.label){case 0:return r=this.options,i=r.stringify,s=void 0===i||i,r.debugMode,o=this.options.expireIn?Object.assign({},e,{__mps__:{expireInTimestamp:(l=this.options.expireIn,(new Date).getTime()+l)}}):e,u=s?JSON.stringify(o):o,a(0,"".concat(t," - setItem:"),u),[4,null===(n=this.options.storage)||void 0===n?void 0:n.setItem(t,u)];case 1:return c.sent(),[2]}var l}))}))},t.prototype.getItem=function(t){var e,n;return u(this,void 0,void 0,(function(){var r,i,s,o,u,l;return c(this,(function(c){switch(c.label){case 0:return r=this.options,i=r.removeOnExpiration,s=void 0===i||i,r.debugMode,[4,null===(e=this.options.storage)||void 0===e?void 0:e.getItem(t)];case 1:o=c.sent();try{u=JSON.parse(o)||{}}catch(t){u=o||{}}return h=null===(n=u.__mps__)||void 0===n?void 0:n.expireInTimestamp,f=(new Date).getTime(),l=new Date(h).getTime()<=f,a(0,"".concat(t," - hasExpired"),l),l&&s?[4,this.removeItem(t)]:[3,3];case 2:c.sent(),c.label=3;case 3:return u=l?{}:u,a(0,"".concat(t," - (getItem):"),u),[2,u]}var h,f}))}))},t.prototype.removeItem=function(t){var e;return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return this.options.debugMode,a(0,"".concat(t," - (removeItem): storage was removed")),[4,null===(e=this.options.storage)||void 0===e?void 0:e.removeItem(t)];case 1:return n.sent(),[2]}}))}))},t}(),h=function(t){return t.reduce((function(t,e){return"string"==typeof e?(t.push({key:e,serialize:function(t){return t},deserialize:function(t){return t}}),t):(function(t){return Boolean(t)&&!1===Array.isArray(t)&&"object"==typeof t}(n=e)?["key","serialize","deserialize"].every((function(t){return!(!n.hasOwnProperty(t)||void 0===t)||(a(0,"".concat(t," not found in SerializableProperty"),{key:t,obj:n}),!1)})):(a(0,0,{obj:n}),0))?(t.push(e),t):t;var n}),[])},f=function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))},d=function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},p=function(){function t(t,e,n){var r,u,c,f,d,p,y;void 0===n&&(n={}),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null,this.debugMode=!1,this.isHydrated=!1,this.isPersisting=!1,this.storageName="",this.target=t,this.storageName=e.name,this.properties=h(e.properties),this.reactionOptions=Object.assign({fireImmediately:!0},s,n),this.debugMode=null!==(u=null!==(r=e.debugMode)&&void 0!==r?r:i.debugMode)&&void 0!==u&&u,this.storageAdapter=new l({expireIn:null!==(c=e.expireIn)&&void 0!==c?c:i.expireIn,removeOnExpiration:null===(d=null!==(f=e.removeOnExpiration)&&void 0!==f?f:i.removeOnExpiration)||void 0===d||d,stringify:null===(y=null!==(p=e.stringify)&&void 0!==p?p:i.stringify)||void 0===y||y,storage:e.storage?e.storage:i.storage,debugMode:this.debugMode}),(0,o.makeObservable)(this,{clearPersistedStore:o.action,hydrateStore:o.action,isHydrated:o.observable,isPersisting:o.observable,pausePersisting:o.action,startPersisting:o.action,stopPersisting:o.action},{autoBind:!0,deep:!1}),this.storageAdapter.options.storage,this.storageName,a(this.debugMode,"".concat(this.storageName," - (makePersistable)"),{properties:this.properties,storageAdapter:this.storageAdapter,reactionOptions:this.reactionOptions})}return t.prototype.init=function(){return f(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,this.hydrateStore()];case 1:return t.sent(),this.startPersisting(),[2,this]}}))}))},t.prototype.hydrateStore=function(){return f(this,void 0,void 0,(function(){var t,e,n,r=this;return d(this,(function(i){switch(i.label){case 0:return t=Boolean(this.cancelWatch),this.isPersisting&&this.pausePersisting(),(0,o.runInAction)((function(){r.isHydrated=!1,a(r.debugMode,"".concat(r.storageName," - (hydrateStore) isHydrated:"),r.isHydrated)})),this.storageAdapter&&this.target?[4,this.storageAdapter.getItem(this.storageName)]:[3,2];case 1:e=i.sent(),n=this.target,e&&(0,o.runInAction)((function(){r.properties.forEach((function(t){var r;if([n.hasOwnProperty(t.key),void 0!==e[t.key]].every(Boolean)){var i=e[t.key];n[t.key]instanceof o.ObservableMap&&(r=i,Array.isArray(r)&&r.every((function(t){return Array.isArray(t)})))?n[t.key]=t.deserialize(new Map(i)):n[t.key]=t.deserialize(i)}}))})),i.label=2;case 2:return(0,o.runInAction)((function(){r.isHydrated=!0,a(r.debugMode,"".concat(r.storageName," - isHydrated:"),r.isHydrated)})),t&&this.startPersisting(),[2]}}))}))},t.prototype.startPersisting=function(){var t=this;if(this.storageAdapter&&this.target&&!this.cancelWatch){var e=this.target;this.cancelWatch=(0,o.reaction)((function(){var n={};return t.properties.forEach((function(t){var r=(0,o.isComputedProp)(e,t.key),i=(0,o.isAction)(e[t.key]);if(String(t.key),String(t.key),!r&&!i){var s=t.serialize(e[t.key]);if(s instanceof o.ObservableMap){var a=[];s.forEach((function(t,e){a.push([e,(0,o.toJS)(t)])})),s=a}n[t.key]=(0,o.toJS)(s)}})),n}),(function(e){return f(t,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return this.storageAdapter?[4,this.storageAdapter.setItem(this.storageName,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}),this.reactionOptions),this.isPersisting=!0,a(this.debugMode,"".concat(this.storageName," - (startPersisting) isPersisting:"),this.isPersisting)}},t.prototype.pausePersisting=function(){this.isPersisting=!1,a(this.debugMode,"".concat(this.storageName," - pausePersisting (isPersisting):"),this.isPersisting),this.cancelWatch&&(this.cancelWatch(),this.cancelWatch=null)},t.prototype.stopPersisting=function(){this.pausePersisting(),a(this.debugMode,"".concat(this.storageName," - (stopPersisting)")),r.delete(this.target),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null},t.prototype.clearPersistedStore=function(){return f(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return this.storageAdapter?(a(this.debugMode,"".concat(this.storageName," - (clearPersistedStore)")),[4,this.storageAdapter.removeItem(this.storageName)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.getPersistedStore=function(){return f(this,void 0,void 0,(function(){return d(this,(function(t){return this.storageAdapter?(a(this.debugMode,"".concat(this.storageName," - (getPersistedStore)")),[2,this.storageAdapter.getItem(this.storageName)]):[2,null]}))}))},t}(),y=function(t,e,n){return function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function(){var i;return function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(s){return i=new p(t,e,n),Array.from(r.values()).map((function(t){return t.storageName})).includes(i.storageName),i.storageName,r.set(t,i),[2,i.init()]}))}))},v=function(t){var e;null===(e=r.get(t))||void 0===e||e.stopPersisting()}},"../../node_modules/mobx-react-lite/es/index.js":(t,e,n)=>{"use strict";n.d(e,{Pi:()=>w});var r=n("mobx"),i=n("react"),s=n.n(i);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var o=n("react-dom");function a(t){return(0,r.getDependencyTree)(t)}var u=function(){function t(t){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(t){void 0===t&&(t=1e4),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var n=Date.now();e.registrations.forEach((function(r,i){n-r.registeredAt>=t&&(e.finalize(r.value),e.registrations.delete(i))})),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,n){this.registrations.set(n,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),t}(),c=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:u)((function(t){var e;null===(e=t.reaction)||void 0===e||e.dispose(),t.reaction=null})),l=!1;function h(){return l}var f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o};function d(t){return"observer".concat(t)}var p=function(){};function y(){return new p}function v(t,e){if(void 0===e&&(e="observed"),h())return t();var n=f(s().useState(y),1)[0],i=f(s().useState(),2)[1],o=function(){return i([])},u=s().useRef(null);u.current||(u.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l,p,v=u.current;if(v.reaction||(v.reaction=new r.Reaction(d(e),(function(){v.mounted?o():v.changedBeforeMount=!0})),c.register(n,v,v)),s().useDebugValue(v.reaction,a),s().useEffect((function(){return c.unregister(v),v.mounted=!0,v.reaction?v.changedBeforeMount&&(v.changedBeforeMount=!1,o()):(v.reaction=new r.Reaction(d(e),(function(){o()})),o()),function(){v.reaction.dispose(),v.reaction=null,v.mounted=!1,v.changedBeforeMount=!1}}),[]),v.reaction.track((function(){try{l=t()}catch(t){p=t}})),p)throw p;return l}var b="function"==typeof Symbol&&Symbol.for,g=b?Symbol.for("react.forward_ref"):"function"==typeof i.forwardRef&&(0,i.forwardRef)((function(t){return null})).$$typeof,m=b?Symbol.for("react.memo"):"function"==typeof i.memo&&(0,i.memo)((function(t){return null})).$$typeof;function w(t,e){var n;if(m&&t.$$typeof===m)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(h())return t;var r=null!==(n=null==e?void 0:e.forwardRef)&&void 0!==n&&n,s=t,o=t.displayName||t.name;if(g&&t.$$typeof===g&&(r=!0,"function"!=typeof(s=t.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,u,c=function(t,e){return v((function(){return s(t,e)}),o)};return""!==o&&(c.displayName=o),t.contextTypes&&(c.contextTypes=t.contextTypes),r&&(c=(0,i.forwardRef)(c)),c=(0,i.memo)(c),a=t,u=c,Object.keys(a).forEach((function(t){_[t]||Object.defineProperty(u,t,Object.getOwnPropertyDescriptor(a,t))})),c}var O,_={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(O=o.unstable_batchedUpdates)||(O=function(t){t()}),(0,r.configure)({reactionScheduler:O}),c.finalizeAllImmediately},"../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs":(t,e,n)=>{"use strict";n.d(e,{S:()=>K});const r="undefined"==typeof window||"Deno"in window;function i(){}function s(t,e,n){return b(t)?"function"==typeof e?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function o(t,e,n){return b(t)?[{...e,queryKey:t},n]:[t||{},e]}function a(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(b(o))if(r){if(e.queryHash!==c(o,e.options))return!1}else if(!h(e.queryKey,o))return!1;if("all"!==n){const t=e.isActive();if("active"===n&&!t)return!1;if("inactive"===n&&t)return!1}return!("boolean"==typeof a&&e.isStale()!==a||void 0!==i&&i!==e.state.fetchStatus||s&&!s(e))}function u(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(b(s)){if(!e.options.mutationKey)return!1;if(n){if(l(e.options.mutationKey)!==l(s))return!1}else if(!h(e.options.mutationKey,s))return!1}return!("boolean"==typeof r&&"loading"===e.state.status!==r||i&&!i(e))}function c(t,e){return((null==e?void 0:e.queryKeyHashFn)||l)(t)}function l(t){return JSON.stringify(t,((t,e)=>y(e)?Object.keys(e).sort().reduce(((t,n)=>(t[n]=e[n],t)),{}):e))}function h(t,e){return f(t,e)}function f(t,e){return t===e||typeof t==typeof e&&!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&!Object.keys(e).some((n=>!f(t[n],e[n])))}function d(t,e){if(t===e)return t;const n=p(t)&&p(e);if(n||y(t)&&y(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let r=0;r<s;r++){const s=n?r:i[r];o[s]=d(t[s],e[s]),o[s]===t[s]&&a++}return r===s&&a===r?t:o}return e}function p(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function y(t){if(!v(t))return!1;const e=t.constructor;if(void 0===e)return!0;const n=e.prototype;return!!v(n)&&!!n.hasOwnProperty("isPrototypeOf")}function v(t){return"[object Object]"===Object.prototype.toString.call(t)}function b(t){return Array.isArray(t)}function g(t){return new Promise((e=>{setTimeout(e,t)}))}function m(t){g(0).then(t)}function w(t,e,n){return null!=n.isDataEqual&&n.isDataEqual(t,e)?t:"function"==typeof n.structuralSharing?n.structuralSharing(t,e):!1!==n.structuralSharing?d(t,e):e}const O=console,_=function(){let t=[],e=0,n=t=>{t()},r=t=>{t()};const i=r=>{e?t.push(r):m((()=>{n(r)}))},s=()=>{const e=t;t=[],e.length&&m((()=>{r((()=>{e.forEach((t=>{n(t)}))}))}))};return{batch:t=>{let n;e++;try{n=t()}finally{e--,e||s()}return n},batchCalls:t=>(...e)=>{i((()=>{t(...e)}))},schedule:i,setNotifyFunction:t=>{n=t},setBatchNotifyFunction:t=>{r=t}}}();class P{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const e={listener:t};return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const S=new class extends P{constructor(){super(),this.setup=t=>{if(!r&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),()=>{window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach((({listener:t})=>{t()}))}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},j=["online","offline"],q=new class extends P{constructor(){super(),this.setup=t=>{if(!r&&window.addEventListener){const e=()=>t();return j.forEach((t=>{window.addEventListener(t,e,!1)})),()=>{j.forEach((t=>{window.removeEventListener(t,e)}))}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((t=>{"boolean"==typeof t?this.setOnline(t):this.onOnline()}))}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach((({listener:t})=>{t()}))}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function A(t){return Math.min(1e3*2**t,3e4)}function x(t){return"online"!==(null!=t?t:"online")||q.isOnline()}class C{constructor(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}}function M(t){return t instanceof C}function F(t){let e,n,r,i=!1,s=0,o=!1;const a=new Promise(((t,e)=>{n=t,r=e})),u=()=>!S.isFocused()||"always"!==t.networkMode&&!q.isOnline(),c=r=>{o||(o=!0,null==t.onSuccess||t.onSuccess(r),null==e||e(),n(r))},l=n=>{o||(o=!0,null==t.onError||t.onError(n),null==e||e(),r(n))},h=()=>new Promise((n=>{e=t=>{const e=o||!u();return e&&n(t),e},null==t.onPause||t.onPause()})).then((()=>{e=void 0,o||null==t.onContinue||t.onContinue()})),f=()=>{if(o)return;let e;try{e=t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(c).catch((e=>{var n,r;if(o)return;const a=null!=(n=t.retry)?n:3,c=null!=(r=t.retryDelay)?r:A,d="function"==typeof c?c(s,e):c,p=!0===a||"number"==typeof a&&s<a||"function"==typeof a&&a(s,e);!i&&p?(s++,null==t.onFail||t.onFail(s,e),g(d).then((()=>{if(u())return h()})).then((()=>{i?l(e):f()}))):l(e)}))};return x(t.networkMode)?f():h().then(f),{promise:a,cancel:e=>{o||(l(new C(e)),null==t.abort||t.abort())},continue:()=>(null==e?void 0:e())?a:Promise.resolve(),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1}}}class E{destroy(){this.clearGcTimeout()}scheduleGc(){var t;this.clearGcTimeout(),"number"==typeof(t=this.cacheTime)&&t>=0&&t!==1/0&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,null!=t?t:r?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class D extends E{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||O,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,n=void 0!==e,r=n?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(t,e){const n=w(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==e?void 0:e.updatedAt,manual:null==e?void 0:e.manual}),n}setState(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})}cancel(t){var e;const n=this.promise;return null==(e=this.retryer)||e.cancel(t),n?n.then(i).catch(i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((t=>!1!==t.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((t=>t.getCurrentResult().isStale))}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!function(t,e){return Math.max(t+(e||0)-Date.now(),0)}(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find((t=>t.shouldFetchOnWindowFocus()));e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}onOnline(){var t;const e=this.observers.find((t=>t.shouldFetchOnReconnect()));e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter((e=>e!==t)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,e){var n,r;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=e&&e.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return null==(i=this.retryer)||i.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}Array.isArray(this.options.queryKey);const s=function(){if("function"==typeof AbortController)return new AbortController}(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},a=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};a(o);const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn")};var c;a(u),null==(n=this.options.behavior)||n.onFetch(u),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=u.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(c=u.fetchOptions)?void 0:c.meta});const l=t=>{var e,n,r,i;M(t)&&t.silent||this.dispatch({type:"error",error:t}),M(t)||(null==(e=(n=this.cache.config).onError)||e.call(n,t,this),null==(r=(i=this.cache.config).onSettled)||r.call(i,this.state.data,t,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=F({fn:u.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:t=>{var e,n,r,i;void 0!==t?(this.setData(t),null==(e=(n=this.cache.config).onSuccess)||e.call(n,t,this),null==(r=(i=this.cache.config).onSettled)||r.call(i,t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):l(new Error(this.queryHash+" data is undefined"))},onError:l,onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){this.state=(e=>{var n,r;switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=t.meta)?n:null,fetchStatus:x(this.options.networkMode)?"fetching":"paused",...!e.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(r=t.dataUpdatedAt)?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return M(i)&&i.revert&&this.revertState?{...this.revertState}:{...e,error:i,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),_.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate(t)})),this.cache.notify({query:this,type:"updated",action:t})}))}}class k extends P{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,e,n){var r;const i=e.queryKey,s=null!=(r=e.queryHash)?r:c(i,e);let o=this.get(s);return o||(o=new D({cache:this,logger:t.getLogger(),queryKey:i,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const e=this.queriesMap[t.queryHash];e&&(t.destroy(),this.queries=this.queries.filter((e=>e!==t)),e===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){_.batch((()=>{this.queries.forEach((t=>{this.remove(t)}))}))}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,e){const[n]=o(t,e);return void 0===n.exact&&(n.exact=!0),this.queries.find((t=>a(n,t)))}findAll(t,e){const[n]=o(t,e);return Object.keys(n).length>0?this.queries.filter((t=>a(n,t))):this.queries}notify(t){_.batch((()=>{this.listeners.forEach((({listener:e})=>{e(t)}))}))}onFocus(){_.batch((()=>{this.queries.forEach((t=>{t.onFocus()}))}))}onOnline(){_.batch((()=>{this.queries.forEach((t=>{t.onOnline()}))}))}}class T extends E{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||O,this.observers=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter((e=>e!==t)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,e;return null!=(t=null==(e=this.retryer)?void 0:e.continue())?t:this.execute()}async execute(){const t=()=>{var t;return this.retryer=F({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},e="loading"===this.state.status;try{var n,r,i,s,o,a,u,c;if(!e){var l,h,f,d;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(l=(h=this.mutationCache.config).onMutate)?void 0:l.call(h,this.state.variables,this));const t=await(null==(f=(d=this.options).onMutate)?void 0:f.call(d,this.state.variables));t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})}const p=await t();return await(null==(n=(r=this.mutationCache.config).onSuccess)?void 0:n.call(r,p,this.state.variables,this.state.context,this)),await(null==(i=(s=this.options).onSuccess)?void 0:i.call(s,p,this.state.variables,this.state.context)),await(null==(o=(a=this.mutationCache.config).onSettled)?void 0:o.call(a,p,null,this.state.variables,this.state.context,this)),await(null==(u=(c=this.options).onSettled)?void 0:u.call(c,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(t){try{var p,y,v,b,g,m,w,O;throw await(null==(p=(y=this.mutationCache.config).onError)?void 0:p.call(y,t,this.state.variables,this.state.context,this)),await(null==(v=(b=this.options).onError)?void 0:v.call(b,t,this.state.variables,this.state.context)),await(null==(g=(m=this.mutationCache.config).onSettled)?void 0:g.call(m,void 0,t,this.state.variables,this.state.context,this)),await(null==(w=(O=this.options).onSettled)?void 0:w.call(O,void 0,t,this.state.variables,this.state.context)),t}finally{this.dispatch({type:"error",error:t})}}}dispatch(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"loading":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!x(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...e,...t.state}}})(this.state),_.batch((()=>{this.observers.forEach((e=>{e.onMutationUpdate(t)})),this.mutationCache.notify({mutation:this,type:"updated",action:t})}))}}class I extends P{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,e,n){const r=new T({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(e),state:n,defaultOptions:e.mutationKey?t.getMutationDefaults(e.mutationKey):void 0});return this.add(r),r}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter((e=>e!==t)),this.notify({type:"removed",mutation:t})}clear(){_.batch((()=>{this.mutations.forEach((t=>{this.remove(t)}))}))}getAll(){return this.mutations}find(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find((e=>u(t,e)))}findAll(t){return this.mutations.filter((e=>u(t,e)))}notify(t){_.batch((()=>{this.listeners.forEach((({listener:e})=>{e(t)}))}))}resumePausedMutations(){var t;return this.resuming=(null!=(t=this.resuming)?t:Promise.resolve()).then((()=>{const t=this.mutations.filter((t=>t.state.isPaused));return _.batch((()=>t.reduce(((t,e)=>t.then((()=>e.continue().catch(i)))),Promise.resolve())))})).then((()=>{this.resuming=void 0})),this.resuming}}function R(t,e){return null==t.getNextPageParam?void 0:t.getNextPageParam(e[e.length-1],e)}class K{constructor(t={}){this.queryCache=t.queryCache||new k,this.mutationCache=t.mutationCache||new I,this.logger=t.logger||O,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=S.subscribe((()=>{S.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=q.subscribe((()=>{q.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})))}unmount(){var t,e;this.mountCount--,0===this.mountCount&&(null==(t=this.unsubscribeFocus)||t.call(this),this.unsubscribeFocus=void 0,null==(e=this.unsubscribeOnline)||e.call(this),this.unsubscribeOnline=void 0)}isFetching(t,e){const[n]=o(t,e);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,e){var n;return null==(n=this.queryCache.find(t,e))?void 0:n.state.data}ensureQueryData(t,e,n){const r=s(t,e,n),i=this.getQueryData(r.queryKey);return i?Promise.resolve(i):this.fetchQuery(r)}getQueriesData(t){return this.getQueryCache().findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,n){const r=this.queryCache.find(t),i=function(t,e){return"function"==typeof t?t(e):t}(e,null==r?void 0:r.state.data);if(void 0===i)return;const o=s(t),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return _.batch((()=>this.getQueryCache().findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,n)]))))}getQueryState(t,e){var n;return null==(n=this.queryCache.find(t,e))?void 0:n.state}removeQueries(t,e){const[n]=o(t,e),r=this.queryCache;_.batch((()=>{r.findAll(n).forEach((t=>{r.remove(t)}))}))}resetQueries(t,e,n){const[r,i]=o(t,e,n),s=this.queryCache,a={type:"active",...r};return _.batch((()=>(s.findAll(r).forEach((t=>{t.reset()})),this.refetchQueries(a,i))))}cancelQueries(t,e,n){const[r,s={}]=o(t,e,n);void 0===s.revert&&(s.revert=!0);const a=_.batch((()=>this.queryCache.findAll(r).map((t=>t.cancel(s)))));return Promise.all(a).then(i).catch(i)}invalidateQueries(t,e,n){const[r,i]=o(t,e,n);return _.batch((()=>{var t,e;if(this.queryCache.findAll(r).forEach((t=>{t.invalidate()})),"none"===r.refetchType)return Promise.resolve();const n={...r,type:null!=(t=null!=(e=r.refetchType)?e:r.type)?t:"active"};return this.refetchQueries(n,i)}))}refetchQueries(t,e,n){const[r,s]=o(t,e,n),a=_.batch((()=>this.queryCache.findAll(r).filter((t=>!t.isDisabled())).map((t=>{var e;return t.fetch(void 0,{...s,cancelRefetch:null==(e=null==s?void 0:s.cancelRefetch)||e,meta:{refetchPage:r.refetchPage}})}))));let u=Promise.all(a).then(i);return null!=s&&s.throwOnError||(u=u.catch(i)),u}fetchQuery(t,e,n){const r=s(t,e,n),i=this.defaultQueryOptions(r);void 0===i.retry&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(t,e,n){return this.fetchQuery(t,e,n).then(i).catch(i)}fetchInfiniteQuery(t,e,n){const r=s(t,e,n);return r.behavior={onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=null==(e=t.fetchOptions)||null==(n=e.meta)?void 0:n.refetchPage,u=null==(r=t.fetchOptions)||null==(i=r.meta)?void 0:i.fetchMore,c=null==u?void 0:u.pageParam,l="forward"===(null==u?void 0:u.direction),h="backward"===(null==u?void 0:u.direction),f=(null==(s=t.state.data)?void 0:s.pages)||[],d=(null==(o=t.state.data)?void 0:o.pageParams)||[];let p=d,y=!1;const v=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),b=(t,e,n,r)=>(p=r?[e,...p]:[...p,e],r?[n,...t]:[...t,n]),g=(e,n,r,i)=>{if(y)return Promise.reject("Cancelled");if(void 0===r&&!n&&e.length)return Promise.resolve(e);const s={queryKey:t.queryKey,pageParam:r,meta:t.options.meta};var o;o=s,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>{var e,n;return null!=(e=t.signal)&&e.aborted?y=!0:null==(n=t.signal)||n.addEventListener("abort",(()=>{y=!0})),t.signal}});const a=v(s);return Promise.resolve(a).then((t=>b(e,r,t,i)))};let m;if(f.length)if(l){const e=void 0!==c,n=e?c:R(t.options,f);m=g(f,e,n)}else if(h){const e=void 0!==c,n=e?c:function(t,e){return null==t.getPreviousPageParam?void 0:t.getPreviousPageParam(e[0],e)}(t.options,f);m=g(f,e,n,!0)}else{p=[];const e=void 0===t.options.getNextPageParam;m=a&&f[0]&&!a(f[0],0,f)?Promise.resolve(b([],d[0],f[0])):g([],e,d[0]);for(let n=1;n<f.length;n++)m=m.then((r=>{if(!a||!f[n]||a(f[n],n,f)){const i=e?d[n]:R(t.options,r);return g(r,e,i)}return Promise.resolve(b(r,d[n],f[n]))}))}else m=g([]);return m.then((t=>({pages:t,pageParams:p})))}}},this.fetchQuery(r)}prefetchInfiniteQuery(t,e,n){return this.fetchInfiniteQuery(t,e,n).then(i).catch(i)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,e){const n=this.queryDefaults.find((e=>l(t)===l(e.queryKey)));n?n.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})}getQueryDefaults(t){if(!t)return;const e=this.queryDefaults.find((e=>h(t,e.queryKey)));return null==e?void 0:e.defaultOptions}setMutationDefaults(t,e){const n=this.mutationDefaults.find((e=>l(t)===l(e.mutationKey)));n?n.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})}getMutationDefaults(t){if(!t)return;const e=this.mutationDefaults.find((e=>h(t,e.mutationKey)));return null==e?void 0:e.defaultOptions}defaultQueryOptions(t){if(null!=t&&t._defaulted)return t;const e={...this.defaultOptions.queries,...this.getQueryDefaults(null==t?void 0:t.queryKey),...t,_defaulted:!0};return!e.queryHash&&e.queryKey&&(e.queryHash=c(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.useErrorBoundary&&(e.useErrorBoundary=!!e.suspense),e}defaultMutationOptions(t){return null!=t&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==t?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}}}]);