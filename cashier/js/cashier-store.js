/*! For license information please see cashier-store.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("react")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","mobx","react"],e):"object"==typeof exports?exports["@deriv/cashier"]=e(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("react")):t["@deriv/cashier"]=e(t["@deriv/components"],t["@deriv/shared"],t["@deriv/translations"],t.mobx,t.react)}(self,((t,e,r,n,o)=>(()=>{"use strict";var i,a,s,c,u={"@deriv/components":e=>{e.exports=t},"@deriv/shared":t=>{t.exports=e},"@deriv/translations":t=>{t.exports=r},mobx:t=>{t.exports=n},react:t=>{t.exports=o}},l={};function h(t){var e=l[t];if(void 0!==e)return e.exports;var r=l[t]={exports:{}};return u[t].call(r.exports,r,r.exports,h),r.exports}h.m=u,h.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return h.d(e,{a:e}),e},a=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,h.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null);h.r(r);var n={};i=i||[null,a({}),a([]),a(a)];for(var o=2&e&&t;"object"==typeof o&&!~i.indexOf(o);o=a(o))Object.getOwnPropertyNames(o).forEach((e=>n[e]=()=>t[e]));return n.default=()=>t,h.d(r,n),r},h.d=(t,e)=>{for(var r in e)h.o(e,r)&&!h.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},h.f={},h.e=t=>Promise.all(Object.keys(h.f).reduce(((e,r)=>(h.f[r](t,e),e)),[])),h.u=t=>"cashier/js/cashier."+t+".dea29ad075042cac9c68.js",h.miniCssF=t=>{},h.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s={},c="@deriv/cashier:",h.l=(t,e,r,n)=>{if(s[t])s[t].push(e);else{var o,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){var l=a[u];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==c+r){o=l;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,h.nc&&o.setAttribute("nonce",h.nc),o.setAttribute("data-webpack",c+r),o.src=t),s[t]=[e];var f=(e,r)=>{o.onerror=o.onload=null,clearTimeout(d);var n=s[t];if(delete s[t],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((t=>t(r))),e)return e(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),i&&document.head.appendChild(o)}},h.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.p="/",(()=>{var t={"cashier-store":0};h.f.j=(e,r)=>{var n=h.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=t[e]=[r,o]));r.push(n[2]=o);var i=h.p+h.u(e),a=new Error;h.l(i,(r=>{if(h.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,o,[i,a,s]=r,c=0;if(i.some((e=>0!==t[e]))){for(n in a)h.o(a,n)&&(h.m[n]=a[n]);s&&s(h)}for(e&&e(r);c<i.length;c++)o=i[c],h.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var f={};return(()=>{h.d(f,{default:()=>re});var t=h("mobx"),e=h("@deriv/shared"),r=h("@deriv/translations"),n=h("react"),o=h.n(n);const i=function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?o().createElement(r.Localize,{i18n_default_text:"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}}):o().createElement(r.Localize,{i18n_default_text:"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}})},a={containers:{account_transfer:"account_transfer",deposit:"deposit",payment_agent:"payment_agent",payment_agent_transfer:"payment_agent_transfer",withdraw:"withdraw"},map_action:{withdraw:"payment_withdraw",payment_agent:"payment_agent_withdraw"},icon_payment_methods:{Alipay:["alipay"],Bank:["bank","bankdeposit","banks","banktransfer","bankwire","bankwiretransfer","localbankwire","localbank","localbanks","localbanktransfer"],Bankbri:["bri","bankbri"],Bca:["bca","grupbca"],Bch:["bch"],Bni:["bni"],Bitcoin:["bitcoin","btc"],Card:["card","cards","visa","mastercard"],Cimbniaga:["cimbniaga"],Crypto:["crypto","cryptos","cryptocurrencies","cryptocurrency","weacceptcrypto"],Dai:["dai"],Diamondbank:["diamondbank"],Eth:["eth","ethd","ethereum"],Ewallet:["ewallet","ewallets","ewalletpayment","skrill"],Firstbank:["firstbank"],Gtbank:["gtbank"],Icbc:["icbc"],Libertyreserve:["libertyreserve"],LiteCoin:["ltc","litecoin"],Mandiri:["mandiri"],Mandirisyariah:["mandirisyariah"],Moneygram:["moneygram"],Paypal:["paypal"],PerfectMoney:["perfectmoneyandwebmoney","perfectmoney"],Permatabank:["permatabank"],Tether:["tether"],Verve:["verve"],WebMoney:["perfectmoneyandwebmoney","webmoney"],Wechatpay:["wechatpay"],Zenithbank:["zenithbank"]},payment_methods:{AbokiFX:["AbokiFX","A BOKI FX"],"ABSA Bank":["Absa","ABSA","ABSA Bank","ABSABank","ABSABANK","Absabank","ABSA Bank Transfer","ABSA Cash Send","Absa fund transfer and orange money services","ABSA GHANA LIMITED","Direct deposit FNB and ABSA"],"Access bank":["Access bank","Access Bank","Accessbank","AccessBank","ACCESS BANK","Acess Bank"],"Access forex":["Access Forex","ACCESS FOREX","Access forex"],"Afriland First Bank":["Afriland First Bank","AFRILAND FIRST BANK"],"Airtel Mobile money":["Airtel Mobile money","airtel","Airtel","AIRTEL MOBILE MONEY","airtel money","Airtel money","Airtelmoney","Airtel Money","AirtelMoney","AIRTELMONEY","AIRTEL MONEY","Airtel Tigo","AirtelTigo cash","all mobile money"],Airtm:["airtm","Airtm"],AlfalahBank:["AlfalahBank","bank alfalfa","Alflah Bank"],"All banks":["All banks","All local banks","All local Banks","All local banks ZWL","All Local Bank transfer","bank","Bank","BANK","banks","Banks","local banks","Local banks","Local Banks","Pakistani Local All banks","Local Indian banks","LocalBanks"],Astropay:["astropay","Astropay","Astro Pay"],"ATM transfer":["ATM","ATMDeposits","ATMdeposit","ATM transfer","ATM Transfer","BanktransferATM","FNB ATM deposit"],AzamPesa:["AzamPesa","Azampesa"],"Banco Bradesco":["Banco Bradesco","Bradesco"],"Banco de Pichincha":["Banco de Pichincha","BANCO DE PICHINCHA","Pichincha"],"Banco de Produbanco":["Banco de Produbanco","BANCO DE PRODUBANCO"],"Banco del Pacifico":["Banco del Pacifico","BANCO DE PACIFICO","Pacifico"],"Banco Internacional":["Banco Internacional","BANCO INTERNACIONAL"],"Banco Internacional de Moçambique (BIM)":["Banco Internacional de Moçambique (BIM)","Bim","Transferencia Bim"],"Bancobu Bank eNoti":["Bancobu Bank eNoti","Bancobu e-noti"],"Bank AL Habib":["Bank AL Habib","bank al habib","Bank Alhabib"],"Bank Negara Indonesia (BNI)":["Bank Negara Indonesia (BNI)","BNI","BankBNI"],"Bank Of Ceylon (BOC)":["Bank Of Ceylon (BOC)","Bankofceylon","Boc Peoples Bank"],"Bank Rakyat Indonesia (BRI)":["Bank Rakyat Indonesia (BRI)","BankBri","BankBRI","BRI","BRI dan Ewallet"],"Bank transfer":["All Local Bank payment Accept","All local bank payments","All Local Bank transfer","bank","Bank","BANK","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Bank and E-wallet","bank deposit","Bank deposit","Bankdeposit","Bank Deposit","Bank deposits","bank ewallet","bank payment","banks","Banks","Bank to Bank account transfer","bank transfer","Bank transfer","Banktransfer","Bank Transfer","BankTransfer","BANK TRANSFER","BANKTRANSFER","bank transfer and all form of E-payments","Bank Transfer and all Forms of E-payments","BanktransferATM","bank transfers","Bank transfers","Bank Transfers","Ban transfer","Depositos direto em conta","Direct deposit FNB and ABSA","E-wallet Bank transfer","Internet Banking","Internet transfer","Internet Transfer","LocalBank","local banks","Local banks","Local Banks","Local bank transfer","Local bank Transfers","Local deposits","Local deposit","local deposits","BANKTRANSFERS","Bank Deposits","Bank deposit and transfer","Bank transfer and e-wallets","BankDeposit","Fiat","LOCALBANK","OnlineTransfer","ZWbanktransfers","localbanktransfer","Bank transfer Bank wire"],"Bank wire":["bank","Bank","BANK","bank payment","banks","Banks","bank wire","bankwire","Bank wire","Bankwire","Bank Wire","BankWire","BANKWIRE","Bank wire and e-wallets","Bank wire and E-wallets","Bank wires","Bankwires","bank wires and e-wallet","Bank wires and e-wallets","BankWire transfer","E-wallets and bank wires","local bank wire","LocalBankWire","LocalBankwire","Wire Bank Transfer","WIRE TRANSFER","Bank Wire transfer","Fiat","OnlineTransfer","Bank transfer Bank wire"],BankABC:["BankABC","BANCABC BANK"],"Bank BTN":["Bank BTN","BTN"],"Bank of the Philippine Islands (BPI)":["Bank of the Philippine Islands (BPI)","BPI"],"BCA bank":["BCA bank","BCA","BankBCA","bca"],"BDO Unibank":["BDO Unibank","BDO"],BHIM:["BHIM","Bhim","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe"],"BMCE Bank":["BMCE Bank","Bmce Bank"],"CABS Bank":["CABS Bank","Cabs bank","CABS transfer"],Card:["Card","card","cards","Cards","Credit card","Debit Card","Mastercard","MasterCard","visa","Visa","VISA","Visa card","Bank cards","Carteiras Electronicas","Fiat","Master card"],Cash:["cash","Cash","Cash deposit","Cash deposits","Cash in USD or Local","electronic transfers and cash deposits","FNB cash deposit","physical local and foreign bank notes","USD","USD cash","Cash Deposit","Fiat","INR","USDCash","Zwcash"],"Cash send ABSA bank":["Cash send ABSA bank","ABSA Cash Send","Cashsend","Cash Send","CashSend","cash send Absa","Cash send Absa bank"],"Chipper Cash":["Chipper Cash","Chipper","Chippercash","Chipperchash"],"CIH Bank":["CIH Bank","Cih Bank"],CIMB:["CIMB","CIMBNIAGA","NIAGA"],"City Hopper":["City hopper","City Hopper"],"Co-operative Bank of Kenya":["Co-operative Bank of Kenya","cooperativebank"],"Commercial Bank":["Commercial Bank","Commercialbank"],"CRDB Bank":["CRDB Bank","CRDBBANK"],Crypto:["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","bitcoin","Bitcoin","BITCOIN","bitcoins","Bitcoins","btc","BTC","btc smega","Cripto","crypto","Crypto","Cyptocurrency","cryptocurrencies","Cryptocurrencies","Crypto Currencies","CRYPTOCURRENCIES","cryptocurrency","Cryptocurrency","CRYPTOCURRENCY","Cryptos","ETH","eUSDT","EUSDT","LTC","Tether","TRON","USDC","USDT","UST","We accept Crypto","BCH","Btc","Criptomoedas","Crypto Payment","Crypto transfer","CryptoTransfer","E-Wallets and Crypto","E-wallets and Crypto","Ethereum","Etherium","Litecoin","Skrill Neteller Crypto","SkrillCrypto","Tether ERC20","Tether Omni","Thether","Usdt","cryptos","ethereum","litecoin"],"Diamond Bank":["Diamond bank","Diamond Bank","DiamondBank"],"E-Mola":["E-Mola","E-mola","Emola"],"E-money":["E-money","e money"],"E-payment":["E-payment","all form of E-payments","All form of E-payments","all forms of E-payments","and all other forms of Epayment","bank transfer and all form of E-payments","Bank Transfer and all Forms of E-payments","E-payments","Epayments","All forms of E-Payments","DigitalPayment","OnlineTransfer","all forms of E-Payment"],"E-transfer":["E-transfer","electronic transfers and cash deposits","E-Transfers","OnlineTransfer"],"E-wallet":["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Bank and E-wallet","bank ewallet","Bank wire and e-wallets","Bank wire and E-wallets","bank wires and e-wallet","Bank wires and e-wallets","Digital Wallets","electronic wallets","e-wallers","e-wallet","ewallet","eWallet","E-wallet","Ewallet","EWALLET","E-wallet Bank transfer","E wallet FNB","E-wallet payment","Ewallet payment","e-wallets","ewallets","e-Wallets","e-WALLETS","E- wallets","E-wallets","Ewallets","E-Wallets","E-wallets and bank wires","fnb ewallet","MY WALLET","wallet","Bank transfer and e-wallets","E-Wallets and Crypto","E-wallets and Crypto","E-Wallet","EWallets","Fiat","OnlineTransfer","ewalllets","ewalltets","local bank wallets and Orange money"],Easypaisa:["easypaisa","Easy paisa","Easypaisa","Easy Paisa","EasyPaisaTransfer"],Ecobank:["Ecobank","Eco Bank","ECO BANK","Eco bank Transfers"],EcoCash:["Eco cash","Ecocash","EcoCash","ECOCASH","Ecocash FCA","Ecocash method","ECOCASH WALLET","Ecocash ZWL","EcocashMobileMoney","Zwecocash"],"Electronic Funds Transfer (EFT)":["Electronic Funds Transfer (EFT)","EFT"],"Equity Bank":["Equity bank","Equity Bank","equitybankmoneytransfer"],"EU Mobile Money":["EU Mobile Money","all mobile money","EU MONEY"],EzyPesa:["EzyPesa","Ezypesa","Ezzy pesa","Ezzy Pesa","EzzyPesa"],FasaPay:["fasapay","Fasa pay","FasaPay"],"Fast Payment":["Fast payment","Fast Payment"],"Faysal Bank":["Faysal Bank","FaysalBank"],"FBC Bank":["FBC Bank","FBC BANK"],"Fidelity Bank":["Fidelity Bank","fidelitybank"],Finbank:["Finbank","Fin bank","FinBank"],"First Bank of Nigeria":["First Bank of Nigeria","First bank","First Bank","FirstBank","FIRST BANK","Firstbank"],"First City Monument Bank (FCMB)":["First City Monument Bank (FCMB)","FCMB","fcmb"],"First MicroFinanceBank (FMFB)":["First MicroFinanceBank (FMFB)","FMFB"],"First National Bank (FNB)":["First National Bank (FNB)","Direct deposit FNB and ABSA","E wallet FNB","First National Bank","fnb","FNB","FNB ATM deposit","Fnbbank","FNB Bank","FNBB Bank Transfer","FNB cash deposit","fnb ewallet","FNB First National Bank","FNB pay2cell","FNB pay to cell","FNB pay to sell","Pay to cell FNB","FNB bank transfer","FNBB","FNBBank","FirNationalBank","First National Bank of Botswana","Firstnationalbank","Fnb"],Gmoney:["Gmoney","GMONEY"],"Google Pay":["Google Pay","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Google pay","gpay","Gpay","GPay"],"Grup BCA":["Grup BCA","GrupBCA"],"GT bank":["GT bank","Gtb","GTB","Gt Bank","GT Bank","GTBank","GT BANK","Gtbank","Guarantee Trust Bank","GuarantyTrustBank"],Halopesa:["halopesa","Halo pesa","Halopesa","Halo Pesa","HaloPesa","HALOPESA"],"Hatton National Bank":["Hatton National Bank","HattonNationalBank"],HBL:["HBL","HBLMFB","KONNET HBL"],Help2Pay:["Help2Pay","help2pay"],"HNB Bank":["HNB Bank","HNB"],"IMPS Transfer":["imps","Imps","IMPS","IMPS Transfer"],"ING Bank":["ING Bank","ING"],Innbucks:["Innbucks","INNBUCKS"],"Instant Money":["Instant Money","InstantMoney","Instant money stambic bank","Instant money stanbic","Instant money"],"Inter Bank Fund Transfer":["Inter Bank Fund Transfer","InterBankfundtransfer","Interbank Transfer"],"Itau Bank":["Itau Bank","Itau"],IZI:["IZI","Izzy"],JazzCash:["JazzCash","jazzcash","Jazz cash","Jazzcash","Jazz-Cash","JazzCashTransfer"],JENIUS:["JENIUS","Jenius"],Jeton:["Jeton","jeton","JetonWallet"],"Key Stone Bank":["Key Stone Bank","Keystone"],"Kuda Bank":["Kuda Bank","KUDA BANK","Kuda MFB","KudaMFB","KUDA MICROFINANCE BANK 2014563937","Kuda Microfinance","KUDA"],"Luno Wallet":["Luno Wallet","Luno","Luno crypto wallet","Luno e-wallet","Luno ewallet","luno"],"Mandiri Bank":["Mandiri Bank","Mandiri","MANDIRI","MandiriSyariah","BankMandiri"],"Meezan Bank":["Meezan Bank","MeezanBank"],"Millenium Bim Visa":["Millenium Bim Visa","Millenium Bim"],MIX:["mix","Mix","MIX","Mixed"],"Mobile money":["all mobile money","mobile banking","Mobile banking","Mobile money","Mobile Money","MobileMoney","Mobile money MTN","Mobile Money transfer","MOBILE MONEY TRANSFER","Mobile money transfers","Mobilemoneyoption","OnlineTransfer"],"Mojo Mula":["Mojo money","Mojo Mula","MOJO MULA","MoMo pay","Mojo Moolah"],MoMo:["MoMo","MOMO","MoMo pay","MTN MOMO","MTNMOMO"],MoneyGram:["Moneygram","Money Gram","MoneyGram","Money grame"],"M-PESA":["AbesafaricomMpesa Transfers","mpesa","M pesa","M-pesa","Mpesa","M Pesa","M-Pesa","MPesa","M PESA","M-PESA","MPESA","M-Pesa Tigo-Pesa T-Pesa","Pesa","safaricom mpesa","MPESA 0710393947 Albert Kyalo","VodacomMpesa"],"MTN MOMO":["all mobile money","Mobile money MTN","MoMo","MOMO","MTN","MTN mobile money","MTN Mobile money","MTN Mobile Money","MTN MOBILE MONEY","MTNMOBILEMONEY","MTN MOMO","MTNMOMO","MTN MONEY"],"Mukuru money transfers":["Mukuru","Mukuru money transfers","MukuruMoneyTransfer","USDMukurutransfer"],"MyZaka Mascom Money":["MyZaka Mascom Money","mascom","mascom myZaka","Mascom MyZaka","myzaka","My zaka","Myzaka","MyZaka","My zaka mascom money","my Zaka","myzaaka"],Neft:["neft","Neft","NEFT"],Nequi:["Nequi","Nequi o Daviplata al 300 6839026"],Neteller:["neTeller","Neteller","NETELLER","NETelle","Skrill Neteller Crypto","neteller","netteller"],"Nigeria local bank":["Nigeria Local","Nigeria local bank","NIGERIA LOCAL BANK"],"NMB Bank":["NMB Bank","NATIONALMICROFINANCEBANK","Nmb bank"],"One Money":["OM","Onemoney","One Money","One money service","OneMoney","OneMoneyMobileMoney"],Opay:["Opay","OPAY"],"Orange Money Transfer":["Absa fund transfer and orange money services","Orange Cameroon","orange money","orangemoney","Orange money","Orangemoney","Orange Money","OrangeMoney","ORANGE MONEY","Orange Money Transfer","local bank wallets and Orange money"],PalmPay:["PalmPay","PALMPAY"],"Pay safe Card":["paysafecard","Pay safe Card"],Pay2Cell:["FNB pay2cell","FNB pay to cell","FNB pay to sell","Pay2cell","Pay2Cell","PAY2CELL","pay to cell","Pay to cell","Paytocell","Pay to Cell","Pay to cell FNB","PayToCell","pay2cell"],"Payment Checks":["Payment checks","Payment Checks"],PayPal:["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Paypal","PayPal","PAYPAL","paypal"],PayTM:["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Paytm","PayTM"],"Perfect Money":["Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","perfect money","perfectmoney","Perfect money","Perfectmoney","Perfect Money","PerfectMoney","PERFECT MONEY","Perfect Money and Webmoney","PM","PERFECTMONEY","PERFECT"],"Permata Bank":["Permata Bank","PermataBank","PERMATA"],PhonePhe:["PhonePhe","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","Phonepay","phonepe","Phonepe","PhonePe","Phone pay","PhonePay"],Pix:["Pix","PIX"],"Polaris Bank":["Polaris Bank","Polaris"],"Ponto 24":["Conta movel","Conta Movel","ContamovelBCI","Ponto 24","Ponto24"],"Pos deposit":["Pos","POS","Pos deposit"],"Postal transfer":["Postal transfer","Egyptian postal transfers"],RIA:["Ria","RIA"],"RTGS Transfers":["RTGS Transfers","rtgs","RTGS","Rtgs bank transfer","RTGS transfers","Rtgs"],Safaricom:["Safaricom","AbesafaricomMpesa Transfers","AbeSafaricomMpesaTransfers","safaricom mpesa"],"Sama Money":["Sama Money","Sama money"],ShopeePay:["ShopeePay","SHOPEEPAY"],Skrill:["Skrill","Skill","Skril","skrill","SKRILL","skrillpayments","Skrll","SkrillCrypto","Skrill Neteller Crypto"],Smega:["btc smega","smega","Smega"],"Standard Bank Namibia":["Standard Bank Namibia","Standard Bank","StandardBank"],"Stanbic Bank":["Instant money stambic bank","Instant money stanbic","stanbic","Stanbic","Stanbic Bank","StanbicBank","Stanbic Bank Transfer","Stanbic Money Transfer","Standbic","Stanbic IBTC","Stanbic bank"],"Standard Charted Bank":["STANCHART","Standard Charted Bank","Standard chartered","Standard chartered bank","Standard Chartered Bank Transfer","Standard Chatterd Bank"],"Steward remit":["Steward remit","Steward Remmitt"],"T-pesa":["M-Pesa Tigo-Pesa T-Pesa","Pesa","T-pesa","Tpesa","T PESA","TTCLpesa"],"Tigo Cash":["Tigo","Tigo Cash","AirtelTigo cash"],"Tigo Mobile Money":["Tigo Mobile Money","Airtel Tigo","all mobile money","Tigo","TIGO MOBILE MONEY","TIGOMOBILEMONEY","AirtelTigo cash"],"Tigo Pesa":["M-Pesa Tigo-Pesa T-Pesa","Pesa","Tigo","tigopesa","Tigo pesa","Tigopesa","Tigo Pesa","TigoPesa","TIGO PESA","TTCLpesa","TIGOPESA"],"Transferencia bancaria":["Transferencia bancaria","Transferencia Eletronica TED","Transferencias bancarias","Ted","Transferencia Bancaria"],"UBA Bank":["UBA","UBA Bank","UBA BANK"],"Union Bank":["Union Bank","Unionbank","Union"],"United Bank Limited (UBL)":["United Bank Limited (UBL)","UBL Bank"],UPI:["All UPI Transfer","Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe","upi","UPI","UPI transfer","AmazonUPI","PaytmUPI","Upi"],"USSD code transfer":["USSD code transfer","Or USSD transfer from all Nigeria banks","USSD Code","USSD CODE","Ussd code Transfer from all Nigerian banks","Ussd transfer","USSD transfer","USSD Transfer","ussd transfer"],Vodacom:["Vodacom","VodacomMpesa"],"Vodafone Cash":["Vodafon Cash Methods","Vodafone cash","Vodafone Cash","VODAFONE CASH","VODAFONECASH"],Webmoney:["Perfect Money and Webmoney","Webmoney","WebMoney","Web Money","Web money"],"WeChat Pay":["WeChat Pay","WeChatPay"],"Wema Bank":["Wema Bank","Wema"],WesternUnion:["Western union","Western Union","WesternUnion","westernunion"],Wise:["Wise","transferwise"],"World Remit":["World remit","World Remit","CoinbaseworldRemit"],"Zanaco bank":["ZANACO","Zanaco bank"],"Zenith bank":["Zenith bank","Zenithbank","Zenith Bank","ZenithBank","ZENITH BANK","Zenith","zenithbank"],Zipit:["Zipit","ZIPIT","ZIPIT bank transfers"]}};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}var p=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.message="",this.code="",this.fields="",this.is_show_full_page=!1,this.onClickButton=null,this.is_ask_uk_funds_protection=!1,this.is_self_exclusion_max_turnover_set=!1,this.is_ask_authentication=!1,this.is_ask_financial_risk_approval=!1,(0,t.makeObservable)(this,{message:t.observable,code:t.observable,fields:t.observable,is_show_full_page:t.observable,onClickButton:t.observable,is_ask_uk_funds_protection:t.observable,is_self_exclusion_max_turnover_set:t.observable,is_ask_authentication:t.observable,is_ask_financial_risk_approval:t.observable,setErrorMessage:t.action.bound,handleCashierError:t.action.bound,setMessage:t.action.bound,setIsAskUkFundsProtection:t.action.bound,setIsSelfExclusionMaxTurnoverSet:t.action.bound,setIsAskAuthentication:t.action.bound,setIsAskFinancialRiskApproval:t.action.bound})}var n,o;return n=r,o=[{key:"setErrorMessage",value:function(t,r,n){var o,i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({onClickButton:r,code:t.code,message:t.message,is_show_full_page:n||/InvalidToken|WrongResponse/.test(t.code)},(0,e.getPropertyValue)(t,["details","fields"])&&{fields:null===(o=t.details)||void 0===o?void 0:o.fields});this.onClickButton=i.onClickButton,this.code=i.code,this.message=i.message,this.is_show_full_page=i.is_show_full_page,this.fields=i.fields,this.is_ask_uk_funds_protection=null==i?void 0:i.is_ask_uk_funds_protection,this.is_self_exclusion_max_turnover_set=null==i?void 0:i.is_self_exclusion_max_turnover_set,this.is_ask_authentication=null==i?void 0:i.is_ask_authentication,this.is_ask_financial_risk_approval=null==i?void 0:i.is_ask_financial_risk_approval}},{key:"handleCashierError",value:function(t){switch(t.code){case"ASK_TNC_APPROVAL":case"ASK_FIX_DETAILS":this.setErrorMessage(t,null,!0);break;case"ASK_UK_FUNDS_PROTECTION":this.setIsAskUkFundsProtection(!0);break;case"ASK_SELF_EXCLUSION_MAX_TURNOVER_SET":this.setIsSelfExclusionMaxTurnoverSet(!0);break;case"ASK_AUTHENTICATE":case"ASK_AGE_VERIFICATION":this.setIsAskAuthentication(!0);break;case"ASK_FINANCIAL_RISK_APPROVAL":this.setIsAskFinancialRiskApproval(!0);break;default:this.setErrorMessage(t),this.setIsAskUkFundsProtection(!1),this.setIsSelfExclusionMaxTurnoverSet(!1),this.setIsAskAuthentication(!1),this.setIsAskFinancialRiskApproval(!1)}}},{key:"setMessage",value:function(t){this.message=t}},{key:"setIsAskUkFundsProtection",value:function(t){this.is_ask_uk_funds_protection=t}},{key:"setIsSelfExclusionMaxTurnoverSet",value:function(t){this.is_self_exclusion_max_turnover_set=t}},{key:"setIsAskAuthentication",value:function(t){this.is_ask_authentication=t}},{key:"setIsAskFinancialRiskApproval",value:function(t){this.is_ask_financial_risk_approval=t}}],o&&l(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){return(e=P(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(){b=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new A(o||[]);return n(a,"_invoke",{value:S(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,_=m&&m(m(x([])));_&&_!==e&&r.call(_,i)&&(v=_);var g=p.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==y(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(k.prototype),c(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function S(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){k(i,n,o,a,s,"next",t)}function s(t){k(i,n,o,a,s,"throw",t)}a(void 0)}))}}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}}function P(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}var T=function(t){return null==t?void 0:t.startsWith("MX")},A=function(){function n(r,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.WS=r,this.root_store=o,this.accounts_list=[],this.container=a.containers.account_transfer,this.error=new p,this.has_no_account=!1,this.has_no_accounts_balance=!1,this.is_transfer_confirm=!1,this.is_transfer_successful=!1,this.is_mt5_transfer_in_progress=!1,this.minimum_fee=null,this.receipt={amount_transferred:""},this.selected_from={},this.selected_to={},this.account_transfer_amount="",this.should_switch_account=!1,this.transfer_fee=null,this.transfer_limit={},this.requestTransferBetweenAccounts=function(){var t=S(b().mark((function t(r){var n,o,a,s,c,u,l,h,f,d,p,y,v,m,_,w,k;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.amount,o=i.root_store,a=o.client,s=o.modules,c=o.common,u=s.cashier.general_store.setLoading,l=c.is_from_derivgo,h=a.is_logged_in,f=a.responseMt5LoginList,d=a.responseTradingPlatformAccountsList,p=a.setAccountStatus,y=a.setBalanceOtherAccounts,h){t.next=7;break}return t.abrupt("return",null);case 7:return u(!0),i.error.setErrorMessage({code:"",message:""}),(v=i.selected_from.is_mt||i.selected_to.is_mt)&&i.setIsMT5TransferInProgress(!0),m=i.selected_from.currency,t.next=14,i.WS.authorized.transferBetweenAccounts(i.selected_from.value,i.selected_to.value,m,n);case 14:if(_=t.sent,!l&&_&&Array.isArray(_.accounts)&&(_.accounts=_.accounts.filter((function(t){return t.account_type!==e.CFD_PLATFORMS.DERIVEZ}))),v&&i.setIsMT5TransferInProgress(!1),!_.error){t.next=26;break}if("Fiat2CryptoTransferOverLimit"!==_.error.code){t.next=23;break}return t.next=21,i.WS.authorized.getAccountStatus();case 21:(w=t.sent).error||p(w.get_account_status);case 23:i.error.setErrorMessage(_.error),t.next=30;break;case 26:i.setReceiptTransfer({amount:(0,e.formatMoney)(m||"",n,!0)}),null===(k=_.accounts)||void 0===k||k.forEach((function(t){i.setBalanceByLoginId(t.loginid||"",t.balance||""),t.loginid===i.selected_from.value?i.setBalanceSelectedFrom(t.balance||""):t.loginid===i.selected_to.value&&i.setBalanceSelectedTo(t.balance||""),t.account_type===e.CFD_PLATFORMS.MT5&&Promise.all([i.WS.mt5LoginList(),i.WS.balanceAll()]).then((function(t){var e=g(t,2),r=e[0],n=e[1];f(r),y(n.balance)})),t.account_type===e.CFD_PLATFORMS.DXTRADE&&Promise.all([i.WS.tradingPlatformAccountsList(e.CFD_PLATFORMS.DXTRADE),i.WS.balanceAll()]).then((function(t){var e=g(t,2),r=e[0],n=e[1];d(r),y(n.balance)}))})),i.setAccountTransferAmount(null),i.setIsTransferConfirm(!0);case 30:return u(!1),t.abrupt("return",_);case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.resetAccountTransfer=S(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.setIsTransferConfirm(!1),i.setTransferLimit();case 2:case"end":return t.stop()}}),t)}))),(0,t.makeObservable)(this,{accounts_list:t.observable,container:t.observable,error:t.observable,has_no_account:t.observable,has_no_accounts_balance:t.observable,is_transfer_confirm:t.observable,is_transfer_successful:t.observable,is_mt5_transfer_in_progress:t.observable,minimum_fee:t.observable,receipt:t.observable,selected_from:t.observable,selected_to:t.observable,account_transfer_amount:t.observable,should_switch_account:t.observable,transfer_fee:t.observable,transfer_limit:t.observable,is_transfer_locked:t.computed,setBalanceByLoginId:t.action.bound,setBalanceSelectedFrom:t.action.bound,setBalanceSelectedTo:t.action.bound,onMountAccountTransfer:t.action.bound,setHasNoAccountsBalance:t.action.bound,setHasNoAccount:t.action.bound,setTransferFee:t.action.bound,setMinimumFee:t.action.bound,setTransferLimit:t.action.bound,sortAccountsTransfer:t.action.bound,setSelectedFrom:t.action.bound,setSelectedTo:t.action.bound,setAccounts:t.action.bound,setIsTransferConfirm:t.action.bound,setAccountTransferAmount:t.action.bound,setIsTransferSuccessful:t.action.bound,setIsMT5TransferInProgress:t.action.bound,setReceiptTransfer:t.action.bound,onChangeTransferFrom:t.action.bound,onChangeTransferTo:t.action.bound,resetAccountTransfer:t.action.bound,setTransferPercentageSelectorResult:t.action.bound,setShouldSwitchAccount:t.action.bound,validateTransferFromAmount:t.action.bound,validateTransferToAmount:t.action.bound})}var o,s,c,u;return o=n,s=[{key:"is_transfer_locked",get:function(){var t=this.root_store.client,e=t.is_financial_account,r=t.is_financial_information_incomplete,n=t.is_trading_experience_incomplete;return!!t.account_status.status&&e&&(r||n)&&this.error.is_ask_financial_risk_approval}},{key:"setShouldSwitchAccount",value:function(){this.should_switch_account=!0}},{key:"setBalanceByLoginId",value:function(t,e){var r=this.accounts_list.find((function(e){return t===e.value}));r&&(r.balance=e)}},{key:"setBalanceSelectedFrom",value:function(t){this.selected_from.balance=t}},{key:"setBalanceSelectedTo",value:function(t){this.selected_to.balance=t}},{key:"onMountAccountTransfer",value:(u=S(b().mark((function t(){var r,n,o,a,s,c,u,l,h,f,d,p,y,v,m,_;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.root_store,n=r.client,o=r.common,a=r.modules,s=a.cashier.general_store,c=s.onMountCommon,u=s.setLoading,l=s.setOnRemount,h=n.active_accounts,f=n.is_logged_in,d=o.is_from_derivgo,u(!0),l(this.onMountAccountTransfer),t.next=8,c();case 8:return t.next=10,this.WS.wait("website_status");case 10:if(this.has_no_accounts_balance&&Object.keys(h).find((function(t){return!h[Number(t)].is_virtual&&h[Number(t)].balance}))&&this.setHasNoAccountsBalance(!1),!f){t.next=29;break}return t.next=15,this.WS.authorized.transferBetweenAccounts();case 15:if(!(y=t.sent).error){t.next=20;break}return this.error.setErrorMessage(y.error,this.onMountAccountTransfer),u(!1),t.abrupt("return");case 20:if(d||(y.accounts=null===(v=y.accounts)||void 0===v?void 0:v.filter((function(t){return t.account_type!==e.CFD_PLATFORMS.DERIVEZ}))),this.canDoAccountTransfer(y.accounts)){t.next=23;break}return t.abrupt("return");case 23:return t.next=25,this.sortAccountsTransfer(y,d);case 25:this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit(),(null===(p=this.accounts_list)||void 0===p?void 0:p.length)>0&&(m=sessionStorage.getItem("cfd_transfer_to_login_id"),sessionStorage.removeItem("cfd_transfer_to_login_id"),(_=this.accounts_list.find((function(t){return t.value===m})))&&(T(_.value)&&(_.error=i(_.value)),this.setSelectedTo(_)));case 29:u(!1);case 30:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"canDoAccountTransfer",value:function(t){var e=!0;return null!=t&&t.find((function(t){return Number(t.balance)>0}))?this.setHasNoAccountsBalance(!1):(e=!1,this.setHasNoAccountsBalance(!0)),t&&t.length<=1?(e=!1,this.setHasNoAccount(!0)):this.setHasNoAccount(!1),e||this.root_store.modules.cashier.general_store.setLoading(!1),e}},{key:"setHasNoAccountsBalance",value:function(t){this.has_no_accounts_balance=t}},{key:"setHasNoAccount",value:function(t){this.has_no_account=t}},{key:"setTransferFee",value:function(){var t=(0,e.getPropertyValue)((0,e.getCurrencies)(),[this.selected_from.currency||"","transfer_between_accounts","fees",this.selected_to.currency||""]);this.transfer_fee=Number(t||0)}},{key:"setMinimumFee",value:function(){var t=(0,e.getDecimalPlaces)(this.selected_from.currency||"");this.minimum_fee=(1/Math.pow(10,t)).toFixed(t)}},{key:"setTransferLimit",value:function(){var t,r=this.selected_from.is_mt||this.selected_to.is_mt,n=this.selected_from.is_dxtrade||this.selected_to.is_dxtrade,o=this.selected_from.is_derivez||this.selected_to.is_derivez;t=r?"limits_mt5":n?"limits_dxtrade":o?"limits_derivez":"limits";var i=(0,e.getPropertyValue)((0,e.getCurrencies)(),[this.selected_from.currency||"","transfer_between_accounts",t]),a=this.selected_from.balance,s=(0,e.getDecimalPlaces)(this.selected_from.currency||"");this.transfer_limit={max:null==i||!i.max||Number(a)>=((null==i?void 0:i.min)||0)&&Number(a)<=(null==i?void 0:i.max)?a:null==i?void 0:i.max.toFixed(s),min:null!=i&&i.min?(+(null==i?void 0:i.min)).toFixed(s):""}}},{key:"sortAccountsTransfer",value:(c=S(b().mark((function t(r,n){var o,a,s,c,u,l,h,f,d,p,y,v=this;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r,t.t0){t.next=5;break}return t.next=4,this.WS.authorized.transferBetweenAccounts();case 4:t.t0=t.sent;case 5:if(u=t.t0,this.accounts_list.length){t.next=9;break}if(!u.error){t.next=9;break}return t.abrupt("return");case 9:return!n&&u&&Array.isArray(u.accounts)&&(u.accounts=u.accounts.filter((function(t){return t.account_type!==e.CFD_PLATFORMS.DERIVEZ}))),t.next=12,this.WS.storage.mt5LoginList();case 12:if(t.t2=o=t.sent,t.t1=null===t.t2,t.t1){t.next=16;break}t.t1=void 0===o;case 16:if(!t.t1){t.next=20;break}t.t3=void 0,t.next=21;break;case 20:t.t3=o.mt5_login_list;case 21:return l=t.t3,t.next=24,this.WS.tradingPlatformAccountsList(e.CFD_PLATFORMS.DXTRADE);case 24:if(t.t5=a=t.sent,t.t4=null===t.t5,t.t4){t.next=28;break}t.t4=void 0===a;case 28:if(!t.t4){t.next=32;break}t.t6=void 0,t.next=33;break;case 32:t.t6=a.trading_platform_accounts;case 33:return h=t.t6,t.next=36,this.WS.tradingPlatformAccountsList(e.CFD_PLATFORMS.DERIVEZ);case 36:if(t.t8=s=t.sent,t.t7=null===t.t8,t.t7){t.next=40;break}t.t7=void 0===s;case 40:if(!t.t7){t.next=44;break}t.t9=void 0,t.next=45;break;case 44:t.t9=s.trading_platform_accounts;case 45:f=t.t9,d=null===(c=u.accounts)||void 0===c?void 0:c.map((function(t){if(t.account_type===e.CFD_PLATFORMS.MT5&&Array.isArray(l)&&l.length){var r=l.find((function(e){return e.login===t.loginid}));return void 0===r?t:m(m(m({},t),r),{},{account_type:e.CFD_PLATFORMS.MT5})}if(t.account_type===e.CFD_PLATFORMS.DXTRADE&&Array.isArray(h)&&h.length){var n=h.find((function(e){return e.account_id===t.loginid}));return void 0===n?t:m(m(m({},t),n),{},{account_type:e.CFD_PLATFORMS.DXTRADE})}if(t.account_type===e.CFD_PLATFORMS.DERIVEZ&&Array.isArray(f)&&f.length){var o=f.find((function(e){return e.login===t.loginid}));return void 0===o?t:m(m(m({},t),o),{},{account_type:e.CFD_PLATFORMS.DERIVEZ})}return t})),u.accounts&&u.accounts.length>1&&(null==d||d.sort((function(t,r){var n=t.account_type===e.CFD_PLATFORMS.MT5,o=r.account_type===e.CFD_PLATFORMS.MT5,i=t.account_type===e.CFD_PLATFORMS.DERIVEZ,a=r.account_type===e.CFD_PLATFORMS.DERIVEZ,s=!n&&(0,e.isCryptocurrency)(t.currency||""),c=!o&&(0,e.isCryptocurrency)(r.currency||""),u=!n&&!s,l=!o&&!c;return n&&o?"synthetic"===t.market_type?-1:"sub_account_type"in t&&"financial"===t.sub_account_type?"synthetic"===r.market_type?1:-1:1:s&&a||u&&a||i&&o?-1:s&&c||u&&l?t.currency&&r.currency&&t.currency<r.currency?-1:1:s&&o||u&&c||u&&o||n?-1:1}))),p=[],this.setSelectedTo({}),y=!location.pathname.startsWith(e.routes.cashier),null==d||d.forEach((function(t){var r,n,o,a,s,c,u,l={mt5:{name:"Deriv MT5",icon:"IcMt5"},dxtrade:{name:"Deriv X",icon:"IcRebranding"},derivez:{name:"Deriv EZ",icon:"IcDerivez"}},h=Object.keys(l).includes(t.account_type),f=null===(r=l[t.account_type])||void 0===r?void 0:r.name,d="".concat(null===(n=l[t.account_type])||void 0===n?void 0:n.icon).concat((0,e.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:v.root_store.client.is_eu})||""),_=t.landing_company_short&&"svg"!==t.landing_company_short&&"bvi"!==t.landing_company_short?(null===(o=t.landing_company_short)||void 0===o?void 0:o.charAt(0).toUpperCase())+(null===(a=t.landing_company_short)||void 0===a?void 0:a.slice(1)):null===(s=t.landing_company_short)||void 0===s?void 0:s.toUpperCase(),b="mt5"===t.account_type?"".concat((0,e.getCFDAccountDisplay)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:v.root_store.client.is_eu})," ").concat(v.root_store.client.is_eu?"":_):"".concat(f," ").concat((0,e.getCFDAccountDisplay)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:v.root_store.client.is_eu,is_transfer_form:!0})),g=h?b:(0,e.getCurrencyDisplayCode)("eUSDT"!==t.currency?null===(c=t.currency)||void 0===c?void 0:c.toUpperCase():t.currency),w=null===(u=v.root_store.traders_hub)||void 0===u?void 0:u.combined_cfd_mt5_accounts.find((function(e){return e.login===t.login})),k=null!=w&&w.short_code_and_region?" ".concat(null==w?void 0:w.short_code_and_region):"",S=m({text:h&&t.account_type===e.CFD_PLATFORMS.MT5&&w?"".concat(w.sub_title).concat(k):g,value:t.loginid,balance:t.balance,currency:t.currency,is_crypto:(0,e.isCryptocurrency)(t.currency),is_mt:t.account_type===e.CFD_PLATFORMS.MT5,is_dxtrade:t.account_type===e.CFD_PLATFORMS.DXTRADE,is_derivez:t.account_type===e.CFD_PLATFORMS.DERIVEZ},h&&{platform_icon:t.account_type===e.CFD_PLATFORMS.MT5&&w?w.icon:d,status:null==t?void 0:t.status,market_type:(0,e.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:v.root_store.client.is_eu})});if(t.loginid===v.root_store.client.loginid)T(S.value)&&(S.error=i(S.value,!0)),v.setSelectedFrom(S);else if((0,e.isEmptyObject)(v.selected_to)){var E,P;T(S.value)&&(S.error=i(S.value));var A=null===(E=v.root_store.traders_hub)||void 0===E?void 0:E.selected_account.login,x=null===(P=v.root_store.traders_hub)||void 0===P?void 0:P.selected_account.account_id;y&&![x,A].includes(t.loginid)||v.setSelectedTo(S)}p.push(S)})),this.setAccounts(p);case 53:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"setSelectedFrom",value:function(t){this.selected_from=t}},{key:"setSelectedTo",value:function(t){this.selected_to=t}},{key:"setAccounts",value:function(t){this.accounts_list=t}},{key:"setIsTransferConfirm",value:function(t){this.is_transfer_confirm=t}},{key:"setAccountTransferAmount",value:function(t){this.account_transfer_amount=t}},{key:"setIsTransferSuccessful",value:function(t){this.is_transfer_successful=t}},{key:"setIsMT5TransferInProgress",value:function(t){this.is_mt5_transfer_in_progress=t}},{key:"setReceiptTransfer",value:function(t){var e=t.amount;this.receipt={amount_transferred:e}}},{key:"onChangeTransferFrom",value:function(t){var e=t.target;this.error.setErrorMessage({code:"",message:""}),this.selected_from.error="";var r=this.accounts_list.find((function(t){return t.value===e.value}));(null==r?void 0:r.value)===this.selected_to.value?this.onChangeTransferTo({target:{value:this.selected_from.value}}):(null!=r&&r.is_mt&&this.selected_to.is_mt||null!=r&&r.is_dxtrade&&this.selected_to.is_dxtrade||null!=r&&r.is_dxtrade&&this.selected_to.is_mt||null!=r&&r.is_mt&&this.selected_to.is_dxtrade)&&this.onChangeTransferTo({target:{value:this.root_store.client.loginid}}),r&&T(null==r?void 0:r.value)&&(r.error=i(null==r?void 0:r.value,!0)),this.selected_from=r||{},this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onChangeTransferTo",value:function(t){var e=t.target;this.error.setErrorMessage({code:"",message:""}),this.selected_to.error="";var r=this.accounts_list;this.selected_to=r.find((function(t){return t.value===e.value}))||{},T(this.selected_to.value)&&(this.selected_to.error=i(this.selected_to.value)),this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"setTransferPercentageSelectorResult",value:function(t,e){var r=this.root_store.modules.cashier,n=r.crypto_fiat_converter,o=r.general_store,i=this.selected_from.currency,a=this.selected_to.currency;Number(t)>0||0===Number(this.selected_from.balance)?(n.setConverterFromAmount(t),this.validateTransferFromAmount(),n.onChangeConverterFromAmount({target:{value:t}},i,a,e)):n.resetConverter(),n.setIsTimerVisible(!1),o.percentageSelectorSelectionStatus(!1)}},{key:"validateTransferFromAmount",value:function(){var t,n,o=null===(t=this.root_store.modules.cashier)||void 0===t?void 0:t.crypto_fiat_converter.converter_from_amount,i=null===(n=this.root_store.modules.cashier)||void 0===n?void 0:n.crypto_fiat_converter.setConverterFromError;if(o){var a=(0,e.validNumber)(o,{type:"float",decimals:(0,e.getDecimalPlaces)(this.selected_from.currency||""),min:Number(this.transfer_limit.min),max:Number(this.transfer_limit.max)}),s=a.is_ok,c=a.message;s?Number(this.selected_from.balance)<Number(o)?i((0,r.localize)("Insufficient funds")):i(""):i(c||"")}else i((0,r.localize)("This field is required."))}},{key:"validateTransferToAmount",value:function(){var t,r,n=null===(t=this.root_store.modules.cashier)||void 0===t?void 0:t.crypto_fiat_converter.converter_to_amount,o=null===(r=this.root_store.modules.cashier)||void 0===r?void 0:r.crypto_fiat_converter.setConverterToError;if(n){var i=this.selected_to.currency,a=(0,e.validNumber)(n,{type:"float",decimals:(0,e.getDecimalPlaces)(i||"")}),s=a.is_ok,c=a.message;o(s?"":c||"")}}}],s&&E(o.prototype,s),Object.defineProperty(o,"prototype",{writable:!1}),n}();function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function L(){L=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==x(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function C(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){C(i,n,o,a,s,"next",t)}function s(t){C(i,n,o,a,s,"throw",t)}a(void 0)}))}}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===x(o)?o:String(o)),n)}var o}var M=function(){function r(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.root_store=e,this.converter_from_amount="",this.converter_to_amount="",this.converter_from_error="",this.converter_to_error="",this.is_timer_visible=!1,(0,t.makeObservable)(this,{converter_from_amount:t.observable,converter_to_amount:t.observable,converter_from_error:t.observable,converter_to_error:t.observable,is_timer_visible:t.observable,setConverterFromAmount:t.action.bound,setConverterToAmount:t.action.bound,setConverterFromError:t.action.bound,setConverterToError:t.action.bound,setIsTimerVisible:t.action.bound,resetTimer:t.action.bound,validateFromAmount:t.action.bound,validateToAmount:t.action.bound,onChangeConverterFromAmount:t.action.bound,onChangeConverterToAmount:t.action.bound,resetConverter:t.action.bound})}var n,o,i,a;return n=r,o=[{key:"setConverterFromAmount",value:function(t){this.converter_from_amount=t}},{key:"setConverterToAmount",value:function(t){this.converter_to_amount=t}},{key:"setConverterFromError",value:function(t){this.converter_from_error=t}},{key:"setConverterToError",value:function(t){this.converter_to_error=t}},{key:"setIsTimerVisible",value:function(t){this.is_timer_visible=t}},{key:"resetTimer",value:function(){this.setIsTimerVisible(!1)}},{key:"validateFromAmount",value:function(){var t=this.root_store.modules.cashier,e=t.account_transfer,r=t.general_store,n=t.withdraw;r.active_container===e.container?e.validateTransferFromAmount():n.validateWithdrawFromAmount()}},{key:"validateToAmount",value:function(){var t=this.root_store.modules.cashier,e=t.account_transfer,r=t.general_store,n=t.withdraw;r.active_container===e.container?e.validateTransferToAmount():n.validateWithdrawToAmount()}},{key:"onChangeConverterFromAmount",value:(a=O(L().mark((function t(r,n,o,i){var a,s,c,u,l,h;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.target,s=this.root_store.modules.cashier,c=s.account_transfer,u=s.general_store,this.resetTimer(),a.value?(this.setConverterFromAmount(a.value),this.validateFromAmount(),u.percentageSelectorSelectionStatus(!0),u.calculatePercentage(),this.converter_from_error?(this.setConverterToAmount(""),this.setConverterToError(""),this.setIsTimerVisible(!1),c.setAccountTransferAmount("")):(l=(0,e.getDecimalPlaces)(o||""),+(h=(null==i?void 0:i.toFixed(l))||"1")||this.converter_from_amount?this.setConverterToAmount(h):this.setConverterToAmount(""),this.validateToAmount(),this.setConverterToError(""),this.setIsTimerVisible(!0),c.setAccountTransferAmount(a.value))):this.resetConverter();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return a.apply(this,arguments)})},{key:"onChangeConverterToAmount",value:(i=O(L().mark((function t(r,n,o,i){var a,s,c,u,l,h;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.target,s=this.root_store.modules.cashier,c=s.account_transfer,u=s.general_store,this.resetTimer(),a.value?(this.setConverterToAmount(a.value),this.validateToAmount(),this.converter_to_error?(this.setConverterFromAmount(""),this.setConverterFromError(""),this.setIsTimerVisible(!1),c.setAccountTransferAmount("")):(l=(0,e.getDecimalPlaces)(o),+(h=(null==i?void 0:i.toFixed(l))||"1")||this.converter_to_amount?this.setConverterFromAmount(h):this.setConverterFromAmount(""),u.percentageSelectorSelectionStatus(!0),u.calculatePercentage(),this.validateFromAmount(),this.converter_from_error?(this.setIsTimerVisible(!1),c.setAccountTransferAmount("")):(this.setConverterFromError(""),this.setIsTimerVisible(!0),c.setAccountTransferAmount(h)))):this.resetConverter();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return i.apply(this,arguments)})},{key:"resetConverter",value:function(){var t;this.setConverterFromAmount(""),this.setConverterToAmount(""),this.setConverterFromError(""),this.setConverterToError(""),this.setIsTimerVisible(!1),null===(t=this.root_store.modules.cashier)||void 0===t||t.general_store.percentageSelectorSelectionStatus(!0)}}],o&&B(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function N(){N=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==I(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function j(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==I(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===I(o)?o:String(o)),n)}var o}var D=function(){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.WS=r,this.root_store=n,this.container=a.containers.deposit,this.error=new p,(0,t.makeObservable)(this,{container:t.observable,error:t.observable,onMountDeposit:t.action.bound})}var r,n,o,i;return r=e,n=[{key:"onMountDeposit",value:(o=N().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,d,p,y,v,m,_,b,g,w,k,S;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.root_store,n=r.client,o=r.modules,i=o.cashier.general_store,a=i.active_container,s=i.is_crypto,c=i.onMountCommon,u=i.setLoading,l=i.setOnRemount,h=o.cashier.iframe,f=h.checkIframeLoaded,d=h.clearTimeoutCashierUrl,p=h.is_session_timeout,y=h.setContainerHeight,v=h.setIframeUrl,m=h.setSessionTimeout,_=h.setTimeoutCashierUrl,b=n.account_status,g=n.is_virtual,w=n.updateAccountStatus,k=a,l(this.onMountDeposit),t.next=8,c();case 8:if(this.error.setErrorMessage({code:"",message:""},null,!1),y(0),u(!0),p){t.next=14;break}return f(),t.abrupt("return");case 14:if(v(""),!g){t.next=18;break}return u(!1),t.abrupt("return");case 18:if(s){t.next=36;break}return t.next=21,this.WS.authorized.cashier(a,{verification_code:"undefined"});case 21:if(S=t.sent,k===a){t.next=25;break}return u(!1),t.abrupt("return");case 25:if(!S.error){t.next=31;break}this.error.handleCashierError(S.error),m(!0),d(),t.next=36;break;case 31:return t.next=33,f();case 33:v(S.cashier),m(!1),_();case 36:if(null!=b&&null!==(e=b.status)&&void 0!==e&&e.includes("deposit_attempt")){t.next=39;break}return t.next=39,w();case 39:u(!1);case 40:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){j(i,r,n,a,s,"next",t)}function s(t){j(i,r,n,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}],n&&F(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===R(o)?o:String(o)),n)}var o}var G=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.confirm_button_text="",this.error_message="",this.has_no_close_icon=!1,this.should_show=!1,this.should_not_show_title=!1,(0,t.makeObservable)(this,{confirm_button_text:t.observable,error_message:t.observable,has_no_close_icon:t.observable,should_show:t.observable,should_not_show_title:t.observable,setShouldShow:t.action.bound,setErrorMessage:t.action.bound,setConfirmButtonText:t.action.bound,setShouldNotShowTitle:t.action.bound,setHasNoCloseIcon:t.action.bound,openReadMoreDialog:t.action.bound,reset:t.action.bound})}var r,n;return r=e,(n=[{key:"setShouldShow",value:function(t){this.should_show=t}},{key:"setErrorMessage",value:function(t){this.error_message=t,this.setShouldShow(!0)}},{key:"setConfirmButtonText",value:function(t){this.confirm_button_text=t}},{key:"setShouldNotShowTitle",value:function(t){this.should_not_show_title=t}},{key:"setHasNoCloseIcon",value:function(t){this.has_no_close_icon=t}},{key:"openReadMoreDialog",value:function(t,e){this.setErrorMessage(t),this.setConfirmButtonText(e),this.setHasNoCloseIcon(!0),this.setShouldNotShowTitle(!0)}},{key:"reset",value:function(){this.setConfirmButtonText(""),this.setShouldNotShowTitle(!1),this.setHasNoCloseIcon(!1)}}])&&W(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function H(){H=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==U(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function V(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function z(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){V(i,n,o,a,s,"next",t)}function s(t){V(i,n,o,a,s,"throw",t)}a(void 0)}))}}function K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?K(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r){return(e=J(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function J(t){var e=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===U(e)?e:String(e)}var X=function(){function r(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.client_init_listener=null,this.clientInitDisposer=null,this.local_storage_properties=void 0,this.logout_listener=null,this.logoutDisposer=null,this.network_status_change_listener=null,this.networkStatusChangeDisposer=null,this.partial_fetch_time=0,this.pre_switch_account_listener=null,this.preSwitchAccountDisposer=null,this.real_account_signup_ended_listener=null,this.realAccountSignupEndedDisposer=null,this.root_store=void 0,this.session_storage_properties=void 0,this.store_name="",this.switch_account_listener=null,this.switchAccountDisposer=null,this.theme_change_listener=null,this.themeChangeDisposer=null,this.validation_errors={},this.validation_rules={},(0,t.makeObservable)(this,{validation_errors:t.observable,validation_rules:t.observable,partial_fetch_time:t.observable,retrieveFromStorage:t.action,setValidationErrorMessages:t.action,setValidationRules:t.action,addRule:t.action,validateProperty:t.action,validateAllProperties:t.action,onSwitchAccount:t.action.bound,onPreSwitchAccount:t.action.bound,onLogout:t.action.bound,onClientInit:t.action.bound,onNetworkStatusChange:t.action.bound,onThemeChange:t.action.bound,onRealAccountSignupEnd:t.action.bound,disposePreSwitchAccount:t.action.bound,disposeSwitchAccount:t.action.bound,disposeLogout:t.action.bound,disposeClientInit:t.action.bound,disposeNetworkStatusChange:t.action.bound,disposeThemeChange:t.action.bound,disposeRealAccountSignupEnd:t.action.bound,onUnmount:t.action.bound,assertHasValidCache:t.action.bound});var o=n.root_store,i=n.local_storage_properties,a=n.session_storage_properties,s=n.validation_rules,c=n.store_name;if(Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0}),i&&i.length||a&&a.length){if(!c)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:c,enumerable:!1,writable:!1})}this.root_store=o,this.local_storage_properties=i||[],this.session_storage_properties=a||[],setTimeout((function(){e.setValidationRules(s),e.setupReactionForLocalStorage(),e.setupReactionForSessionStorage(),e.retrieveFromStorage()}),0)}var n,o;return n=r,o=[{key:"getSnapshot",value:function(r){var n=(0,t.toJS)(this);return(0,e.isEmptyObject)(this.root_store)||(n.root_store=this.root_store),r&&r.length&&(n=r.reduce((function(t,e){return Object.assign(t,Y({},e,n[e]))}),{})),n}},{key:"setupReactionForLocalStorage",value:function(){var e=this;this.local_storage_properties&&this.local_storage_properties.length&&(0,t.reaction)((function(){var t;return null===(t=e.local_storage_properties)||void 0===t?void 0:t.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.local_storage_properties,r.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var e=this;this.session_storage_properties&&this.session_storage_properties.length&&(0,t.reaction)((function(){var t;return null===(t=e.session_storage_properties)||void 0===t?void 0:t.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.session_storage_properties,r.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=JSON.stringify(this.getSnapshot(t),(function(t,e){if(null!==e)return e}));e===r.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):e===r.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var t=this,e=JSON.parse(String(localStorage.getItem(this.store_name))),r=JSON.parse(String(sessionStorage.getItem(this.store_name))),n=q(q({},e),r);Object.keys(n).forEach((function(e){return t[e]=n[e]}))}},{key:"setValidationErrorMessages",value:function(t,e){var r=this;this.validation_errors[t]&&!r.validation_errors[t].filter((function(t){return!e.includes(t)})).concat(e.filter((function(e){return!r.validation_errors[t].includes(e)}))).length||(this.validation_errors[t]=e)}},{key:"setValidationRules",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(r){t.addRule(r,e[r])}))}},{key:"addRule",value:function(e,r){var n=this;this.validation_rules[e]=r,(0,t.intercept)(this,e,(function(t){return n.validateProperty(e,t.newValue)}))}},{key:"validateProperty",value:function(t,r){var n=this,o=this.validation_rules[t].trigger,i=Y({},t,void 0!==r?r:this[t]),a=Y({},t,this.validation_rules[t].rules||[]);o&&Object.hasOwnProperty.call(this,o)&&(i[o]=this[o],a[o]=this.validation_rules[o].rules||[]);var s=new e.Validator(i,a,this);s.isPassed(),Object.keys(i).forEach((function(t){n.setValidationErrorMessages(t,s.errors.get(t))}))}},{key:"validateAllProperties",value:function(){var t=this,e=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);e.forEach((function(e){t.validateProperty(e,t[e])})),r.forEach((function(r){e.includes(r)||delete t.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(r){var n=this;r&&(this.switch_account_listener=r,this.switchAccountDisposer=(0,t.when)((function(){var t;return!(null===(t=n.root_store)||void 0===t||!t.client.switch_broadcast)}),(function(){try{var t,r=null===(t=n.switch_account_listener)||void 0===t?void 0:t.call(n);if(!r||!r.then||"function"!=typeof r.then)throw new Error("Switching account listeners are required to return a promise.");r.then((function(){var t,e,r;null===(t=n.root_store)||void 0===t||null===(e=(r=t.client).switchEndSignal)||void 0===e||e.call(r),n.onSwitchAccount(n.switch_account_listener)}))}catch(t){(0,e.isProduction)()||console.error(t)}})))}},{key:"onPreSwitchAccount",value:function(r){var n=this;r&&(this.pre_switch_account_listener=r,this.preSwitchAccountDisposer=(0,t.when)((function(){var t;return!(null===(t=n.root_store)||void 0===t||!t.client.pre_switch_broadcast)}),(function(){try{var t,r=null===(t=n.pre_switch_account_listener)||void 0===t?void 0:t.call(n);if(!r||!r.then||"function"!=typeof r.then)throw new Error("Pre-switch account listeners are required to return a promise.");r.then((function(){var t;null===(t=n.root_store)||void 0===t||t.client.setPreSwitchAccount(!1),n.onPreSwitchAccount(n.pre_switch_account_listener)}))}catch(t){(0,e.isProduction)()||console.error(t)}})))}},{key:"onLogout",value:function(r){var n=this;this.logoutDisposer=(0,t.when)((function(){var t;return!(null===(t=n.root_store)||void 0===t||!t.client.has_logged_out)}),z(H().mark((function t(){var r,o;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(o=null===(r=n.logout_listener)||void 0===r?void 0:r.call(n))||!o.then||"function"!=typeof o.then){t.next=6;break}o.then((function(){var t;null===(t=n.root_store)||void 0===t||t.client.setLogout(!1),n.onLogout(n.logout_listener)})),t.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,e.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.logout_listener=r}},{key:"onClientInit",value:function(r){var n=this;this.clientInitDisposer=(0,t.when)((function(){var t;return!(null===(t=n.root_store)||void 0===t||!t.client.initialized_broadcast)}),z(H().mark((function t(){var r,o;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(o=null===(r=n.client_init_listener)||void 0===r?void 0:r.call(n))||!o.then||"function"!=typeof o.then){t.next=6;break}o.then((function(){var t;null===(t=n.root_store)||void 0===t||t.client.setInitialized(!1),n.onClientInit(n.client_init_listener)})),t.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,e.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.client_init_listener=r}},{key:"onNetworkStatusChange",value:function(r){var n=this;this.networkStatusChangeDisposer=(0,t.reaction)((function(){var t;return null===(t=n.root_store)||void 0===t?void 0:t.common.is_network_online}),(function(t){try{var r;null===(r=n.network_status_change_listener)||void 0===r||r.call(n,t)}catch(t){(0,e.isProduction)()||console.error(t)}})),this.network_status_change_listener=r}},{key:"onThemeChange",value:function(r){var n=this;this.themeChangeDisposer=(0,t.reaction)((function(){var t;return null===(t=n.root_store)||void 0===t?void 0:t.ui.is_dark_mode_on}),(function(t){try{var r;null===(r=n.theme_change_listener)||void 0===r||r.call(n,t)}catch(t){(0,e.isProduction)()||console.error(t)}})),this.theme_change_listener=r}},{key:"onRealAccountSignupEnd",value:function(r){var n=this;this.realAccountSignupEndedDisposer=(0,t.when)((function(){var t;return!(null===(t=n.root_store)||void 0===t||!t.ui.has_real_account_signup_ended)}),(function(){try{var t,r=null===(t=n.real_account_signup_ended_listener)||void 0===t?void 0:t.call(n);if(!r||!r.then||"function"!=typeof r.then)throw new Error("Real account signup listeners are required to return a promise.");r.then((function(){var t;null===(t=n.root_store)||void 0===t||t.ui.setRealAccountSignupEnd(!1),n.onRealAccountSignupEnd(n.real_account_signup_ended_listener)}))}catch(t){(0,e.isProduction)()||console.error(t)}})),this.real_account_signup_ended_listener=r}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(t){var e;if((null===(e=this.root_store)||void 0===e?void 0:e.client.loginid)!==t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach((function(t){return t()})),this.partial_fetch_time=0}}}],o&&Z(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Q(){Q=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==$(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function tt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function et(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tt(i,n,o,a,s,"next",t)}function s(t){tt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}function nt(t,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nt(t,e)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}X.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var at=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(u,r);var n,o,i,s,c=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=it(t);if(e){var o=it(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}(this,r)}}(u);function u(e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=c.call(this,{root_store:r})).WS=e,n.root_store=r,n.active_container=a.containers.deposit,n.cashier_route_tab_index=0,n.deposit_target="",n.is_cashier_onboarding=!0,n.is_deposit=!1,n.is_loading=!1,n.is_populating_values=!1,n.onRemount=function(){return ot(n)},n.percentage=0,n.payment_agent=null,n.should_percentage_reset=!1,n.should_show_all_available_currencies=!1,(0,t.makeObservable)(ot(n),{calculatePercentage:t.action.bound,cashier_route_tab_index:t.observable,deposit_target:t.observable,init:t.action.bound,is_cashier_onboarding:t.observable,is_crypto:t.computed,is_deposit:t.observable,is_loading:t.observable,onMountCommon:t.action.bound,onRemount:t.observable,percentage:t.observable,percentageSelectorSelectionStatus:t.action.bound,payment_agent:t.observable,setAccountSwitchListener:t.action.bound,setActiveTab:t.action.bound,setCashierTabIndex:t.action.bound,setDepositTarget:t.action.bound,setIsCashierOnboarding:t.action.bound,setIsDeposit:t.action.bound,setLoading:t.action.bound,setOnRemount:t.action.bound,setShouldShowAllAvailableCurrencies:t.action.bound,should_percentage_reset:t.observable,should_show_all_available_currencies:t.observable}),(0,t.reaction)((function(){return[n.root_store.client.switched,n.root_store.client.is_logged_in,n.root_store.client.currency]}),(function(){n.init()})),n}return n=u,o=[{key:"setOnRemount",value:function(t){this.onRemount=t}},{key:"is_crypto",get:function(){var t=this.root_store.client.currency;return!!t&&(0,e.isCryptocurrency)(t)}},{key:"calculatePercentage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount,e=this.root_store,r=e.client,n=e.modules.cashier.account_transfer;this.active_container===n.container?this.percentage=Number((Number(t)/Number(n.selected_from.balance)*100).toFixed(0)):this.percentage=Number((Number(t)/Number(r.balance)*100).toFixed(0)),isFinite(this.percentage)||(this.percentage=0)}},{key:"percentageSelectorSelectionStatus",value:function(t){this.should_percentage_reset=t,t&&(this.percentage=0)}},{key:"setIsDeposit",value:function(t){this.is_deposit=t}},{key:"setShouldShowAllAvailableCurrencies",value:function(t){this.should_show_all_available_currencies=t}},{key:"setIsCashierOnboarding",value:function(t){this.is_cashier_onboarding=t}},{key:"setDepositTarget",value:function(t){this.deposit_target=t}},{key:"setAccountSwitchListener",value:function(){this.disposeSwitchAccount(),this.onSwitchAccount(this.accountSwitcherListener)}},{key:"init",value:(s=et(Q().mark((function t(){var e,r,n,o,i,a,s,c;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.root_store.modules.cashier){t.next=10;break}return e=this.root_store,r=e.client,n=r.is_logged_in,o=r.switched,i=e.modules,a=i.cashier,s=a.payment_agent,c=a.withdraw,t.next=5,this.WS.wait("get_settings");case 5:if(!n){t.next=10;break}if(o){t.next=10;break}return s.setPaymentAgentList().then((function(){return s.filterPaymentAgentList()})),t.next=10,c.check10kLimit();case 10:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"onMountCommon",value:(i=et(Q().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,d;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store,o=n.client,i=n.common,a=n.modules,s=i.is_from_derivgo,c=i.routeTo,u=a.cashier,l=u.account_transfer,h=u.onramp,f=u.payment_agent,d=u.transaction_history,!o.is_logged_in){t.next=17;break}if(!this.is_populating_values){t.next=6;break}return t.abrupt("return");case 6:return this.is_populating_values=!0,r&&this.setOnRemount(this.onMountCommon),this.setLoading(!0),t.next=11,f.setPaymentAgentList();case 11:f.filterPaymentAgentList(),this.setLoading(!1),l.accounts_list.length||l.sortAccountsTransfer(null,s),!f.is_payment_agent_visible&&window.location.pathname.endsWith(e.routes.cashier_pa)&&c(e.routes.cashier_deposit),!h.is_onramp_tab_visible&&window.location.pathname.endsWith(e.routes.cashier_onramp)&&c(e.routes.cashier_deposit),!d.is_crypto_transactions_visible&&window.location.pathname.endsWith(e.routes.cashier_crypto_transactions)&&(c(e.routes.cashier_deposit),d.setIsCryptoTransactionsVisible(!0),d.onMount());case 17:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"setCashierTabIndex",value:function(t){this.cashier_route_tab_index=t}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setActiveTab",value:function(t){this.active_container=t}},{key:"accountSwitcherListener",value:function(){var t=this.root_store,r=t.client,n=t.modules.cashier,o=n.iframe,i=n.payment_agent,s=a.map_action[this.active_container];return r.setVerificationCode("",s),o.clearIframe(),this.payment_agent=i,1===i.active_tab_index&&window.location.pathname.endsWith(e.routes.cashier_pa)&&i.setActiveTab(1),this.is_populating_values=!1,this.onRemount(),Promise.resolve()}}],o&&rt(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),u}(X);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ct(){ct=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==st(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function ut(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==st(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===st(o)?o:String(o)),n)}var o}var ht=function(){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.root_store=r,this.iframe_height=0,this.iframe_url="",this.is_session_timeout=!0,this.onIframeLoaded=null,this.timeout_session=null,(0,t.makeObservable)(this,{iframe_height:t.observable,iframe_url:t.observable,is_session_timeout:t.observable,timeout_session:t.observable,setSessionTimeout:t.action.bound,checkIframeLoaded:t.action.bound,clearTimeoutCashierUrl:t.action.bound,setTimeoutCashierUrl:t.action.bound,setIframeUrl:t.action.bound,setContainerHeight:t.action.bound,clearIframe:t.action.bound}),this.root_store=r}var r,n,o,i;return r=e,n=[{key:"setSessionTimeout",value:function(t){this.is_session_timeout=t,t&&this.removeOnIframeLoaded()}},{key:"checkIframeLoaded",value:(o=ct().mark((function t(){var e,r,n,o=this;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.root_store,r=e.modules,n=e.ui,this.removeOnIframeLoaded(),this.onIframeLoaded=function(t){/cashier|doughflow/.test(t.origin)&&(r.cashier.general_store.setLoading(!1),n.is_mobile?o.setContainerHeight(window.innerHeight-100):o.setContainerHeight(window.innerHeight-190))},window.addEventListener("message",this.onIframeLoaded,!1);case 4:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){ut(i,r,n,a,s,"next",t)}function s(t){ut(i,r,n,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"removeOnIframeLoaded",value:function(){this.onIframeLoaded&&(window.removeEventListener("message",this.onIframeLoaded,!1),this.onIframeLoaded=null)}},{key:"clearTimeoutCashierUrl",value:function(){this.timeout_session&&clearTimeout(this.timeout_session)}},{key:"setTimeoutCashierUrl",value:function(t){var e=this;this.clearTimeoutCashierUrl(),t&&(this.timeout_session=setTimeout((function(){e.setSessionTimeout(!0)}),6e4))}},{key:"setIframeUrl",value:function(t){var e=this.root_store.client;if(t){this.iframe_url=t;var r=this.root_store.modules.cashier.general_store.active_container;if(r in a.map_action){var n=r;e.setVerificationCode("",a.map_action[n])}}else this.iframe_url=t||""}},{key:"setContainerHeight",value:function(t){this.iframe_height=t}},{key:"clearIframe",value:function(){this.setContainerHeight(0),this.setIframeUrl(""),this.clearTimeoutCashierUrl(),this.setSessionTimeout(!0)}}],n&&lt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();const ft=function(t){return{icon:{dark:"IcCashierBanxaDark",light:"IcCashierBanxaLight"},name:"Banxa",getDescription:function(){return(0,r.localize)("A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"},{dark:"IcCashierBpayDark",light:"IcCashierBpayLight"},{dark:"IcCashierSepaDark",light:"IcCashierSepaLight"},{dark:"IcCashierBlueshyftDark",light:"IcCashierBlueshyftLight"},{dark:"IcCashierFlexepinDark",light:"IcCashierFlexepinLight"},{dark:"IcCashierPayIdDark",light:"IcCashierPayIdLight"},{dark:"IcCashierPoliDark",light:"IcCashierPoliLight"},{dark:"IcCashierApplePay",light:"IcCashierApplePay"},{dark:"IcCashierInteracEtransfer",light:"IcCashierInteracEtransfer"},{dark:"IcCashierIdeal",light:"IcCashierIdeal"},{dark:"IcCashierPostBillPayDark",light:"IcCashierPostBillPayLight"},{dark:"IcCashierSofort",light:"IcCashierSofort"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return""},getFromCurrencies:function(){return["*"]},getToCurrencies:function(){return["*"]},getWidgetHtml:function(){return new Promise((function(e,r){t.WS.serviceToken({service_token:1,service:"banxa",referrer:window.location.href}).then((function(t){if(t.error)r(t.error.message);else{var n=t.service_token.banxa.url;n&&window.open(n),e("")}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}};function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function pt(){pt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==dt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function yt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function vt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yt(i,n,o,a,s,"next",t)}function s(t){yt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===dt(o)?o:String(o)),n)}var o}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}var wt=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(f,n);var o,i,a,s,c,u,l=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=gt(t);if(e){var o=gt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bt(t)}(this,r)}}(f);function f(e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(n=l.call(this,{root_store:r})).WS=e,n.root_store=r,n.api_error=null,n.deposit_address=null,n.disposeGetWidgetHtmlReaction=null,n.disposeThirdPartyJsReaction=null,n.is_deposit_address_loading=!0,n.is_onramp_modal_open=!1,n.is_requesting_widget_html=!1,n.onramp_providers=[],n.selected_provider=null,n.should_show_widget=!1,n.widget_error=null,n.widget_html=null,(0,t.makeObservable)(bt(n),{api_error:t.observable,deposit_address:t.observable,is_deposit_address_loading:t.observable,is_onramp_modal_open:t.observable,is_requesting_widget_html:t.observable,onramp_providers:t.observable.shallow,selected_provider:t.observable.ref,should_show_widget:t.observable,widget_error:t.observable,widget_html:t.observable,is_onramp_tab_visible:t.computed,filtered_onramp_providers:t.computed,onramp_popup_modal_title:t.computed,should_show_dialog:t.computed,onMountOnramp:t.action.bound,onUnmountOnramp:t.action.bound,onClickDisclaimerContinue:t.action.bound,onClickGoToDepositPage:t.action.bound,pollApiForDepositAddress:t.action.bound,resetPopup:t.action.bound,setApiError:t.action.bound,setDepositAddress:t.action.bound,setIsDepositAddressLoading:t.action.bound,setIsOnRampModalOpen:t.action.bound,setIsRequestingWidgetHtml:t.action.bound,setSelectedProvider:t.action.bound,setShouldShowWidget:t.action.bound,setOnrampProviders:t.action.bound,setWidgetError:t.action.bound,setWidgetHtml:t.action.bound}),n.WS=e,n.onClientInit(vt(pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.setOnrampProviders([ft(bt(n))]);case 1:case"end":return t.stop()}}),t)})))),n}return o=f,i=[{key:"is_onramp_tab_visible",get:function(){var t=this.root_store.client;return!t.is_virtual&&(0,e.isCryptocurrency)(t.currency)&&this.filtered_onramp_providers.length>0}},{key:"filtered_onramp_providers",get:function(){var t=this.root_store.client;return this.onramp_providers.filter((function(e){var r=e.getToCurrencies();return r.includes("*")||r.includes(t.currency.toLowerCase())})).filter((function(e){var r=e.getAllowedResidencies();return r.includes("*")||r.includes(t.residence)}))}},{key:"onramp_popup_modal_title",get:function(){return this.should_show_widget?(0,r.localize)("Payment channel"):this.selected_provider?this.should_show_dialog?(0,r.localize)("Our server cannot retrieve an address."):" ":void 0}},{key:"should_show_dialog",get:function(){return!!this.api_error}},{key:"onMountOnramp",value:function(){var r=this;this.disposeThirdPartyJsReaction=(0,t.reaction)((function(){return r.selected_provider}),function(){var t=vt(pt().mark((function t(n){var o,i,a,s;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(0!==(o=n.getScriptDependencies()).length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,h.e("loadjs").then(h.t.bind(h,"../../../node_modules/loadjs/dist/loadjs.umd.js",23));case 7:i=t.sent,a=i.default,s="".concat((0,e.getKebabCase)(n.name),"-onramp"),a.isDefined(s)||a(o,s,{error:function(){var t=vt(pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.warn("Dependencies for onramp provider ".concat(n.name," could not be loaded.")),t.next=3,r.setSelectedProvider(null);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.disposeGetWidgetHtmlReaction=(0,t.reaction)((function(){return r.should_show_widget}),(function(t){if(t){var e;if(r.is_requesting_widget_html)return;r.setIsRequestingWidgetHtml(!0),null===(e=r.selected_provider)||void 0===e||e.getWidgetHtml().then((function(t){t?r.setWidgetHtml(t):r.setShouldShowWidget(!1)})).catch((function(t){r.setWidgetError(t)})).finally((function(){return r.setIsRequestingWidgetHtml(!1)}))}}))}},{key:"onUnmountOnramp",value:function(){"function"==typeof this.disposeThirdPartyJsReaction&&this.disposeThirdPartyJsReaction(),"function"==typeof this.disposeGetWidgetHtmlReaction&&this.disposeGetWidgetHtmlReaction()}},{key:"onClickDisclaimerContinue",value:function(){this.setShouldShowWidget(!0)}},{key:"onClickGoToDepositPage",value:(u=vt(pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pollApiForDepositAddress(!1);case 2:window.open((0,e.websiteUrl)()+e.routes.cashier_deposit.substring(1));case 3:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"pollApiForDepositAddress",value:(c=vt(pt().mark((function t(e){var r,n,o=this;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setIsDepositAddressLoading(!0),this.setApiError(null),r=setInterval((function(){return n}),3e3),n=function(){var t=vt(pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.WS.authorized.cashier("deposit",{provider:"crypto",type:"api"}).then((function(t){var n,i=!1;if(t.error)o.setApiError(t.error),i=!0;else if("string"!=typeof t.cashier&&null!==(n=t.cashier)&&void 0!==n&&n.deposit){var a,s=null===(a=t.cashier)||void 0===a?void 0:a.deposit.address;(s||e)&&(o.setDepositAddress(s),i=!0)}i&&(clearInterval(r),o.setIsDepositAddressLoading(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=6,n();case 6:setTimeout((function(){clearInterval(r),o.setIsDepositAddressLoading(!1)}),3e4);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"resetPopup",value:(s=vt(pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setApiError(null),this.setDepositAddress(null),this.setIsDepositAddressLoading(!0),t.next=5,this.setSelectedProvider(null);case 5:this.setShouldShowWidget(!1),this.setWidgetError(null),this.setWidgetHtml(null);case 8:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"setApiError",value:function(t){this.api_error=t}},{key:"setDepositAddress",value:function(t){this.deposit_address=t}},{key:"setIsDepositAddressLoading",value:function(t){this.is_deposit_address_loading=t}},{key:"setIsOnRampModalOpen",value:function(t){this.is_onramp_modal_open=t}},{key:"setIsRequestingWidgetHtml",value:function(t){this.is_requesting_widget_html=t}},{key:"setSelectedProvider",value:(a=vt(pt().mark((function t(e){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return this.selected_provider=e,this.setIsOnRampModalOpen(!0),t.next=5,this.pollApiForDepositAddress(!0);case 5:t.next=9;break;case 7:this.setIsOnRampModalOpen(!1),this.selected_provider=null;case 9:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setShouldShowWidget",value:function(t){this.should_show_widget=t}},{key:"setOnrampProviders",value:function(t){this.onramp_providers=t.slice()}},{key:"setWidgetError",value:function(t){this.widget_error=t}},{key:"setWidgetHtml",value:function(t){this.widget_html=t}}],i&&mt(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),f}(X);function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var St=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r?t.replace(/[' ,-]/g,"").toLowerCase():t,o=Object.entries(e).reduce((function(t,e){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=r[0];return r[1].some((function(t){return t===n}))?o:t}),"");return r?o:o||t};function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){At(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function At(t,e,r){return(e=Bt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xt(){xt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Et(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function Lt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ct(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Lt(i,n,o,a,s,"next",t)}function s(t){Lt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function Bt(t){var e=function(t,e){if("object"!==Et(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Et(e)?e:String(e)}var Mt=function(){function r(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.WS=e,this.root_store=n,this.list=[],this.agents=[],this.container=a.containers.payment_agent,this.error=new p,this.filtered_list=[],this.is_name_selected=!0,this.is_search_loading=!1,this.is_withdraw=!1,this.is_try_withdraw_successful=!1,this.is_withdraw_successful=!1,this.confirm={},this.receipt={},this.selected_bank=0,this.supported_banks=[],this.active_tab_index=0,this.search_term="",this.has_payment_agent_search_warning=!1,this.onRemount=null,this.resetPaymentAgent=function(){var t=o.root_store,e=t.client,r=t.modules.cashier.general_store.active_container,n=a.map_action[r];e.setVerificationCode("",n),o.error.setErrorMessage({code:"",message:""}),o.setIsWithdraw(!1),o.setIsWithdrawSuccessful(!1),o.setIsTryWithdrawSuccessful(!1),o.setActiveTabIndex(0)},(0,t.makeObservable)(this,{list:t.observable,agents:t.observable,container:t.observable,error:t.observable,filtered_list:t.observable,is_name_selected:t.observable,is_search_loading:t.observable,is_withdraw:t.observable,is_try_withdraw_successful:t.observable,is_withdraw_successful:t.observable,confirm:t.observable,receipt:t.observable,selected_bank:t.observable,supported_banks:t.observable,active_tab_index:t.observable,search_term:t.observable,has_payment_agent_search_warning:t.observable,setActiveTabIndex:t.action.bound,setActiveTab:t.action.bound,is_payment_agent_visible:t.computed,getPaymentAgentList:t.action.bound,getPaymentAgentDetails:t.action.bound,addSupportedBank:t.action.bound,clearSupportedBanks:t.action.bound,sortSupportedBanks:t.action.bound,setList:t.action.bound,clearList:t.action.bound,setPaymentAgentList:t.action.bound,filterPaymentAgentList:t.action.bound,setSearchTerm:t.action.bound,setIsSearchLoading:t.action.bound,setPaymentAgentSearchWarning:t.action.bound,onChangePaymentMethod:t.action.bound,setIsWithdraw:t.action.bound,setIsTryWithdrawSuccessful:t.action.bound,setIsWithdrawSuccessful:t.action.bound,setConfirmation:t.action.bound,setReceipt:t.action.bound,addPaymentAgent:t.action.bound,onMountPaymentAgentWithdraw:t.action.bound,requestTryPaymentAgentWithdraw:t.action.bound,resetPaymentAgent:t.action.bound,onMountPaymentAgentList:t.action.bound,requestPaymentAgentWithdraw:t.action.bound,onRemount:t.observable,setOnRemount:t.action.bound}),this.root_store=n,this.WS=e}var n,o,i,s,c,u,l;return function(t,e,r){e&&Ot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"setActiveTabIndex",value:function(t){this.active_tab_index=t}},{key:"setActiveTab",value:function(t){this.setActiveTabIndex(t)}},{key:"setOnRemount",value:function(t){this.onRemount=t}},{key:"is_payment_agent_visible",get:function(){return!!(this.filtered_list.length||this.agents.length||this.has_payment_agent_search_warning)}},{key:"getPaymentAgentList",value:(l=Ct(xt().mark((function t(){var e,r,n;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.wait("get_settings");case 2:return e=this.root_store.client,r=e.residence,n=e.currency,t.abrupt("return",this.WS.authorized.paymentAgentList(r,n));case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getPaymentAgentDetails",value:(u=Ct(xt().mark((function t(){var e,r;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.paymentAgentDetails();case 2:return e=t.sent,r=e.paymentagent_details,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"addSupportedBank",value:function(t){this.supported_banks.find((function(e){return e.value===t.toLowerCase()}))||this.supported_banks.push({text:t,value:t.toLowerCase()})}},{key:"clearSupportedBanks",value:function(){this.supported_banks=[]}},{key:"sortSupportedBanks",value:function(){this.supported_banks.replace(this.supported_banks.slice().sort((function(t,e){return t.value<e.value?-1:t.value>e.value?1:0})))}},{key:"setList",value:function(t){this.list.push(t)}},{key:"clearList",value:function(){this.list=[]}},{key:"setPaymentAgentList",value:(c=Ct(xt().mark((function t(r){var n,o,i,s=this;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store.modules.cashier.general_store.setLoading,t.prev=1,t.t0=r,t.t0){t.next=16;break}return t.next=6,this.getPaymentAgentList();case 6:if(t.t2=o=t.sent.paymentagent_list,t.t1=null===t.t2,t.t1){t.next=10;break}t.t1=void 0===o;case 10:if(!t.t1){t.next=14;break}t.t3=void 0,t.next=15;break;case 14:t.t3=o.list;case 15:t.t0=t.t3;case 16:i=t.t0,this.clearList(),this.clearSupportedBanks(),null==i||i.forEach((function(t){s.setList({currency:t.currencies,deposit_commission:t.deposit_commission,email:t.email,further_information:t.further_information,max_withdrawal:t.max_withdrawal,min_withdrawal:t.min_withdrawal,name:t.name,paymentagent_loginid:t.paymentagent_loginid,phone_numbers:t.phone_numbers,supported_banks:t.supported_payment_methods,urls:null==t?void 0:t.urls,withdrawal_commission:t.withdrawal_commission}),(null==t?void 0:t.supported_payment_methods.map((function(t){if(void 0===t.payment_method)return"";var e=St(t.payment_method,a.payment_methods);return["Neteller","Skrill"].includes(e)?"":e})).filter(Boolean)).forEach((function(t){return s.addSupportedBank(t)}))})),(0,e.shuffleArray)(this.list),t.next=27;break;case 23:t.prev=23,t.t4=t.catch(1),n(!1),console.error(t.t4);case 27:this.sortSupportedBanks();case 28:case"end":return t.stop()}}),t,this,[[1,23]])}))),function(t){return c.apply(this,arguments)})},{key:"filterPaymentAgentList",value:function(t){var r=this;this.setPaymentAgentSearchWarning(!1);var n=this.root_store.common;this.filtered_list=[],t||this.selected_bank?this.list.forEach((function(e){var n=null==e?void 0:e.supported_banks;n&&-1!==n.map((function(t){return St(t.payment_method||"",a.payment_methods).toLowerCase()})).indexOf((t||r.selected_bank).toString())&&r.filtered_list.push(e)})):this.filtered_list=this.list,this.search_term&&(this.filtered_list=this.filtered_list.filter((function(t){var e;return null===(e=t.name)||void 0===e?void 0:e.toLocaleLowerCase().includes(r.search_term.toLocaleLowerCase())})),0===this.filtered_list.length&&this.setPaymentAgentSearchWarning(!0)),this.setIsSearchLoading(!1),!this.is_payment_agent_visible&&window.location.pathname.endsWith(e.routes.cashier_pa)&&n.routeTo(e.routes.cashier_deposit)}},{key:"setSearchTerm",value:function(t){this.search_term=t}},{key:"setIsSearchLoading",value:function(t){this.is_search_loading=t}},{key:"setPaymentAgentSearchWarning",value:function(t){this.has_payment_agent_search_warning=t}},{key:"onChangePaymentMethod",value:function(t){var e=t.target,r="0"===e.value?parseInt(e.value):e.value;this.selected_bank=r,this.filterPaymentAgentList(r)}},{key:"setIsWithdraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_withdraw;this.is_withdraw=t}},{key:"setIsTryWithdrawSuccessful",value:function(t){this.error.setErrorMessage({code:"",message:""}),this.is_try_withdraw_successful=t}},{key:"setIsWithdrawSuccessful",value:function(t){this.is_withdraw_successful=t}},{key:"setConfirmation",value:function(t){this.confirm=t}},{key:"setReceipt",value:function(t){var e=t.amount_transferred,r=t.payment_agent_email,n=t.payment_agent_id,o=t.payment_agent_name,i=t.payment_agent_phone,a=t.payment_agent_url;this.receipt={amount_transferred:e,payment_agent_email:r,payment_agent_id:n,payment_agent_name:o,payment_agent_phone:i,payment_agent_url:a}}},{key:"addPaymentAgent",value:function(t){this.agents.push({text:t.name,value:t.paymentagent_loginid,max_withdrawal:t.max_withdrawal,min_withdrawal:t.min_withdrawal,email:t.email,phone_numbers:t.phone_numbers,url:t.urls})}},{key:"onMountPaymentAgentWithdraw",value:(s=Ct(xt().mark((function t(){var r,n,o,i,a,s,c,u,l,h=this;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.root_store,n=r.common,o=r.modules,i=o.cashier.general_store,a=i.setLoading,s=i.onMountCommon,a(!0),this.setOnRemount((function(){return h.onMountPaymentAgentWithdraw})),t.next=6,s();case 6:if(this.setIsWithdraw(!0),this.setIsWithdrawSuccessful(!1),this.setReceipt({}),this.agents.length){t.next=15;break}return t.next=12,this.getPaymentAgentList();case 12:l=t.sent,null===(c=l.paymentagent_list)||void 0===c||c.list.forEach((function(t){h.addPaymentAgent(t)})),null!==(u=l.paymentagent_list)&&void 0!==u&&u.list.length||!window.location.pathname.endsWith(e.routes.cashier_pa)||n.routeTo(e.routes.cashier_deposit);case 15:a(!1);case 16:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"requestTryPaymentAgentWithdraw",value:(i=Ct(xt().mark((function t(e){var r,n,o,i,a,s;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.loginid,n=e.currency,o=e.amount,i=e.verification_code,this.error.setErrorMessage({code:"",message:""}),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:n,amount:o,verification_code:i,dry_run:1});case 4:a=t.sent,2===Number(a.paymentagent_withdraw)?(s=this.agents.find((function(t){return t.value===r})),this.setConfirmation({amount:o,currency:n,loginid:r,payment_agent_name:(null==s?void 0:s.text)||a.paymentagent_name||""}),this.setIsTryWithdrawSuccessful(!0)):this.error.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"onMountPaymentAgentList",value:(o=Ct(xt().mark((function t(){var e,r,n,o=this;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store.modules.cashier.general_store,r=e.setLoading,n=e.onMountCommon,r(!0),this.onRemount=function(){return o.onMountPaymentAgentList},t.next=5,n();case 5:return t.next=7,this.getPaymentAgentList();case 7:r(!1);case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"requestPaymentAgentWithdraw",value:(n=Ct(xt().mark((function t(r){var n,o,i,a,s,c;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.loginid,o=r.currency,i=r.amount,a=r.verification_code,this.error.setErrorMessage({code:"",message:""}),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:n,currency:o,amount:i,verification_code:a});case 4:s=t.sent,1===Number(s.paymentagent_withdraw)?(c=this.agents.find((function(t){return t.value===n})),this.setReceipt(Tt({amount_transferred:(0,e.formatMoney)(o,i,!0)},c&&{payment_agent_email:c.email,payment_agent_id:c.value,payment_agent_name:c.text,payment_agent_phone:c.phone_numbers,payment_agent_url:c.url})),this.setIsWithdrawSuccessful(!0),this.setIsTryWithdrawSuccessful(!1),this.setConfirmation({})):this.error.setErrorMessage(s.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}]),r}();function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Nt(){Nt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==It(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function jt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ft(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jt(i,n,o,a,s,"next",t)}function s(t){jt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==It(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===It(o)?o:String(o)),n)}var o}var Rt=function(){function e(r,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.WS=r,this.root_store=n,this.container=a.containers.payment_agent_transfer,this.error=new p,this.is_try_transfer_successful=!1,this.is_transfer_successful=!1,this.confirm={},this.receipt={},this.transfer_limit={},this.onRemount=null,this.requestTryPaymentAgentTransfer=function(){var t=Ft(Nt().mark((function t(e){var r,n,i,a,s;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.amount,n=e.currency,i=e.description,a=e.transfer_to,o.error.setErrorMessage({code:"",message:""}),t.next=4,o.WS.authorized.paymentAgentTransfer({amount:r,currency:n,description:i,transfer_to:a,dry_run:1});case 4:return s=t.sent,2===Number(s.paymentagent_transfer)?(o.setConfirmationPaymentAgentTransfer({client_id:a,client_name:s.client_to_full_name,amount:r,description:i}),o.setIsTryTransferSuccessful(!0)):o.error.setErrorMessage(s.error,o.resetPaymentAgentTransfer),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.requestPaymentAgentTransfer=function(){var t=Ft(Nt().mark((function t(e){var r,n,i,a,s;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.amount,n=e.currency,i=e.description,a=e.transfer_to,o.error.setErrorMessage({code:"",message:""}),t.next=4,o.WS.authorized.paymentAgentTransfer({amount:r,currency:n,description:i,transfer_to:a});case 4:return s=t.sent,1===Number(s.paymentagent_transfer)?(o.setReceiptPaymentAgentTransfer({amount_transferred:r,client_id:a,client_name:s.client_to_full_name}),o.setIsTransferSuccessful(!0),o.setIsTryTransferSuccessful(!1),o.setConfirmationPaymentAgentTransfer({})):o.error.setErrorMessage(s.error,o.resetPaymentAgentTransfer),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.resetPaymentAgentTransfer=function(){o.setIsTransferSuccessful(!1),o.error.setErrorMessage({code:"",message:""})},(0,t.makeObservable)(this,{container:t.observable,error:t.observable,is_try_transfer_successful:t.observable,is_transfer_successful:t.observable,confirm:t.observable,receipt:t.observable,transfer_limit:t.observable,setIsTryTransferSuccessful:t.action.bound,setIsTransferSuccessful:t.action.bound,setConfirmationPaymentAgentTransfer:t.action.bound,setReceiptPaymentAgentTransfer:t.action.bound,setMinMaxPaymentAgentTransfer:t.action.bound,onMountPaymentAgentTransfer:t.action.bound,requestTryPaymentAgentTransfer:t.action.bound,requestPaymentAgentTransfer:t.action.bound,resetPaymentAgentTransfer:t.action.bound}),this.root_store=n,this.WS=r}var r,n;return function(t,e,r){e&&Dt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"setIsTryTransferSuccessful",value:function(t){this.error.setErrorMessage({code:"",message:""}),this.is_try_transfer_successful=t}},{key:"setIsTransferSuccessful",value:function(t){this.is_transfer_successful=t}},{key:"setConfirmationPaymentAgentTransfer",value:function(t){var e=t.amount,r=t.client_id,n=t.client_name,o=t.description;this.confirm={amount:e,client_id:r,client_name:n,description:o}}},{key:"setReceiptPaymentAgentTransfer",value:function(t){var e=t.amount_transferred,r=t.client_id,n=t.client_name;this.receipt={amount_transferred:e,client_id:r,client_name:n}}},{key:"getCurrentPaymentAgent",value:(n=Ft(Nt().mark((function t(e){var r,n,o,i,a,s;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store,o=n.client,i=n.modules,a=null===(r=e.paymentagent_list)||void 0===r?void 0:r.list.find((function(t){return t.paymentagent_loginid===o.loginid})),t.t0=a,t.t0){t.next=7;break}return t.next=6,i.cashier.payment_agent.getPaymentAgentDetails();case 6:t.t0=t.sent;case 7:return s=t.t0,t.abrupt("return",null!=s?s:{});case 9:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"setMinMaxPaymentAgentTransfer",value:function(t){var e=t.min_withdrawal,r=t.max_withdrawal;this.transfer_limit={min_withdrawal:e,max_withdrawal:r}}},{key:"onMountPaymentAgentTransfer",value:(r=Ft(Nt().mark((function t(){var e,r,n,o,i,a=this;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store.modules.cashier,r=e.general_store,n=e.payment_agent,r.setLoading(!0),this.onRemount=function(){return a.onMountPaymentAgentTransfer},t.next=5,r.onMountCommon();case 5:if(this.transfer_limit.min_withdrawal){t.next=13;break}return t.next=8,n.getPaymentAgentList();case 8:return o=t.sent,t.next=11,this.getCurrentPaymentAgent(o);case 11:i=t.sent,this.setMinMaxPaymentAgentTransfer(i);case 13:r.setLoading(!1);case 14:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),e}();function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Gt(){Gt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Wt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function Ut(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ht(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ut(i,n,o,a,s,"next",t)}function s(t){Ut(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Wt(o)?o:String(o)),n)}var o}var zt=function(){function r(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.WS=e,this.root_store=n,this.crypto_transactions=[],this.is_crypto_transactions_cancel_modal_visible=!1,this.is_crypto_transactions_status_modal_visible=!1,this.is_crypto_transactions_visible=!1,this.is_loading=!1,this.selected_crypto_transaction_id="",this.selected_crypto_status="",this.selected_crypto_status_description="",(0,t.makeObservable)(this,{crypto_transactions:t.observable,is_crypto_transactions_cancel_modal_visible:t.observable,is_crypto_transactions_status_modal_visible:t.observable,is_crypto_transactions_visible:t.observable,is_loading:t.observable,selected_crypto_transaction_id:t.observable,selected_crypto_status:t.observable,selected_crypto_status_description:t.observable,onMount:t.action.bound,unsubscribeCryptoTransactions:t.action.bound,getCryptoTransactions:t.action.bound,setCryptoTransactionsHistory:t.action.bound,updateCryptoTransactions:t.action.bound,sortCryptoTransactions:t.action.bound,cancelCryptoTransaction:t.action.bound,setSelectedCryptoTransactionId:t.action.bound,setIsCryptoTransactionsCancelModalVisible:t.action.bound,showCryptoTransactionsCancelModal:t.action.bound,hideCryptoTransactionsCancelModal:t.action.bound,setSelectedCryptoStatus:t.action.bound,setSelectedCryptoStatusDescription:t.action.bound,setIsCryptoTransactionsStatusModalVisible:t.action.bound,showCryptoTransactionsStatusModal:t.action.bound,hideCryptoTransactionsStatusModal:t.action.bound,setLoading:t.action.bound,setIsCryptoTransactionsVisible:t.action.bound})}var n,o,i,a;return function(t,e,r){e&&Vt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"onMount",value:(a=Ht(Gt().mark((function t(){var r,n,o;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.root_store.client,n=r.currency,o=r.switched,!n||!(0,e.isCryptocurrency)(n)||o){t.next=9;break}return this.setLoading(!0),t.next=6,this.unsubscribeCryptoTransactions();case 6:return t.next=8,this.getCryptoTransactions();case 8:this.setLoading(!1);case 9:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"unsubscribeCryptoTransactions",value:(i=Ht(Gt().mark((function t(){var e,r,n=this;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=(r=this.WS.authorized).cashierPayments)||void 0===e?void 0:e.call(r,{provider:"crypto",transaction_type:"all"}).then((function(t){if(!t.error){var e=t.cashier_payments.crypto;n.setCryptoTransactionsHistory(e)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getCryptoTransactions",value:(o=Ht(Gt().mark((function t(){var e,r,n=this;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=(r=this.WS).subscribeCashierPayments)||void 0===e?void 0:e.call(r,(function(t){if(!t.error){var e=t.cashier_payments.crypto;n.updateCryptoTransactions(e)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setCryptoTransactionsHistory",value:function(t){this.crypto_transactions=t,this.sortCryptoTransactions()}},{key:"updateCryptoTransactions",value:function(t){var e=this;t.forEach((function(t){var r=e.crypto_transactions.findIndex((function(e){return e.id===t.id}));-1===r?e.crypto_transactions.push(t):Object.assign(e.crypto_transactions[r],t)})),this.sortCryptoTransactions()}},{key:"sortCryptoTransactions",value:function(){this.crypto_transactions.sort((function(t,e){return Number(e.submit_date)-Number(t.submit_date)}))}},{key:"cancelCryptoTransaction",value:(n=Ht(Gt().mark((function t(e){var r,n,o=this;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=(n=this.WS).cancelCryptoTransaction)||void 0===r?void 0:r.call(n,e).then((function(t){return t.error?Promise.reject(t.error):(o.setSelectedCryptoTransactionId(""),o.setIsCryptoTransactionsCancelModalVisible(!1),Promise.resolve(t))}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"setSelectedCryptoTransactionId",value:function(t){this.selected_crypto_transaction_id=t}},{key:"setIsCryptoTransactionsCancelModalVisible",value:function(t){this.is_crypto_transactions_cancel_modal_visible=t}},{key:"showCryptoTransactionsCancelModal",value:function(t){this.setSelectedCryptoTransactionId(t),this.setIsCryptoTransactionsCancelModalVisible(!0)}},{key:"hideCryptoTransactionsCancelModal",value:function(){this.setSelectedCryptoTransactionId(""),this.setIsCryptoTransactionsCancelModalVisible(!1)}},{key:"setSelectedCryptoStatus",value:function(t){this.selected_crypto_status=t}},{key:"setSelectedCryptoStatusDescription",value:function(t){this.selected_crypto_status_description=t}},{key:"setIsCryptoTransactionsStatusModalVisible",value:function(t){this.is_crypto_transactions_status_modal_visible=t}},{key:"showCryptoTransactionsStatusModal",value:function(t,e){this.setSelectedCryptoStatusDescription(t),this.setSelectedCryptoStatus(e),this.setIsCryptoTransactionsStatusModalVisible(!0)}},{key:"hideCryptoTransactionsStatusModal",value:function(){this.setIsCryptoTransactionsStatusModalVisible(!1)}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setIsCryptoTransactionsVisible",value:function(t){this.is_crypto_transactions_visible=t}}]),r}(),Kt=h("@deriv/components");const qt=function(t){var e=t.error_content,n=t.openDialog;return o().createElement(Kt.ReadMore,{expand_text:(0,r.localize)("more"),text:e,collapse_length:28,openDialog:n,show_dialog:!0})};function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function Zt(){Zt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==e&&r.call(m,i)&&(y=m);var _=p.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Yt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function Jt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Xt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Jt(i,n,o,a,s,"next",t)}function s(t){Jt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function $t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Yt(o)?o:String(o)),n)}var o}var Qt=function(){function n(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.WS=e,this.root_store=r,this.blockchain_address="",this.container=a.containers.withdraw,this.error=new p,this.is_10k_withdrawal_limit_reached=void 0,this.is_withdraw_confirmed=!1,this.withdraw_amount="",this.max_withdraw_amount=0,this.crypto_config={currencies_config:{}},(0,t.makeObservable)(this,{blockchain_address:t.observable,container:t.observable,error:t.observable,is_10k_withdrawal_limit_reached:t.observable,is_withdraw_confirmed:t.observable,withdraw_amount:t.observable,max_withdraw_amount:t.observable,crypto_config:t.observable,setIsWithdrawConfirmed:t.action.bound,setWithdrawAmount:t.action.bound,requestWithdraw:t.action.bound,saveWithdraw:t.action.bound,resetWithdrawForm:t.action.bound,setBlockchainAddress:t.action.bound,onMountWithdraw:t.action.bound,onMountCryptoWithdraw:t.action.bound,is_withdrawal_locked:t.computed,setMaxWithdrawAmount:t.action.bound,check10kLimit:t.action.bound,set10kLimitation:t.action.bound,setCryptoConfig:t.action.bound,setWithdrawPercentageSelectorResult:t.action.bound,validateWithdrawFromAmount:t.action.bound,validateWithdrawToAmount:t.action.bound,account_platform_icon:t.computed}),this.root_store=r,this.WS=e}var o,i,s,c,u,l;return function(t,e,r){e&&$t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(n,[{key:"setIsWithdrawConfirmed",value:function(t){var e,r=null===(e=this.root_store.modules.cashier)||void 0===e?void 0:e.crypto_fiat_converter.converter_from_amount;if(this.is_withdraw_confirmed=t,t&&this.setWithdrawAmount(r),!t){var n,o=this.root_store,i=o.client,s=null===(n=o.modules.cashier)||void 0===n?void 0:n.general_store.active_container,c=a.map_action[s];i.setVerificationCode("",c)}}},{key:"setWithdrawAmount",value:function(t){this.withdraw_amount=t}},{key:"requestWithdraw",value:(l=Xt(Zt().mark((function t(e){var n,o,i,a,s=this;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store,o=n.client,i=n.modules,a=i.cashier.crypto_fiat_converter,o.is_logged_in){t.next=4;break}return t.abrupt("return");case 4:if(a.converter_from_amount){t.next=7;break}return a.setConverterFromError((0,r.localize)("This field is required.")),t.abrupt("return");case 7:return t.next=9,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+a.converter_from_amount,verification_code:e,dry_run:1}).then((function(t){t.error?(s.error.setErrorMessage({code:t.error.code,message:t.error.message}),s.setCryptoConfig().then((function(){return s.validateWithdrawFromAmount()}))):s.saveWithdraw(e)}));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"saveWithdraw",value:(u=Xt(Zt().mark((function t(e){var r,n,o=this;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===(r=this.root_store.modules.cashier)||void 0===r?void 0:r.crypto_fiat_converter.converter_from_amount,this.error.setErrorMessage({code:"",message:""}),t.next=4,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+n,verification_code:e}).then((function(t){if(t.error){if(o.error.setErrorMessage(t.error),e){var r,n=o.root_store,i=n.client,s=null===(r=n.modules.cashier)||void 0===r?void 0:r.general_store.active_container,c=a.map_action[s];i.setVerificationCode("",c)}o.resetWithdrawForm()}else o.setIsWithdrawConfirmed(!0)}));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"resetWithdrawForm",value:function(){var t,e,r=null===(t=this.root_store.modules.cashier)||void 0===t?void 0:t.crypto_fiat_converter.setConverterFromAmount,n=null===(e=this.root_store.modules.cashier)||void 0===e?void 0:e.crypto_fiat_converter.setConverterToAmount,o=this.root_store,i=o.client,s=o.modules.cashier.general_store.active_container,c=a.map_action[s];this.setBlockchainAddress(""),r(""),n(""),i.setVerificationCode("",c)}},{key:"setBlockchainAddress",value:function(t){this.blockchain_address=t}},{key:"willMountWithdraw",value:function(t){if(this&&this.root_store&&t){var e,r=this.root_store,n=r.client,o=null===(e=r.modules.cashier)||void 0===e?void 0:e.general_store.active_container,i=a.map_action[o];n.setVerificationCode("",i)}}},{key:"onMountWithdraw",value:(c=Xt(Zt().mark((function t(e){var r,n,o,i,s,c,u,l,h,f,d,p,y,v,m,_,b,g,w,k,S,E,P,T,A,x;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=this.root_store,u=c.client,l=c.modules,h=null===(r=l.cashier)||void 0===r?void 0:r.general_store.active_container,f=null===(n=l.cashier)||void 0===n?void 0:n.general_store.is_crypto,d=null===(o=l.cashier)||void 0===o?void 0:o.general_store.onMountCommon,p=null===(i=l.cashier)||void 0===i?void 0:i.general_store.setLoading,y=null===(s=l.cashier)||void 0===s?void 0:s.general_store.setOnRemount,v=l.cashier.iframe,m=v.checkIframeLoaded,_=v.clearTimeoutCashierUrl,b=v.clearIframe,g=v.is_session_timeout,w=v.setContainerHeight,k=v.setIframeUrl,S=v.setSessionTimeout,E=v.setTimeoutCashierUrl,P=u.is_virtual,T=h,y(this.onMountWithdraw),t.next=12,d();case 12:if(this.error.setErrorMessage({code:"",message:""}),w(0),b(),p(!0),g){t.next=19;break}return m(),t.abrupt("return");case 19:if(k(""),e&&!P){t.next=23;break}return p(!1),t.abrupt("return");case 23:return t.next=25,this.WS.authorized.cashier(h,{verification_code:e});case 25:if(A=t.sent,T===h){t.next=29;break}return p(!1),t.abrupt("return");case 29:if(!A.error){t.next=37;break}this.error.handleCashierError(A.error),p(!1),S(!0),_(),e&&(x=a.map_action[h],u.setVerificationCode("",x)),t.next=47;break;case 37:if(!f){t.next=41;break}p(!1),t.next=47;break;case 41:return t.next=43,m();case 43:p(!1),k(A.cashier),S(!1),E(!0);case 47:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"onMountCryptoWithdraw",value:(s=Xt(Zt().mark((function t(e){var r,n,o,i,s,c,u,l,h,f,d,p;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store.modules.cashier,o=n.crypto_fiat_converter,i=n.general_store,s=n.iframe,i.setLoading(!0),!/^\w{8,128}$/.test(e)){t.next=9;break}return t.next=6,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+o.converter_from_amount,verification_code:e,dry_run:1});case 6:c=t.sent,t.next=10;break;case 9:c={error:{code:"InvalidToken",message:"Your token has expired or is invalid."}};case 10:if("InvalidToken"!==(null===(r=c.error)||void 0===r?void 0:r.code)){t.next=18;break}this.error.handleCashierError(c.error),i.setLoading(!1),s.setSessionTimeout(!0),s.clearTimeoutCashierUrl(),e&&(l=this.root_store,h=l.client,f=l.modules,d=null===(u=f.cashier)||void 0===u?void 0:u.general_store.active_container,p=a.map_action[d],h.setVerificationCode("",p)),t.next=21;break;case 18:return t.next=20,this.setCryptoConfig();case 20:i.setLoading(!1);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"setCryptoConfig",value:(i=Xt(Zt().mark((function t(){var e;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.cryptoConfig();case 2:if(t.t1=e=t.sent,t.t0=null===t.t1,t.t0){t.next=6;break}t.t0=void 0===e;case 6:if(!t.t0){t.next=10;break}t.t2=void 0,t.next=11;break;case 10:t.t2=e.crypto_config;case 11:this.crypto_config=t.t2;case 12:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"is_withdrawal_locked",get:function(){var t,e=this.root_store.client,r=e.account_status.authentication;if(null===(t=e.account_status)||void 0===t||!t.status)return!1;var n=null==r?void 0:r.needs_verification.includes("identity"),o=this.error.is_ask_authentication&&n;return e.is_withdrawal_lock||o||this.error.is_ask_financial_risk_approval}},{key:"setMaxWithdrawAmount",value:function(t){this.max_withdraw_amount=t}},{key:"check10kLimit",value:(o=Xt(Zt().mark((function t(){var r,n,o,i,a,s;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.root_store.client,t.next=3,o.getLimits();case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=null===(n=r.get_limits)||void 0===n?void 0:n.remainder;case 12:i=t.t2,this.setMaxWithdrawAmount(Number(i)),a=(0,e.getMinWithdrawal)(o.currency),s=!!(void 0!==i&&+i<a),this.set10kLimitation(s);case 17:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"set10kLimitation",value:function(t){this.is_10k_withdrawal_limit_reached=t}},{key:"setWithdrawPercentageSelectorResult",value:function(t,e){var r=this.root_store,n=r.client,o=r.modules.cashier,i=o.crypto_fiat_converter,a=o.general_store,s=n.currency,c=n.current_fiat_currency;Number(t)>0?(i.setConverterFromAmount(t),this.validateWithdrawFromAmount(),i.onChangeConverterFromAmount({target:{value:t}},s,c||"USD",e)):i.resetConverter(),i.setIsTimerVisible(!1),a.percentageSelectorSelectionStatus(!1)}},{key:"validateWithdrawFromAmount",value:function(){var t,n,o,i=this,a="",s=this.root_store,c=s.client,u=s.modules,l=c.balance,h=c.currency,f=u.cashier.crypto_fiat_converter,d=f.converter_from_amount,p=f.setConverterFromError,y=Number(null===(t=this.crypto_config)||void 0===t||null===(n=t.currencies_config)||void 0===n||null===(o=n[h])||void 0===o?void 0:o.minimum_withdrawal),v=Number(this.max_withdraw_amount)>Number(l)?Number(l):Number(this.max_withdraw_amount),m=(0,e.formatMoney)(h,l||"",!0),_=(0,e.formatMoney)(h,y,!0),b=(0,e.formatMoney)(h,v,!0);if(d){var g=(0,e.validNumber)(d,{type:"float",decimals:(0,e.getDecimalPlaces)(h)}),w=g.is_ok,k=g.message;if(w?Number(l)<Number(d)?a=(0,r.localize)("Insufficient funds"):y&&Number(l)<Number(y)?a=(0,r.localize)("Your balance ({{format_balance}} {{currency}}) is less than the current minimum withdrawal allowed ({{format_min_withdraw_amount}} {{currency}}). Please top up your account to continue with your withdrawal.",{format_balance:m,currency:h,format_min_withdraw_amount:_}):(y&&Number(d)<Number(y)||Number(d)>Number(v))&&(a=(0,r.localize)("The current allowed withdraw amount is {{format_min_withdraw_amount}} to {{format_max_withdraw_amount}} {{currency}}",{format_min_withdraw_amount:_,format_max_withdraw_amount:b,currency:h})):a=k||"",(0,e.isMobile)()&&a.length>35){var S=a;a=qt({error_content:S,openDialog:function(){i.error.setErrorMessage({code:"CryptoWithdrawalReadMore",message:S})}})}}p(a)}},{key:"validateWithdrawToAmount",value:function(){var t,r,n="",o=this.root_store,i=o.client,a=o.modules,s=i.current_fiat_currency,c=null===(t=a.cashier)||void 0===t?void 0:t.crypto_fiat_converter.converter_to_amount,u=null===(r=a.cashier)||void 0===r?void 0:r.crypto_fiat_converter.setConverterToError;if(c){var l=(0,e.validNumber)(c,{type:"float",decimals:(0,e.getDecimalPlaces)(s||"")}),h=l.is_ok,f=l.message;h||(n=f||"")}u(n)}},{key:"account_platform_icon",get:function(){var t,e=this.root_store.client,r=e.account_list,n=e.loginid;return null===(t=r.find((function(t){return n===t.loginid})))||void 0===t?void 0:t.icon}}]),n}();function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==te(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===te(o)?o:String(o)),n)}var o}var re=function(t,e,r){return e&&ee(t.prototype,e),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root_store=e,this.WS=r,this.account_transfer=void 0,this.crypto_fiat_converter=void 0,this.deposit=void 0,this.error_dialog=void 0,this.error=void 0,this.general_store=void 0,this.iframe=void 0,this.onramp=void 0,this.payment_agent_transfer=void 0,this.payment_agent=void 0,this.transaction_history=void 0,this.withdraw=void 0,this.account_transfer=new A(r,e),this.crypto_fiat_converter=new M(e),this.deposit=new D(r,e),this.error=new p,this.error_dialog=new G,this.general_store=new at(r,e),this.iframe=new ht(e),this.onramp=new wt(r,e),this.payment_agent=new Mt(r,e),this.payment_agent_transfer=new Rt(r,e),this.transaction_history=new zt(r,e),this.withdraw=new Qt(r,e)}))})(),f.default})()));