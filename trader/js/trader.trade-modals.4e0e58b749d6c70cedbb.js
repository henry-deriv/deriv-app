"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["trade-modals"],{"./src/App/Components/Elements/Modals/UnsupportedContractModal/index.js":(e,t,o)=>{o.d(t,{Z:()=>m});var r=o("../../node_modules/prop-types/index.js"),n=o.n(r),a=o("react"),i=o.n(a),l=o("@deriv/components"),s=o("@deriv/translations"),c=o("@deriv/shared"),d=o("../stores/src/index.ts"),u=(0,d.Pi)((function(e){var t=e.onConfirm,o=e.onClose,r=(0,d.oR)().ui,n=r.disableApp,a=r.enableApp,u=r.is_loading,m=r.is_unsupported_contract_modal_visible;return i().createElement(l.Dialog,{title:(0,s.localize)("We’re working on it"),confirm_button_text:(0,s.localize)("Stay on {{website_domain}}",{website_domain:c.website_name}),cancel_button_text:(0,s.localize)("Go to Binary.com"),onConfirm:t,onCancel:o,disableApp:n,enableApp:a,is_loading:u,is_closed_on_cancel:!0,is_visible:m},i().createElement(s.Localize,{i18n_default_text:"You’ve selected a trade type that is currently unsupported, but we’re working on it."}))}));u.propTypes={onClose:n().func,onConfirm:n().func};const m=u},"./src/App/Containers/Modals/index.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var r=o("react"),n=o.n(r),a=o("@deriv/shared"),i=o("./src/App/Components/Elements/Modals/UnsupportedContractModal/index.js"),l=o("../../node_modules/prop-types/index.js"),s=o.n(l),c=o("@deriv/components"),d=o("@deriv/translations"),u=o("../stores/src/index.ts"),m=(0,u.Pi)((function(e){var t=e.onCancel,o=e.onConfirm,r=(0,u.oR)().ui,i=r.disableApp,l=r.enableApp,s=r.is_loading,m=r.has_only_forward_starting_contracts;return n().createElement(c.Dialog,{className:"market-unavailable-modal",title:(0,d.localize)("We’re working on it"),confirm_button_text:(0,d.localize)("Stay on {{platform_name_trader}}",{platform_name_trader:(0,a.getPlatformSettings)("trader").name}),cancel_button_text:(0,d.localize)("Go to {{platform_name_smarttrader}}",{platform_name_smarttrader:(0,a.getPlatformSettings)("smarttrader").name}),onConfirm:o,onCancel:t,is_mobile_full_width:!1,is_visible:m,disableApp:i,enableApp:l,is_loading:s},n().createElement(d.Localize,{i18n_default_text:"This market is not yet available on {{platform_name_trader}}, but it is on {{platform_name_smarttrader}}.",values:{platform_name_trader:(0,a.getPlatformSettings)("trader").name,platform_name_smarttrader:(0,a.getPlatformSettings)("smarttrader").name}}))}));m.propTypes={onCancel:s().func,onConfirm:s().func};const _=m;var p=function(e){switch(e){case"buy":return(0,d.localize)("Purchase Error");case"cancel":return(0,d.localize)("Deal Cancellation Error");case"contract_update":return(0,d.localize)("Contract Update Error");case"sell":return(0,d.localize)("Sell Error");default:return"Error"}},f=function(e){var t=e.is_visible,o=e.toggleModal,r=e.is_appstore,i=e.is_logged_in;return n().createElement(c.Modal,{id:"dt_authorization_required_modal",is_open:t,small:!0,toggleModal:o,title:(0,d.localize)("Start trading with us")},n().createElement(c.Modal.Body,null,(0,d.localize)("Log in or create a free account to place a trade.")),n().createElement(c.Modal.Footer,null,n().createElement(c.Button,{has_effect:!0,text:(0,d.localize)("Log in"),onClick:function(){return(0,a.redirectToLogin)(i,(0,d.getLanguage)())},secondary:!0}),n().createElement(c.Button,{has_effect:!0,text:(0,d.localize)("Create free account"),onClick:function(){return(0,a.redirectToSignUp)({is_appstore:r})},primary:!0})))};f.propTypes={is_appstore:s().bool,is_visible:s().bool,is_logged_in:s().bool,toggleModal:s().func};const g=f;var v=o("react-router-dom"),b=function(e){var t=e.history,o=e.is_virtual,r=e.is_visible,i=e.message,l=e.toggleModal;return n().createElement(c.Modal,{id:"dt_insufficient_balance_modal",is_open:r,small:!0,is_vertical_centered:(0,a.isMobile)(),toggleModal:l,title:(0,d.localize)("Insufficient balance")},n().createElement(c.Modal.Body,null,i),n().createElement(c.Modal.Footer,null,n().createElement(c.Button,{has_effect:!0,text:o?(0,d.localize)("OK"):(0,d.localize)("Deposit now"),onClick:function(){o?l():t.push(a.routes.cashier_deposit)},primary:!0})))};b.propTypes={history:s().object,is_virtual:s().bool,is_visible:s().bool,message:s().string,toggleModal:s().func};const E=(0,v.withRouter)(b);var y=function(e){var t=e.is_visible,o=e.onConfirm;return n().createElement(c.Modal,{is_open:t,small:!0,is_vertical_centered:(0,a.isMobile)(),toggleModal:o,title:(0,d.localize)("Purchase Error")},n().createElement(c.Modal.Body,null,n().createElement(d.Localize,{i18n_default_text:"No further trading is allowed on this contract type for the current trading session. For more info, refer to our <0>terms and conditions</0>.",components:[n().createElement(c.StaticUrl,{key:0,className:"link",href:"tnc/trading-terms.pdf",is_document:!0})]})),n().createElement(c.Modal.Footer,null,n().createElement(c.Button,{has_effect:!0,text:(0,d.localize)("OK"),onClick:o,primary:!0})))};y.propTypes={is_visible:s().bool,onConfirm:s().func};const C=y,M=function(e){var t=e.is_visible,o=e.onConfirm,r=(0,v.useHistory)();return n().createElement(c.Modal,{is_open:t,is_vertical_centered:(0,a.isMobile)(),className:"account-verification-required-modal",toggleModal:o,title:(0,d.localize)("Account verification required"),width:"440px",height:(0,a.isMobile)()?"auto":"220px"},n().createElement(c.Modal.Body,{className:"account-verification-required-modal-text"},n().createElement(d.Localize,{i18n_default_text:"Please submit your proof of identity and proof of address to verify your account and continue trading."})),n().createElement("div",{className:"account-verification-required-modal-button"},n().createElement(c.Modal.Footer,null,n().createElement(c.Button,{has_effect:!0,text:(0,d.localize)("Submit Proof"),onClick:function(){return r.push(a.routes.proof_of_identity)},primary:!0}))))};var h=function(e){var t=e.is_virtual,o=e.is_visible,r=e.is_logged_in,a=e.onConfirm,i=e.services_error,l=i.code,s=i.message;return l&&s?"AuthorizationRequired"===l?n().createElement(g,{is_logged_in:r,is_visible:o,toggleModal:a}):"InsufficientBalance"===l?n().createElement(E,{is_virtual:t,is_visible:o,message:s,toggleModal:a}):"CompanyWideLimitExceeded"===l?n().createElement(C,{is_visible:o,onConfirm:a}):"PleaseAuthenticate"===l?n().createElement(M,{is_visible:o,onConfirm:a}):n().createElement(c.Modal,{is_open:o,small:!0,title:p(i.type),toggleModal:a},n().createElement(c.Modal.Body,null,s),n().createElement(c.Modal.Footer,null,n().createElement(c.Button,{has_effect:!0,text:(0,d.localize)("OK"),onClick:a,primary:!0}))):null};h.propTypes={is_visible:s().bool,is_virtual:s().bool,is_logged_in:s().bool,onConfirm:s().func,services_error:s().object};const z=h;var x=o("./src/Stores/useTraderStores.tsx");const w=(0,u.Pi)((function(){var e=(0,u.oR)(),t=e.ui,o=e.client,r=e.common,l=(0,x.b)(),s=l.resetPreviousSymbol,c=l.clearPurchaseInfo,d=l.requestProposal,m=o.is_virtual,p=o.is_logged_in,f=r.services_error,g=t.is_services_error_visible,v=t.setHasOnlyForwardingContracts,b=t.toggleServicesErrorModal,E=t.toggleUnsupportedContractModal,y=function(){v(!1),s()},C=function(){E(!1)};return n().createElement(n().Fragment,null,n().createElement(i.Z,{onConfirm:C,onClose:function(){var e=(0,a.urlFor)("user/portfoliows",{legacy:!0});window.open(e,"_blank"),C()}}),n().createElement(_,{onConfirm:function(){y()},onCancel:function(){window.open((0,a.getUrlSmartTrader)()),y()}}),n().createElement(z,{onConfirm:function(){b(!1),"buy"===f.type&&(c(),d())},services_error:f,is_visible:g,is_virtual:m,is_logged_in:p}))}))}}]);