{"version":3,"file":"bot/js/bot.bot-web-ui-app.18af328c6c8880c7e7f0.js","mappings":"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CA,QACA,iCACA,qBACA,IACA,SACA,gCACA,qBACA,IACA,IAEA,6CACA,gCACA,qBACA,IAEA,2BACA,MACA,qBACA,IACA,OACA,qBACA,qBACA,IACA,QACA,qBACA,KAEA,iDACA,mBACA,8BACA,IAEA,iCACA,sCACA,IAEA,gBACA,iBACA,oBACA,sBACA,kBACA,IAGA,4BACA,sBACA,eACA,gBACA,IAEA,sBACA,iBACA,sBACA,kBACA,IAEA,kBACA,+BACA,sBACA,oBACA,sBACA,IAEA,0BACA,qBACA,0BACA,6BACA,yBACA,IAEA,qCACA,oBACA,qBACA,0BACA,yBACA,6BACA,8BACA,iCACA,IAEA,wDACA,qBACA,IAEA,8BACA,sBACA,IAEA,2BACA,sBACA,eACA,gBACA,cACA,aACA,sBACA,mBACA,IAEA,0BACA,qBACA,0BACA,6BACA,yBACA,IAEA,0BACA,iBACA,sBACA,UACA,WACA,IAIA,iDACA,qBACA,IAEA,6BACA,iBACA,sBACA,UACA,WACA,YACA,aACA,gCACA,eACA,IAEA,uBACA,oBACA,6BACA,sBACA,kBACA,gBACA,mBACA,gCACA,oBACA,0BACA,sBACA,mBACA,IAEA,wBACA,mBACA,WACA,UACA,iBACA,iBACA,qBACA,sBAAqB,sCACU9jD,QAAQie,QAAQ8lC,eAAc,KAC7D,gBACA,6BACA,mBACA,IAEA,4BACA,qBACA,kBACA,IAEA,0BACA,sBACA,WACA,UACA,eACA,gBACA,eACA,6BACA,yBACA,IAEA,2BACA,yBACA,eACA,cACA,eACA,sBACA,iBACA,qBACA,8BACA,mBACA,IAEA,gCAA+B,sCACA/jD,QAAQie,QAAQ+lC,YAAW,KAC1D,IAEA,kCAAiC,sCACFhkD,QAAQie,QAAQ+lC,YAAW,KAC1D,IAEA,iCACA,cACA,eACA,iBACA,IAEA,gCACA,yBACA,eACA,cACA,eACA,IAEA,yBACA,yBACA,eACA,cACA,eACA,gBACA,eACA,sBACA,wCACA,kBACA,iBACA,0CACA,mBACA,oBACA,mBACA,8CACA,IAEA,+BACA,mBACA,cACA,eACA,qBACA,IAEA,gCACA,8CACA,8CACA,IAEA,cACA,yBACA,0BACA,+BACA,yBACA,IAEA,iBACA,4BACA,2BACA,mCACA,yBACA,IAEA,oBACA,mBACA,oBACA,qBACA,kBACA,yBACA,sBACA,mBACA,IAEA,qBACA,qBACA,cACA,IAEA,qBACA,qBACA,cACA,IAEA,uBACA,gBACA,mBACA,IAEA,sCACA,cACA,gBACA,qBACA,IAEA,iBACA,uBAEA,IAEA,kCACA,mBACA,qBACA,IAEA,uCACA,iBACA,IAEA,sBAEA,gDACA,gBACA,wBACA,qBACA,IAEA,qBAEA,kDACA,oBACA,4BACA,yBACA,IAGA,6BAEA,kDACA,oBACA,4BACA,yBACA,IAIA,+CAEA,kDACA,oBACA,4BACA,yBACA,IAEA,2CACA,kDACA,IAEA,iDACA,wBACA,IAEA,0BACA,kDACA,IAEA,wBACA,kDACA,oBACA,4BACA,IAEA,iCACA,uCACA,qBACA,uBACA,IAEA,kCACA,IAEA,kCACA,oBACA,sBACA,IAEA,yCACA,gBACA,IAEA,iBACA,iBACA,wBACA,iCACA,uBACA,wBACA,sBACA,oBACA,0BACA,IAEA,0BACA,mBACA,IAEA,iCACA,wBACA,IAEA,gCACA,8BACA,+BAEA,IAEA,+CACA,+BACA,IAEA,yBACA,yCACA,IAEA,uBACA,sBACA,IACA,mBACA,sBACA,eACA,IACA,yBACA,cACA,uBACA,IAEA,mCACA,mBACA,IAEA,sCACA,sBACA,IAEA,+BACA,qBACA,IAEA,+BACA,eACA,mBACA,IAEA,wBACA,mBACA,IAEA,kCACA,cACA,IAEA,4BACA,mBACA,iBACA,qBACA,IAMA,kGACA,qBACA,0BACA,6BACA,mBACA,IAEA,mBACA,iBACA,IAEA,8CACA,kBACA,IAEA,sBACA,mBACA,IAEA,iCACA,8BACA,eACA,IAEA,sBACA,cACA,gBACA,qBACA,IAEA,uBACA,cACA,IAEA,wBACA,aACA,cACA,IAEA,iCACA,sBACA,cACA,IAEA,wBACA,iBACA,mBACA,oBACA,IAEA,0BACA,qBACA,mBACA,IAEA,iCACA,cACA,IAEA,gCACA,cACA,IAEA,uCACA,qBACA,IAEA,wCACA,iBACA,mBACA,IAEA,2CACA,gBACA,qBACA,IAEA,4BACA,6BACA,aACA,cACA,aACA,gBACA,gBACA,kBACA,oBACA,IAEA,8BACA,mBACA,cACA,gBACA,IAEA,iDACA,iBACA,IAEA,4BACA,cACA,gBACA,qBACA,IAEA,yDACA,gBACA,IAIA,iCACA,sBACA,IAEA,wBACA,6BACA,sBACA,IAEA,wBACA,iBACA,IAEA,0BACA,qBACA,IAEA,mCACA,mBACA,qBACA,IAEA,iCACA,cACA,IAEA,0BACA,iBACA,oBACA,IAEA,wBAEA,mBACA,oBACA,IAEA,4BACA,6BACA,aACA,cACA,cACA,gBACA,oBACA,IAEA,4BACA,qBACA,qBACA,IAEA,4BACA,qBACA,qBACA,IAEA,sBACA,gBAEA,mBACA,gBACA,aACA,iBACA,0BACA,eACA,sBACA,uBACA,oBACA,IAEA,2BACA,mBAEA,IAEA,8BACA,cACA,gBACA,mBACA,IAEA,6BACA,wBACA,oBACA,IAEA,mCACA,eACA,IAEA,4BACA,eACA,IAEA,2DACA,sBACA,iBACA,IAEA,gCACA,cACA,IAEA,4BACA,2BACA,IAEA,6DACA,kCACA,gCACA,IAEA,uBACA,cACA,IAIA,2CACA,cACA,IAEA,4EACA,iDACA,cACA,IAEA,yBACA,oBACA,IAEA,wBAAuB,kBACZhkD,QAAQie,QAAQgmC,OAAOC,SAAQ,KAC1C,mBAAkB,gBACTlkD,QAAQie,QAAQgmC,OAAOE,UAAS,KACzC,IAEA,6BACA,gBACA,mBACA,cACA,IAEA,4BACA,gBACA,mBACA,wBACA,cACA,mBACA,IAEA,2BACA,uBACA,IAEA,uBACA,gBACA,mBACA,uBACA,IAEA,uBACA,cACA,sBACA,IAEA,sBACA,gBACA,mBACA,yBACA,wBACA,IAEA,wBACA,sBACA,oBACA,IAEA,yBACA,yBACA,IAEA,2BACA,8CACA,IAGA,mEACA,gEACA,4EACA,IAGA,uBACA,qCACA,8BACA,uBACA,oBACA,sBAEA,eACA,4CACA,IAEA,qBACA,kBACA,IAEA,2BACA,iBACA,IAEA,oBACA,gBACA,qBACA,sBACA,sBACA,uBACA,IAEA,2BACA,eACA,yBACA,IAEA,8BACA,gBACA,yBACA,IAEA,kDACA,oBACA,IAEA,oDACA,6BACA,IAEA,0BACA,oCACA,aACA,iBACA,IAEA,oCACA,mCACA,YACA,kBACA,iBACA,IAEA,qBACA,iDACA,gBACA,0BACA,eACA,IAEA,8BACA,mCACA,IAEA,8BACA,iCACA,IAEA,yBACA,mCACA,IAEA,mDACA,oCACA,IAEA,mDACA,kCACA,IAEA,8CACA,oCACA,IAEA,wBACA,8CACA,mCACA,IAEA,sBACA,mBAEA,mBACA,kBACA,0BACA,IAEA,4CACA,kDACA,IAEA,2CACA,eACA,IAEA,gDACA,eACA,gBACA,gBACA,sBACA,iBACA,uBACA,uBACA,IAEA,mEACA,eACA,gBACA,aACA,sBACA,2BACA,uBACA,qDACA,kDACA,6CACA,IAEA,uBACA,oBACA,iBACA,gBACA,eACA,sBACA,8BACA,oBACA,mBACA,IAEA,8BAEA,sBACA,8BACA,eACA,IAEA,kCACA,qBACA,IAEA,gCACA,qBACA,IAEA,4BACA,cACA,sBACA,eACA,IAEA,+BAEA,sBACA,sBACA,wBACA,IAgBA,iCACA,oBACA,qCACA,uBACA,qBACA,mBACA,6DACA,aACA,iBACA,kBACA,sBACA,oBACA,sBACA,kBACA,IAEA,mCACA,mBACA,6DACA,iBACA,kBACA,IA+BA,qCACA,eACA,6DACA,oBACA,aAEA,6BACA,uBACA,IAEA,uCACA,kBACA,6DACA,qBACA,oBACA,aACA,oBAEA,6BACA,uBACA,IAIA,uDACA,yDAEA,qBACA,uBACA,IAGA,0DACA,uDACA,4DACA,0DACA,sBACA,IAMA,wDACA,0DACA,uBACA,IAEA,4CACA,+CACA,eACA,6DACA,IAGA,kEACA,qEACA,oEACA,uEACA,0BACA,IAEA,kEACA,oEACA,gBACA,qBACA,6BACA,IAGA,8CACA,2CACA,6BAGA,yBACA,wBACA,uBACA,uBACA,oBACA,IAEA,gDACA,6CACA,wCACA,IAGA,6CACA,0CACA,+CACA,4CACA,gCACA,gBACA,aACA,sBACA,eACA,0BACA,eACA,IAEA,mEACA,+DACA,qEACA,kEAEA,4EACA,oBACA,eACA,sBACA,IAIA,gEACA,4DACA,kEACA,+DAEA,gBACA,uBACA,IAGA,2CACA,6CACA,eAGA,kBACA,cACA,kBACA,sBACA,YACA,qBACA,IAIA,8DACA,gEAEA,WACA,eACA,oBACA,IAGA,mDACA,qDACA,8BACA,IAEA,wDACA,0DACA,eACA,mBACA,qBACA,IAgBA,0CACA,4CACA,8BACA,iBACA,cACA,IAEA,2BACA,eACA,mBACA,IAEA,mCAAkC,gBACzBnkD,QAAQie,QAAQgmC,OAAOG,QAAO,uBAC5BpkD,QAAQie,QAAQgmC,OAAOC,SAAQ,KAC1C,IAEA,+BACA,iBACA,mBACA,yBACA,0BACA,IAEA,yBACA,eACA,+BACA,8BACA,oBACA,qBACA,6BACA,0BACA,yBACA,IAEA,mCACA,eACA,gBACA,+BACA,8BACA,mBACA,qBACA,6BACA,0BACA,yBACA,IAEA,2DACA,eACA,eACA,IAEA,4BACA,IAEA,6BACA,yBACA,mBACA,sBACA,IAEA,4DACA,oBACA,IAEA,8CACA,uCACA,IAEA,+BACA,kBACA,mBACA,qBACA,uBACA,2BACA,IAEA,6BACA,kBACA,mBACA,2BACA,yBACA,IAEA,mCACA,0CACA,IACA,cC3tCJlkD,QAAQ2nB,WAAa,SAAU/K,EAAK6e,EAAOC,EAAQ2oB,EAAQC,EAAYC,GACnEj0D,KAAKmmB,aAAe,KAGpBnmB,KAAKk0D,QAAU7yD,OAAO+pC,GACtBprC,KAAKm0D,OAAS9yD,OAAO8pC,GACrBnrC,KAAKo0D,MAAQ,IAAIl+B,KAAKm+B,KAAKC,KAAKt0D,KAAKm0D,OAAQn0D,KAAKk0D,SAClDl0D,KAAKu0D,SAAWN,EAChBj0D,KAAKw0D,SAAW,GAChBx0D,KAAKy/B,SAASnT,GACdtsB,KAAKi5B,QAAQ86B,GAEa,mBAAfC,IACPh0D,KAAKy0D,cAAgBT,EAE7B,EACA99B,KAAKw+B,SAAShlD,QAAQ2nB,WAAY3nB,QAAQilD,OAW1CjlD,QAAQ2nB,WAAWu9B,SAAW,SAAU9zD,GACpC,IAAMwrB,EAAM5c,QAAQ+T,MAAMoxC,yBAAyB/zD,EAAQwrB,KACrD6e,EAAQ9pC,OAAOqO,QAAQ+T,MAAMoxC,yBAAyB/zD,EAAQqqC,QAC9DC,EAAS/pC,OAAOqO,QAAQ+T,MAAMoxC,yBAAyB/zD,EAAQsqC,SAC/DC,EAAM37B,QAAQ+T,MAAMoxC,yBAAyB/zD,EAAQuqC,KACrDypB,IAAYh0D,EAAQg0D,QAC1B,OAAO,IAAIplD,QAAQ2nB,WAAW/K,EAAK6e,EAAOC,EAAQC,EAAK,KAAMypB,EACjE,EAKAplD,QAAQ2nB,WAAW40B,UAAU8I,UAAW,EAKxCrlD,QAAQ2nB,WAAW40B,UAAU5vC,KAAO,WAC5Brc,KAAKg1D,cAMTh1D,KAAKg1D,YAActlD,QAAQ+T,MAAMwxC,iBAAiB,IAAK,CAAC,EAAG,MACtDj1D,KAAKk1D,WACNl1D,KAAKg1D,YAAY/zD,MAAMyyB,QAAU,QAGrC1zB,KAAKm1D,cAAgBzlD,QAAQ+T,MAAMwxC,iBAC/B,QACA,CACI7pB,OAAQ,GAAF,OAAKprC,KAAKk0D,QAAO,MACvB/oB,MAAO,GAAF,OAAKnrC,KAAKm0D,OAAM,OAEzBn0D,KAAKg1D,aAETh1D,KAAKy/B,SAASz/B,KAAKo1D,MACnBp1D,KAAKi5B,QAAQj5B,KAAKypD,OAClBzpD,KAAKmmB,aAAa+sC,aAAavmC,YAAY3sB,KAAKg1D,aAE5Ch1D,KAAKw0D,SACLx0D,KAAKm1D,cAAcr9B,QAAU93B,KAAKw0D,SAGlCx0D,KAAKikC,WAAWjkC,KAAKmmB,cAEzBzW,QAAQ2lD,QAAQC,gBAAgBt1D,KAAKm1D,eAErCn1D,KAAKu1D,wBACT,EAKA7lD,QAAQ2nB,WAAW40B,UAAUrtB,QAAU,WACnC1I,KAAKs/B,IAAIC,WAAWz1D,KAAKg1D,aACzBh1D,KAAKg1D,YAAc,KACnBh1D,KAAKm1D,cAAgB,IACzB,EAOAzlD,QAAQ2nB,WAAW40B,UAAUsJ,sBAAwB,YAC7Cv1D,KAAKy0D,eAAkBz0D,KAAKmmB,aAAahF,UAAUrgB,QAAQ43B,UAAa14B,KAAKmmB,aAAawS,aAC1F34B,KAAK01D,kBAAoBhmD,QAAQujD,qBAAqBjzD,KAAKg1D,YAAa,YAAah1D,KAAMA,KAAKy0D,eAChGz0D,KAAKg1D,YAAY/zD,MAAM00D,OAAS,UAExC,EAOAjmD,QAAQ2nB,WAAW40B,UAAUhoB,WAAa,SAAU2xB,GAChD51D,KAAKw0D,SAAWoB,EACZ51D,KAAKm1D,gBACLn1D,KAAKm1D,cAAcr9B,QAAU89B,EAErC,EAOAlmD,QAAQ2nB,WAAW40B,UAAUnf,SAAW,WACpC,OAAO9sC,KAAKo1D,IAChB,EAOA1lD,QAAQ2nB,WAAW40B,UAAUxsB,SAAW,SAAUnT,GAClC,OAARA,IAIJtsB,KAAKo1D,KAAO9oC,EACRtsB,KAAKm1D,eACLn1D,KAAKm1D,cAAcU,eAAe,+BAAgC,aAAcvpC,GAAO,IAE/F,EAMA5c,QAAQ2nB,WAAW40B,UAAU6J,WAAa,WACtC,OAAO91D,KAAKu0D,QAChB,EAOA7kD,QAAQ2nB,WAAW40B,UAAUhzB,QAAU,SAAUoS,GACjC,OAARA,IAIJrrC,KAAKypD,MAAQpe,EACTrrC,KAAKm1D,eACLn1D,KAAKm1D,cAAcl7B,aAAa,MAAOoR,GAAO,IAEtD,EAMA37B,QAAQ2nB,WAAW40B,UAAU8J,QAAU,WACnC,EAMJrmD,QAAQ2nB,WAAW40B,UAAUsF,cAAgB,WACzC,EAOJ7hD,QAAQ2nB,WAAW40B,UAAU+J,YAAc,WACvC,EAOJtmD,QAAQ2nB,WAAW40B,UAAUgK,YAAc,WACnCj2D,KAAKy0D,eACLz0D,KAAKy0D,cAAcz0D,KAE3B,EAEA0P,QAAQilD,MAAMl0C,SAAS,cAAe/Q,QAAQ2nB,uBC5M9C3nB,QAAQwmD,eAAejK,UAAU5vC,KAAO,WACpC,IAAIrc,KAAKg1D,YAAT,CAKA,IAAMmB,GAAen2D,KAAKmmB,aAAas2B,WAEnC0Z,IACAn2D,KAAKo2D,YAAc,yBAGvBp2D,KAAKq2D,iBAAmB,GAExB3mD,QAAQwmD,eAAexH,YAAYryC,KAAK+lC,KAAKpiD,MAGzCm2D,IACAn2D,KAAKs2D,KAAO5mD,QAAQ+T,MAAMwxC,iBAAiB,OAAQ,CAC/CsB,GAAqC,EAAjC7mD,QAAQg8C,SAASI,cACrB0K,GAAqC,EAAjC9mD,QAAQg8C,SAASI,cACrBvkD,EAAG,EACHi3B,EAAG,EACH2M,MAAOnrC,KAAKo0D,MAAMjpB,MAClBC,OAAQprC,KAAKo0D,MAAMhpB,OACnBphC,KAAMhK,KAAKmmB,aAAa6mC,qBACxByJ,OAAQz2D,KAAKmmB,aAAaimC,oBAC1B,eAAgB,UAEpBpsD,KAAKg1D,YAAY0B,aAAa12D,KAAKs2D,KAAMt2D,KAAK22D,cAzBlD,CA2BJ,aCzBAjnD,QAAQknD,QAAQ3K,UAAU4K,4BAA8B,WAEpD,QAAI72D,KAAK82D,aAAavwC,UAIjBvmB,KAAK+2D,QAAQC,iBAAkBh3D,KAAK+2D,QAAQE,sBAAsBj3D,KAAKk3D,uBACxEl3D,KAAKm3D,gBAAkBn3D,KAAK+2D,QAAQK,iBACpCp3D,KAAKm3D,gBAAgBE,qCAIhB3nD,QAAQwU,OAAO4a,YAChBpvB,QAAQwU,OAAOC,UAAS,GAI5BnkB,KAAKs3D,YAAc,KACnBt3D,KAAK82D,aAAe92D,KAAK+2D,QAAQQ,YAAYv3D,KAAKw3D,iBAAkBx3D,KAAK82D,cACzE92D,KAAK82D,aAAah3B,SACX,GAGf,aC3BApwB,QAAQ+nD,KAAKxL,UAAUyL,WAAa,SAAUC,GAC1C,GAAI33D,KAAK43D,gBAAkB53D,KAAK63D,OAAO/uC,cAEnC,OADA9oB,KAAK83D,WAAW79B,aAAa,UAAW,QACjC09B,EAGX33D,KAAK83D,WAAW79B,aAAa,UAAW,SAExC,IAAI89B,EAAaJ,EAGXxsB,EAAQnrC,KAAKg4D,KAenB,OAbIh4D,KAAK63D,OAAOt5B,MACZw5B,GAAc5sB,GAGlBnrC,KAAK83D,WAAW79B,aAAa,YAAa,YAAF,OAAc89B,EAAU,YAP7C,EAO2D,MAC9E/3D,KAAKi4D,sBAEDj4D,KAAK63D,OAAOt5B,IACZw5B,GAAcroD,QAAQg8C,SAASwM,YAE/BH,GAAc5sB,EAAQz7B,QAAQg8C,SAASwM,YAGpCH,CACX,oDC7BAroD,QAAQyoD,MAAMC,WAAa,CAAC,EAE5B1oD,QAAQyoD,MAAMlM,UAAUoM,eAAiB,WACrC,GAAIr4D,KAAKk4B,KAAM,CACX,IAAMogC,EAAat4D,KAAKk4B,OACxB,OAAOogC,GAAcA,EAAWngC,YACpC,CACA,OAAOn4B,KAAKyB,IAChB,EAEAiO,QAAQyoD,MAAMlM,UAAUsM,YAAc,WAAY,WACxCC,EAAW,CAACx4D,MAalB,MAZA,CAAC,mBAAoB,gBAAgBmD,SAAQ,SAAA64B,GAEzC,IADA,IAAIvsB,EAAQ,EAAKusB,KACA,OAAVvsB,GAAgB,CACnB,IAAMwgC,EAAS,EAAKhoB,YACpB,GAAIgoB,GAAUA,EAAOltC,KAAO0M,EAAM1M,GAC9B,MAGJy1D,EAASx+C,KAAKvK,GACdA,EAAQA,EAAMusB,IAClB,CACJ,IACOw8B,CACX,EAEA9oD,QAAQyoD,MAAMlM,UAAUtf,eAAiB,SAAUlrC,GAC/C,OAAOzB,KAAKy4D,iBAAiBjoD,MAAK,SAAAs+C,GAAK,OAAIA,EAAMrtD,OAASA,CAAI,GAClE,EAEAiO,QAAQyoD,MAAMlM,UAAUyM,mBAAqB,SAAUC,EAAWC,GAC9D,IAAMC,EAAa74D,KAAK2sC,eAAegsB,GACvC,OAAIE,EACcA,EAAW3+B,cAAc0+B,GAGpC,IACX,EAEAlpD,QAAQyoD,MAAMlM,UAAUle,iBAAmB,SAAU4qB,EAAWC,GAC5D,IAAMC,EAAa74D,KAAK2sC,eAAegsB,GACvC,OAAOE,GAAcnpD,QAAQ8V,WAAW4D,YAAYyvC,EAAYD,EAAYlpD,QAAQ8V,WAAW2D,aACnG,EAEAzZ,QAAQyoD,MAAMlM,UAAUvqB,qBAAuB,SAAUo3B,GACrD,IACMC,EAAa/4D,KAAKizC,oBAAoB6lB,GAE5C,OAAIC,EACOA,EAAWR,cAJI,EAO9B,EAEA7oD,QAAQyoD,MAAMlM,UAAU1qB,6BAA+B,SAAUy3B,GAC7D,IAAMC,EAAuBj5D,KAAKizC,oBAAoB+lB,GAEtD,OAAIC,EACOA,EAAqBC,wBAGRl5D,KAAKgpB,SAASgwC,GACfpxC,UAC3B,EAMAlY,QAAQyoD,MAAMlM,UAAUkN,UAAY,WAChC,OAAQn5D,KAAKumB,QACjB,EAEA7W,QAAQyoD,MAAMlM,UAAUrU,eAAiB,SAAUn2C,GAE/C,IADA,IAAI23D,EAAcp5D,KAAKioB,YACA,OAAhBmxC,GAAsB,CACzB,GAAIA,EAAY33D,OAASA,EACrB,OAAO,EAEX23D,EAAcA,EAAYnxC,WAC9B,CACA,OAAO,CACX,EAEAvY,QAAQyoD,MAAMlM,UAAUrgB,aAAe,WAEnC,IADA,IAAIqE,EAASjwC,KAAKioB,YACA,OAAXgoB,GAAiB,CACpB,IAAMopB,EAAappB,EAAOhoB,YAC1B,IAAKoxC,EACD,OAAOppB,EAEXA,EAASopB,CACb,CACA,OAAO,IACX,EAEA3pD,QAAQyoD,MAAMmB,cAAgB,SAAUC,GAEpC,IAAMC,EAA0BvyD,OAAO2Z,KAAKlR,QAAQyoD,MAAMC,YAAY5nD,MAClE,SAAAipD,GAAU,OAAIF,EAAWG,YAAcD,CAAU,IAGrD,GAAID,EACA,OAAO9pD,QAAQyoD,MAAMC,WAAWoB,GAGpC,IAAM14D,EAAU,IAAI4O,QAAQiqD,QAAQ,CAAEt3C,MAAO,GAAF,OAAKX,EAAAA,EAAuB,YACjEk4C,EAAmB53C,SAASqK,cAAc,OAG1CwtC,EAAMnqD,QAAQoqD,WAAWF,EAAkB94D,GAC3CqgB,EAAYzR,QAAQqqD,qBAAqBF,EAAK/4D,GAAS,GAAO,GAE9Dk5D,EADQtqD,QAAQ0U,IAAI61C,WAAWV,EAAYp4C,GAC1B+4C,iBAIvB,OAFA/4C,EAAUyd,UACVlvB,QAAQyoD,MAAMC,WAAWmB,EAAWG,WAAaM,EAC1CA,CACX,EAEAtqD,QAAQyoD,MAAMlM,UAAUpmC,YAAc,WAClC,OAAO7d,EAAAA,EAAAA,WAAAA,SAA2BhI,KAAKyB,KAC3C,EAEAiO,QAAQyoD,MAAMlM,UAAUnmC,mBAAqB,WACzC,OAAO9d,EAAAA,EAAAA,kBAAAA,SAAkChI,KAAKyB,KAClD,EAMAiO,QAAQyoD,MAAMlM,UAAUrY,wBAA0B,WAI9C,IAHA,IAAIlrB,EACAyxC,EAAgBn6D,KAAKioB,YAElBkyC,GAAe,CAClB,IACMC,EADap6D,KAAK03C,eACS2iB,kBAAkBF,GAE/CC,GAAiBA,EAAcx0D,OAC/B8iB,EAAa0xC,EAAcx0D,MAG/Bu0D,EAAgBA,EAAclyC,WAClC,CAEA,OAAOS,CACX,EAKAhZ,QAAQyoD,MAAMlM,UAAUljC,8BAAgC,WASpD,OARiC,SAA3BuxC,EAA2BlyC,GAAY,OACzCA,EAAahO,MAAK,SAAAiO,GACd,IAAMkyC,EAAsBlyC,EAAY/B,qBAClCk0C,EAA4BF,EAAyBjyC,EAAYC,eAEvE,OAAOiyC,GAAuBC,CAClC,GAAE,CAECF,CAAyBt6D,KAAKsoB,cACzC,EAEA5Y,QAAQyoD,MAAMsC,UAAY,SAAUC,GAChC,MAAO,+CAA+C/tD,KAAK+tD,EAC/D,gDCjKAhrD,QAAQ+rB,YAAY2zB,qBAAuB,SAAU3/C,GASjD,MAPyB,CACrBjO,SAAQ,WACJkO,QAAQirD,WAAWlrD,EACvB,EACA2rB,SALapzB,EAAAA,EAAAA,uBAAAA,SAAuCyH,EAAMhO,MAM1DmM,MAAM/G,EAAAA,EAAAA,UAAS,aAGvB,EAUA6I,QAAQ+rB,YAAYm/B,gBAAkB,SAAUC,EAAIC,GAChD,MAAO,CACHltD,MAAM/G,EAAAA,EAAAA,UAAS,wBACfu0B,QAAS0/B,EAAe,EACxBt5D,SAAUq5D,EAAGr2C,QAAQlJ,KAAKu/C,GAElC,EAWAnrD,QAAQ+rB,YAAYs/B,iBAAmB,SAAUC,EAAmBC,GAChE,MAAO,CACH7/B,QAAS4/B,EACTptD,MAAM/G,EAAAA,EAAAA,UAAS,uBACfrF,SAAQ,WACJkO,QAAQ+rB,YAAYy/B,kBAAkBD,GAAW,EACrD,EAER,EAWAvrD,QAAQ+rB,YAAY0/B,eAAiB,SAAUC,EAAoBH,GAC/D,MAAO,CACH7/B,QAASggC,EACTxtD,MAAM/G,EAAAA,EAAAA,UAAS,qBACfrF,SAAQ,WACJkO,QAAQ+rB,YAAYy/B,kBAAkBD,GAAW,EACrD,EAER,EAUAvrD,QAAQ+rB,YAAYy/B,kBAAoB,SAAUG,EAAQC,GACtDD,EAAOl4D,SAAQ,SAAAsM,GAAK,OAAIA,EAAMga,aAAa6xC,EAAe,GAC9D,EAEA5rD,QAAQ+rB,YAAY8/B,eAAiB,SAAUV,EAAIQ,GAG/C,IAAMG,EAAc9rD,QAAQ+rD,aAAaC,iBAAiBL,GAGpDM,EAAeH,EAAYzlD,QAAO,SAAAtG,GAAK,OAAKA,EAAMgtC,UAAU,IAAE/0C,OAE9Dsc,EAActU,QAAQ+T,MAAMC,SAG5B8sC,EAAa,SAAbA,IACF9gD,QAAQwU,OAAOC,SAASH,GACxB,IAAMvU,EAAQ+rD,EAAYI,QAEtBnsD,IACIA,EAAM0R,WACN1R,EAAMmvB,SAAQ,GAAO,GACrBtqB,WAAWk8C,EATT,KAWFA,KAGR9gD,QAAQwU,OAAOC,UAAS,EAC5B,EAEA,MAAO,CACHvW,KACqB,IAAjB+tD,GACM90D,EAAAA,EAAAA,UAAS,iBACTA,EAAAA,EAAAA,UAAS,mCAAoC,CAAE80D,aAAAA,IACzDvgC,QAASugC,EAAe,EACxBn6D,SAAQ,WAIJ,GAHIq5D,EAAGgB,iBACHhB,EAAGgB,gBAAgBC,SAEnBH,EAAe,EACfnL,QACG,CACH,IAAMv1C,GAAMpU,EAAAA,EAAAA,UAAS,wCAAyC,CAAE80D,aAAAA,IAChEjsD,QAAQqsD,QAAQ9gD,GAAK,SAAA5M,GACbA,GACAmiD,GAER,GACJ,CACJ,EAER,EAUA9gD,QAAQ+rB,YAAY+zB,mBAAqB,SAAU//C,GAC/C,IAAMusD,EAAiB,CAAE5gC,SAAUlF,KAAKk7B,UAAU6K,IA8BlD,OA3BIxsD,EAAMysD,SACNF,EAAepuD,MAAO/G,EAAAA,EAAAA,UAAS,kBAC/Bm1D,EAAex6D,SAAW,WACtBiO,EAAM0sD,eAAe,KACzB,IAGAH,EAAepuD,MAAO/G,EAAAA,EAAAA,UAAS,eAC/Bm1D,EAAex6D,SAAW,WAEtB,IAAM46D,EAAe3sD,EAAMmgD,WAEvBwM,GACA3sD,EAAMga,cAAa,GAGvBha,EAAM0sD,eAAe,IAEjB1sD,EAAMmgD,aAAewM,GACrB3sD,EAAMga,aAAa2yC,EAK3B,GAGGJ,CACX,EASAtsD,QAAQ+rB,YAAY4zB,kBAAoB,SAAU5/C,GAC9C,IAAM4sD,EAAgB5sD,EACjB6sD,kBACAliD,MAAK,SAAAwN,GAAU,aAAIA,EAAWuoC,iBAA6C,QAA5B,EAACvoC,EAAW1B,wBAAgB,OAA3B,EAA6BC,aAAaupC,UAAS,IAYxG,MARsB,CAClBluD,SAAQ,WACJiO,EAAMmyB,QAAO,GACbnyB,EAAM8sD,OAAO,IAAK,IACtB,EACAnhC,QAPY3rB,EAAM4pC,cAAgBgjB,EAQlCzuD,MAAM/G,EAAAA,EAAAA,UAAS,gBAGvB,EASA6I,QAAQ+rB,YAAYk1B,mBAAqB,SAAUlhD,GAC/C,IAMM2rB,EANsB,SAAtBohC,EAAuB3E,GAA4B,QAApB4E,EAAa,UAAH,6CAAG,GAE9C,OADAA,EAAWziD,MAAM69C,EAAOtxC,UACI,QAArB,EAAAsxC,EAAO5xC,sBAAc,OAArB,EAAuBC,iBACxBs2C,EAAyC,QAAtB,EAAC3E,EAAO5xC,sBAAc,aAArB,EAAuBC,iBAAiBC,aAAcs2C,GAC1EA,EAAW17C,UAAS,EAC9B,CACgBy7C,CAAoB/sD,GAE9BsW,EAA2B,SAA3BA,EAA2B8xC,GAAU,MAEM,EAD7CA,EAAO7xC,aAAY,GACM,QAAzB,EAAI6xC,EAAO5xC,sBAAc,OAArB,EAAuBC,kBACvBH,EAA8C,QAAtB,EAAC8xC,EAAO5xC,sBAAc,aAArB,EAAuBC,iBAAiBC,aAEzE,EASA,MAP4B,CACxB3kB,SAAQ,WACJukB,EAAyBtW,EAC7B,EACA2rB,QAAAA,EACAxtB,MAAM/G,EAAAA,EAAAA,UAAS,iBAGvB,EASA6I,QAAQ+rB,YAAYi1B,kBAAoB,SAAUjhD,GAC9C,IASM2rB,EATuB,SAAvBshC,EAAwB7E,GAA6B,YAArB8E,EAAc,UAAH,6CAAG,GAChD,QAAI9E,EAAO7rB,qBAAgD,QAA1B,EAAC6rB,EAAO7rB,0BAAkB,QAAzB,EAA2BjrB,SAA8B,QAAtB,EAAC82C,EAAOjsB,sBAAc,aAArB,EAAuBnqC,UAG7Fk7D,EAAY3iD,KAAK69C,EAAOtxC,UACI,QAArB,EAAAsxC,EAAO5xC,sBAAc,OAArB,EAAuBC,iBACxBw2C,EAA0C,QAAtB,EAAC7E,EAAO5xC,sBAAc,aAArB,EAAuBC,iBAAiBC,aAAcw2C,GAC3EA,EAAY57C,UAAS,GAC/B,CACgB27C,CAAqBjtD,GAE/BmtD,EAA0B,SAA1BA,EAA0B/E,GAAU,QAIO,EAHxCA,EAAO7rB,qBAAsB6rB,EAAO7rB,mBAAmBjrB,SAA8B,QAAtB,EAAC82C,EAAOjsB,sBAAc,aAArB,EAAuBnqC,OACxFo2D,EAAO7xC,aAAY,GAEE,QAAzB,EAAI6xC,EAAO5xC,sBAAc,OAArB,EAAuBC,kBACvB02C,EAA6C,QAAtB,EAAC/E,EAAO5xC,sBAAc,aAArB,EAAuBC,iBAAiBC,aAExE,EASA,MAP2B,CACvB3kB,SAAQ,WACJo7D,EAAwBntD,EAC5B,EACA2rB,QAAAA,EACAxtB,MAAM/G,EAAAA,EAAAA,UAAS,gBAGvB,wBC1QA6I,QAAQmtD,aAAe,SAAU17C,GAC7B,IAAM27C,EAAoB37C,EAAU47C,mBAAmB,IACnDC,EAAU,GAQd,OALAttD,QAAQmtD,aAAaI,kBAAkBD,EAAS77C,GAGtC67C,EAAQz9B,OAAO7vB,QAAQmtD,aAAaxL,OAAOyL,EADjC,CAAC,gBAAiB,gBAAiB,gBAI3D,EAEAptD,QAAQmtD,aAAaxL,OAAS,SAAUyL,GACpC,IAAME,EAAU,GAChB,GAAIF,EAAkBp1D,OAAS,EAAG,CAC9B,IAAMw1D,EAAiC,SAAAC,GAMnC,MAHoB,yBAAH,OAA4BA,EAAc/iC,QAAO,2BAAmBlE,KAAKknC,OAAOC,WAC7FF,EAAc17D,MACjB,aAAKy0B,KAAKknC,OAAOC,WAAWF,EAAcv3D,MAAK,WAEpD,EAEM03D,EAAgBR,EAAkB,GAGxC,GAAIptD,QAAQgnB,OAAOsU,cAAe,CAC9B,IAAMuyB,EAAM7tD,QAAQgnB,OAAOkuB,YAAc,EAAI,GACvC4Y,EAAe,yCAAH,OAA4CD,EAAG,aAAKL,EAClEI,GACH,kBACKG,EAAW/tD,QAAQ0U,IAAIE,UAAUk5C,GAAcE,WACrDV,EAAQhjD,KAAKyjD,EACjB,CAaI/tD,QAAQgnB,OAAO+T,gBAEfqyB,EAAkBa,MACd,SAACC,EAAgBC,GAAe,OAC5Bf,EAAkBh/B,QAAQ+/B,GAAmBf,EAAkBh/B,QAAQ8/B,EAAe,IAG9Fd,EAAkB35D,SAAQ,SAAA21B,GACtB,IAAMglC,EAAe,oCAAH,OAAuCZ,EACrDpkC,GACH,kBACKilC,EAAWruD,QAAQ0U,IAAIE,UAAUw5C,GAAcJ,WACrDV,EAAQhjD,KAAK+jD,EACjB,IAER,CAEA,OAAOf,CACX,EAQAttD,QAAQmtD,aAAaI,kBAAoB,SAAUD,EAAS77C,GACxD,IAAM68C,EAAgB9nC,KAAKs/B,IAAIyI,UAAU,UACnCC,EAAehoC,KAAKs/B,IAAIyI,UAAU,SAGlCE,GAAct3D,EAAAA,EAAAA,UAAS,UACvBu3D,EAAe,kBACfC,GAAoBx3D,EAAAA,EAAAA,UAAS,qBAGnCm3D,EAAc/jC,aAAa,OAAQkkC,GACnCH,EAAc/jC,aAAa,YAAa,sBACxC+jC,EAAc/jC,aAAa,cAAemkC,GAG1CF,EAAajkC,aAAa,YAAa,iBACvCikC,EAAajkC,aAAa,OAAQ,YAClCikC,EAAajkC,aAAa,OAAQ,QAClCikC,EAAajkC,aAAa,cAAeokC,GAczCl9C,EAAUm9C,uBAAuBF,GAZhB,SAAUG,GACvB,IACMC,EADqBx8C,SAASy8C,cAAc,yCACdf,WAEZa,EAAOG,qBACfC,eAAeH,EAASnkD,MAAO,IAC/CmkD,EAASnkD,MAAQ,GAEE5E,EAAAA,EAAAA,SAAAA,OACZmpD,iBACX,IAIA5B,EAAQhjD,KAAKkkD,GACblB,EAAQhjD,KAAKgkD,EACjB,gBC5GAtuD,QAAQk0B,cAAcqoB,UAAUhf,cAAgB,SAAU4xB,GAAgC,WAAd/9D,EAAU,UAAH,6CAAG,CAAC,EAC/E4O,QAAQovD,YAAYC,aACpBrvD,QAAQovD,YAAYE,uBAGxBh/D,KAAKusC,eAAiBsyB,EAItB,IAAII,EAAiBj/D,KAAK8sC,WAEtBhsC,EAAQqsC,uBACR8xB,EAAiB,IAKrB,IAAMC,GAA+F,IAA3EL,EAAiB3kD,WAAU,SAAAmpB,GAAI,OAAIA,EAAK,KAAOviC,EAAQosC,aAAa,IAgB9F,IAdAiyB,EAAAA,EAAAA,KAAmB,WACf,EAAK1/B,SAAS,IAEVy/B,EACA,EAAKz/B,SAAS3+B,EAAQosC,eACf2xB,EAAiBn3D,OAAS,EAEjC,EAAK+3B,SAAS,EAAK8M,eAAe,GAAG,IAErC,EAAK9M,SAASw/B,EAEtB,KAGKn+D,EAAQs+D,uBAAyD,IAAjCt+D,EAAQs+D,qBAA+B,CACxE,IAAMp8C,EAAQ,IAAItT,QAAQwU,OAAOs+B,YAC7BxiD,KAAKmmB,aACL,QACAnmB,KAAK4F,KACLq5D,EACAj/D,KAAK8sC,YAET9pB,EAAM4a,YAAa,EACnB5a,EAAMmb,MAAQr9B,EAAQkjB,YACtBtU,QAAQwU,OAAOq2B,KAAKv3B,EACxB,CACJ,EAQAtT,QAAQk0B,cAAcqoB,UAAU5vC,KAAO,WACnC,IAAIrc,KAAKg1D,YAAT,CAOAh1D,KAAKq/D,WAAa,GAElBr/D,KAAKs/D,QAAU,EAEft/D,KAAKu/D,QAAU,GACfv/D,KAAKw/D,OAAS9vD,QAAQ+T,MAAMwxC,iBAAiB,QAAS,CAClD7pB,OAAQ,GAAF,OAAKprC,KAAKq/D,WAAU,MAC1Bl0B,MAAO,GAAF,OAAKnrC,KAAKq/D,WAAU,QAE7Br/D,KAAKw/D,OAAO3J,eACR,+BACA,aAAY,UACTnmD,QAAQkU,cAAc9iB,QAAQmxD,YAAW,4BAEhDjyD,KAAKo2D,YAAc,uBAEnBp2D,KAAKy/D,sBAAuB,EAE5B/vD,QAAQk0B,cAAc8qB,YAAYryC,KAAK+lC,KAAKpiD,MAEvCA,KAAKmmB,aAAas2B,aACnBz8C,KAAKs2D,KAAO5mD,QAAQ+T,MAAMwxC,iBACtB,OACA,CACIsB,GAAqC,EAAjC7mD,QAAQg8C,SAASI,cACrB0K,GAAqC,EAAjC9mD,QAAQg8C,SAASI,cACrBvkD,EAAG,EACHi3B,EAAG,EACH2M,MAAOnrC,KAAKo0D,MAAMjpB,MAClBC,OAAQprC,KAAKo0D,MAAMhpB,OACnBqrB,OAAQz2D,KAAKmmB,aAAaimC,oBAC1B,eAAgB,QAChBpiD,KAAMhK,KAAKmmB,aAAa6mC,qBACxB,eAAgB,GAEpB,MAEJhtD,KAAKg1D,YAAY0B,aAAa12D,KAAKs2D,KAAMt2D,KAAK22D,eAGlD,IAAM/oD,EAAO5N,KAAKypD,MAClBzpD,KAAKypD,MAAQ,KACbzpD,KAAKi5B,QAAQrrB,EA9Cb,CA+CJ,EAKA8B,QAAQk0B,cAAcqoB,UAAUtU,QAAU,WACtC,OAAsC,IAA/B33C,KAAKusC,eAAe7kC,SAAiB1H,KAAKusC,eAAe,GAAG,EACvE,EChDA78B,QAAQilD,MAAMl0C,SAAS,uBAnED,SAAhBi/C,IACF,IAAMC,EAAa,SAAAC,GAAU,OAAKA,GAAa/4D,EAAAA,EAAAA,UAAS,MAAOA,EAAAA,EAAAA,UAAS,IAAI,EAUtE+qD,EAAO,IAAIliD,QAAQ2nB,YAAW,EAAM,GAAI,GAAIsoC,GAAW,IATrC,WAChB3/D,KAAKmmB,aAAahF,UAAUrgB,QAAQ43B,UAAY14B,KAAKmmB,aAAawS,aAGtE34B,KAAK4/D,YAAc5/D,KAAK4/D,WACxB5/D,KAAKy/B,SAASz/B,KAAK4/D,YACnB5/D,KAAKi5B,QAAQ0mC,EAAW3/D,KAAK4/D,aACjC,IAuDA,OAlDAhO,EAAKgD,SAAW,WACZ,OAAO8K,GACX,EAIA9N,EAAKnyB,SAAW,SAAUplB,GACtB,IAAMulD,GAAuB,IAAVvlD,GAA4B,SAAVA,EAC/BwlD,EAAY7/D,KAAK8sC,WACvB9sC,KAAKo1D,KAAOwK,EAAa,OAAS,QAClC,IAAME,EAAiB9/D,KAAKg1D,YAExB8K,IACAp9D,MAAMC,KAAKm9D,EAAerN,UAAUtvD,SAAQ,SAAA48D,GAAU,OAAID,EAAeE,YAAYD,EAAW,IAGhGrwD,QAAQ+T,MAAMwxC,iBACV,OACA,CACIjrD,KAAMhK,KAAKmmB,aAAa6mC,qBACxB,YAAa,UACb5hB,OAAQprC,KAAKk0D,QACb/oB,MAAOnrC,KAAKm0D,OACZoC,GAAI,EACJE,OAAQz2D,KAAKmmB,aAAaimC,qBAE9B0T,GAGAF,GAEAlwD,QAAQ+T,MAAMwxC,iBACV,OACA,CACIjrD,KAAM,sBACN0C,EAAG,qGAEPozD,IAMR9/D,KAAKmmB,cAAgBzW,QAAQwU,OAAOi1C,aACpCzpD,QAAQwU,OAAOq2B,KACX,IAAI7qC,QAAQwU,OAAOs+B,YAAYxiD,KAAKmmB,aAAc,QAASnmB,KAAK4F,KAAMi6D,EAAW7/D,KAAK8sC,YAGlG,EAEO8kB,CACX,CAE+C8N,WC/D/ChwD,QAAQuwD,OAAOhU,UAAUsL,YAAc,SAAUv0C,EAAOk9C,GACpDxwD,QAAQwU,OAAO0V,UAEf,IAAMumC,EAAiBngE,KAAKo3D,iBACtBgJ,EAA4BD,EAAer9B,kBAEjDq9B,EAAeE,mBAAkB,GAEjC,IAAIC,EAAY,KAEhB,IACIA,EAAYtgE,KAAKugE,eAAev9C,EAAOk9C,GAEvCxwD,QAAQyX,WACZ,CAAE,QACEzX,QAAQwU,OAAO2V,QACnB,CAEA,IAAM2mC,EAAgB9wD,QAAQqpB,UAAU0nC,kBAAkBN,EAAgBC,GAEtE1wD,QAAQwU,OAAOi1C,cACfzpD,QAAQwU,OAAOC,UAAS,GAKpBnc,EAAAA,EAAAA,uBAAAA,SAAuCs4D,EAAU7+D,OACjD0+D,EAAe95C,eAAeljB,SAAQ,SAAAu9D,GAC9BA,EAASj/D,OAAS6+D,EAAU7+D,MAAQi/D,EAAS39D,KAAOu9D,EAAUv9D,IAC9D29D,EAAS9hC,SAEjB,IAIJ4hC,EAAcr9D,SAAQ,SAAAw9D,GAClBjxD,QAAQwU,OAAOq2B,KAAK,IAAI7qC,QAAQwU,OAAO08C,UAAUD,GACrD,IAEAjxD,QAAQwU,OAAOq2B,KAAK,IAAI7qC,QAAQwU,OAAOo2B,OAAOgmB,KAG9CtgE,KAAK6gE,WACL7gE,KAAK8gE,OAGT,IAAQ9V,EAAWv1C,EAAAA,EAAAA,SAAAA,OAMnB,OALAu1C,EAAO+V,mBAAkB,GACzB/V,EAAOuD,eAAc,GAErB+R,EAAU3nC,YAAa,EAEhB2nC,CACX,EASA5wD,QAAQuwD,OAAOhU,UAAUsU,eAAiB,SAAUv9C,EAAOg+C,GACvD,IAAMb,EAAiBngE,KAAKo3D,iBAG5B,IAFqB4J,EAAU9N,aAG3B,MAAM,IAAIptD,MAAM,8BAIpB,IAAMie,EAAMrU,QAAQ0U,IAAImsC,WAAWyQ,GAAW,GAI9Cb,EAAeE,mBAAkB,GAIjC,IAAM5wD,EAAQC,QAAQ0U,IAAI61C,WAAWl2C,EAAKo8C,GAG1C,IAFqB1wD,EAAMyjD,aAGvB,MAAM,IAAIptD,MAAM,0BAIpB,GAAIkd,EAAO,CAEP,IAAMi+C,EAAqBd,EAAee,0BAKpCC,EAAuB,IAAIjrC,KAAKm+B,KAAK+M,WACvCp+C,EAAMq+C,QAAUr+C,EAAMq+C,QAAU,EAChCr+C,EAAMs+C,QAAUt+C,EAAMs+C,QAJH,GACD,GAG+C,GAO/DC,EAHsBrrC,KAAKm+B,KAAK+M,WAAWI,WAAWL,EAAsBF,GAGjCQ,MAAM,EAAItB,EAAesB,OAE1EhyD,EAAM8sD,OAAOgF,EAAqBh6D,EAAGg6D,EAAqB/iC,EAC9D,CAEA,OAAO/uB,CACX,kCChHAC,QAAQwnB,WAAWwqC,eAAiB,SAAUvgD,GAC1C,IAAI67C,EAAU,GAEd,GAAIttD,QAAQgnB,OAAOC,uBAAwB,CAIvC,IAAMlnB,EAAQuS,SAASqK,cAAc,SACrC5c,EAAMwqB,aAAa,OAAQ,0BAC3BxqB,EAAMwqB,aAAa,MAAO,IAG1B,IAAM0nC,EAAY3/C,SAASqK,cAAc,SACzCs1C,EAAU1nC,aAAa,OAAQ,QAC/B0nC,EAAUh1C,YAAY3K,SAAS0c,gBAAe73B,EAAAA,EAAAA,UAAS,kBAEvD4I,EAAMkd,YAAYg1C,GAClB3E,EAAQhjD,KAAKvK,EACjB,CAEA,GAAIC,QAAQgnB,OAAOoG,qBAAsB,CAIrC,IAAMrtB,EAAQuS,SAASqK,cAAc,SACrC5c,EAAMwqB,aAAa,OAAQ,wBAC3BxqB,EAAMwqB,aAAa,MAAO,IAE1B,IAAM0nC,EAAY3/C,SAASqK,cAAc,SACzCs1C,EAAU1nC,aAAa,OAAQ,QAC/B0nC,EAAUh1C,YAAY3K,SAAS0c,gBAAe73B,EAAAA,EAAAA,UAAS,kBAEvD4I,EAAMkd,YAAYg1C,GAClB3E,EAAQhjD,KAAKvK,EACjB,CAEA,GAAIC,QAAQgnB,OAAO2J,oBAAqB,CAEpC,IAAM5wB,EAAQuS,SAASqK,cAAc,SACrC5c,EAAMwqB,aAAa,OAAQ,uBAC3BxqB,EAAMwqB,aAAa,MAAO,IAC1B+iC,EAAQhjD,KAAKvK,EACjB,CAEIutD,EAAQt1D,QAERs1D,EAAQA,EAAQt1D,OAAS,GAAGuyB,aAAa,MAAO,IAGpD,IAAM+E,EAAQtvB,QAAQwnB,WAAW0qC,cAAczgD,GAE/C,OADU67C,EAAQz9B,OAAO7vB,QAAQwnB,WAAW2qC,0BAA0B7iC,GAE1E,EAEAtvB,QAAQwnB,WAAW2qC,0BAA4B,SAAU7iC,GACrD,IAAIg+B,EAAU,GAER8E,EAAqB,SAACC,EAAeC,GACvC,IAAMj+C,EAAM,GAEZ,IAAKg+C,EACD,OAAOh+C,EAGX,IAFC,eAEQxb,GACL,IAAM3C,EAAOm8D,EAAcx5D,GAAG,GACxB5B,EAAOo7D,EAAcx5D,GAAG,GAOxBkH,EAAQuS,SAASqK,cAAc,SACrC5c,EAAMwqB,aAAa,OAAQ+nC,GAC3BvyD,EAAMwqB,aAAa,MAAO,IAE1B,IAAMwE,EAAWzc,SAASqK,cAAc,YACxCoS,EAASxE,aAAa,OAAQr0B,GAC9B6J,EAAMkd,YAAY8R,GAElB93B,EAAKxD,SAAQ,SAAAm4B,GACT,IAAMrf,EAAM+F,SAASqK,cAAc,OACnCpQ,EAAIge,aAAa,OAAQqB,GACzBmD,EAAS9R,YAAY1Q,EACzB,IAEA8H,EAAI/J,KAAKvK,EAAO,EAvBXlH,EAAI,EAAGA,EAAIw5D,EAAcr6D,OAAQa,IAAK,EAAtCA,GA0BT,OAAOwb,CACX,EAKA,OAHAi5C,EAAUA,EAAQz9B,OAAOuiC,EAAmB9iC,EAAM,GAAI,6BACpCO,OAAOuiC,EAAmB9iC,EAAM,GAAI,yBAG1D,EAQAtvB,QAAQwnB,WAAW+G,cAAgB,SAAUr4B,EAAMub,GAG/C,IADA,IAAMk6C,EAASl6C,EAAUyE,cAAa,GAC7Brd,EAAI,EAAGA,EAAI8yD,EAAO3zD,OAAQa,IAC/B,GAAI8yD,EAAO9yD,GAAGuyB,gBAAiB,CAC3B,IAAMkE,EAAQq8B,EAAO9yD,GAAGuyB,kBACxB,GAAIkE,GAAStvB,QAAQuvB,MAAMC,OAAOF,EAAM,GAAIp5B,GACxC,OAAOy1D,EAAO9yD,EAEtB,CAEJ,OAAO,IACX,EAIAmH,QAAQwnB,WAAW+qC,WAAa,SAAUr8D,EAAMub,EAAW+gD,GAGvD,OAFe/gD,EAAUkF,cAAa,GAExBjM,MAAK,SAAA3K,GACf,GAAIA,IAAUyyD,GAAczyD,EAAMqrB,gBAAiB,CAC/C,IAAMqnC,EAAW1yD,EAAMqrB,kBACvB,OAAOprB,QAAQuvB,MAAMC,OAAOijC,EAAS,GAAIv8D,EAC7C,CACA,OAAO,CACX,GACJ,EAQA8J,QAAQ0yD,iBAAiBnW,UAAUoW,KAAO,SAAUC,GAChD,IAAItiE,KAAKuiE,WAAWjqC,SAApB,CAIA,IAAMkqC,EAAUxiE,KAAKyiE,kBACfC,EAAQxsC,KAAKm+B,KAAK+M,WAAWj5D,IAAInI,KAAK2iE,eAAgBL,GAGxD/6D,EAAI0B,KAAK2qB,IAAI8uC,EAAMn7D,GAAIi7D,EAAQI,aAC/BpkC,EAAIv1B,KAAK2qB,IAAI8uC,EAAMlkC,GAAIgkC,EAAQK,YAEnCt7D,EAAI0B,KAAKq0C,IAAI/1C,EAAGi7D,EAAQM,UAAYN,EAAQI,YAAcJ,EAAQO,cAClEvkC,EAAIv1B,KAAKq0C,IAAI9e,EAAGgkC,EAAQQ,WAAaR,EAAQK,WAAaL,EAAQS,eAElE17D,GAAKA,EAAIi7D,EAAQI,YACjBpkC,GAAKA,EAAIgkC,EAAQK,WAEjB7iE,KAAKkjE,cAAc37D,EAAGi3B,EAftB,CAgBJ,0IClKA9uB,QAAQyzD,UAAUlX,UAAUmX,YAAc,GAM1C1zD,QAAQyzD,UAAUlX,UAAUxnC,UAAY,WACpCzkB,KAAKqjE,WAAW37D,OAAS,EACzB1H,KAAKsjE,WAAW57D,OAAS,EAEzB,IAAQujD,EAAYx1C,EAAAA,EAAAA,SAAAA,QAEpBw1C,EAAQsY,kBACRtY,EAAQuY,kBAGR9zD,QAAQwU,OAAOu/C,kBACnB,EAOA/zD,QAAQyzD,UAAUlX,UAAUyX,mBAAqB,SAAU1gD,GACvD,GAAIA,EAAM4a,WAAY,CAClB59B,KAAKqjE,WAAWrpD,KAAKgJ,GACrBhjB,KAAKsjE,WAAW57D,OAAS,EAErB1H,KAAKqjE,WAAW37D,OAAS1H,KAAK2jE,UAC9B3jE,KAAKqjE,WAAWO,UAGpB,IAAQ3Y,EAAYx1C,EAAAA,EAAAA,SAAAA,QAEpBw1C,EAAQsY,kBACRtY,EAAQuY,iBACZ,CAG0BxjE,KAAK6jE,WAAW//D,QAExBX,SAAQ,SAAA2gE,GACtBA,EAAS9gD,EACb,GAKJ,EAEAtT,QAAQyzD,UAAUlX,UAAUxf,wBAA0B,WAClD,OAAOzsC,KAAKqmB,cAAa,GAAM7V,MAAK,SAAA1I,GAAC,MAAe,qBAAXA,EAAErG,IAA2B,GAC1E,EAEAiO,QAAQyzD,UAAUlX,UAAU8X,kBAAoB,SAAUv0D,GAAiC,IAAvBw0D,EAAiB,UAAH,6CAAG,KAC3EC,EAAgB,IAAI14C,EAAAA,EAU1B,OARKvrB,KAAKojE,YAAYhpD,MAAK,SAAA4I,GAAK,OAAIA,EAAM0E,UAAYlY,GAAYwT,EAAMvhB,OAASuiE,CAAc,KAC3FhkE,KAAKojE,YAAYppD,KAAK,CAClB0N,QAASlY,EACTlL,QAAS2/D,EACTxiE,KAAMuiE,IAIPC,CACX,EAEAv0D,QAAQyzD,UAAUlX,UAAU8X,kBAAoB,SAAUjjE,GACtD,IAAQ45D,EAAoC55D,EAApC45D,WAAYwJ,EAAwBpjE,EAAxBojE,WAAYrjD,EAAY/f,EAAZ+f,QAC1Bvc,EAAU,IAAIinB,EAAAA,EAYpB,OAVAvrB,KAAKojE,YAAYppD,KAAK,CAAE0gD,WAAAA,EAAYwJ,WAAAA,EAAY5/D,QAAAA,IAE5Cuc,GACAvM,YAAW,WACHhQ,EAAQ6/D,WACR7/D,EAAQS,QAEhB,GAAG8b,GAGAvc,CACX,EAEAoL,QAAQyzD,UAAUlX,UAAU/oC,0BAA4B,SAAUF,GAAO,WACrEhjB,KAAKojE,YAAYjgE,SAAQ,SAACihE,EAAYxgB,GAClC,GAAK5gC,EAAM0E,QAAX,CAIA,IAAMjY,EAAQ,EAAKG,aAAaoT,EAAM0E,SAEtC,GAAIjY,EAAO,CACP,IAAM40D,EAAqBD,EAAW1J,aAAejrD,EAAMhO,KACrD6iE,EAA+C,OAA1BF,EAAWF,YAAuBE,EAAWF,aAAelhD,EAAMvhB,KAEzF4iE,GAAsBC,GACtBhwD,YAAW,WACP8vD,EAAW9/D,QAAQzD,UACnB,EAAKuiE,YAAYmB,OAAO3gB,EAAK,EACjC,GAAG,IAEX,CAdA,CAeJ,GACJ,EAEAl0C,QAAQyzD,UAAUlX,UAAUqF,aAAe,SAAUkT,GACjD,OAAOxkE,KAAKqmB,aAAam+C,GAAY58D,QAAO,SAAC68D,EAAQh1D,GAEjD,OADAA,EAAMkY,UAAUxkB,SAAQ,SAAA4I,GAAK,OAAI04D,EAAOzqD,KAAI,MAAXyqD,iDAAe14D,EAAM8d,ilBAAS,IACxD46C,CACX,GAAG,GACP,wBC1GA/0D,QAAQ+rD,aAAaxP,UAAUkH,aAAe,SAAUtxD,GAEhDA,aAAa6iE,YACbh1D,QAAQC,eAAeg1D,iBAAiBjgD,cAAc,IAAI7iB,EAAE+iE,YAAY/iE,EAAEJ,KAAMI,IAEpF,IAAMgjE,EAAU7kE,KAAK8kE,WAAWjjE,GAC5BgjE,GACAA,EAAQE,cAAcljE,EAAG7B,KAEjC,EAOA0P,QAAQ+rD,aAAaxP,UAAUvlC,cAAgB,SAAU3jB,GAAsB,IAAlBokB,IAAY,UAAH,+CAClE,GAAKnnB,KAAKglE,UAAV,CAMA,IAAMv1D,EAAQzP,KAAK4P,aAAa7M,GAChC,GAAK0M,EAAL,CAKA,IAAM2uB,EAAK3uB,EAAM4uB,yBAGX4mC,EAAcx1D,EAAMyqD,iBAGpBgL,EAAe9mC,EAAGI,EAAIymC,EAAY75B,OAAS,EAG3C7Y,EAAavyB,KAAKu+B,KAAO,EAAI,EAC7B4mC,EAAe/mC,EAAG72B,EAAKgrB,EAAa0yC,EAAY95B,MAAS,EAGzDs2B,EAAQzhE,KAAKyhE,MAIb2D,EAASD,EAAe1D,EACxB4D,EAASH,EAAezD,EAExBe,EAAUxiE,KAAKslE,aAIfC,EAAiBH,EAAS5C,EAAQI,YAClC4C,EAAiBH,EAAS7C,EAAQK,WAOlC4C,EAAkBF,EAJF/C,EAAQM,UAAY,EAKpC4C,EAAkBF,EAJDhD,EAAQQ,WAAa,EAMxC77C,GACAzX,QAAQyX,YAGZnnB,KAAKglE,UAAU/hE,IAAIwiE,EAAiBC,EA1CpC,CALA,MAFIl4D,QAAQ8b,KAAK,8CAkDrB,EASA5Z,QAAQ+rD,aAAaxP,UAAU0Z,aAAe,SAAUpM,GACpD,IAAQvO,EAAWv1C,EAAAA,EAAAA,SAAAA,OACbhG,EAAQC,QAAQ0U,IAAI61C,WAAWV,EAAYvO,EAAO4a,YAAYrD,YAC9DsD,EAAa7lE,KAAK4lB,cAAa,GAC/B06C,EAAYtV,EAAO4a,YAAYrO,aAAY,EAAO9nD,GAExD,GAAIo2D,EAAWn+D,OAAQ,CACnB,IAAMo+D,EAAaD,EAAWA,EAAWn+D,OAAS,GAC5Cq+D,EAAgBD,EAAWznC,yBAC3B2nC,EAAgBF,EAAWG,UAAYv2D,QAAQg8C,SAASwa,iBAAmB,EAC3E1nC,EAAIunC,EAAcvnC,EAAIsnC,EAAW5L,iBAAiB9uB,OAAS46B,EAAgB,GACjF1F,EAAU/D,OAAOwJ,EAAcx+D,EAAGi3B,EACtC,CAGA9uB,QAAQy2D,UAAU7F,EAAUn/C,WAC5BnhB,KAAK0mB,cAAc45C,EAAUv9D,IAAI,EACrC,EAOA2M,QAAQ+rD,aAAaxP,UAAUznC,QAAU,WAA8C,IAApCjd,EAAI,UAAH,6CAAG,EAAGi3B,EAAI,UAAH,6CAAG,EAAG4nC,EAAkB,UAAH,6CAAG,GAC/EpmE,KAAKqgE,mBAAkB,GACvB3wD,QAAQwU,OAAOC,SAASzU,QAAQwU,OAAO4a,aAAc,GAErD,IAAMunC,EAAuC,IAA3BD,EAAgB1+D,OAC5Bm+D,EAAaQ,EAAYD,EAAkBpmE,KAAK4lB,cAAa,GAC7D0gD,EAAcT,EACf9vD,QAAO,SAAAtG,GAAK,OAAIA,EAAMoW,aAAa,IACnC83C,MAAK,SAAC91D,EAAGC,GACN,IAAMy+D,EAAa,SAAA92D,GAAK,OAAIzH,EAAAA,EAAAA,WAAAA,WAA4B,SAAAw+D,GAAe,OAAIA,IAAoB/2D,EAAMhO,IAAI,GAAC,EAC1G,OAAO8kE,EAAW1+D,GAAK0+D,EAAWz+D,EACtC,IAEE2+D,EAAoBx9D,KAAKy9D,KAAKJ,EAAY5+D,OAD3B,GAGjBi/D,EAAoBnoC,EAExB,GAAI8nC,EAAY5+D,OAAQ,CACpB,IAAIk/D,EAAe,EAEnBN,EAAYnjE,SAAQ,SAACsM,EAAOuL,GACpBA,KAAW4rD,EAAe,GAAKH,IAC/BE,EAAoBnoC,EACpBooC,KAGJ,IAAMxoC,EAAK3uB,EAAM4uB,yBACXwoC,EAAWR,EAAY9+D,GAAK62B,EAAG72B,EAC/Bu/D,EAAWH,GAAqBN,EAAY,EAAIjoC,EAAGI,GAEzD,GAAqB,IAAjBooC,EACAn3D,EAAM8sD,OAAOsK,EAAUC,OACpB,OACGxqD,GAASsqD,EAAe,GAAKH,EAC7BM,EACsC,QADnB,EAAGT,EACvBxiE,MAAMwY,EAAOA,EAAQmqD,UAAkB,aADhB,EAEtB7+D,QAAO,SAACC,EAAGC,GAAC,OAAMD,EAAEqyD,iBAAiB/uB,MAAQrjC,EAAEoyD,iBAAiB/uB,MAAQtjC,EAAIC,CAAC,IAE/Ek/D,EAAaH,EAAWE,EAAoB7M,iBAAiB/uB,MAAQz7B,QAAQg8C,SAASub,YACrFZ,IACDW,GAAcD,EAAoB1oC,yBAAyB92B,GAG/DkI,EAAM8sD,OAAOyK,EAAYF,EAC7B,CAEAr3D,EAAMy3D,aAENP,EACIl3D,EAAM4uB,yBAAyBG,EAAI/uB,EAAMyqD,iBAAiB9uB,OAAS17B,QAAQg8C,SAASyb,WAC5F,IAEA,IAAMC,EAAoBd,EAAY1+D,QAAO,SAACC,EAAGC,GAG7C,OAFkBD,EAAEw2B,yBAAyBG,EAAI32B,EAAEqyD,iBAAiB9uB,OAClDtjC,EAAEu2B,yBAAyBG,EAAI12B,EAAEoyD,iBAAiB9uB,OACrCvjC,EAAIC,CACvC,IAEA6+D,EACIS,EAAkB/oC,yBAAyBG,EAC3C4oC,EAAkBlN,iBAAiB9uB,OACnC17B,QAAQg8C,SAASyb,WACzB,CAE4BtB,EAAW9vD,QAAO,SAAAtG,GAAK,OAAKA,EAAMoW,aAAa,IAEvD1iB,SAAQ,SAAAsM,GACxB,IAAM2uB,EAAK3uB,EAAM4uB,yBACXwoC,EAAWR,EAAY9+D,GAAK62B,EAAG72B,EAC/Bu/D,EAAWH,GAAqBN,EAAY,EAAIjoC,EAAGI,GAEzD/uB,EAAM8sD,OAAOsK,EAAUC,GACvBr3D,EAAMy3D,aAENP,EACIl3D,EAAM4uB,yBAAyBG,EAAI/uB,EAAMyqD,iBAAiB9uB,OAAS17B,QAAQg8C,SAASyb,WAC5F,IAEAz3D,QAAQwU,OAAOC,UAAS,GACxBnkB,KAAKqgE,mBAAkB,EAC3B,EA0BA3wD,QAAQ+rD,aAAa4L,6BAA+B,WAChD,IAAMC,EAAqB53D,QAAQ+rD,aAAa8L,iBAAiBvnE,KAAKwnE,UAChEC,EAAoB/3D,QAAQ+rD,aAAa8L,iBAAiBvnE,KAAK+2D,SAI/D2Q,EAAWh4D,QAAQi4D,QAAQ3nE,KAAK4nE,gBAElC5nE,KAAKwnE,WACDxnE,KAAK6nE,kBAAoBn4D,QAAQo4D,gBAAkB9nE,KAAK6nE,kBAAoBn4D,QAAQq4D,kBACpFL,EAASt8B,QAAUk8B,EAAmBl8B,OAEtCprC,KAAK6nE,kBAAoBn4D,QAAQs4D,iBACjChoE,KAAK6nE,kBAAoBn4D,QAAQu4D,mBAEjCP,EAASv8B,OAASm8B,EAAmBn8B,QAK7C,IAAM+8B,EAAqBx4D,QAAQ+rD,aAAa0M,sBAAsBnoE,KAAM0nE,GAExEU,EAAgB,EAChBC,EAAe,EA6BnB,OA3BIroE,KAAKwnE,UAAYxnE,KAAK6nE,kBAAoBn4D,QAAQs4D,kBAClDK,EAAe,GACfD,EAAgBd,EAAmBn8B,OAGnCnrC,KAAKwnE,UAAYxnE,KAAK6nE,kBAAoBn4D,QAAQo4D,iBAClDO,EAAef,EAAmBl8B,OAAS,IAG/B,CACZ63B,cAAeiF,EAAmB98B,OAClC23B,aAAcmF,EAAmB/8B,MACjC03B,WAAYqF,EAAmBI,IAC/B1F,YAAasF,EAAmBK,KAChCvF,WAAY0E,EAASt8B,OACrB03B,UAAW4E,EAASv8B,MACpBq9B,SAAUxoE,KAAKyoE,QACfC,UAAW1oE,KAAK2oE,QAChBC,YAAaP,EACbQ,aAAcT,EACdU,aAAcxB,EAAmBn8B,MACjC49B,cAAezB,EAAmBl8B,OAClC49B,YAAavB,EAAkBt8B,MAC/B89B,aAAcxB,EAAkBr8B,OAChCy8B,gBAAiB7nE,KAAK6nE,gBAI9B,EAMAn4D,QAAQ+rD,aAAaxP,UAAUid,MAAQ,SAAUC,GACxCnpE,KAAKmiD,WAINniD,KAAK67D,iBACL77D,KAAK67D,gBAAgBC,SAGe,YAApCqN,EAAUC,QAAQ1uC,cAClB16B,KAAKqpE,uBAAuBF,KAE5BG,EAAAA,EAAAA,IAAoBtpE,KAAMmpE,EAAUvuC,aAAa,SACjD56B,KAAKupE,YAAYJ,IAEzB,EAOAz5D,QAAQ+rD,aAAaxP,UAAU8C,iBAAmB,SAAUltD,GACxD,IAAI7B,KAAKc,QAAQ43B,WAAY14B,KAAKs4B,SAAlC,CAGA,IAAM22B,EAAe,GACf4W,EAAa7lE,KAAK4lB,cAAa,GAC/B4jD,EAAaxpE,KAAKqmB,cAAa,GAWrC,GARA4oC,EAAaj1C,KAAKtK,QAAQ+rB,YAAYguC,aAAazpE,OACnDivD,EAAaj1C,KAAKtK,QAAQ+rB,YAAYiuC,aAAa1pE,OAG/CA,KAAKglE,WACL/V,EAAaj1C,KAAKtK,QAAQ+rB,YAAYm/B,gBAAgB56D,KAAM6lE,EAAWn+D,SAGvE1H,KAAKc,QAAQ6uD,SAAU,CACvB,IAAMga,EAAuBH,EAAWpvD,MAAK,SAAA3K,GAAK,OAAIA,EAAMqZ,aAAa,IACnE8gD,EAAsBJ,EAAWpvD,MAAK,SAAA3K,GAAK,OAAKA,EAAMqZ,aAAa,IAEzEmmC,EAAaj1C,KAAKtK,QAAQ+rB,YAAY0/B,eAAewO,EAAsBH,IAC3Eva,EAAaj1C,KAAKtK,QAAQ+rB,YAAYs/B,iBAAiB6O,EAAqBJ,GAChF,CAGIxpE,KAAKc,QAAQyuD,UACbN,EAAaj1C,KAAKtK,QAAQ+rB,YAAYouC,uBAAuB7pE,KAAM6B,IAGvEotD,EAAaj1C,KAAKtK,QAAQ+rB,YAAY8/B,eAAev7D,KAAM6lE,IAE3Dn2D,QAAQ+rB,YAAYm1B,KAAK/uD,EAAGotD,EAAcjvD,KAAKu+B,IA7B/C,CA8BJ,EAMA7uB,QAAQ+rD,aAAaxP,UAAUrtB,QAAU,WAAuC,WACtEkrC,EAAY,WAEd,EAAK3nB,UAAW,EACZ,EAAK0Z,iBACL,EAAKA,gBAAgBC,SAEzBpsD,QAAQ+rD,aAAa/M,YAAY9vB,QAAQwjB,KAAK,GAC1C,EAAKqM,YACLv4B,KAAKs/B,IAAIC,WAAW,EAAKhH,WACzB,EAAKA,UAAY,MAErB,EAAKsb,gBAAkB,KACvB,EAAKC,iBAAmB,KACpB,EAAKxC,WACL,EAAKA,SAAS5oC,UACd,EAAK4oC,SAAW,MAEhB,EAAKzQ,UACL,EAAKA,QAAQn4B,UACb,EAAKm4B,QAAU,MAEf,EAAKz0C,WACL,EAAKA,SAASsc,UACd,EAAKtc,SAAW,MAEhB,EAAK0iD,YACL,EAAKA,UAAUpmC,UACf,EAAKomC,UAAY,MAEjB,EAAKiF,gBACL,EAAKA,cAAcrrC,UACnB,EAAKqrC,cAAgB,MAGrB,EAAKC,gBACL,EAAKA,cAActrC,UACnB,EAAKsrC,cAAgB,MAGrB,EAAKC,QACL,EAAKA,MAAMvrC,UACX,EAAKurC,MAAQ,MAGb,EAAKC,4BACL,EAAKA,0BAA4B,MAEjC,EAAKC,yBACL,EAAKA,uBAAyB,MAE7B,EAAKvpE,QAAQwpE,iBAGdp0C,KAAKs/B,IAAIC,WAAW,EAAKmS,eAAe5iD,YAExC,EAAKulD,wBACL76D,QAAQ86D,aAAa,EAAKD,uBAC1B,EAAKA,sBAAwB,KAErC,EAEA,GA9DqE,UAAH,8CA8DzC,CACrB,IAAQjf,EAAe71C,EAAAA,EAAAA,SAAAA,WACvB61C,GAAW,GAEXh3C,YAAW,WACPw1D,IACAxe,GAAW,EACf,GAAG,GACP,MACIwe,GAER,EAKAp6D,QAAQ+rD,aAAaxP,UAAUwe,WAAa,WAAY,WAC5Cnf,EAAe71C,EAAAA,EAAAA,SAAAA,WAGvB,OAFA61C,GAAW,GAEJ,IAAI1qD,SAAQ,SAAAC,GACf,EAAK6pE,QACLpf,GAAW,GACXzqD,GACJ,GACJ,wCCvaA6O,QAAQ2lD,QAAQsV,SAAW,GAE3Bj7D,QAAQ2lD,QAAQuV,MAAQ,WACpB,IAAIC,EAEJ,GADAn7D,QAAQ2lD,QAAQyV,KAAQp7D,QAAQ2lD,QAAQ0V,iBAAmBr7D,QAAQ2lD,QAAQ2V,SAAWt7D,QAAQ2lD,QAAQyV,MACjGp7D,QAAQ2lD,QAAQ4V,SAAU,CAE3B,IADAv7D,QAAQ2lD,QAAQyV,IAAII,UAAY,GAC3BL,EAASn7D,QAAQ2lD,QAAQ2V,SAASlzC,QAA2B,mBAAX+yC,GAAyBA,EAASA,KAEzFA,GADAA,EAASn7D,QAAQ+T,MAAM25C,OAAO+N,KAAKN,EAAQn7D,QAAQ2lD,QAAQ+V,QAC3C3+D,MAAM,OAEftJ,SAAQ,SAACkoE,EAAOrwD,GACnB,IAAMswD,EAAMtpD,SAASqK,cAAc,OAC7Bk/C,EAAYvpD,SAASqK,cAAc,QAMzC,GAJAk/C,EAAU5+C,YAAY3K,SAAS0c,eAAe2sC,IAC9CE,EAAUtqE,MAAMuqE,cAAgB,SAChC97D,QAAQ2lD,QAAQyV,IAAIn+C,YAAY2+C,GAE3BtwD,EASDuwD,EAAUtqE,MAAM8I,YAAc,WATtB,CACR,IAAM0hE,EAAMzpD,SAASqK,cAAc,OAC7Bq/C,EAAW1pD,SAASqK,cAAc,QACxCo/C,EAAIn/C,IAAM8J,EAAAA,GACVq1C,EAAIxqE,MAAM0qE,aAAe,MACzBF,EAAIxqE,MAAMuqE,cAAgB,SAC1BF,EAAI3+C,YAAY++C,GAChBA,EAAS/+C,YAAY8+C,EACzB,CAIAH,EAAI3+C,YAAY4+C,EACpB,IAEA,IAAMhkC,EAAY73B,QAAQ2lD,QAAQ2V,SAASzsC,IACrCqtC,EAAe5pD,SAAS6pD,gBAAgBC,YACxCC,EAAgB/pD,SAAS6pD,gBAAgBG,aAC3Ct8D,QAAQ2lD,QAAQyV,MAChBp7D,QAAQ2lD,QAAQyV,IAAI7pE,MAAMsmC,UAAYA,EAAY,MAAQ,OAE9D73B,QAAQ2lD,QAAQyV,IAAI7pE,MAAMyyB,QAAU,QACpChkB,QAAQ2lD,QAAQ4W,SAAU,EAC1B,IAAIC,EAASx8D,QAAQ2lD,QAAQ8W,OAC7BD,EAAS3kC,EACH2kC,GAAUx8D,QAAQ2lD,QAAQ+W,SAAW18D,QAAQ2lD,QAAQyV,IAAI5oD,aACzDgqD,EAASx8D,QAAQ2lD,QAAQ+W,SAC/B,IAAIC,EAAS38D,QAAQ2lD,QAAQiX,OAAS58D,QAAQ2lD,QAAQkX,SAClDF,EAAS38D,QAAQ2lD,QAAQyV,IAAI0B,aAAeT,EAAgB7lE,OAAOuiE,UACnE4D,GAAU38D,QAAQ2lD,QAAQyV,IAAI0B,aAAe,EAAI98D,QAAQ2lD,QAAQkX,UAEjEhlC,IACA2kC,EAASjjE,KAAKq0C,IAAI5tC,QAAQ2lD,QAAQoX,QAAUvmE,OAAOyiE,QAASuD,IAE5DA,EAASx8D,QAAQ2lD,QAAQyV,IAAI5oD,YAAc0pD,EAAe1lE,OAAOyiE,QAAU,EAAIj5D,QAAQ2lD,QAAQoX,UAC/FP,EAASN,EAAel8D,QAAQ2lD,QAAQyV,IAAI5oD,YAAc,EAAIxS,QAAQ2lD,QAAQoX,SAElF/8D,QAAQ2lD,QAAQyV,IAAI7pE,MAAMqnE,IAAM,GAAH,OAAM+D,EAAM,MACzC38D,QAAQ2lD,QAAQyV,IAAI7pE,MAAMsnE,KAAO,GAAH,OAAM2D,EAAM,KAC9C,CACJ,EAEAx8D,QAAQ2lD,QAAQyL,KAAO,WAAM,MACrBpxD,QAAQ2lD,QAAQ4W,SAAWv8D,QAAQ2lD,QAAQyV,MAC3Cp7D,QAAQ2lD,QAAQ4W,SAAU,EAC1B33D,YAAW,kBAAO5E,QAAQ2lD,QAAQyV,IAAI7pE,MAAMyyB,QAAU,MAAM,GAAGhkB,QAAQ2lD,QAAQsV,WAE/Ej7D,QAAQ2lD,QAAQqX,UAChBh0D,aAAahJ,QAAQ2lD,QAAQqX,UAIT,QAApB,EAACh9D,QAAQ2lD,QAAQyV,WAAG,OAAnB,EAAqB7pE,MAAMsmC,YAC5B73B,QAAQ2lD,QAAQ4W,SAAU,EAC1Bv8D,QAAQ2lD,QAAQyV,IAAI7pE,MAAMyyB,QAAU,OAE5C,aCjEAhkB,QAAQi9D,wBAA0B,SAAUC,EAAU9rE,EAAS+rE,EAAkBC,GAC7EhsE,EAAQwpE,gBAAkB,KAC1B,IAAM1mD,EAAgB,IAAIlU,QAAQ+rD,aAAa36D,EAAS+rE,EAAkBC,GAI1E,OAHAlpD,EAAc69C,MAAQ3gE,EAAQisE,YAAYtqD,WAC1CmqD,EAASjgD,YAAY/I,EAAcq6C,UAAU,0BAEtCr6C,CACX,aCbAlU,QAAQmiD,oBAAoB5F,UAAUC,aAAe,WAC7ClsD,KAAK++D,aACL/+D,KAAKgtE,QAAQC,UAAUjtE,KAAK63D,OAAOhL,YAE3C,aCRAn9C,QAAQ+T,MAAM25C,OAAS,CACnB+N,KAAMz7D,QAAQ+T,MAAM0nD,iBCHxBz7D,QAAQw9D,YAAYjhB,UAAU0S,eAAiB,SAAU/4D,EAAMunE,EAAUC,EAAQC,EAAcC,GAC3F,IAAIx0C,EAAW94B,KAAKutE,YAAY3nE,EAAMunE,GAEtC,GAAIr0C,EACA,OAAOA,EAGX,GAAIs0C,IACAt0C,EAAW94B,KAAKozC,gBAAgBg6B,IAG5B,OAAOt0C,EAIf,IAAM00C,EAAcJ,GAAU19D,QAAQ+T,MAAMC,SACtC+pD,EAAgBN,GAAY,GAYlC,OAVAr0C,EAAW,IAAIppB,QAAQg+D,cAAc1tE,KAAKmhB,UAAWvb,EAAM6nE,EAAeD,EAAaH,EAAcC,GAGhGttE,KAAK2tE,aAAaF,GAInBztE,KAAK2tE,aAAaF,GAAezzD,KAAK8e,GAHtC94B,KAAK2tE,aAAaF,GAAiB,CAAC30C,GAMjCA,CACX,aCpBAppB,QAAQqpB,UAAU60C,iBAAmB,SAAU/S,GAC3C,IAAMQ,EAASR,EAAGx0C,cAAa,GACzBwnD,EAAe5mE,OAAO6mE,OAAO,MAGnCzS,EAAOl4D,SAAQ,SAAAsM,GACX,IAAMs+D,EAAiBt+D,EAAMwrB,eACzB8yC,GACAA,EAAe5qE,SAAQ,SAAA6qE,GACnB,IAAMjrE,EAAKirE,EAAc5zC,QACrBr3B,IACA8qE,EAAa9qE,GAAMirE,EAE3B,GAER,IAGA,IAAMC,EAAe,GAKrB,OAJAhnE,OAAO2Z,KAAKitD,GAAc1qE,SAAQ,SAAAJ,GAC9BkrE,EAAaj0D,KAAK6zD,EAAa9qE,GACnC,IAEOkrE,CACX,EASAv+D,QAAQqpB,UAAU+C,yBAA2B,SAAUqhC,GAInD,IAAM71D,EAAQ0a,SAASqK,cAAc,SAErC/kB,EAAM2yB,aAAa,OAAQ,OAC3B3yB,EAAM2yB,aAAa,KAAMkjC,EAAc/iC,SACvC9yB,EAAM2yB,aAAa,eAAgBkjC,EAAc17D,MAEjD,IAAMmE,EAAOoc,SAAS0c,eAAey+B,EAAcv3D,MAEnD,OADA0B,EAAMqlB,YAAY/mB,GACX0B,CACX,aCvDAoI,QAAQw+D,eAAejiB,UAAUkiB,QAAU,WAAa,aCAxDz+D,QAAQ0U,IAAIgqD,WAAa,QACzB1+D,QAAQ0U,IAAIiqD,YAAc,SAC1B3+D,QAAQ0U,IAAIkqD,WAAa,QACzB5+D,QAAQ0U,IAAImqD,YAAc,SAC1B7+D,QAAQ0U,IAAIoqD,WAAa,+FCDZC,EAAS,SAAH,GAAiC,IAA3BlrE,EAAI,EAAJA,KAAMmrE,EAAQ,EAARA,SAAUjtE,EAAI,EAAJA,KAC/BktE,EAAO,IAAIC,KAAK,CAACrrE,GAAO,CAAE9B,KAAAA,IAChCotE,IAAAA,OAAiBF,EAAMD,EAC3B,EAEa1hC,EAAyB,SAAC18B,EAAeo8B,GAClD,IAAM2L,EAAcrwC,EAAAA,EAAAA,UAAiB0kC,EAAW2J,eAEhD,IAAKgC,EACD,OAAOrwC,EAAAA,EAAAA,+BAGX,IAAM8mE,EAAmBz2B,EAAYv1C,KAAI,SAAArB,GAAI,OAAIwF,OAAOgZ,QAAQxe,GAAM,GAAG0d,SAAS,IAGlF,MAAsB,SAAlB7O,EACOw+D,EAAiB/4D,QAAO,SAAAolB,GAAM,OAAIA,EAAO,KAAO7qB,CAAa,IAGjEw+D,CACX,s9BCnBA,IACqBC,EAAe,WAChC,0GAAc,SACV/uE,KAAKgvE,yBAA2B,CAAC,EACjChvE,KAAKmhB,UAAYnhB,KAAKivE,kBACtBjvE,KAAKkvE,oBAAsB,CAAC,CAChC,SAywBC,SAzwBA,iCAED,WAAiB,WACPC,EAA2B,SAAC5V,EAAYmB,EAAYxnB,EAAek8B,GACrE,IAAM3/D,EAAQ,EAAK0R,UAAUigB,SAASs5B,GAChC2U,EAAoB3sE,MAAMC,KAAK42D,EAAW9G,UAC1C6c,EAAeD,EAAkB7+D,MAAK,SAAAuvD,GAAU,MAAyC,aAArCA,EAAWqJ,QAAQ1uC,aAA4B,IAEzG,GAAI40C,EAAc,CACd,IAAMC,EAAeviE,SAASsiE,EAAa10C,aAAa,WAAa,EAErE,GAAI20C,EAAe,EAAG,CAGlB,IAAK,IAAIhnE,EAAI,EAAGA,EAAIgnE,EAAchnE,IAC9BkH,EAAMuxB,cAKVquC,EACKt5D,QAAO,SAAAgqD,GAAU,MAAyC,UAArCA,EAAWqJ,QAAQ1uC,aAAyB,IACjEv3B,SAAQ,SAAA48D,GACL,IAAMyP,EAAmBzP,EAAWnlC,aAAa,QAC3C60C,EAAoBziE,SAASwiE,EAAiBjjE,QAAQ,WAAY,KAExE7J,MAAMC,KAAKo9D,EAAWtN,UAAUtvD,SAAQ,SAAAusE,GACpC,IAAMC,EAAc,EAAKC,iBAAiBF,EAAkBjgE,GAGtD0xB,EAAkB1xB,EACnBiyB,qBAAqB,SACrBlxB,MAAK,SAAC1I,EAAGS,GAAC,OAAKknE,IAAsBlnE,CAAC,IACvB44B,EAAgBnY,SAASomD,GAEjCxnD,WAAW4Z,QAAQmuC,EAAYtrC,iBAC/C,IAEA07B,EAAW/6C,WAAWg7C,YAAYD,EACtC,GACR,CACJ,CAGA,IAAMjnC,EAAW,EAAK+2C,uBAAuB38B,GACvC48B,EAAiB,EAAK3uD,UAAUigB,SAAS,iBAK/C,OAHA0uC,EAAet3C,cAAcM,EAASsB,QAAS,OAC/C3qB,EAAM+oB,cAAcM,EAASsB,QAAS,YAE/B,CACH21C,gBAAiBD,EACjBE,iBAAkB,CAACvgE,GAE3B,EACMwgE,EAAyB,SAAC1W,EAAYmB,EAAYxnB,GACpD,IAAMzjC,EAAQ,EAAK0R,UAAUigB,SAASs5B,GAChCwV,EAA4B,CAC9BztC,WAAY,CAAC,CAAE0tC,IAAK,QAASC,IAAK,eAClCpiC,OAAQ,CAAC,CAAEmiC,IAAK,SAAUC,IAAK,WAC/BxhC,gBAAiB,CAAC,CAAEuhC,IAAK,kBAAmBC,IAAK,oBACjDthC,kBAAmB,CAEf,CAAEqhC,IAAK,aAAcC,IAAK,qBAC1B,CAAED,IAAK,oBAAqBC,IAAK,sBAErCvhC,gBAAiB,CAAC,CAAEshC,IAAK,kBAAmBC,IAAK,oBACjD7gC,sBAAuB,CAAC,CAAE4gC,IAAK,eAAgBC,IAAK,iBACpD1gC,wBAAyB,CAAC,CAAEygC,IAAK,iBAAkBC,IAAK,oBAI5D,OAAQ1V,GACJ,IAAK,eACL,IAAK,gBACD,IAAM2V,EAAiB5gE,EAAMunB,SAAS,iBAClCq5C,GACAA,EAAe5wC,SAAS,EAAKvF,cAAcq/B,EAAY,kBAE3D,MAEJ,IAAK,kBACD,IAAM+W,EAAmB7gE,EAAMunB,SAAS,mBACpCs5C,GACAA,EAAiB7wC,SAAS,EAAKvF,cAAcq/B,EAAY,qBASvC9pD,EAAMk+B,uBAAyB,IAEvCxqC,SAAQ,SAAAotE,GAC1B,IAAMloD,EAAc,EAAKlH,UAAUigB,SAASmvC,GACpB9gE,EAAM8xB,6BAA6B,aAE3CC,QAAQnZ,EAAYoZ,mBACxC,IAE4BhyB,EAAMiyB,qBAAqB,aAEnCv+B,SAAQ,SAAAqtE,GACxB,IAAMC,EAAsBP,EAA0BM,EAAmB/uE,MAErEgvE,GACAA,EAAoBttE,SAAQ,SAAAutE,GACxB,IAAMC,EAAWpX,EAAWkF,cAAc,eAAD,OAAgBiS,EAAmBP,IAAG,OAE/E,GAAIQ,EAAU,CACV,IAAMC,EAAcJ,EAAmBxnD,SAAS0nD,EAAkB,KAElEhuE,MAAMC,KAAKguE,EAASle,UAAUtvD,SAAQ,SAAA0tE,GAClC,IAAMC,EAAkB,EAAKlB,iBAAiBiB,EAAgBphE,GAGrC,WAFAohE,EAAezH,QAAQ1uC,eAG5Co2C,EAAgBl2B,WAAU,GAG9Bg2B,EAAYhpD,WAAW4Z,QAAQsvC,EAAgBzsC,iBACnD,IAEAssC,EAAS3rD,WAAWg7C,YAAY2Q,EACpC,CACJ,GAER,IAGA,IAAM73C,EAAW,EAAK+2C,uBAAuB38B,GACvC48B,EAAiB,EAAK3uD,UAAUigB,SAAS,iBAK/C,OAHA0uC,EAAet3C,cAAcM,EAASsB,QAAS,OAC/C3qB,EAAM+oB,cAAcM,EAASsB,QAAS,YAE/B,CACH21C,gBAAiBD,EACjBE,iBAAkB,CAACvgE,GAE3B,EACMf,EAAe,SAAC6qD,GAAuC,IAA3BwX,EAAiB,UAAH,8CACtCthE,EAAQ,EAAK0R,UAAUigB,SAAS,iCAChC4vC,EAAoBzX,EAI1B,GAAIwX,EACA,OAAO,EAGX,IAMM1B,EAAoB3sE,MAAMC,KAAKquE,EAAkBve,UAEnDwe,EAAiB,EACjBjzB,GAAiB,EAgCrB,OA9BAqxB,EACKt5D,QAAO,SAAAm7D,GAAgB,MAA+C,UAA3CA,EAAiB9H,QAAQ1uC,aAAyB,IAC7Ev3B,SAAQ,SAAA+tE,GACL,IAAM1B,EAAmB0B,EAAiBt2C,aAAa,QAE9B,kBAArB40C,GAA6D,wBAArBA,EACxCyB,IAC4B,eAArBzB,IACPxxB,GAAiB,EAEzB,IAEAizB,EAAiB,GACjBxhE,EAAMorC,oBAAoB,CACtBmC,kBAAkB,EAClBp6C,OAAQ,CAAC,GAAI,KAIjBo7C,GACAvuC,EAAM+qC,sBAAsB,CAAC,IA/BlB,CACX,oBACA,gBACA,yBACA,gCA8BGr3C,SAAQ,SAAAguE,GACX,IAAM7pE,EAAQmI,EAAMunB,SAASm6C,GACzB7pE,GACAA,EAAMm4B,SAAS,EAAKvF,cAAc82C,EAAmBG,GAE7D,IAEO,CAAEpB,gBAAiBtgE,EAC9B,EAgDA,MA/CoB,CAChBN,GAAI,SAAAoqD,GAAU,OAAI0W,EAAuB1W,EAAY,eAAgB,KAAK,EAC1EnqD,IAAK,SAAAmqD,GAAU,OAAI0W,EAAuB1W,EAAY,gBAAiB,MAAM,EAC7ExqD,IAAK,SAAAwqD,GAAU,OAAI0W,EAAuB1W,EAAY,gBAAiB,MAAM,EAC7EvqD,KAAM,SAAAuqD,GAAU,OAAI0W,EAAuB1W,EAAY,iBAAkB,OAAO,EAChF34B,kBAAmB,SAAA24B,GAAU,OACzB4V,EAAyB5V,EAAY,qBAAqB1yD,EAAAA,EAAAA,UAAS,QAAS,QAAQ,EACxFwI,MAAO,SAAAkqD,GAAU,OAAI0W,EAAuB1W,EAAY,kBAAmB,QAAQ,EACnFpiB,OAAQ,SAAAoiB,GAAU,OAAI7qD,EAAa6qD,EAAW,EAC9CtqD,IAAK,SAAAsqD,GAAU,OAAI0W,EAAuB1W,EAAY,gBAAiB,MAAM,EAC7ErqD,KAAM,SAAAqqD,GAAU,OAAI0W,EAAuB1W,EAAY,iBAAkB,OAAO,EAChF1qD,IAAK,SAAA0qD,GAAU,OAAI0W,EAAuB1W,EAAY,gBAAiB,MAAM,EAC7EzqD,KAAM,SAAAyqD,GAAU,OAAI0W,EAAuB1W,EAAY,iBAAkB,OAAO,EAChFxR,UAAW,SAAAwR,GAAU,OAAI4V,EAAyB5V,EAAY,aAAa1yD,EAAAA,EAAAA,UAAS,QAAS,OAAO,EACpGuqE,MAAO,SAAA7X,GACH,IAAM9pD,EAAQ,EAAK0R,UAAUigB,SAAS,oBAChCiwC,EAAe,CACjB56B,wBAAyB,CAAC,cAAe,iBAAkB,eAC3DoB,2BAA4B,CAAC,oBAAqB,kBAClDS,8BAA+B,CAAC,aAChCE,gCAAiC,CAAC,uBAClCC,gCAAiC,CAAC,wBAClCI,gCAAiC,CAAC,mBAGhCy4B,EAAoB,CAAC,EAiB3B,OAfArqE,OAAO2Z,KAAKywD,GAAcluE,SAAQ,SAAAouE,GAC9B,IAAMlpD,EAAc,EAAKlH,UAAUigB,SAASmwC,GAE5CF,EAAaE,GAAkBpuE,SAAQ,SAAAguE,GACnC9oD,EAAYmQ,cAAc,EAAK0B,cAAcq/B,EAAY4X,GAAaA,EAC1E,IAEAG,EAAkBC,GAAoBlpD,CAC1C,IAEAphB,OAAOrE,OAAO0uE,GAAmBnuE,SAAQ,SAAAklB,GACb5Y,EAAM8xB,6BAA6B,iBAC3CC,QAAQnZ,EAAYoZ,mBACxC,IAEO,CAAEsuC,gBAAiBtgE,EAC9B,EACAf,aAAAA,EAIR,GAEA,8BACA,WACI,IAAM8iE,EAAiB,GAKfz6B,EAAmBp1B,EAAAA,EAAAA,SAAAA,eAAAA,eACnBiK,EAAc5jB,EAAAA,EAAAA,UAYtB,OAVA+uC,EAAe5zC,SAAQ,SAAAsuE,GACnB,IAAMC,EAAcD,EAAc1wE,OAAO25B,cACpC82C,EAAezwD,SAAS2wD,IACzBF,EAAex3D,KAAK03D,EAE5B,IAGAzqE,OAAO2Z,KAAKgL,GAAWzoB,SAAQ,SAAA0oB,GAAc,OAAI2lD,EAAex3D,KAAK6R,EAAe,IAE7E2lD,CACX,GAEA,6BACA,WACI,IAAM1wE,EAAU,IAAI4O,QAAQiqD,QAAQ,CAAEt3C,MAAO,GAAF,OAAKX,EAAAA,EAAuB,YACjEk4C,EAAmB,IAAI+X,iBAG7B,OAFkBjiE,QAAQi9D,wBAAwB/S,EAAkB94D,GAAS,GAAO,EAGxF,GAEA,2BACA,SAAc8wE,EAAUT,GACpB,IAAMU,EAAWD,EAASnT,cAAc,eAAD,OAAgB0S,EAAU,OACjE,OAAOU,EAAWA,EAASC,YAAc,EAC7C,GAEA,kCACA,SAAqBriE,GACjB,IAAIsiE,EAA8BtiE,EAAMgyB,mBACpCuwC,EAAiBviE,EAAMwiE,mBAE3B,IAAKF,EACD,OAAOtiE,EAGX,KAAOuiE,GACCA,IAAmBviE,EAAMixB,qBAI7BqxC,EAA8BC,EAAevwC,mBAC7CuwC,EAAiBA,EAAeC,mBAGpC,OAAOF,EAA4B5rD,YACvC,GAEA,iCACA,SAAoBpC,GAChB,IAAMmuD,EAAiB,CACnBC,YAAa,CACTC,OAAQ,mBAEZC,kBAAmB,CACfC,UAAW,QACXC,WAAY,QACZC,aAAc,WAElBC,eAAgB,CACZC,SAAU,UACVC,eAAgB,iBAkBxB,OAdA1rE,OAAO2Z,KAAKsxD,GAAgB/uE,SAAQ,SAAAguE,GAChC,IAAMU,EAAW9tD,EAAI06C,cAAc,eAAD,OAAgB0S,EAAU,OAE5D,GAAIU,EAAU,CACV,IAAMx3D,EAAQw3D,EAASe,UAEvB3rE,OAAO2Z,KAAKsxD,EAAef,IAAahuE,SAAQ,SAAA0vE,GACxCx4D,IAAUw4D,IACVhB,EAASe,UAAYV,EAAef,GAAY0B,GAExD,GACJ,CACJ,IAEO9uD,CACX,GAAC,qDAED,WAII,IAAMyoB,EAAyBxsC,KAAKmhB,UAAUsrB,0BAE1CD,GACAA,EAAuB9K,qBAAqB,aAAav+B,SAAQ,SAAAsM,GAC7D,GAAmB,kCAAfA,EAAMhO,KAA0C,CAChD,IAAMomC,EAAkB2E,EAAuBjL,6BAA6B,kBAC5E9xB,EAAMmyB,QAAO,GACbiG,EAAgBrG,QAAQ/xB,EAAMgyB,mBAClC,CACJ,GAER,GAAC,oCAED,SAAuByR,GAInB,IAHA,IAAI4/B,EAAe5/B,EACf6/B,EAAU,EAEP9rE,OAAOrE,OAAO5C,KAAKkvE,qBAAqBnuD,SAAS+xD,IAEpDA,EAAe5/B,KADf6/B,EAIJ,IAAMC,EAActjE,QAAQqpB,UAAUC,2BAA2Bh5B,KAAKmhB,UAAW,GAAI2xD,EAAc,IAGnG,OAFA9yE,KAAKkvE,oBAAoB8D,EAAYC,KAAOH,EAErCE,CACX,GAAC,6BAED,SAAgBE,EAAeC,GAAgC,WAE3DzjE,QAAQwU,OAAO0V,UAGf,IAAM7V,EAAM/jB,KAAKozE,oBAAoBF,GAGrC,GAAIA,EAAcG,aAAa,YAAwD,SAA1CH,EAAct4C,aAAa,WAEpE,OADAlrB,QAAQwU,OAAO2V,SACR9V,EAOX,GAJ0B/jB,KAAKszE,mBAAmBl5D,MAC9C,SAAAm5D,GAAkB,QAAMxvD,EAAI06C,cAAc,eAAD,OAAgB8U,EAAkB,MAAK,IAQhF,OAJIJ,GACAA,IAEJzjE,QAAQwU,OAAO2V,SACRnqB,QAAQ0U,IAAIE,UAAU,WAGjC,IAAMkvD,EAAiB,GACjBC,EAAc,GAEpB/wE,MAAMC,KAAKohB,EAAI0uC,UAAUtvD,SAAQ,SAAAuwE,GAG7B,OAFiBA,EAAoBj5C,SAASC,eAG1C,IAAK,QACL,IAAK,SACD+4C,EAAYz5D,KAAK05D,GACjB,MAEJ,IAAK,YACDF,EAAex5D,KAAI,MAAnBw5D,iDAAuBE,EAAoBjhB,ilBAMvD,IAEA,IAAMkhB,EAAoB,SAAAC,GACtBA,EAAazwE,SAAQ,SAAA0wE,GACjB,IAAM1gC,EAAc0gC,EAAYj5C,aAAa,MACvCsY,EAAgB2gC,EAAY/B,YAElC,IAAK,EAAK5C,oBAAoB/7B,GAAc,CACxC,IAAMra,EAAWppB,QAAQqpB,UAAUC,2BAC/B,EAAK7X,UACLgyB,EACAD,EACA,IAEJ,EAAKg8B,oBAAoBp2C,EAASm6C,KAAOn6C,EAASlzB,IACtD,CACJ,GACJ,EAIA+tE,EAAkBH,GAIlBG,EAAkB5vD,EAAI+vD,iBAAiB,sBAEvCL,EAAYtwE,SAAQ,SAAAo2D,GAAU,OAAI,EAAKqW,iBAAiBrW,EAAW,IAInEtyD,OAAO2Z,KAAK5gB,KAAKgvE,0BAA0B7rE,SAAQ,SAAA4wE,GAC/C,IAAMC,EAAyB,EAAK7yD,UAAUvR,aAAamkE,GACrD3rD,EAAe,EAAK4mD,yBAAyB+E,GAC7CE,EAA8BD,EAAuBvyC,mBAE3D,GAAIwyC,EAA6B,CAC7B,IAAMC,EAAqCD,EAA4B/tD,iBACnEiuD,EAA8BF,EAUlC,GALA7rD,EAAajJ,UAAUhc,SAAQ,SAAAklB,GAC3B8rD,EAA4B3yC,QAAQnZ,EAAYpC,gBAChDkuD,EAA8B9rD,EAAYoZ,kBAC9C,IAEIyyC,EAAoC,CAKpC,IAHA,IAAInC,EAA8BiC,EAAuBvyC,mBACrDuwC,EAAiBgC,EAAuB/B,mBAErCD,GACCA,IAAmBA,EAAetxC,qBAItCqxC,EAA8BC,EAAevwC,mBAC7CuwC,EAAiBA,EAAeC,mBAGpCiC,EAAmC1yC,QAAQuwC,EAC/C,CACJ,CACJ,IAEA/xE,KAAKo0E,0CAELp0E,KAAKmhB,UAAUkF,cAAa,GAAMljB,SAAQ,SAAAsM,GACtCA,EAAM2pB,UACN3pB,EAAM4pB,QACV,IAEAr5B,KAAKmhB,UAAUqD,UAEf,IAAM6vD,EAAgB3kE,QAAQ0U,IAAIe,eAAenlB,KAAKmhB,WAYtD,OAVI+xD,EAAcG,aAAa,eAA8D,SAA7CH,EAAct4C,aAAa,eACvEy5C,EAAcp6C,aAAa,aAAc,QAG7Co6C,EAAcp6C,aAAa,UAAW,QAEtCj6B,KAAKmhB,UAAY,KAEjBzR,QAAQwU,OAAO2V,SAERw6C,CACX,GAAC,8BAED,SAAiBzC,GAA+B,WAArB5pD,EAAe,UAAH,6CAAG,KAChCssD,EAAct0E,KAAKu0E,iBACnB7Z,EAAakX,EAASh3C,aAAa,QACnC45C,EAAevtE,OAAO2Z,KAAK0zD,GAAavzD,SAAS25C,GACnDjrD,EAAQ,KAEN2sD,EAAewV,EAASh3C,aAAa,cAAuD,SAAvCg3C,EAASh3C,aAAa,aAC3E65C,EAAe7C,EAASh3C,aAAa,YAAmD,UAArCg3C,EAASh3C,aAAa,WACzE85C,EAAiB9C,EAASh3C,aAAa,cAAuD,UAAvCg3C,EAASh3C,aAAa,aAC7EhS,EAAcgpD,EAASh3C,aAAa,aAAqD,SAAtCg3C,EAASh3C,aAAa,YAEzE+5C,EAAqB,SAAA7sE,GACvBA,EAAE2hB,aAAa2yC,GACft0D,EAAEw5B,YAAYmzC,GACd3sE,EAAEinC,cAAc2lC,GAChB5sE,EAAEke,YAAY4C,EAClB,EAEA,GAAI4rD,EAAc,CACd,IAAMI,EAAiBN,EAAY5Z,GAAYkX,GAG3CgD,EAAe7E,kBACftgE,EAAQmlE,EAAe7E,gBACvB4E,EAAmBllE,IAInBuY,GAAgB4sD,EAAe5E,kBAC/B4E,EAAe5E,iBAAiB7sE,SAAQ,SAAAg+B,GAEpCwzC,EAAmBxzC,GAEnB,IAAM0zC,EAAsB,EAAKC,kCAAkC9sD,GAEnE,GAAI6sD,EAAqB,CACrB,IAAMhtD,EAAegtD,EAAoB1uD,aAEpC,EAAK6oD,yBAAyBnnD,EAAa9kB,MAC5C,EAAKisE,yBAAyBnnD,EAAa9kB,IAAM,IAGrD,EAAKisE,yBAAyBnnD,EAAa9kB,IAAIiX,KAAKmnB,EACxD,CACJ,GAER,MAGI,GAFuBl6B,OAAO2Z,KAAKlR,QAAQgnB,QAAQ3V,SAAS25C,KAGxDjrD,EAAQzP,KAAKmhB,UAAUigB,SAASs5B,GAChCia,EAAmBllE,GAKfA,GAAO,CACP,IAAM6/D,EAAe5sE,MAAMC,KAAKivE,EAASnf,UAAUjiD,MAC/C,SAAAuvD,GAAU,MAAyC,aAArCA,EAAWqJ,QAAQ1uC,aAA4B,IAG7D40C,GAAgB7/D,EAAMwZ,eACtBxZ,EAAMwZ,cAAcqmD,EAE5B,CAIR,OAAK7/D,GAODuY,IACAvY,EAAMslE,kBAAoB/sD,GAG9BtlB,MAAMC,KAAKivE,EAASnf,UAAUtvD,SAAQ,SAAA6xE,GAGlC,OAFiBA,EAAe5L,QAAQ1uC,eAGpC,IAAK,QACD,IAAMy2C,EAAa6D,EAAep6C,aAAa,QACzCtzB,EAAQmI,EAAMunB,SAASm6C,GAE7B,GAAI7pE,EACA,GAAIA,aAAiBoI,QAAQulE,cAAe,CACxC,IAAM9hC,EAAc6hC,EAAep6C,aAAa,MAC1CsY,EAAgB8hC,EAAepC,UAAUpmE,OACzCssB,EAAWppB,QAAQqpB,UAAUC,2BAC/B,EAAK7X,UACLgyB,EACAD,EACA,IAEJ,EAAKg8B,oBAAoBp2C,EAASm6C,KAAO//B,EACzC5rC,EAAMm4B,SAAS3G,EAASm6C,IAC5B,MACI3rE,EAAMm4B,SAASu1C,EAAepC,WAGtC,MAEJ,IAAK,QACD,EAAKsC,mBAAmBzlE,EAAOulE,GAC/B,MAEJ,IAAK,YACD,IAAMG,EAAiBH,EAAep6C,aAAa,QACnD,EAAKw6C,uBAAuB3lE,EAAO0lE,EAAgBH,GACnD,MAEJ,IAAK,OACD,IAAMK,EAAoBL,EAAeM,QAAQ,aAEjD,GAAID,EAAmB,CACnB,IAAMF,EAAiBE,EAAkBz6C,aAAa,QACtD,EAAKw6C,uBAAuB3lE,EAAO0lE,EAAgBH,EAAgBvlE,EAAMslE,kBAC7E,MAAWtlE,EAAMwW,gBACbvjB,MAAMC,KAAKqyE,EAAeviB,UAAUtvD,SAAQ,SAAAoyE,GACxC,IAAMC,EAAgB,EAAK5F,iBAAiB2F,GAC5C9lE,EAAMwW,eAAeub,QAAQg0C,EAAc/zC,mBAC/C,IAEJ,MAEJ,IAAK,UACD,IAAMg0C,EAAyD,SAA1CT,EAAep6C,aAAa,UAC3C86C,EAAeV,EAAepC,UAEpCnjE,EAAMysD,QAAU,IAAIxsD,QAAQmiD,oBAAoBpiD,EAAOimE,EAAc,KAAM,EAAG,EAAGD,GACjFhmE,EAAMysD,QAAQyZ,QAAU,CAAEpuE,EAAG,EAAGi3B,EAAG,GACnC/uB,EAAMysD,QAAQxK,YAAW,GAMrC,IAEOjiD,IAzEHjC,QAAQ8b,KAAK,4BAA6BoxC,IACnC,EAyEf,GAEA,gCACA,SAAmBjrD,EAAO+uD,GAAU,WAC1B91C,EAAa81C,EAAS5jC,aAAa,QACnC7uB,EAAQ0D,EAAMuZ,SAASN,GAE7B,IAAK3c,EAED,OADAyB,QAAQ8b,KAAK,2BAA4BZ,IAClC,EAMXhmB,MAAMC,KAAK67D,EAAS/L,UAAUtvD,SAAQ,SAAAyyE,GAClC,IAAMC,EAAoB,EAAKjG,iBAAiBgG,EAAsBnmE,GAEtE,IAAKomE,EAGD,OADAroE,QAAQ8b,KAAK,iBAAkBssD,EAAqBh7C,aAAa,UAC1D,EAKc,WADAg7C,EAAqBxM,QAAQ1uC,eAElDm7C,EAAkBj7B,WAAU,GAIhC7uC,EAAM6b,WAAW4Z,QAAQq0C,EAAkBxxC,iBAC/C,GACJ,GAEA,oCACA,SAAuB50B,EAAO0lE,EAAgBW,GAA+C,WACnFC,GAD6E,UAAH,6CAAG,OAC3CtmE,EAGxC,IAFcsmE,EAAa/sD,SAASmsD,GAIhC,OADA3nE,QAAQ8b,KAAK,+BAAgC6rD,IACtC,EAMXzyE,MAAMC,KAAKmzE,EAAsBrjB,UAAUtvD,SAAQ,SAAAyyE,GAC/C,IAAMC,EAAoB,EAAKjG,iBAAiBgG,EAAsBG,GACtE,IAAKF,EAGD,OADAroE,QAAQ8b,KAAK,kCAAmCssD,EAAqBh7C,aAAa,UAC3E,EAMX,IAAMo7C,EAAkBD,EAAa/sD,SAASmsD,GAE1Ca,GAAmBH,EAAkBp0C,oBACrCu0C,EAAgBpuD,WAAW4Z,QAAQq0C,EAAkBp0C,mBAE7D,GACJ,GAAC,+CAED,SAAkCw0C,GAI9B,GAAIjuE,EAAAA,EAAAA,0BAAAA,SAA0CiuE,EAAsBx0E,MAAO,CAGvE,GAAmC,IAFPw0E,EAAsBv0C,qBAAqB,SAE/Ch6B,OAAc,CAClC,IAAMqE,EAAQkqE,EAAsBjtD,SAAS,SACvC+qB,EAAgB/zC,KAAKmhB,UAAUigB,SAAS,iBAI9C,OAFAr1B,EAAM6b,WAAW4Z,QAAQuS,EAActS,oBAEhCsS,EAActS,kBACzB,CAEA,OAAOw0C,EAAsBhjC,oBAAoB,SAASxR,kBAC9D,CAKA,IAHA,IAAI04B,EAAgBn6D,KAAKk2E,qBAAqBD,GAC1CE,EAAyBn2E,KAAKo2E,qCAAqCjc,GAEhEgc,GAAwB,CAC3B,IAAME,EAAalc,EAAclyC,YAE7BouD,IACAlc,EAAgBkc,EAChBF,EAAyBn2E,KAAKo2E,qCAAqCjc,GAE3E,CAEA,OAAIA,EAAc14B,mBACP04B,EAAc14B,qBAGrBw0C,EAAsBlB,mBACf/0E,KAAK80E,kCAAkCmB,EAAsBlB,kBAI5E,GAAC,kDAED,SAAqCtlE,GACjC,IACMolE,EADc70E,KAAKk2E,qBAAqBzmE,GACNgyB,mBAExC,GAAIozC,EAAqB,CACrB,IAAMyB,EAAoBzB,EAAoB3uD,iBAE9C,GAAIowD,EAAmB,CACnB,IAAMzuD,EAAeyuD,EAAkBnwD,aACjCpa,EAAQ8b,EAAa0uD,uBAAuBD,GAC5Cz1C,EAAuBhZ,EAAagZ,sBAAwB,GAElE,GAAI90B,GAAS80B,EAAqB9f,SAAShV,EAAMnG,MAC7C,OAAO,CAEf,CACJ,CAEA,OAAO,CACX,2EAAC,EA9wB+B,whCCJpC,gnGAAA2C,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBASO,IAAMiuE,EAAsB,WAAM,MAG/B3yD,EAA+B,QAAtB,EAFQpO,EAAAA,EAAAA,SAAAA,WAEMghE,gBAAQ,QAAIzuE,EAAAA,EAAAA,kBAEzC,GAAIga,SAAS00D,MAAM54C,QAAQ,MAAQ,EAAG,CAClC,IAAM64C,EAAoB30D,SAAS00D,MAAME,OAAO50D,SAAS00D,MAAM54C,QAAQ,MACjE+4C,EAAqB70D,SAAS00D,MAAMnqE,QAAQoqE,EAAmB,KAAF,OAAO9yD,IAE1E7B,SAAS00D,MAAQG,CACrB,MACI70D,SAAS00D,OAAS,MAAJ,OAAU7yD,EAEhC,EAwBa4sC,EAAO,WAAyD,IAAxDie,EAAW,UAAH,6CAAG,aAAcoI,EAAa,UAAH,8CAAUC,EAAM,uCACpEA,EAAO98C,aAAa,UAAW,QAC/B88C,EAAO98C,aAAa,aAAc68C,EAAa,OAAS,SAExD,IAAMvzE,EAAOmM,QAAQ0U,IAAI4yD,gBAAgBD,IACzCtI,EAAAA,EAAAA,GAAO,CAAElrE,KAAAA,EAAM9B,KAAM,yBAA0BitE,SAAU,GAAF,OAAKA,EAAQ,SACxE,EAEauI,EAAO,SAAH,GAQX,IAPFC,EAAY,EAAZA,aACAC,EAAU,EAAVA,WACAtzD,EAAS,EAATA,UACAuzD,EAAW,EAAXA,YACAz0E,EAAI,EAAJA,KACAwe,EAAS,EAATA,UACAgyD,EAA8B,EAA9BA,+BAEQ7nB,EAAe71C,EAAAA,EAAAA,SAAAA,WACvB61C,GAAW,GAEXh3C,WAAU,YAAC,8FAS4E,GAR7E+iE,EAA2B,WAC7B/rB,GAAW,GACX,IAAM7kC,GAAgB5f,EAAAA,EAAAA,UAAS,wEAC/B/E,EAAAA,EAAAA,KAAoB,eAAgB2kB,EACxC,EAEA,WAEmB,IAAI6wD,WAAYC,gBAAgBL,EAAc,mBAElDM,qBAAqB,eAAe9vE,OAAQ,CAAF,wCAC1C2vE,KAA0B,gFAG9BA,KAA0B,kBAOjCtzD,EAAMrU,QAAQ0U,IAAIE,UAAU4yD,GAAc,4EAEnCG,KAA0B,QAQrC,GALMI,EAAkB,IAAI1I,EAC5BhrD,EAAM0zD,EAAgBC,gBAAgB3zD,EAAKovD,IAErCwE,EAAc5zD,EAAI+vD,iBAAiB,UAGxBpsE,OAAQ,CAAF,yCACZ2vE,KAA0B,QAOnC,IAHyB30E,MAAMC,KAAKg1E,GAAav9D,MAAK,SAAA3K,GACpD,IAAMirD,EAAajrD,EAAMmrB,aAAa,QACtC,OAAQ3zB,OAAO2Z,KAAKlR,QAAQgnB,QAAQ3V,SAAS25C,EACjD,IAEwB,CAAF,yCACX2c,KAA0B,QAW/B,GAX+B,UAI3BO,EAAgB7zD,EAAIsvD,aAAa,eAAoD,SAAnCtvD,EAAI6W,aAAa,cACnE5W,EAAc4zD,EAAgB,kBAAH,OAAqB/qE,KAAKoX,OAAK,mBAAiBpX,KAAKoX,OAEtFvU,QAAQwU,OAAOC,SAASH,IACxBslD,EAAAA,EAAAA,IACInoD,EACAze,MAAMC,KAAKg1E,GAAa70E,KAAI,SAAAqmE,GAAS,OAAIA,EAAUvuC,aAAa,OAAO,MAGvEg9C,EAAe,CAAF,gBACbC,EAAW9zD,EAAKozD,EAAYnzD,EAAa7C,GAAW,yCAE9C22D,EAAc/zD,EAAKC,EAAa7C,GAAU,QAEc,GAApCA,IAAczR,QAAQC,eACzB,CAAF,gBAKqD,OAJ/C8F,EAAAA,EAAAA,SAAAA,WAEZ8O,cAAcV,GACzB1C,EAAUsD,YACVtD,EAAUqC,oBAAsB4zD,GAAe1nE,QAAQ+T,MAAMC,SAAS,WAChEwB,EAAAA,EAAAA,IAAsBnB,EAAKphB,GAAK,QAM9Cwe,EAAUkF,eAAeljB,SAAQ,SAAAsM,GACzBA,EAAM8W,WACN9W,EAAMsoE,wBAAyB,EAEvC,IAEI52D,IAAczR,QAAQC,gBACtB7N,EAAAA,EAAAA,KAAoB,iBAAkB,CAAE0wC,SAAUh8B,EAAAA,GAAAA,aACrD,wBAEiB,OAFjB,2BAEDhJ,QAAQwK,MAAM,EAAD,IAAK,kBACXq/D,KAA0B,QAEf,OAFe,UAEjC/rB,GAAW,GAAO,+CAGf,GAAI,+EACZ,IACP,EAEausB,EAAa,SAAC9zD,EAAKozD,EAAYnzD,EAAa7C,GACrDzR,QAAQwU,OAAOC,SAASH,GAExB,IACMg0D,EADYtoE,QAAQ0U,IAAIC,eAAeN,EAAK5C,GACnBre,KAAI,SAAA0M,GAAQ,OAAI2R,EAAUvR,aAAaJ,EAAS,IAE3E2nE,GAAiD,IAAnClwE,OAAO2Z,KAAKu2D,GAAYzvE,OAtIjB,SAAC0+D,EAAiB+Q,EAAYh2D,GACvD,MAAqCg2D,GAAc,CAAC,EAAC,IAA7C9V,QAAAA,OAAO,IAAG,IAAC,MAAEC,QAAAA,OAAO,IAAG,IAAC,EAE1B2W,EAAkB92D,EAAUmkD,aAC5B4S,EAAqB,EAAI/2D,EAAUsgD,MACnC0W,EAAeF,EAAgBpP,aAAeoP,EAAgBvP,SAC9D0P,EAAcp2D,SAAS7T,KAAKq+D,aAAeyL,EAAgBjV,WAAaiV,EAAgBzP,QACxF3B,EAAWxF,GAAWA,EAAU8W,GAAgBD,EAAqB,EACrEpR,EAAWxF,GAAWA,EAAU8W,EANf,IAM+CF,EAAqB,EAE3F/2D,EAAUqD,QAAQqiD,EAAUC,EAAUV,EAC1C,CA4HQiS,CAAcL,EAAcb,EAAYh2D,GAExCA,EAAUqD,SAElB,EAEaszD,EAAa,6BAAG,WAAO/zD,EAAKC,EAAa7C,GAAS,iEACtB,OAArCzR,QAAQwU,OAAOC,SAASH,GAAa,SAC/B7C,EAAUspD,aAAY,OAC5B/6D,QAAQ0U,IAAIC,eAAeN,EAAK5C,GAAW,2CAC9C,gBAJyB,0CAsCboxB,EAAuB,SAAA9iC,GAEhC,OAAO,IAAI7O,SAAQ,SAACC,EAASkE,GACzB,IAAI8I,EAAM4B,EAAMyqB,cAAc,QAED,IAAzBrsB,EAAIiwB,QAAQ,UACZjwB,EAAM,UAAH,OAAaA,IAGpB,IACMyqE,EAAsD,MAArBzqE,EAAI/J,OAAO,GAAG,GAErD,IAAK+J,EAAIyf,MAHW,yBAGYgrD,EAC5B,OAAOvzE,GAAO8B,EAAAA,EAAAA,UAAS,+BAO3B,GAJIyxE,IACAzqE,GAAO,aAGP4B,EAAM6iC,WAAWzkC,GAEjB,OADA4B,EAAMuW,aAAY,GACXjhB,GAAO8B,EAAAA,EAAAA,UAAS,+BAG3B,IAAM0xE,EAAe,WAAH,OAASxzE,GAAO8B,EAAAA,EAAAA,UAAS,iDAAiD,EAE5FkH,MAAMF,GACDrJ,MAAK,SAAA4J,GACEA,EAASC,GACTD,EAASR,OAAOpJ,MAAK,SAAAg0E,IA9DZ,SAACA,EAAY/oE,GAEtC,OAAO,IAAI7O,SAAQ,SAACC,EAASkE,GACzB,IAAIgf,EAEJ,IACIA,EAAMrU,QAAQ0U,IAAIE,UAAUk0D,EAChC,CAAE,MAAOxgE,GACL,OAAOjT,GAAO8B,EAAAA,EAAAA,UAAS,4BAC3B,CAEA,IAC0Bkd,EAAIsvD,aAAa,eAAoD,SAAnCtvD,EAAI6W,aAAa,eAGrE71B,GAAO8B,EAAAA,EAAAA,UAAS,gDAGpB4xE,EAAqB10D,GAChBvf,MAAK,WACF9B,MAAMC,KAAKohB,EAAI0uC,UAAUtvD,SAAQ,SAAAyuE,GAAQ,OAAI8G,EAAc9G,EAAUniE,EAAM,IAC3E5O,GACJ,IAAE,OACK,WACHkE,GACJ,GACR,CAAE,MAAOlD,GACLkD,GAAO8B,EAAAA,EAAAA,UAAS,kCACpB,CACJ,GACJ,EAiCwB8xE,CAAqBH,EAAY/oE,GAC5BjL,MAAK,kBAAM3D,EAAQ4O,EAAM,IAAC,MACpB8oE,EACf,IAEAA,GAER,IAAE,MACKA,EACf,GACJ,EAEaE,EAAuB,SAAA10D,GAChC,OAAO,IAAInjB,SAAQ,SAACC,EAASkE,GACzB,IAAM6zE,EAAW,GAEjBl2E,MAAMC,KAAKohB,EAAI0uC,UAAUtvD,SAAQ,SAAAyuE,GAG7B,GAAmB,WAFAA,EAASh3C,aAAa,QAEZ,CACzBg3C,EAASiH,SACT,IAAM/mC,EAASpiC,QAAQ0U,IAAI61C,WAAW2X,EAAUliE,QAAQC,gBACxDipE,EAAS5+D,KAAKu4B,EAAqBT,GACvC,CACJ,IAEI8mC,EAASlxE,OACT9G,QAAQiC,IAAI+1E,GAAUp0E,KAAK3D,EAASkE,GAEpClE,EAAQ,GAEhB,GACJ,EAEa63E,EAAgB,SAAC9G,GAAkC,IAAxB5pD,EAAe,UAAH,6CAAG,KACnD,GAAuC,cAAnC4pD,EAASxI,QAAQ1uC,cACjB,OAAOhrB,QAAQ0U,IAAI00D,eAAelH,EAAUliE,QAAQC,gBAGxD,IAAM+qD,EAAakX,EAASh3C,aAAa,QACnCm+C,EAAmB,IAAIhK,EACvBze,EAAY5gD,QAAQ0U,IAAImsC,WAAWwoB,EAAiBnJ,iBAAiBgC,IAG3ElvE,MAAMC,KAAK2tD,EAAUknB,qBAAqB,QAAQr0E,SAAQ,SAAA61E,GAClDA,EAAG3F,aAAa,UAChB2F,EAAG/+C,aAAa,QAAS++C,EAAGp+C,aAAa,SAEjD,KAEA0uC,EAAAA,EAAAA,IAAoB55D,QAAQC,eAAgB+qD,GAE5C,IAAMjrD,EAAQC,QAAQ0U,IAAI61C,WAAW3J,EAAW5gD,QAAQC,gBAMxD,OAJIqY,GACAA,EAAa+pB,mBAAmB/3B,KAAKvK,GAGlCA,CACX,EAEasX,EAAuB,SAAA5F,GAChC,IAAM83D,EAAsB93D,EAAUkF,eAChCuvB,EAAmBz0B,EAAUkF,cAAa,GAAM7V,MAAK,SAAAf,GAAK,MAAmB,+BAAfA,EAAMhO,IAAqC,IAC/G,IAAKm0C,EAAkB,OAAO,EAC9B,IACMsjC,EACsB,eAFAtjC,EAAiB1b,cAAc,kBAEhB,8BAAgC,gCACnEnI,EAAwB/pB,EAAAA,EAAAA,oBAC1BmxE,EAAuB,CAACD,GAA4B,SAAKnnD,IACzDqnD,EAAkBH,EAAoBn2E,KAAI,SAAA2M,GAAK,OAAIA,EAAMhO,IAAI,IAGnE,OAFgC03E,EAAqBjyE,OAAM,SAAAwzD,GAAU,OAAI0e,EAAgBr4D,SAAS25C,EAAW,GAGjH,EAEa1zC,EAA6B,SAAA7F,GACtC,IAEM+3D,EACsB,eAHH/3D,EAAUkF,cAAa,GAAM7V,MAAK,SAAAf,GAAK,MAAmB,+BAAfA,EAAMhO,IAAqC,IAClEy4B,cAAc,kBAEhB,8BAAgC,gCACnEnI,EAAwB/pB,EAAAA,EAAAA,oBAC1BmxE,EAAuB,CAACD,GAA4B,SAAKnnD,IAEzDsnD,EAAuBl4D,EACxBkF,eACAtQ,QAAO,SAAAtG,GAAK,OAAKA,EAAM8W,QAAQ,IAC/BzjB,KAAI,SAAA2M,GAAK,OAAIA,EAAMhO,IAAI,IAE5B,OAAO03E,EAAqBjyE,OAAM,SAAAoyE,GAAa,OAAID,EAAqBt4D,SAASu4D,EAAc,GACnG,EAEaC,EAAkB,SAACp4D,EAAWq4D,EAAeC,EAAeC,GACrE,IAAMC,EAAax4D,EAAUmkD,aAEzBsU,EAAWD,EAAWjR,SAAWiR,EAAW/W,YAC5CiX,EAAWF,EAAWnR,QAAUmR,EAAW9W,WAE3C4W,GACAG,GAAYF,EAAmBF,GAAiBA,EAChDK,IAAa,KAEbD,IAAa,GACbC,GAAYH,EAAmBF,GAAiBA,GAGpDr4D,EAAU6jD,UAAU/hE,IAAI22E,EAAUC,EACtC,EAQa34C,EAAmB,SAAC44C,EAAoBC,EAAYC,GAC7D,IAAM77C,EAAS27C,GAAsBpqE,QAAQwU,OAAO4a,YAAek7C,IAAkB,EAErFtqE,QAAQwU,OAAOC,SAASga,GACxB47C,IAEKD,GACDpqE,QAAQwU,OAAOC,UAAS,EAEhC,EAOawd,EAAwB,SAAAo4C,GACjC,IAAQn8C,EAAeluB,QAAQwU,OAAvB0Z,WACRluB,QAAQwU,OAAO0Z,YAAa,EAE5Bm8C,IAEArqE,QAAQwU,OAAO0Z,WAAaA,CAChC,EAOauhC,EAAqB,SAAA4a,GAC9BrqE,QAAQwU,OAAO0V,UACfmgD,IACArqE,QAAQwU,OAAO2V,QACnB,EAEa5W,EAAuB,SAAC9B,EAAW6B,GACxCA,EAAMvhB,OAASiO,QAAQwU,OAAOkD,UAC9BjG,EAAUkF,eAAeljB,SAAQ,SAAAsM,GAC7B,GAAKA,EAAMwY,cAAexY,EAAMsoE,uBAAhC,CAIA,IAAM/rC,EAAqBv8B,EAAMu8B,oBAAsB,GACvD,GAAkC,IAA9BA,EAAmBtkC,OAAvB,CAIA,IAAMuyE,GAAkBjuC,EAAmB5xB,MAAK,SAAA61C,GAAiB,OAC7DxgD,EAAMmoC,eAAeqY,EAAkB,IAG3C/uB,GACI,GACA,WACIzxB,EAAMuW,YAAYi0D,EACtB,GACAj3D,EAAMmb,OAGVzuB,QAAQwU,OAAOC,UAAS,EAdxB,CALA,CAoBJ,GAER,EAEage,EAAqB,SAAAp2B,GAC9B,OAAQA,GAAmB,OAAVA,CACrB,EAGammD,EAAkB,SAAAgoB,GAC3B,IAAMt3E,EAASs3E,EAAWpxB,UAAU,GAC9BqxB,EAAMntE,SAASpK,EAAQ,IAK7B,MADa,OAHAu3E,GAAO,GAAM,KAGE,OAFbA,GAAO,EAAK,KAEkB,OAD/BA,GAAO,EAAK,KAEZ,GAClB,qUCpbA,gnGAAA5xE,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,2bAAAA,EAAA,iBAAAA,EAAA,EAAAA,IAAA,EAAAA,GAAA,EAAAA,GAAA,iCAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,sYACgD,IAE3B6xE,EAAa,WAC9B,WAAYvf,EAAIwf,GAAe,YAJnC,4FAImC,cAmP/BC,oBAAsB,SAACzb,EAAkB0b,GACrC,IAxPR,EAwPcz5E,EAxPd,+CAwP4B+9D,IAxP5B,gkBAsQQ,OAZA/9D,EAAQ68D,MAAK,SAAC91D,EAAGC,GACb,IAAM0yE,EAAcD,EAAWn4B,KAAK,EAAMv6C,EAAE,IACtC4yE,EAAcF,EAAWn4B,KAAK,EAAMt6C,EAAE,IAE5C,OAAI0yE,IAAgBC,EACT,EACAD,IAAgBC,EAChB,GAEH,CACZ,IAEO35E,CACX,EAlQId,KAAK+2C,eAAiB,GACtB/2C,KAAK06E,iBAAmB,GACxB16E,KAAK26E,iBAAmB,CAAC,YAAa,YAAa,YAAa,aAChE36E,KAAK46E,oBAAsB,CAAC,SAAU,aAAc,eACpD56E,KAAK66E,aAAe,IAAItvD,EAAAA,EACxBvrB,KAAK86E,gBAAiB,EACtB96E,KAAK+6E,kBAAoB,CAAC,EAC1B/6E,KAAKq6E,cAAgBA,EACrBr6E,KAAK66D,GAAKA,CACd,CAdJ,UAcK,EAuOA,OArPL,EAcK,EAdL,EAcK,qCAdL,EAcK,UAED,2GAAoD,OAAxBmgB,EAAmB,EAAH,8BAAQ,SAC1Ch7E,KAAKq6E,cAAcY,aAAY,UAEhCD,IAAoBh7E,KAAK86E,eAAc,gCAClC96E,KAAK66E,aAAY,gCAChB76E,KAAK+2C,gBAAc,OAGH,OAA3B/2C,KAAK86E,gBAAiB,EAAK,UAEM96E,KAAK66D,GAAGqgB,WAAWC,gBAAe,QAiBvC,OAjBuC,SAA3DpkC,EAAc,EAAdA,eAER/2C,KAAK+2C,eAAiBA,EACtB/2C,KAAK+6E,kBAAoB/6E,KAAKo7E,uBAC9Bp7E,KAAKq6E,cAAcgB,yBAA2B,SAAAC,GAC1Cr0E,OAAO2Z,KAAK06D,GAASn4E,SAAQ,SAAAuuE,GACzB,IAAM6J,EAAa,EAAKxkC,eAAe26B,GAEnC6J,IACAA,EAAWC,iBAAmBF,EAAQ5J,GAE9C,IAEA,EAAK4J,QAAUA,EACf,EAAKF,sBACT,EAEAp7E,KAAK66E,aAAah6E,UAAU,kBAErBb,KAAK+2C,gBAAc,gDA/B7B,EAdL,8KA8CK,+EAED,WAAuB,WACnB,OAAO/2C,KAAK+2C,eAAenvC,QAAO,SAACmzE,EAAmBh6E,GAClD,GACI,EAAK25E,iBAAiB35D,SAAShgB,EAAOo2C,SACtC,EAAKwjC,iBAAiB55D,SAAShgB,EAAOA,SACtC,EAAK65E,oBAAoB75D,SAAShgB,EAAOq2C,WAEzC,OAAO2jC,EAGX,IAAMU,EAAkB,SAACx1E,EAAQy1E,GAAI,OAAiE,IAA5Dz0E,OAAO2Z,KAAK3a,GAAQiU,WAAU,SAAArS,GAAC,OAAIA,IAAM9G,EAAO26E,EAAK,GAAQ,EAElGD,EAAgBV,EAAmB,YACpCA,EAAkBh6E,EAAOo2C,QAAU,CAC/Bhf,aAAcp3B,EAAO46E,oBACrBC,WAAY,CAAC,IAIrB,IAAQA,EAAeb,EAAkBh6E,EAAOo2C,QAAxCykC,WAEHH,EAAgBG,EAAY,eAC7BA,EAAW76E,EAAOq2C,WAAa,CAC3Bjf,aAAcp3B,EAAO86E,uBACrBC,QAAS,CAAC,IAIlB,IAAQA,EAAYF,EAAW76E,EAAOq2C,WAA9B0kC,QAUR,OARKL,EAAgBK,EAAS,YAC1BA,EAAQ/6E,EAAOA,QAAU,CACrBo3B,aAAcp3B,EAAOo3B,aACrB4jD,SAAU,UAAGh7E,EAAOi7E,KAAMt0E,OAAS,EACnCu0E,WAAYl7E,EAAOm7E,sBAAwBn7E,EAAOy6E,mBAInDT,CACX,GAAG,CAAC,EACR,GAEA,2BAIA,WAAsC,WAAxBoB,EAAiB,UAAH,8CAClBC,EAAc,GA6BpB,OA3BAn1E,OAAO2Z,KAAK5gB,KAAK+6E,mBAAmB53E,SAAQ,SAAAk5E,GACxC,IAAIF,IAAkB,EAAKG,eAAeD,GAA1C,CAIA,IAAMllC,EAAS,EAAK4jC,kBAAkBsB,GAC9BT,EAAezkC,EAAfykC,WAER30E,OAAO2Z,KAAKg7D,GAAYz4E,SAAQ,SAAAo5E,GAC5B,IAAMnlC,EAAYwkC,EAAWW,GACrBT,EAAY1kC,EAAZ0kC,QAER70E,OAAO2Z,KAAKk7D,GAAS34E,SAAQ,SAAAuuE,GACzB,IAAM3wE,EAAS+6E,EAAQpK,GAEvB0K,EAAYpiE,KAAK,CACbm9B,OAAQklC,EACRG,eAAgBrlC,EAAOhf,aACvBif,UAAWmlC,EACXE,kBAAmBrlC,EAAUjf,aAC7Bp3B,OAAQ2wE,EACRgL,eAAgB37E,EAAOo3B,cAE/B,GACJ,GArBA,CAsBJ,IAEOikD,CACX,GAAC,sCAED,WAA2B,WACjB/kC,EAAiB,GASvB,GAPApwC,OAAO2Z,KAAK5gB,KAAK+6E,mBAAmB53E,SAAQ,SAAAk5E,GACxC,IACMV,EADmB,EAAKZ,kBAAkBsB,GAAxClkD,cAEY,EAAKmkD,eAAeD,GAAe,IAAH,QAAOx1E,EAAAA,EAAAA,UAAS,aAAgB,IACpFwwC,EAAer9B,KAAK,CAAC2hE,EAAqBU,GAC9C,IAE8B,IAA1BhlC,EAAe3vC,OACf,OAAOM,EAAAA,EAAAA,+BAMX,GAJAqvC,EAAesmB,MAAK,SAAA91D,GAAC,MAAc,oBAATA,EAAE,IAA4B,EAAI,CAAC,IAElCwvC,EAAej9B,MAAK,SAAAuiE,GAAa,OAAI,EAAKL,eAAeK,EAAc,GAAG,IAE7E,CACpB,IAAMC,EAAiB58E,KAAKs6E,oBAAoBjjC,EAAgBr3C,KAAKs8E,gBAErE,OAAIt8E,KAAKs8E,eAAe,SACbM,EAAejf,MAAK,SAAA91D,GAAC,MAAc,oBAATA,EAAE,IAA4B,EAAI,CAAC,IAGjE+0E,CACX,CAEA,OAAOvlC,CACX,GAAC,yCAED,SAA4BF,GAAQ,WAC1B0lC,EAAoB,GACpBC,EAAa98E,KAAK+6E,kBAAkB5jC,GAE1C,GAAI2lC,EAAY,CACZ,IAAQlB,EAAekB,EAAflB,WAER30E,OAAO2Z,KAAKg7D,GAAYz4E,SAAQ,SAAAo5E,GAC5B,IACMV,EADmBD,EAAWW,GAA5BpkD,cAEY,EAAK4kD,kBAAkBR,GAAkB,IAAH,QAAO11E,EAAAA,EAAAA,UAAS,aAAgB,IAC1Fg2E,EAAkB7iE,KAAK,CAAC6hE,EAAwBU,GACpD,GACJ,CAEA,OAAiC,IAA7BM,EAAkBn1E,OACXM,EAAAA,EAAAA,gCAEI,oBAAXmvC,GACA0lC,EAAkBlf,MAAK,SAAA91D,GAAC,MAAc,iBAATA,EAAE,IAAyB,EAAI,CAAC,IAG1D7H,KAAKs6E,oBAAoBuC,EAAmB78E,KAAK+8E,mBAC5D,GAAC,sCAED,SAAyB3lC,GAAW,WAC1B4lC,EAAiB/1E,OAAO2Z,KAAK5gB,KAAK+6E,mBAAmBnzE,QAAO,SAACq1E,EAAaZ,GAC5E,IAAQT,EAAe,EAAKb,kBAAkBsB,GAAtCT,WAcR,OAZA30E,OAAO2Z,KAAKg7D,GAAYz4E,SAAQ,SAAAo5E,GAC5B,GAAIA,IAAmBnlC,EAAW,CAC9B,IAAQ0kC,EAAYF,EAAWW,GAAvBT,QACR70E,OAAO2Z,KAAKk7D,GAAS34E,SAAQ,SAAAuuE,GACzB,IACMwL,EADmBpB,EAAQpK,GAAzBv5C,cAEY,EAAKglD,eAAezL,GAAe,IAAH,QAAO7qE,EAAAA,EAAAA,UAAS,aAAgB,IACpFo2E,EAAYjjE,KAAK,CAACkjE,EAAqBxL,GAC3C,GACJ,CACJ,IAEOuL,CACX,GAAG,IAEH,OAA8B,IAA1BD,EAAet1E,OACRM,EAAAA,EAAAA,+BAGJhI,KAAKs6E,oBAAoB0C,EAAgBh9E,KAAKm9E,eACzD,GAAC,4BAED,SAAed,GAAa,WAClBllC,EAASn3C,KAAK+6E,kBAAkBsB,GAEtC,OAAKllC,GAIElwC,OAAO2Z,KAAKu2B,EAAOykC,YAAY10E,OAAM,SAAAq1E,GAAc,OAAI,EAAKQ,kBAAkBR,EAAe,GACxG,GAAC,+BAED,SAAkBA,GAAgB,WACxBF,EAAcp1E,OAAO2Z,KAAK5gB,KAAK+6E,mBAAmBvqE,MAAK,SAAA5K,GACzD,IAAMuxC,EAAS,EAAK4jC,kBAAkBn1E,GACtC,OAAOqB,OAAO2Z,KAAKu2B,EAAOykC,YAAY76D,SAASw7D,EACnD,IAEA,IAAKF,EACD,OAAO,EAGX,IACMjlC,EADSp3C,KAAK+6E,kBAAkBsB,GACbT,WAAWW,GAEpC,IAAKnlC,EACD,OAAO,EAGX,IAAQ0kC,EAAY1kC,EAAZ0kC,QACR,OAAO70E,OAAO2Z,KAAKk7D,GAAS50E,OAAM,SAAAwqE,GAAW,OAAI,EAAKyL,eAAezL,EAAY,GACrF,GAAC,4BAED,SAAeA,GACX,OAAO1xE,KAAK+2C,eAAe38B,MACvB,SAAAq3D,GAAa,OACTA,EAAc1wE,SAAW2wE,KACvBD,EAAc+J,kBAAoB/J,EAAcyK,qBAAqB,GAEnF,IArPJ,uEAqPK,EAlP6B,gHCSrBkB,EAAa,WACtB,IAAMC,EAAWC,aAAaC,QAAQ,kBACtC,OAAIF,GAAyB,SAAbA,EAA4BA,EACrC,IACX,qPChBA,gnGAAA90E,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,0lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,sYACyE,IAkI5DxI,EAAW,IAhIX,oCAHb,4FAGa,cACT+qB,SAAG,OACHlkB,WAAK,OACL42E,gBAAU,OACVC,UAAY,CAAC,EAAC,KACdC,aAAe,CAAC,EAAC,KACjBC,YAAa,EAAK,KAClBr9E,cAAgB,GAAE,KAClBs9E,cAAgB,KAAI,KACpBC,mBAAoB,EAAK,KAkCzBC,wBAA0B,WAEtBtwE,QAAQ+I,IAAI,qBAAsB,EAAKuU,IAAIlD,WAAWm2D,YACf,IAAnC,EAAKjzD,IAAIlD,WAAWm2D,aAEpBvwE,QAAQ+I,IAAI,mEACZ,EAAK8F,OAEb,EAAC,KA8BD2hE,iBAAgB,YAAG,+EACfh7E,EAAAA,EAAAA,KAAY,kBAAM,EAAK8nB,IAAIO,KAAK,CAAE0rB,eAAgB,SAAU,IAAEvyC,MAAK,YAA6B,QAA1BuyC,eAAAA,OAAc,IAAG,KAAE,EAC/E0mC,EAAY,CAAC,EACf1mC,EAAervC,SAAQ,EAAKm2E,mBAAoB,GACpD9mC,EAAe5zC,SAAQ,YAAqB,IAAlBpC,EAAM,EAANA,OAAQi7E,EAAG,EAAHA,IAC9ByB,EAAU18E,MAAai7E,GAAKiC,gBAAgBn1B,UAAU,EAC1D,IACA,EAAK20B,UAAYA,EACjB,EAAKS,iBAAgB,EACzB,IAAG,2CACN,KAEDA,gBAAkB,SAAAC,GACd,IAAMC,EAAap8D,SAASy8C,cAAc,6BACrC2f,IACLA,EAAW73D,SAAW43D,EAC1B,CAAC,CApGL,QAgIK,OAhIL,EAoGK,EApGL,EAoGK,mBAtFD,WAA2B,IDVrBE,EACAC,ECSDC,EAAe,UAAH,8CACTnB,MACAp9E,KAAKk+E,iBAAgB,GACjBK,GAAcv+E,KAAKw+E,YACvBx+E,KAAK8qB,KDdPuzD,EAAa,SAAH,QAAYI,EAAAA,EAAAA,gBAAc,kCAAyBC,EAAAA,EAAAA,YAAU,eAAMC,EAAAA,EAAAA,eAAa,kBAAUC,EAAAA,aAAAA,eACpGN,EAAe,IAAIO,UAAUR,GACjB,IAAIS,IAAJ,CAAkB,CAChCl3D,WAAY02D,KCYRt+E,KAAK++E,qBACL/+E,KAAKg/E,wBACDh/E,KAAK49E,eAAeqB,cAAcj/E,KAAK49E,eAC3C59E,KAAK49E,cAAgB,KACrB59E,KAAK+M,UAEb,GAAC,uBAED,WAEIS,QAAQ+I,IAAI,yBACRvW,KAAK8qB,KAAK9qB,KAAK8qB,IAAIo0D,YAC3B,GAAC,gCAED,WACQh5E,SACAA,OAAO0e,iBAAiB,SAAU5kB,KAAK89E,yBACvC53E,OAAO0e,iBAAiB,QAAS5kB,KAAK89E,yBAE9C,GAAC,+BAED,SAAkBN,GACVx9E,KAAKw9E,aAAeA,GACpBx9E,KAAKqc,MAAK,EAElB,GAAC,mCAYD,WAAwB,IDrClB8iE,EACAC,EACAC,ECmCkB,OACpB,GDtCEF,EAAiB/B,IAGhB,CACHx2E,OAAOy4E,OAFLA,GADAD,EAAkBh7E,KAAKiB,MAAMi4E,aAAaC,QAAQ,0BAAuBz4E,IACpCs6E,EAAgBD,IAAoB,CAAC,QAEvD,EAAdE,EAAgBz4E,aAAS9B,EAChC04E,WAAY2B,QAAkBr6E,ICiCtB8B,EAAK,EAALA,MAAO42E,EAAU,EAAVA,WACX52E,IACA5G,KAAK4G,MAAQA,EACb5G,KAAKw9E,WAAaA,EAClBx9E,KAAK8qB,IACAw0D,UAAUt/E,KAAK4G,OACfpC,MAAK,YAAmB,IAAhB86E,EAAS,EAATA,UACD,EAAKzB,kBACL,EAAKK,iBAAgB,GAErB,EAAKF,mBAET,EAAK36E,YACL,EAAKq6E,aAAe4B,CACxB,IAAE,OACK,SAAAz9E,GACHC,EAAAA,EAAAA,KAAoB,QAASD,EACjC,IAEZ,GAAC,uBAED,WAAY,YACRmB,EAAAA,EAAAA,KAAY,kBAAM,EAAK8nB,IAAIO,KAAK,CAAElW,QAAS,EAAG9R,UAAW,GAAI,KAC7DL,EAAAA,EAAAA,KAAY,kBAAM,EAAK8nB,IAAIO,KAAK,CAAEjX,YAAa,EAAG/Q,UAAW,GAAI,KACjEL,EAAAA,EAAAA,KAAY,kBAAM,EAAK8nB,IAAIO,KAAK,CAAE1W,uBAAwB,EAAGtR,UAAW,GAAI,GAChF,GAAC,0BAoBD,WAA6B,IAAhB86E,EAAS,UAAH,8CACfn+E,KAAK29E,WAAaQ,CACtB,GAAC,8BAED,SAAiB17E,GACbzC,KAAKM,cAAc0Z,KAAKvX,EAC5B,GAAC,gCAED,WAAqB,MACjBzC,KAAKM,cAAc6C,SAAQ,SAAAo8E,GAAC,OAAIA,EAAEnsE,aAAa,IAC/CpT,KAAKM,cAAgB,IAG6C,QAA7C,EAAGwB,EAAAA,EAAAA,SAAwB,0BAAkB,QAAI,IAEtDqB,SAAQ,SAACq8E,EAAGj3E,GACxBmQ,aAAanQ,EACjB,GACJ,GAAC,qBAED,WAAU,WACDvI,KAAK49E,gBACN59E,KAAK49E,cAAgBzyD,aAAY,WAC7B,EAAKL,IAAIO,KAAK,CAAEo0D,KAAM,GAC1B,GAAG,KAEX,IAhIJ,uEAgIK,EA7HQ,2vBCJQC,EAAa,WAC9B,WAAY1sE,gGAAO,SACfhT,KAAK66D,GAAK7nD,EAAM6nD,EACpB,SAUC,SAVA,uCACD,WAA2F,IAAtElsD,EAAW,UAAH,6CAAG,MAAOssC,EAA4B,UAAH,6CAAG,MAAOvB,EAAe,uCACrF,OAAO15C,KAAK66D,GACPxvC,KAAK,CACFs0D,wBAAyB1kC,IAE5Bz2C,MAAK,SAAAo7E,GAAmB,MACfC,EAAkBD,SAAwC,QAAzB,EAAfA,EAAiBD,+BAAuB,WAAzB,EAAf,EAA0CE,gBAAgBnmC,GAClF,OAAOmmC,EAAkBA,EAAgBlxE,GAAY,CAAC,CAC1D,GACR,2EAAC,EAb6B,sqBCGW,IAEvCgT,EAAU,WAGZ,WAAYL,gGAAmB,SAC3BthB,KAAKq6E,cAAgB,IAAIyF,EAAAA,EAAax+D,GACtCthB,KAAK+3C,cAAgB,IAAIgoC,EAAAA,EAAaz+D,GACtCthB,KAAK+2C,eAAiB,IAAIqjC,EAAAA,EAAc94D,EAAkBu5C,GAAI76D,KAAKq6E,eACnEr6E,KAAKg7C,eAAiB,IAAI0kC,EAAcp+D,EAC5C,SAYC,SAZA,8BAED,SAAmBA,GAKf,OAJKthB,KAAKwrD,YACNxrD,KAAKwrD,UAAY,IAAI7pC,EAAWL,IAG7BthB,KAAKyrD,QAChB,GAAC,oBAED,WACI,OAAOzrD,KAAKwrD,SAChB,IAZC,uFAYA,EApBW,GAAV7pC,EACK6pC,UAAY,KAsBvB,mjCC3BA,gnGAAAjjD,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,0lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,sYAAyD,IAEpCw3E,EAAY,WAC7B,cAAiC,IAAnBllB,EAAE,EAAFA,GAAIrvC,EAAW,EAAXA,aAHtB,4FAGiC,SACzBxrB,KAAKggF,iBAAmB,GACxBhgF,KAAK+3C,cAAgB,CAAC,EACtB/3C,KAAK66D,GAAKA,EACV76D,KAAKwrB,YAAcA,EAKnBxrB,KAAKigF,iBAAmB,CACpB,CACI7oC,UAAW,eACX1K,WAAY,eAEhB,CACI0K,UAAW,cACX1K,WAAY,eAEhB,CACI0K,UAAW,SACX1K,WAAY,gBAEhB,CACIyK,OAAQ,UACRzK,WAAY,gBAEhB,CACI3rC,OAAQ,WACR+2C,oBAAqB,SAEzB,CAAEA,oBAAqB,YACvB,CAAEA,oBAAqB,kBAE3B93C,KAAKkgF,yBAA2B,CAAC,CACrC,CArCJ,QAoeK,EAzCA,EAhCA,EA7BA,EAVA,EAVA,EAlBA,EAzBA,EAtFA,EAlDA,EAbA,EArIA,EAseA,OA3gBL,EAqCK,EArCL,EAqCK,yCAED,WAAkBn/E,EAAQ2rC,EAAY8P,EAAU2jC,GAAa,0FAC1B,GAAzBrlC,EAAW,CAAEl4C,OAAQ,IAEtBoF,EAAAA,EAAAA,oBAAAA,SAAoC0kC,GAAa,CAAF,wCACzCoO,GAAQ,OAGkC,OAA/CslC,EAAgB,CAAC,eAAgB,eAAc,SAChBpgF,KAAKqgF,wBAAwBt/E,EAAQ2rC,GAAW,OAAzD,OAAtB4zC,EAAyB,EAAH,cACJtgF,KAAKo8C,aAAar7C,EAAQ2rC,GAAY,GAAM,OAmFnE,OAnFKqM,EAAY,EAAH,KACTwnC,EAAgB,IAAIC,OAAO,0BAC3BC,EAAW,SAAA10E,GAAK,OAAIA,GAASw0E,EAAc5zE,KAAKZ,EAAM0C,WAAW,EAEnEiyE,GAA6B,EAE7BJ,EAAuB54E,OAAS,IAChCy4E,EAAch9E,SAAQ,SAACw9E,EAAc3lE,GACjC,IAAM4lE,EAA2B,CAAC,IAAK,KAAK7/D,SAAS4/D,GAC/CE,EAAkB,EAAKC,+BAA+Bp0C,GAExDl5B,EAAW8sE,EAAuB9vE,MAAK,SAAArD,GACvC,IAAQ4lB,EAAuB/qB,EAAAA,EAAAA,mBACzB+4E,EAAmB95E,OAAO2Z,KAAKmS,GAAoBviB,MAAK,SAAA1I,GAAC,OAC3DirB,EAAmBjrB,GAAGiZ,SAAS2rB,EAAW,IAGxCs0C,EAAwB7zE,EAAE8zE,oBAAsBJ,EAChDK,GAA2E,IAAnDnoC,EAAU7+B,WAAU,SAAAxN,GAAC,OAAIA,EAAEinB,OAAS6oB,CAAQ,IACpE2kC,EAAgCh0E,EAAE4zE,mBAAqBA,EACvDK,EAEDR,GAA4BH,EAAStzE,EAAEk0E,SAAWl0E,EAAEizE,EAAcplE,OAEjE4lE,IAA6BH,EAAStzE,EAAEk0E,SAAWl0E,EAAEizE,EAAcplE,KAEzE,OACIgmE,GACAE,GACAC,GACAC,CAER,IAoBA,GAjBK5tE,IACDA,EAAW8sE,EAENvqE,QAAO,SAAA5I,GAAC,OAAIA,EAAEk0E,SAAWl0E,EAAEm0E,YAAY,IAEvC3jB,MAAK,SAAC91D,EAAGC,GACN,IAAMqF,EAAItF,EAAEw5E,SAAWx5E,EAAEy5E,aACnB50E,EAAI5E,EAAEu5E,SAAWv5E,EAAEw5E,aACzB,OAAO13C,WAAWz8B,GAAKy8B,WAAWl9B,EACtC,IACCkvD,WAEYglB,IACbF,GAA6B,GAIjCltE,EAAU,CACV,IAAM+tE,EAA0C,IAAtB/tE,EAASsnC,SAAiB,UAAYslC,EAAcplE,GAE9E,GAAIxH,EAAS+tE,GAAoB,CAC7B,IAAMC,EAAgB,UAAGhuE,EAAS+tE,IAAqBj0D,MAAMizD,GAC7DzlC,EAASl4C,OAAOoY,GAASwmE,EAAgBA,EAAc,GAAKhuE,EAAS+tE,EACzE,CAEAt6E,OAAOw6E,OAAO3mC,EAAU,CACpBkC,iBACI,CAAC,WAAY,QAAQj8B,SAASvN,EAASkuE,cACvCjB,EAASjtE,EAAS+tE,IACtBtkC,oBAAsC,aAAjB0jC,IAAgCF,EAASjtE,EAAS+tE,MAIjD,IAAtB/tE,EAASsnC,UACTqlC,EAAc5b,OAAOvpD,EAAQ,EAAG,EAExC,CACJ,IAEK0lE,EAG0B,IAA3B5lC,EAASl4C,OAAO8E,QAChBy4E,EAAcj5E,OAAM,SAAAy5E,GAAY,OAAIA,IAAiBR,EAAc,EAAE,KACrErlC,EAASl4C,OAAOsE,OAAM,SAAAm6E,GAAO,OAAIA,IAAYvmC,EAASl4C,OAAO,EAAE,MAE/Dk4C,EAASl4C,OAAO,IAA2B,IAArBk4C,EAASl4C,OAAO,IAAW4F,QAAQ,IANzDsyC,EAASl4C,OAASk4C,EAASl4C,OAAOE,KAAI,kBAAM,CAAK,KAQxD,kBAEMg4C,GAAQ,iDAClB,oDAED,4CACA,SAA+BpO,GAC3B,IAAQxa,EAA4ClqB,EAAAA,EAAAA,wCAEpD,OACIf,OAAO2Z,KAAKsR,GAAyC1hB,MAAK,SAAAunB,GAAQ,OAC9D7F,EAAwC6F,GAAUhX,SAAS2rB,EAAW,KACrEA,CAEb,GAEA,6CACA,SAAgCA,GAC5B,IAAQpa,EAA0BtqB,EAAAA,EAAAA,sBAKlC,OAJ4Bf,OAAO2Z,KAAK0R,GAAuB9hB,MAAK,SAAArL,GAAC,OACjEmtB,EAAsBntB,GAAG4b,SAAS2rB,EAAW,KAGnBA,CAClC,GAAC,iDAED,SAAoCA,GAIhC,OAHsC1kC,EAAAA,EAAAA,0BACVhI,KAAK2hF,gCAAgCj1C,GAGrE,GAEA,2CACA,SAA8BA,GAC1B,IAAQ3Z,EAAuB/qB,EAAAA,EAAAA,mBAC/B,OAAOf,OAAO2Z,KAAKmS,GAAoBviB,MAAK,SAAAuwE,GAAgB,OACxDhuD,EAAmBguD,GAAkBhgE,SAAS2rB,EAAW,GAEjE,GAAC,oDAED,WAA8B3rC,EAAQ2rC,GAAU,2FACpB1sC,KAAK4hF,gBAAgB7gF,GAAO,OAEmB,OAFjE8gF,EAAY,EAAH,KACTZ,EAAoBjhF,KAAK8gF,+BAA+Bp0C,GACxDq0C,EAAmB/gF,KAAK8hF,8BAA8Bp1C,GAAW,kBAEhEm1C,EAAU9rE,QAAO,SAAAvC,GACpB,IAAMwtE,EAAwBxtE,EAASytE,oBAAsBA,EACvDc,EAAuBvuE,EAASutE,mBAAqBA,EAE3D,OAAOC,GAAyBe,CACpC,KAAE,gDACL,4FAED,WAAsBhhF,GAAM,uFACnBA,GAAqB,OAAXA,EAAe,yCACnB,IAAE,OAGe,GAAtBihF,EAAsB,6BAAG,4FACvB,EAAK9B,yBAAyBn/E,GAAS,CAAF,+BAC/B,EAAKm/E,yBAAyBn/E,GAAO,gCACpC,EAAKg3C,cAAch3C,GAAQ8gF,WAAS,OAGc,OAA7D,EAAK3B,yBAAyBn/E,GAAU,IAAIwqB,EAAAA,EAAiB,SACtC,EAAKsvC,GAAGxvC,KAAK,CAAE0sB,cAAeh3C,IAAS,OAAhD,KAARqN,EAAW,EAAH,MAED4J,MAAO,CAAF,yCACP,IAAE,QAgBgC,OAZb6pE,EAC5BzzE,EADA2pC,cAAiBkqC,UAIfC,EAAqBL,EAAU9rE,QAAO,SAAA5I,GAAC,MAAqB,YAAjBA,EAAEg1E,UAAwB,IAE3E,EAAKpqC,cAAch3C,GAAU,CACzB8gF,UAAWK,EACXr1D,UAAW,EAAKrB,YAAY42D,QAGhC,EAAKlC,yBAAyBn/E,GAAQF,iBAC/B,EAAKq/E,yBAAyBn/E,GAAQ,kBAEtCmhF,GAAkB,4CAC5B,kBA7B2B,oCA+BxBliF,KAAK+3C,cAAch3C,GAAS,CAAF,eAMzB,OANyB,EACOf,KAAK+3C,cAAch3C,GAA5C8gF,EAAS,EAATA,UAAWh1D,EAAS,EAATA,UACA7sB,KAAKwrB,YAAY42D,OAASv1D,EAAoC,GAAxB7sB,KAAKggF,kBAG1DgC,IACH,kBAEMH,GAAS,gCAGbG,KAAwB,gDAClC,uFAED,WAAmBjhF,EAAQ2rC,GAAU,mGAA6B,GAA3B21C,IAAuB,EAAH,+BACpC,eAAf31C,EAA2B,yCACpB,IAAE,uBAGW1sC,KAAK4hF,gBAAgB7gF,GAAO,OACc,GAD5D8gF,EAAY,EAAH,KACPpuD,EAA+DzrB,EAAAA,EAAAA,wBAAtCqrB,EAAsCrrB,EAAAA,EAAAA,kCAE9C,IAArB65E,EAAUn6E,OAAY,yCACf+rB,GAAuB,wBAGGzzB,KAAKqgF,wBAAwBt/E,EAAQ2rC,GAAW,QAgEpF,GAhEK4zC,EAAyB,EAAH,KACtBvnC,EAAY,GACZupC,EAAmB,SAAAv2E,GAAK,OAC1BsnB,EAAkCnZ,WAAU,SAAAxN,GAAC,OAAIA,EAAE,KAAOX,EAAMQ,QAAQ,OAAQ,GAAG,GAAC,EAElFg2E,EAAkB,SAAC/lC,EAAUgmC,GAC/B,IAAMtpC,EAAiBsD,EAASjwC,QAAQ,MAAO,IACzCk2E,EAAiBH,EAAiB9lC,GAClCkmC,EAAervD,EAAkCnZ,WACnD,SAAAyoE,GAAgB,OAAIA,EAAiB,KAAOH,CAAe,IAG3DI,EAAqB51E,SAASksC,GAkBlC,OAhBA7lB,EAAkCvvB,MAAM4+E,EAAe,EAAGD,EAAiB,GACtEtjE,UACAhc,SAAQ,SAAAw/E,GACL,OAAQA,EAAiB,IACrB,IAAK,IACL,IAAK,IACDC,GAAsB,GACtB,MACJ,IAAK,IACDA,GAAsB,GAKlC,IAEGA,CACX,EAEAtC,EAAuBn9E,SAAQ,SAAAqQ,GAC3B,GAAKA,EAASqvE,uBAA0BrvE,EAASsvE,sBAAjD,CAIA,IAAMC,EAAcT,EAAiB9uE,EAASqvE,uBACxCG,EAAYV,EACqB,OAAnC9uE,EAASsvE,uBAAkCT,EAAuB,MAAQ7uE,EAASsvE,uBAGvFzvD,EAAkCvvB,MAAMi/E,EAAaC,EAAY,GAAG7/E,SAAQ,SAACw/E,EAAkB3nE,IACA,IAA9D+9B,EAAU7+B,WAAU,SAAAxN,GAAC,OAAIA,EAAEinB,OAASgvD,EAAiB,EAAE,KAGhF5pC,EAAU/+B,KAAK,CACX0Z,QAASivD,EAAiB,GAC1BhvD,KAAMgvD,EAAiB,GACvB/uD,IAAe,IAAV5Y,EAAchO,SAASwG,EAASqvE,sBAAsBt2E,QAAQ,MAAO,KAAO,EACjF+wC,IAAKilC,EAAgB/uE,EAASsvE,sBAAuBH,EAAiB,KAGlF,GAlBA,CAmBJ,IAGIrC,EAAuBp5E,OAAM,SAAAsM,GAAQ,MAA6B,aAAzBA,EAASkuE,WAA0B,MAGhD,KAFtBuB,EAAqBlqC,EAAU7+B,WAAU,SAAAxN,GAAC,MAAa,MAATA,EAAE,EAAU,MAG5DqsC,EAAUwrB,OAAO0e,EAAoB,GAIpB,IAArBlqC,EAAUrxC,OAAY,0CACf+rB,GAAuB,iCAI3BslB,EAAU4kB,MAAK,SAAC91D,EAAGC,GAAC,OAAKw6E,EAAiBz6E,EAAE8rB,MAAQ2uD,EAAiBx6E,EAAE6rB,KAAK,KAAC,iDACvF,+FAED,WAAyB5yB,EAAQ2rC,GAAU,iGACf1sC,KAAKqgF,wBAAwBt/E,EAAQ2rC,GAAW,OAmBvE,OAnBKm1C,EAAY,EAAH,KACTZ,EAAoBjhF,KAAK8gF,+BAA+Bp0C,GACxD+N,EAAmB,GACjB1mB,EAAgC/rB,EAAAA,EAAAA,iBAAd4jB,EAAc5jB,EAAAA,EAAAA,UAEpC+rB,EAAiBhT,SAASkgE,IAAqC,YAAfv0C,KAC1Cl5B,EAAWquE,EAAUrxE,MAAK,SAAArD,GAG5B,OAFmBlG,OAAO2Z,KAAKgL,GAEbxR,MAAK,SAAA2d,GAAQ,OAC3BnM,EAAUmM,GAAUj1B,KAAI,SAAAogF,GAAW,OAAIj8E,OAAO2Z,KAAKsiE,GAAa,EAAE,IAAEniE,SAAS5T,EAAEmD,cAAc,GAErG,MAEgBkD,EAAS2vE,iBACrB1oC,EAAiBzgC,KAAI,MAArBygC,EAAgB,EAASjnC,EAAS2vE,mBAElC1oC,EAAiBzgC,KAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAElD,kBAEMygC,GAAgB,gDAC1B,+FAED,WAAyB15C,EAAQ2rC,GAAU,6FACf1sC,KAAKqgF,wBAAwBt/E,EAAQ2rC,GAAW,OAYvE,OAZKm1C,EAAY,EAAH,KACTniC,EAAmB,GACjB9zB,EAAc5jB,EAAAA,EAAAA,UAQlBwL,OANEA,EAAWquE,EAAUrxE,MAAK,SAAArD,GAC5B,OAAOlG,OAAO2Z,KAAKgL,GAAWxR,MAAK,SAAA2d,GAC/B,OAAOnM,EAAUmM,GAAUj1B,KAAI,SAAAogF,GAAW,OAAIj8E,OAAO2Z,KAAKsiE,GAAa,EAAE,IAAEniE,SAAS5T,EAAEmD,cAC1F,GACJ,MAEIkD,EAAUksC,kBACVA,EAAiB1lC,KAAI,MAArB0lC,EAAgB,EAASlsC,EAASksC,mBACrC,kBAEMA,GAAgB,gDAC1B,8FAED,WAAwB3+C,GAAM,uFACFf,KAAK4hF,gBAAgB7gF,GAAO,OAArC,IAAT8gF,EAAY,EAAH,MAEAn6E,OAAQ,CAAF,wCACV,MAAI,gCAGRm6E,EAAU,GAAG1qC,QAAM,gDAC7B,+FAED,WAA2Bp2C,GAAM,uFACLf,KAAK4hF,gBAAgB7gF,GAAO,OAArC,IAAT8gF,EAAY,EAAH,MAEAn6E,OAAQ,CAAF,wCACV,MAAI,gCAGRm6E,EAAU,GAAGzqC,WAAS,gDAChC,+FAED,WAA2Br2C,GAAM,qGACLf,KAAK4hF,gBAAgB7gF,GAAO,OAA9C8gF,EAAY,EAAH,KACTuB,EAAqB,CAAC,EAEnB76E,EAAI,EAAC,YAAEA,EAAIs5E,EAAUn6E,QAAM,iBAKhC,OAJMyvC,EAAS0qC,EAAUt5E,GAAG4uC,OACtBC,EAAYyqC,EAAUt5E,GAAG6uC,UACzBU,EAAsB93C,KAAK2hF,gCAAgCE,EAAUt5E,GAAG04E,mBACxEoC,EAA2BrjF,KAAKsjF,oCAAoCzB,EAAUt5E,GAAG04E,mBACvF,UAC0BjhF,KAAKujF,4BAA4BpsC,EAAQC,EAAWr2C,EAAQ+2C,GAAoB,QAApGO,EAAc,EAAH,KAEbgrC,IACoBrjF,KAAKwjF,iBAAiB,CACtCrsC,OAAAA,EACAC,UAAAA,EACAr2C,OAAAA,EACA+2C,oBAAAA,MAIAsrC,EAAmBC,GAA4BhrC,IAEtD,QAnBiC9vC,IAAG,gDAsBlC66E,GAAkB,iDAC5B,sGAED,WAAkCjsC,EAAQC,EAAWr2C,EAAQ+2C,GAAmB,yFAGjD,GAFnBrkB,EAA8DzrB,EAAAA,EAAAA,wBAArCsqB,EAAqCtqB,EAAAA,EAAAA,sBAAd4jB,EAAc5jB,EAAAA,EAAAA,UAChEy7E,EAAgBnxD,EAAsBwlB,GACtC+mB,EAAmB,IAErB4kB,IAAiBA,EAAc/7E,OAAM,iBAC5Ba,EAAI,EAAC,YAAEA,EAAIk7E,EAAc/7E,QAAM,iBACD,OAA7BglC,EAAa+2C,EAAcl7E,GAAE,SACXvI,KAAKo8C,aAAar7C,EAAQ2rC,GAAW,OAAvDqM,EAAY,EAAH,KACT2qC,EAAgBt/E,KAAKC,UAAU00C,KAAe30C,KAAKC,UAAUovB,IAC/CzzB,KAAKwjF,iBAAiB,CACtCrsC,OAAAA,EACAC,UAAAA,EACAr2C,OAAAA,EACA+2C,oBAAAA,EACApL,WAAAA,KAGgBg3C,IACVC,EAAQ/3D,EAAU8gB,EAAW2J,eACnCwoB,EAAiB7kD,KAAK,CAClBpU,KAAM+9E,EAAM7gF,KAAI,SAAArB,GAAI,OAAIA,EAAKwF,OAAO2Z,KAAKnf,GAAM,GAAG,IAAEy3B,KAAK,KACzD7e,MAAOqyB,EACPklB,KAAM,CAAC3qD,OAAO2Z,KAAK+iE,EAAM,IAAI,GAAI18E,OAAO2Z,KAAK+iE,EAAM,IAAI,OAE9D,QAnBqCp7E,IAAG,gDAuB1Cs2D,GAAgB,iDAC1B,uGAED,WAA6B1nB,EAAQC,EAAWr2C,GAAM,sFACe,OAAzD+xB,EAA8D9qB,EAAAA,EAAAA,0BAAnCwrB,EAAmCxrB,EAAAA,EAAAA,+BAAL,SACzChI,KAAK4hF,gBAAgB7gF,GAAO,OAwBjD,GAxBG8gF,EAAY,EAAH,KACT+B,EAAwB,GAE9B/B,EAAU1+E,SAAQ,SAAAqQ,GACd,IAAMskC,EAAsB,EAAK6pC,gCAAgCnuE,EAASytE,mBACpEoC,EAA2B,EAAKC,oCAAoC9vE,EAASytE,mBAE/EoC,IACoB,EAAKG,iBAAiB,CACtCrsC,OAAAA,EACAC,UAAAA,EACAr2C,OAAAA,EACA+2C,oBAAAA,MAK4E,IAAxE8rC,EAAsB1pE,WAAU,SAAA/M,GAAC,OAAIA,EAAE,KAAO2qC,CAAmB,KAGjE8rC,EAAsB5pE,KAAK,CAACqpE,EAA0BvrC,IAItE,MAEI8rC,EAAsBl8E,OAAS,GAAC,gBAC6B,OAAvDm8E,EAAiB58E,OAAO2Z,KAAKkS,GAA0B,kBAEtD8wD,EAAsBjmB,MAAK,SAAC91D,EAAGC,GAGlC,OAFgB+7E,EAAe3pE,WAAU,SAAA/M,GAAC,OAAIA,IAAMtF,EAAE,EAAE,IACxCg8E,EAAe3pE,WAAU,SAAA/M,GAAC,OAAIA,IAAMrF,EAAE,EAAE,GAE5D,KAAE,gCAGC0rB,GAA8B,iDACxC,4FAED,WAAoB2jB,EAAQC,EAAWr2C,EAAQ+2C,GAAmB,yFAGE,GAFxDrkB,EAA8DzrB,EAAAA,EAAAA,wBAArCsqB,EAAqCtqB,EAAAA,EAAAA,sBAAd4jB,EAAc5jB,EAAAA,EAAAA,UAChEqwC,EAAc,KACdorC,EAAgBnxD,EAAsBwlB,IAEzB,CAAF,gBACJvvC,EAAI,EAAC,YAAEA,EAAIk7E,EAAc/7E,QAAM,iBACD,OAA7BglC,EAAa+2C,EAAcl7E,GAAE,SACXvI,KAAKo8C,aAAar7C,EAAQ2rC,GAAW,OAAvDqM,EAAY,EAAH,KACT2qC,EAAgBt/E,KAAKC,UAAU00C,KAAe30C,KAAKC,UAAUovB,IAC/CzzB,KAAKwjF,iBAAiB,CACtCrsC,OAAAA,EACAC,UAAAA,EACAr2C,OAAAA,EACA+2C,oBAAAA,EACApL,WAAAA,KAGgBg3C,IACVC,EAAQ/3D,EAAU8gB,EAAW2J,eAEnCgC,EAAYr+B,KAAK,CAAC2pE,EAAM7gF,KAAI,SAAArB,GAAI,OAAIA,EAAKwF,OAAO2Z,KAAKnf,GAAM,GAAG,IAAEy3B,KAAK,KAAMwT,KAC9E,QAhBqCnkC,IAAG,gDAoB1C8vC,EAAY3wC,OAAS,EAAI2wC,EAAcrwC,EAAAA,EAAAA,gCAAqC,iDACtF,kFAED,SAAiB87E,GACb,OAAO9jF,KAAKigF,iBAAiB7lE,MAAK,SAAA2pE,GAAY,OAC1C98E,OAAO2Z,KAAKmjE,GAAc78E,OAAM,SAAAw0E,GAAI,OAAIoI,EAAYpI,KAAUqI,EAAarI,EAAK,GAAC,GAEzF,GAAC,0BAED,WACI17E,KAAK+3C,cAAgB,CAAC,CAC1B,IA3gBJ,uEA2gBK,EAzgB4B,kTCFjC,irOADyD,IAEpC+nC,EAAY,WAC7B,cAAiC,IAAnBjlB,EAAE,EAAFA,GAAIrvC,EAAW,EAAXA,aAFtB,4FAEiC,SACzBxrB,KAAK66E,aAAe,IAAItvD,EAAAA,EACxBvrB,KAAK86E,gBAAiB,EACtB96E,KAAKq6E,cAAgB,CAAC,EACtBr6E,KAAK66D,GAAKA,EACV76D,KAAKwrB,YAAcA,EAAYC,OACnC,CARJ,QAoEK,EA5DA,EAuLA,OA/LL,EAQK,EARL,EAQK,wCAED,+FACQzrB,KAAK86E,eAAgB,CAAF,wCACZ96E,KAAK66E,cAAY,OAIuB,GADnD76E,KAAK86E,gBAAiB,EACtB96E,KAAKgkF,mBAAqBhkF,KAAKwrB,YAAYy4D,QAEtCh9E,OAAO2Z,KAAK5gB,KAAKq6E,eAAe3yE,OAAQ,CAAF,gCACjC1H,KAAKkkF,qBAAoB,OAGX,OAFpBlkF,KAAK66E,aAAah6E,UAEZsjF,EAAc,6BAAG,8FAOyB,GANtC7I,EAAU,EAAK8I,yBAEjBn9E,OAAO2Z,KAAK06D,GAAS5zE,OAAS,GAAK,EAAK2zE,0BACxC,EAAKA,yBAAyBC,GAG9B+I,EAAmB,EAAKC,iBAEL,CAAF,gBAgBd,OAfGC,EAAa,EAAK/4D,YAAYy4D,QAC9BO,EAAqB,EAAKR,mBAAmBv4D,QAAQg5D,IAAI,EAAG,QAE9DF,EAAWG,QAAQF,GACnB,EAAKR,mBAAqBO,EAAW94D,QAErC,EAAKu4D,mBAAqBQ,EAAmB/4D,QAK3Ck5D,EAAc,CAAC,EAErB19E,OAAO2Z,KAAK,EAAKy5D,eAAel3E,SAAQ,SAAAuuE,GACpCiT,EAAYjT,GAAe,EAAK2I,cAAc3I,GAAakT,SAC/D,IAAG,UAEG,EAAKV,qBAAoB,QAE/Bj9E,OAAO2Z,KAAK,EAAKy5D,eAAel3E,SAAQ,SAAAuuE,GACpC,EAAK2I,cAAc3I,GAAakT,UAAYD,EAAYjT,EAC5D,IAGA8S,EAAmBvhF,IAAI,CAAE4hF,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,IACrDV,EAAmBG,EAAmBQ,SAAS,QAG7CC,EAAcZ,EAAmB,EAAK74D,YAAYy4D,QAAQe,SAChE,EAAKE,aAAe5wE,WAAW6vE,EAAgBc,GAAa,4CAC/D,kBAxCmB,6CA0Cdd,IAAgB,iCAGnBnkF,KAAK66E,cAAY,iDAC3B,4FAED,qGACyE,OAA/DsK,EAAmBnlF,KAAKgkF,mBAAmBoB,OAAO,cAAa,SAC9CplF,KAAK66D,GAAGwqB,aAAaF,GAAiB,OAA/C,KAAR/2E,EAAW,EAAH,MAED4J,MAAO,CAAF,gDAUU,GAN5BhY,KAAKq6E,cAAgB,CAAC,EAEhBp2D,EAAMjkB,KAAKwrB,YAAYy4D,QAAQe,SAC/BM,EAAWrhE,EAAIshE,cAAcz8B,UAAU,EAAG,IAC1C08B,EAAa,SAAAX,GAAI,OAAI,IAAIh4E,KAAK,GAAD,OAAIy4E,GAAQ,OAAGT,EAAI,KAAI,EAErCY,EACjBr3E,EADAisE,cAAiBoL,QAGP,CAAF,kDAIZA,EAAQtiF,SAAQ,SAAAg0C,GACWA,EAAfykC,WAEGz4E,SAAQ,SAAAi0C,GACKA,EAAZ0kC,QAEA34E,SAAQ,SAAAo4E,GACZ,IAKImK,EALIC,EAAkBpK,EAAlBoK,MAAO5kF,EAAWw6E,EAAXx6E,OACP3B,EAAgBumF,EAAhBvmF,KAAMG,EAAUomF,EAAVpmF,MACRqmF,EAAkC,IAAhBxmF,EAAKsI,QAA4B,aAAZtI,EAAK,IAAkC,aAAbG,EAAM,GACvEsmF,EAAoC,IAAhBzmF,EAAKsI,QAA4B,OAAZtI,EAAK,IAA4B,OAAbG,EAAM,GAIpEqmF,GAAoBC,IACrBH,EAAkBtmF,EAAK0D,KAAI,SAACrD,EAAWub,GAAK,MAAM,CAC9C5b,KAAMomF,EAAW/lF,GACjBF,MAAOimF,EAAWjmF,EAAMyb,IAC3B,KAGL,EAAKq/D,cAAct5E,GAAU,CACzB6kF,gBAAAA,EACAC,kBAAAA,EACAF,MAAOD,EAEf,GACJ,GACJ,IAAG,iDACN,iFAED,WAAyB,WACfpK,EAAU,CAAC,EAYjB,OAVAr0E,OAAO2Z,KAAK5gB,KAAKq6E,eAAel3E,SAAQ,SAAAuuE,GACpC,IAAMkT,EAAY,EAAKkB,mBAAmBpU,GACpC6J,EAAa,EAAKlB,cAAc3I,GAElC6J,EAAWqJ,YAAcA,IACzBrJ,EAAWqJ,UAAYA,EACvBtJ,EAAQ5J,GAAekT,EAE/B,IAEOtJ,CACX,GAAC,gCAED,SAAmB5J,GACf,IAAMztD,EAAMjkB,KAAKwrB,YAAYy4D,QAAQ7B,OACrC,EAAsDpiF,KAAKq6E,cAAc3I,GAAjEiU,EAAK,EAALA,MAAOC,EAAe,EAAfA,gBAEf,OAFiD,EAAjBC,sBAM5BD,GAIGD,EAAMvrE,MAAK,SAAA2rE,GACd,IAAQ3mF,EAAgB2mF,EAAhB3mF,KAAMG,EAAUwmF,EAAVxmF,MACd,OAAO0kB,GAAO7kB,GAAQ6kB,EAAM1kB,CAChC,IACJ,GAAC,4BAED,WAAiB,IAGTymF,EAHS,OACP/hE,EAAMjkB,KAAKwrB,YAAYy4D,QAAQe,SAuBrC,OAnBA/9E,OAAO2Z,KAAK5gB,KAAKq6E,eAAel3E,SAAQ,SAAAuuE,GACpC,MAAsD,EAAK2I,cAAc3I,GAAjEiU,EAAK,EAALA,MAAOC,EAAe,EAAfA,gBAAiBC,EAAiB,EAAjBA,kBAE5BD,GAAmBC,GAIvBF,EAAMxiF,SAAQ,SAAA4iF,GACV,IAAQ3mF,EAAgB2mF,EAAhB3mF,KAAMG,EAAUwmF,EAAVxmF,MAEVH,EAAO6kB,KAAS+hE,GAAY5mF,EAAO4mF,KACnCA,EAAW5mF,GAEXG,EAAQ0kB,KAAS+hE,GAAYzmF,EAAQymF,KACrCA,EAAWzmF,EAEnB,GACJ,IAEOymF,CACX,GAAC,4BAED,SAAetU,GACX,IAAMuU,EAAeh/E,OAAO2Z,KAAK5gB,KAAKq6E,eAEtC,SAAK4L,EAAav+E,SAAWu+E,EAAallE,SAAS2wD,KAI5C1xE,KAAKq6E,cAAc3I,GAAakT,SAC3C,IA/LJ,uEA+LK,EA9L4B,sHCCpBpxE,EAAW,SAAArG,GAAC,OAAIrL,EAAAA,EAAAA,KAAoB,eAAgBqL,EAAE,EAEtDgJ,EAAiB,SAAAhJ,GAAC,OAAIrL,EAAAA,EAAAA,KAAoB,kBAAmBqL,EAAE,EAE/DkI,EAAO,SAAA9M,GAAC,OAAIzG,EAAAA,EAAAA,KAAoB,WAAYyG,EAAE,EAE9CgF,EAAS,SAAC24E,EAAWrgF,GAAO,OACrC/D,EAAAA,EAAAA,KAAoB,gBAAiB,CAAEokF,UAAAA,EAAWrgF,QAAAA,EAASktC,MAAO/qC,EAAAA,EAAAA,MAAAA,mBAAAA,GAAAA,IAAwC,EAEjGuO,EAAM,SAACi8B,EAAU2zC,GAAK,OAAKrkF,EAAAA,EAAAA,KAAoB,iBAAkB,CAAE0wC,SAAAA,EAAU2zC,MAAAA,GAAQ,EAErFnuE,EAAQ,SAAAnS,GAAO,OAAI/D,EAAAA,EAAAA,KAAoB,eAAgB+D,EAAQ,4PCTrE,IAAM8T,EAAwB,SAACH,EAAc9I,GAAkB,OAClE8I,EAAa1S,cAAchE,KAAI,SAAArB,GAC3B,IAAMgP,EAAW,CACbguC,OAAQjlC,EAAailC,OACrB2nC,MAAO5sE,EAAa4sE,MACpB91E,cAAe7O,EACfkN,SAAU6K,EAAa7K,SACvB6tC,SAAUhjC,EAAagjC,SACvBvD,cAAez/B,EAAay/B,cAC5B1mB,WAAY/Y,EAAa+Y,WACzBtY,YAAa,CACT3J,cAAe7O,EACfiP,mBAAAA,GAEJD,SAAU,EACV1P,OAAQyY,EAAazY,QAoBzB,YAlBgC+D,IAA5B0U,EAAa6sE,aACb51E,EAAS61E,cAAgB9sE,EAAa6sE,YAErC,CAAC,UAAW,YAAYtlE,SAAStf,SAAqCqD,IAA5B0U,EAAa6sE,gBAElBvhF,IAA/B0U,EAAa+sE,gBACpB91E,EAAS4wE,QAAU7nE,EAAa+sE,eAFhC91E,EAAS4wE,QAAU7nE,EAAa6sE,gBAIKvhF,IAArC0U,EAAagtE,sBACb/1E,EAASg2E,SAAWjtE,EAAagtE,qBAEjC,CAAC,SAAU,YAAYzlE,SAAStf,KAChCgP,EAAS+rC,cAAW13C,EACpB2L,EAASwoC,mBAAgBn0C,IAExB4hF,EAAAA,EAAAA,eAAcltE,EAAaymC,eAC5BxvC,EAASwvC,YAAczmC,EAAaymC,aAEjCxvC,CACX,GAAE,EAEOqK,EAAe,SAAA7a,GACxB,QAAQyH,EAAWzH,EAAXyH,OACkC,KAAfzH,EAAM6D,OAAO,KAAE,o5BAAnC6iF,EAAO,KAAEC,EAAO,KAEnBr/C,EAAY,GAMhB,OALI7/B,GAAU,IACV6/B,EAAYo/C,EAAQhjF,MAAQijF,EAAQjjF,MAAQ,OAAS4jC,EACrDA,EAAYo/C,EAAQhjF,MAAQijF,EAAQjjF,MAAQ,OAAS4jC,GAGlDA,CACX,EAEax3B,EAAe,SAAAtM,GACxB,IAAIojF,EAAgBpjF,EAIpB,MAH6B,iBAAlBojF,IACPA,EAAgB3+C,OAAO2+C,IAEpBxlF,OAAOwlF,EAAcA,EAAcn/E,OAAS,GACvD,EAsEasP,EAAmB,SAAC8vE,EAAWC,EAAW3uE,EAAkBX,EAAa1X,GAClF,OAAO,IAAIa,SAAQ,SAACC,EAASkE,GACzB,IAAMT,EAAUwiF,IAEZxiF,EACAA,EAAQE,KAAK3D,GAAQ,OAAO,SAAAmX,IAxBR,SAACA,GAAiC,IAA1BI,EAAmB,UAAH,6CAAG,GACvD,QAAKJ,EAAMA,QAZmB,SAAAA,GAAS,MACY,IAAzB,2BAAX,QAAX,EAAAA,EAAMA,aAAK,aAAX,EAAajS,QACU,QAAvB,EAAIiS,EAAMA,MAAMgvE,eAAO,OAAnB,EAAqBxqC,WACrBxkC,EAAMA,MAAMnS,SAAUgB,EAAAA,EAAAA,UAAS,wCAEZ,QAAvB,EAAImR,EAAMA,MAAMgvE,eAAO,OAAnB,EAAqBvoC,SACrBzmC,EAAMA,MAAMnS,SAAUgB,EAAAA,EAAAA,UAAS,sCAG3C,CAeIogF,CAAmBjvE,IACQI,EAAiBmnB,OATX,CAC7B,YACA,gBACA,qBACA,YACA,kBACA,mBAGyExe,SAAS/I,EAAMA,MAAMjS,MAGtG,EAYoBmhF,CAAiBlvE,EAAOI,IAAsBrY,IAAaA,EAAS49E,WACpE54E,EAAOiT,GAGX+uE,EACI/uE,EAAMA,MAAMjS,MACZ,kBACI,IAAInF,SAAQ,SAAAumF,GACR,IAAMC,EAAoB,WAAH,aAAmD,QAAnD,EAAStlF,EAAAA,EAAAA,SAAwB,0BAAkB,QAAI,EAAE,EAE1E+e,EAAUvM,YAAW,WACvB,IAAMoM,EAAkB0mE,WACjB1mE,EAAgBG,GACvB/e,EAAAA,EAAAA,SAAwB4e,GACxBymE,GACJ,GAxFA,SAACnvE,EAAOP,GAChC,IAEM4vE,EAAwBp+E,KAAK2qB,IAFhB,IAEiCnc,EADlC,IA4BlB,MAzByB,cAArBO,EAAMA,MAAMjS,MACZuhF,EAAAA,EAAAA,KACIzgF,EAAAA,EAAAA,UAAS,6FAA8F,CACnGmtC,aAAch8B,EAAMxU,SACpB+jF,MAAOF,EACPzlF,QAASoW,EAAM/B,SAASuxE,UAGJ,oBAArBxvE,EAAMA,MAAMjS,MACnBuhF,EAAAA,EAAAA,KACIzgF,EAAAA,EAAAA,UAAS,iDAAkD,CACvD0gF,MAAOF,KAGa,mBAArBrvE,EAAMA,MAAMjS,MACnBuhF,EAAAA,EAAAA,KAASzgF,EAAAA,EAAAA,UAAS,sCAElBygF,EAAAA,EAAAA,KACIzgF,EAAAA,EAAAA,UAAS,mEAAoE,CACzEmtC,aAAch8B,EAAMxU,WAAYqD,EAAAA,EAAAA,UAAS,WACzC0gF,MAAOF,KAKY,IAAxBA,CACX,CAyD+BI,CAAoBzvE,EAAOP,IAExBiJ,EAAkB0mE,IAElB5jF,GAAWkkF,EAAAA,EAAAA,2BAA0B1vE,EAAO,YAElD0I,EAAgBG,GAAW,CACvBC,eAJyB,CAAC,OAIWC,SAASvd,GAC9CA,SAAAA,GAGJ1B,EAAAA,EAAAA,SAAwB,CAAE4e,gBAAAA,GAC9B,GAAE,GAEd,IAEA7f,GAER,GACJ,EAQamC,EAAc,SAAC8jF,EAAW1uE,EAAkBrY,GACrD,IAAI0X,EAAc,EAElB,OAAO,IAAI7W,SAAQ,SAACC,EAASkE,GACzB,IAAMgiF,EAAY,SAAC1uE,EAAYnB,GAC3BO,IACAP,IAAY1S,KAAKmjF,EACrB,EAEMA,EAAW,WACb3wE,EAAiB8vE,EAAWC,EAAW3uE,EAAkBX,EAAa1X,GAAUyE,KAAK3D,GAAQ,MAAOkE,EACxG,EAEA4iF,GACJ,GACJ,EAEavrE,EAAgB,SAAA5I,GACzB,IAAoB+H,EAA6C/H,EAAzD2E,WAAkCkB,EAAuB7F,EAAlCoD,UAAqBjI,EAAa6E,EAAb7E,SAC9C6M,GAASlC,EAAAA,EAAAA,kBAAiBiC,EAAYlC,EAAU1K,GAChDoO,EAASvB,EAAS,EAAI,OAAS,MAErC,MAAO,CACHhI,EAASmD,gBAAgBT,KACxB1C,EAASoD,WACTpD,EAAS2E,WACVqD,EACAhI,EAASlD,eACTs3E,EAAAA,EAAAA,YAAW56E,SAAS,GAAD,OAAIwG,EAASq0E,gBAAe,QAAQ,aACtDr0E,EAASwF,YACV4uE,EAAAA,EAAAA,YAAW56E,SAAS,GAAD,OAAIwG,EAASs0E,eAAc,QAAQ,aACrDt0E,EAASu0E,YACRv0E,EAAS6tE,QAAU7tE,EAAS6tE,QAAU,GACxCtkE,EAER,EAEapb,EAAU,WAAH,iBAAY,IAAIkL,MAAOE,UAAY9D,KAAK++E,SAAQ,mXC5NpE,gnGAAAz/E,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBAQO,IAAM2c,EAAqB,6BAAG,WAAOnB,GAAG,qGAQ8C,OAR5CkkE,EAAY,EAAH,6BAAG7iE,EAAAA,EAAAA,QAEzDrB,EAAIkW,aAAa,WAAW,GAAM,EAI9BxkB,EAAAA,EAAAA,SAFcyyE,EAAoB,EAAlC98B,WAAc88B,qBACd/8B,EAAU,EAAVA,WAGEg9B,EAAez4E,QAAQC,eAAe6T,qBAAuB9T,QAAQ+T,MAAMC,SAAQ,SAChElC,IAAoB,OAAvC6S,EAAa,EAAH,KACV+zD,EAAc14E,QAAQ0U,IAAI69B,UAAUl+B,GACpCskE,EAAoBx7E,KAAKoX,OACzBqkE,EAA0Bj0D,EAAWna,WAAU,SAAAiH,GAAS,OAAIA,EAAUpe,KAAOolF,CAAY,MAEhE,IACrBI,EAAoBl0D,EAAWi0D,IACnBvkE,IAAMqkE,EACxBG,EAAkB3iF,KAAOulD,EAAWsrB,SACpC8R,EAAkB17D,UAAYw7D,EAC9BE,EAAkBN,UAAYA,GAE9B5zD,EAAWra,KAAK,CACZjX,GAAIolF,EACJt7D,UAAWw7D,EACXziF,KAAMulD,EAAWsrB,SACjB1yD,IAAKqkE,EACLH,UAAAA,IAIR5zD,EACKspC,MAAK,SAAC91D,EAAGC,GACN,OAAO,IAAI+E,KAAKhF,EAAEglB,WAAa,IAAIhgB,KAAK/E,EAAE+kB,UAC9C,IACC1N,UAEDkV,EAAW3sB,OAAS,IACpB2sB,EAAWpV,MAEfipE,EAAqB7zD,GACrBm0D,IAAAA,QAAoB,mBAAoBC,IAAAA,SAAkBrkF,KAAKC,UAAUgwB,KAAc,4CAC1F,gBAzCiC,sCA2CrB7S,EAAkB,6BAAG,8EAEA,OAFA,cAEnBpd,KAAI,KAAOqkF,IAAQ,SAAkBD,IAAAA,QAAoB,oBAAmB,OAAlE,GAAkE,sBAAxDE,WAAU,0BAAzBrjF,MAAK,2CAAwE,GAAE,kGAEpF,IAAE,0DAEhB,kBAN8B,mCAQlBsjF,EAAuB,6BAAG,WAAMR,GAAY,yFAC5B3mE,IAAoB,OAK5C,OALK6S,EAAa,EAAH,MACVi0D,EAA0Bj0D,EAAWna,WAAU,SAAAiH,GAAS,OAAIA,EAAUpe,KAAOolF,CAAY,MAEhE,GAC3B9zD,EAAWkwC,OAAO+jB,EAAyB,GAC9C,SAEKE,IAAAA,QAAoB,mBAAoBC,IAAAA,SAAkBrkF,KAAKC,UAAUgwB,KAAa,2CAC/F,gBATmC,kkDC3DpC,IAwCqB7uB,EAAQ,WACzB,0GAAc,SACVxF,KAAK4oF,IAAM,IAAI1oF,EAAAA,GACnB,SA+DC,SA/DA,2BAED,SAAS8iB,EAAO6lE,EAASC,EAAMC,EAAmBC,GAAqB,WAC/DA,GACAhpF,KAAKipF,cAAcjmE,GAEvB,IAAMkmE,EAAW,SAAXA,EAAWlxE,GACTA,EAAMvW,OAASsnF,EAAkBtnF,OACjC,EAAK0nF,WAAW,YAAaD,GAC7BH,EAAkBI,WAAWhmF,SAAQ,SAAAimF,SAC7BA,aAAiB1mF,MACjB,EAAKymF,WAAU,MAAf,iDAAmBC,qkBAEnB,EAAKH,cAAcG,EAE3B,IAER,EACIL,GACA/oF,KAAKygB,SAAS,YAAayoE,GAE/B,IAAMh3E,EAAS,WACP42E,GACA,EAAKK,WAAWnmE,EAAO6lE,GAEvBE,GACA,EAAKI,WAAW,YAAaD,GAEjCL,EAAO,uBACX,EAEMQ,EAAarpF,KAAK4oF,IAAIznF,IAAI6hB,GAEhChjB,KAAK4oF,IAAMS,EACLrpF,KAAK4oF,IAAI3lF,IAAI+f,EAAOqmE,EAAWrvE,KAAK,CAAE9H,OAAAA,EAAQo3E,SAAUT,KACxD7oF,KAAK4oF,IAAI3lF,IAAI+f,GAAO,IAAIie,EAAAA,MAAOjnB,KAAK,CAAE9H,OAAAA,EAAQo3E,SAAUT,IAClE,GAAC,wBAED,SAAW7lE,EAAOlX,GACd9L,KAAK4oF,IAAM5oF,KAAK4oF,IAAI3lF,IAChB+f,EACAhjB,KAAK4oF,IAAIznF,IAAI6hB,GAAOjN,QAAO,SAAA/Q,GAAC,OAAIA,EAAEskF,WAAax9E,CAAC,IAExD,GAAC,0BAED,SAAakX,GACT,OAAOhjB,KAAK4oF,IAAI1nF,IAAI8hB,EACxB,GAAC,2BAED,SAAcA,GACVhjB,KAAK4oF,IAAM5oF,KAAK4oF,IAAG,OAAQ5lE,EAC/B,GAAC,kBAED,SAAKA,EAAOzf,GACJvD,KAAK4oF,IAAI1nF,IAAI8hB,IACbhjB,KAAK4oF,IAAIznF,IAAI6hB,GAAO7f,SAAQ,SAAA+O,GAAM,OAAIA,EAAOA,OAAO3O,EAAK,GAEjE,GAAC,sBACD,WAAqB,IAAZ0O,EAAQ,UAAH,6CAAG,CAAC,EACdjS,KAAKiS,MAAQ,EAAH,KAAQjS,KAAKiS,OAAUA,EACrC,GAAC,sBACD,SAASvQ,GAAK,MACV,OAAiB,QAAjB,EAAO1B,KAAKiS,aAAK,aAAV,EAAavQ,EACxB,2EAAC,EAlEwB,GAqEhB6D,EAAW,IAAIC,+BC9Gb,SAAS+lB,IACpB,IAAI1qB,EAASkE,EAEPT,EAAU,IAAI1D,SAAQ,SAAC2oF,EAAUC,GACnC3oF,EAAU0oF,EACVxkF,EAASykF,CACb,IAcA,OAZAllF,EAAQ6/D,WAAY,EAEpB7/D,EAAQzD,QAAU,SAAA4oF,GACdnlF,EAAQ6/D,WAAY,EACpBtjE,EAAQ4oF,EACZ,EAEAnlF,EAAQS,OAAS,SAAAiT,GACb1T,EAAQ6/D,WAAY,EACpBp/D,EAAOiT,EACX,EAEO1T,CACX,wFCPaolF,EAAoB,WAC7B,IAAMvoE,EAAYzR,QAAQC,eAC1B,GAAIwR,EAAW,CACXA,EAAUmwC,eAAenuD,SAAQ,SAAAmE,GAAK,OAAIA,EAAMiqD,eAAe,IAE/D,IAAMpvC,EAAiBH,SAASC,eAAe,eAC3CE,IACAA,EAAelhB,MAAMkqC,MAAQ,uBAC7BhpB,EAAelhB,MAAMmqC,OAAS,4BAC9B17B,QAAQy2D,UAAUhlD,GAE1B,CACJ,EAEamoD,EAAsB,SAACnoD,EAAWwoE,IAC7BjnF,MAAMo/B,QAAQ6nD,GAAeA,EAAc,CAACA,IAEpDxmF,SAAQ,SAAAu3D,GACN1yD,EAAAA,EAAAA,uBAAAA,SAAuC0yD,IACvCv5C,EAAUkF,eAAeljB,SAAQ,SAAAu9D,GACzBA,EAASj/D,OAASi5D,GAClBgG,EAAS9hC,SAEjB,GAER,GACJ,s9BC5BiCgrD,UAV3BC,EAAa,WAAe,IAAdD,EAAO,UAAH,6CAAG,GACjBE,EAAI5jF,OAAO6jF,SAEjB,IAAK,WAAWp9E,KAAKm9E,EAAEE,UAAW,OAAOJ,EAEzC,IAAMK,EAAW,MAAMt9E,KAAKi9E,GAAQA,EAAO,IAAH,OAAOA,GAE/C,MAAO,IAAP,OAAWE,EAAEE,SAASv9E,MAAM,KAAK,IAAE,OAAGw9E,EAC1C,EAMaC,EAAmB,SAACC,GAAkB,OAAKN,EAAW,yBAAD,OAA0BM,GAAa,EAJxEP,EAMhBC,EAAW,KALxBnoE,EAAAA,EAA0BkoE,GAM9BQ,EAAAA,EAAAA,0BAAyBP,EAAW,4FCdpC,SAFqBQ,EAAAA,EAAAA,eAA8B,MCC/B,YAAIC,o4DC2DxB,MClDA,EAViB,WACb,IAAMt3E,GAAQu3E,EAAAA,EAAAA,YAAWC,GAEzB,IAAKx3E,EACD,MAAM,IAAIlN,MAAM,8CAGpB,OAAOkN,CACX,ECeA,EArB8B,SAAH,GAAuD,IAAjDy/C,EAAQ,EAARA,SAC7B,EFGoB,SAA6C7sD,GACjE,IAAkD,KAAf6kF,EAAAA,EAAAA,WAAS,GAAM,GAA3CC,EAAU,KAAEC,EAAY,KACuB,KAAfF,EAAAA,EAAAA,WAAS,GAAM,GAA/CG,EAAa,KAAEC,EAAa,KACU,KAAnBJ,EAAAA,EAAAA,YAAmB,GAAtCzyE,EAAK,KAAE8yE,EAAQ,KACoC,KAAlCL,EAAAA,EAAAA,YAAkC,GAAnDlnF,EAAI,KAAEwnF,EAAO,KACdC,GAAaC,EAAAA,EAAAA,UACbC,GAAKC,EAAAA,EAAAA,SAEL9nF,GAAY+nF,EAAAA,EAAAA,cACd,WAAyC,2BAArCC,EAAK,yBAALA,EAAK,gBACL,IAAM3P,EAAO2P,aAAK,EAALA,EAAQ,GACfj5E,EAAUspE,GAAQ,YAAaA,EAAQA,EAAKtpE,aAAuCtN,EAEzF6lF,GAAa,GACbE,GAAc,GAcd,IAAI,MACAG,EAAWM,QAAUJ,EAAG7nF,yWAAU,WAAGuC,EAAO,GAAC,gBAAa,GAAC,GAAMwM,GAAW,CAAC,IAAM/O,WAZxE,SAAC+K,GACZ28E,EAAQ38E,GACRu8E,GAAa,EACjB,IAGgB,SAACv8E,GACb08E,EAAS18E,EAAS4J,OAClB2yE,GAAa,EACjB,GAOA,CAAE,MAAO9oF,GACLipF,EAASjpF,EACb,CACJ,GACA,CAACqpF,EAAItlF,IAGHwN,GAAcg4E,EAAAA,EAAAA,cAAY,WAAM,QAChB,QAAlB,EAAAJ,EAAWM,eAAO,OAAa,QAAb,EAAlB,EAAoBl4E,mBAAW,OAA/B,UACAy3E,GAAc,EAClB,GAAG,IAQH,OANAU,EAAAA,EAAAA,YAAU,WACN,OAAO,WACHn4E,GACJ,CACJ,GAAG,CAACA,IAEG,CAAE/P,UAAAA,EAAW+P,YAAAA,EAAas3E,WAAAA,EAAYE,cAAAA,EAAe5yE,MAAAA,EAAOzU,KAAAA,EACvE,CEvDgCioF,CAAgB,kBAApCjoF,EAAI,EAAJA,KAAMF,EAAS,EAATA,UAEQw+C,EAClB4pC,IADAC,eAAkB7pC,OAetB,OAZA0pC,EAAAA,EAAAA,YAAU,WACNloF,EAAU,CAAE+O,QAAS,CAAEu5E,cAAe,QAC1C,GAAG,CAACtoF,KAEJkoF,EAAAA,EAAAA,YAAU,WACN,GAAIhoF,EAAM,CACN,IAAQmoF,EAAmBnoF,EAAnBmoF,eAEJA,GAAgB7pC,GAAO,SAAAh4C,GAAI,OAAI+hF,IAAM/hF,EAAM6hF,EAAe,GAClE,CACJ,GAAG,CAAC7pC,EAAQt+C,IAEL,oCAAGkvD,EACd,4rBCvBqE,IAEhDo5B,EAAS,WAG1B,WAAYjmF,EAAckmF,gGAAgC,cAF1DvoF,UAAsBuB,GAGlBinF,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBuD,KAAMyoF,EAAAA,WACNnqC,OAAQ3vC,EAAAA,OAAAA,MACR+5E,QAAS/5E,EAAAA,OAAAA,SAGbg6E,EAAAA,EAAAA,IAAgBlsF,KAAM,CAAE4F,KAAAA,EAAMumF,WAAY,CAAC,QAASC,QAASlmF,OAAOo3E,eAAgB94E,MAAK,kBACrFsnF,aAAe,EAAfA,GAAmB,GAE3B,SAQC,SARA,0BAED,SAAOvoF,GACHvD,KAAKuD,KAAOA,aAAgB8oF,SAAW9oF,EAAKvD,KAAKuD,MAAQA,CAC7D,GAAC,qBAED,YACI+oF,EAAAA,EAAAA,IAAetsF,KACnB,0EAAC,EArByB,2eCHM,IAGfusF,EAAkB,8+BACnC,aAAc,wHACJ,qBACV,CAAC,gEAHkC,CAASV,2eCDhD,IAAMW,EAAQ,CACVC,KAAK,EACLC,KAAK,EACLC,KAAK,GAIYC,EAAiB,8+BAClC,aAAc,gIACJ,qBAAqB,WAElB,EAAKrpF,MAAM,EAAKs+C,OAAO2qC,GAGxB,EAAKjpF,MAAQ0D,OAAO2Z,KAAK,EAAKrd,MAAMmE,SAAWT,OAAO2Z,KAAK4rE,GAAO9kF,QAClE,EAAKm6C,QAAO,SAAAsuB,GACR,IAAM5sE,EAAOipF,EAOb,OALAvlF,OAAO2Z,KAAK4rE,GAAOrpF,SAAQ,SAAA0pF,QAEL/nF,IAAdqrE,EAAI0c,KAAqBtpF,EAAKspF,GAAQ1c,EAAI0c,GAClD,IAEOtpF,CACX,GAER,GACJ,CAAC,gEApBiC,CAASsoF,qsCCyB/C,QA5BsB,SAAH,GAA6E,IAAvEp5B,EAAQ,EAARA,SAAUz/C,EAAK,EAALA,MACzB85E,GAAyBC,EAAAA,EAAAA,UAAQ,WAEnC,MAAI,YAAa/5E,GAASA,EAAMg6E,QAAgBh6E,EAGzC,OACAA,GAAK,IACR04E,eAAgB,IAAIa,EACpBU,cAAe,IAAIL,GAE3B,GAAG,CAAC55E,IAUJ,OARAu4E,EAAAA,EAAAA,YAAU,WACN,OAAO,WACHtkF,OAAOrE,OAAOkqF,GAAe3pF,SAAQ,SAAAkX,GACZ,WAAjB,EAAOA,IAAsB,YAAaA,GAAOA,EAAM4xE,SAC/D,GACJ,CACJ,GAAG,CAACa,IAGA,kBAAC,WAAqB,CAACzyE,MAAOyyE,GAC1B,kBAAC,EAAqB,KAAEr6B,GAGpC,EC9BA,ECAc,WAAH,OACP,oCACI,2BAAO1vD,GAAG,eAAeupB,IAAG,UAAK5K,EAAAA,EAAuB,4BACxD,2BAAO3e,GAAG,eAAeupB,IAAG,UAAK5K,EAAAA,EAAuB,qBACxD,2BAAO3e,GAAG,WAAWupB,IAAG,UAAK5K,EAAAA,EAAuB,wBACpD,2BAAO3e,GAAG,QAAQupB,IAAG,UAAK5K,EAAAA,EAAuB,6BACjD,2BAAO3e,GAAG,eAAeupB,IAAG,UAAK5K,EAAAA,EAAuB,kCACzD,ktCCNP,IAGawrE,EAAcC,IAAAA,cAAoB,MAoBlCC,EAAsB,SAAH,GAA4B,IAAtBp6E,EAAK,EAALA,MAAOy/C,EAAQ,EAARA,SACzC,OAAO,kBAACy6B,EAAYG,SAAQ,CAAChzE,MAAK,OAAOrH,GAAUA,EAAMs6E,OAAS76B,EACtE,EAEajxB,EAAU,SAAA+rD,GAAe,OAAI,SAAAC,GAAS,OAtBnD,SAAqCD,EAAiBE,GAClD,IAAMD,EAAY,SAAAE,GACd,IAAM16E,EAAQm6E,IAAAA,WAAiBD,GAE3BS,EAAoBF,EAOxB,OAhBiB,SAAAD,GAAS,QACN,mBAAdA,IAA4BA,EAAUvhC,YAAauhC,EAAUvhC,UAAU2hC,iBAAiB,CAU1FC,CAAiBJ,KAEjBE,EADmC,SAAAtC,GAAK,OAAI,kBAACoC,EAAkBpC,EAAS,IAIrEyC,EAAAA,EAAAA,cAAY,kBAAMH,EAAkB,OAAKD,GAAcH,EAAgBv6E,EAAO06E,IAAa,GACtG,EAGA,OADAF,EAAUO,YAAcN,EAAc7nF,KAC/B4nF,CACX,CAMuDQ,CAA4BT,EAAiBC,EAAU,aClB9G,QARqC,WAAH,OAC9B,kBAAC,EAAAS,QAAO,CAACC,UAAU,MAAMC,OAAO,KAAKtoF,SAASgB,EAAAA,EAAAA,UAAS,yBACnD,kBAAC,EAAAunF,UAAS,CAAClI,UAAU,eAAemI,KAAK,+BAA+BC,aAAW,GAC/E,kBAAC,EAAA72B,KAAI,CAAC7F,KAAK,0BAET,ECNd,GC8BepwB,GAAQ,YAAK,MAAmB,CAC3C+sD,yBADwB,EAAFC,GACOD,yBAChC,GAFD,EAlB4B,SAAH,GAAgE,IAA1DA,EAAwB,EAAxBA,yBAC3BpB,IAAAA,WAAgB,kBAAMsB,GAAgB,GAAE,IACxCtB,IAAAA,WAAgB,kBAAM,kBAAMoB,EAAyB,GAAG,IAAE,CAACA,IAE3D,IAAME,EAAiB,WACnBF,EAAyB,CAErB,CACIG,SAAU,QACVlB,UAAWmB,EACXC,qBAAqB,IAGjC,EAEA,OAAO,IACX,8BCvBaC,GAA8B5nF,OAAOguB,OAAO,CACrD65D,UAAW,YACXC,MAAO,UAGEC,GAAiC/nF,OAAOguB,OAAO,CACxDg6D,UAAW,EACXC,YAAa,EACbH,MAAO,EACPI,SAAU,IAKDC,GAAU,CAAC,oBAAqB,iBAAkB,YAAa,gBCTpEF,GAAuBF,GAAAA,YAAVD,GAAUC,GAAAA,MAkB/B,SAAextD,GAAQ,gBAAG8rD,EAAI,EAAJA,KAAM+B,EAAS,EAATA,UAAWtkC,EAAS,EAATA,UAAS,MAAmB,CACnEukC,eAAgBD,EAAUC,eAC1BC,cAAejC,EAAKkB,GAAGgB,yBACvBC,WAAY1kC,EAAU0kC,WACtBC,sBAAuB3kC,EAAU2kC,sBACpC,GALD,EAhBgC,SAAH,OACzBJ,EAAc,EAAdA,eACAC,EAAa,EAAbA,cACAG,EAAqB,EAArBA,sBACAD,EAAU,EAAVA,WAAU,OAEV,yBACIvJ,UAAWyJ,KAAW,0BAA2B,CAC7C,qCAAqD,IAAfF,GAAoBC,EAC1D,sCAAuC,CAACR,GAAaH,IAAOhuE,SAAS0uE,IAAeH,KAGxF,kBAACC,EAAa,MACZ,ICzBV,MCoBA,GAduB,SAAH,OAAMK,EAAe,EAAfA,gBAAiBC,EAAiB,EAAjBA,kBAAiB,OACxD,kBAAC,EAAAC,cAAa,CAACpB,UAAUqB,EAAAA,EAAAA,YAAa,SAAW,MAC7C,kBAAC,EAAAC,UAAS,CAACC,aAAa,aAAaC,YAAaN,EAAiBO,cAAeN,KACjFO,EAAAA,EAAAA,cACG,oCACI,kBAAC,EAAAC,YAAW,CAACJ,aAAa,aAAaK,qBAAqB,sBAC5D,kBAAC,EAAAC,MAAK,CAACN,aAAa,aAAaK,qBAAqB,sBACtD,kBAAC,EAAAE,UAAS,CAACP,aAAa,eACxB,kBAAC,EAAAQ,MAAK,CAACR,aAAa,gBAGhB,ECgEpB,GAAezuD,GAAQ,gBAAGkvD,EAAW,EAAXA,YAAaC,EAAM,EAANA,OAAQnC,EAAE,EAAFA,GAAIa,EAAS,EAATA,UAAS,MAAmB,CAC3EuB,WAAYF,EAAYE,WACxBC,gBAAiBH,EAAYG,gBAC7B7vF,YAAa0vF,EAAY1vF,YACzB8vF,cAAe,CACXC,mBAAmB,GAEvBzB,eAAgBD,EAAUC,eAC1B0B,iBAAkBL,EAAOK,iBACzBC,eAAgBP,EAAYO,eAC5BC,eAAgBR,EAAYQ,eAC5BC,SAAU,CACNC,kBAAkB,EAClBC,WAAW,EACXC,8BAA8B,EAC9BC,SAAUZ,EAAOa,iBAAiB92D,cAClCg0D,SAAUF,EAAGiD,wBAA0B,SAAW,OAClDC,MAAOlD,EAAG1jC,gBAAkB,OAAS,SAEzC/pD,OAAQ2vF,EAAY3vF,OACpB6uF,gBAAiBc,EAAYd,gBAC7BC,kBAAmBa,EAAYb,kBAC/B8B,SAAUjB,EAAYiB,SACtBC,eAAgBlB,EAAYkB,eAC5BC,cAAenB,EAAYmB,cAC3BC,YAAapB,EAAYoB,YAC5B,GA1BD,EArDc,SAAH,GAiBQ,IAhBflB,EAAU,EAAVA,WACAC,EAAe,EAAfA,gBACA7vF,EAAW,EAAXA,YACAsuF,EAAc,EAAdA,eACA0B,EAAgB,EAAhBA,iBACAC,EAAc,EAAdA,eACAC,EAAc,EAAdA,eACAC,EAAQ,EAARA,SACAY,EAAiB,EAAjBA,kBACAhxF,EAAM,EAANA,OACA6uF,EAAe,EAAfA,gBACAC,EAAiB,EAAjBA,kBACA8B,EAAQ,EAARA,SACAC,EAAc,EAAdA,eACAC,EAAa,EAAbA,cACAC,EAAW,EAAXA,YAGA,OACI,yBACI5L,UAAWyJ,KAAW,2BAA4B,CAC9C,qCAAsCL,KAAmBS,EAAAA,EAAAA,eAG7D,kBAAC,EAAAiC,WAAU,CACPjvF,GAAG,OACH+3C,SATS,GAUTm3C,mBAAoBF,EACpBG,qBAAsB,KACtBC,oBAAoB,EACpBC,oBAAqB,SAAAC,GAAC,OAAInB,GAAgBmB,EAAE,EAC5CC,cAAe,kBACX,kBAAC,GAAc,CAAC1C,gBAAiBA,EAAiBC,kBAAmBA,GAAqB,EAE9F0C,UAAW3B,EACXb,UAAUA,EAAAA,EAAAA,YACVyC,yBAAyBpC,EAAAA,EAAAA,aACzBpvF,YAAaA,EACbyxF,WAAYZ,EACZa,cAAef,EACfgB,oBAAqBf,EACrBgB,iBAAkBd,EAClBX,SAAUA,EACVpwF,OAAQA,EACR8xF,WAAY,kBAAM,kBAAC,EAAAC,WAAU,CAACC,SAAU9B,GAAkB,EAC1D+B,mBAAoBhC,EACpBH,gBAAiBA,IAIjC,IC/EA,qBC8BA,MC/BA,GDK2B,SAAH,WAAMoC,MAAAA,OAAK,IAAG,IAAC,SACnC,kBAAC,MAAa,CACV7nD,OAAQ,IACRD,MAAO,IACP8nD,MAAOA,EACPC,gBAAiB,2BACjBC,gBAAiB,wBAEjB,0BAAM5rF,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,OACpD,0BAAM7jC,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,MACpD,0BAAM7jC,EAAE,MAAMi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,OACrD,0BAAM7jC,EAAE,MAAMi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,MACrD,0BAAM7jC,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,MACpD,0BAAM7jC,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,MACrD,0BAAM7jC,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,MACrD,0BAAM7jC,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,MACrD,0BAAM7jC,EAAE,KAAKi3B,EAAE,MAAM+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,MACrD,0BAAM7jC,EAAE,KAAKi3B,EAAE,MAAM+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,MACtD,0BAAM7jC,EAAE,KAAKi3B,EAAE,MAAM+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,MACrD,0BAAM7jC,EAAE,MAAMi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,MACtD,0BAAM7jC,EAAE,MAAMi3B,EAAE,MAAM+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,MACtD,0BAAM7jC,EAAE,MAAMi3B,EAAE,MAAM+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,MACvD,0BAAM7jC,EAAE,MAAMi3B,EAAE,MAAM+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,MAC1C,EE3BpB,GCO8B,SAAH,GAA2D,IAArD5vB,EAAM,EAANA,OAAQ0qE,EAAS,EAATA,UAC/BkN,EAAmB53E,GAAU,EAEnC,OACI,yBACI0qE,UAAWyJ,KAAW,2BAA4BzJ,EAAW,CACzD,gCAAiCkN,EACjC,kCAAmCA,KAGvC,kBAAC,EAAAvrC,KAAI,CAACwrC,OAAO,OAAOnN,UAAU,oCACzBkN,EACG,kBAAC,aAAc,MACVvsF,EAAAA,EAAAA,UAAS,OACV,kBAAC,EAAA4wD,KAAI,CAAC7F,KAAK,oBAAoBs0B,UAAU,gCAAgCoN,MAAM,WAGnF,kBAAC,aAAc,MACVzsF,EAAAA,EAAAA,UAAS,QACV,kBAAC,EAAA4wD,KAAI,CAAC7F,KAAK,gBAAgBs0B,UAAU,gCAAgCoN,MAAM,UAMnG,ECnCO,0BCAMC,GAAkBtsF,OAAOguB,OAAO,CACzCu+D,YAAa,EACbC,SAAU,EACVC,cAAe,EACfC,kBAAmB,EACnBC,YAAa,EACbC,gBAAiB,ICGrB,MCqBA,GAzBqB,SAAH,GAOQ,IANtBC,EAAU,EAAVA,WACAC,EAAe,EAAfA,gBACAC,EAAO,EAAPA,QACAC,EAAa,EAAbA,cACAC,EAAwB,EAAxBA,yBACAC,EAAkB,EAAlBA,mBAEMC,EAAcjH,IAAAA,OAA6B,MAMjD,OAFAkH,EAAAA,EAAAA,mBAAkBD,EAAaD,GAHF,SAACnxE,GAA0C,aACpEkxE,KAA+C,QAAnB,EAACJ,EAAWxI,eAAO,OAAlB,EAAoBjhE,SAASrH,EAAMsH,QAAO,IAKvE,kBAAC,GAAO,CACJ8pE,YAAaA,EACbL,gBAAiBA,EACjBC,QAASA,EACTC,cAAeA,EACf/N,UAAU,iBAGtB,ECCA,GAzBgB,SAAH,OACTkO,EAAW,EAAXA,YACAL,EAAe,EAAfA,gBACAC,EAAO,EAAPA,QACAC,EAAa,EAAbA,cACA/N,EAAS,EAATA,UACAoO,EAAc,EAAdA,eAAc,OAEd,yBAAKC,IAAKH,EAAalO,UAAWA,GAC7B8N,EAAQlxF,KAAI,SAAAugC,GACT,IAAMmxD,EAAY9xF,MAAMo/B,QAAQiyD,IAAoBA,EAAgBhzE,SAASsiB,EAAKtgC,IAClF,OACI,kBAAC,EAAA0xF,SAAQ,CACL/yF,IAAK2hC,EAAKtgC,GACVuxF,eAAgBA,EAChBj6E,MAAOm6E,EACPE,eAAgBF,EAChB7/D,MAAO0O,EAAK1O,MACZo+D,SAAU,kBAAMkB,GAAeO,EAAWnxD,EAAKtgC,GAAG,GAG9D,IACE,EC+CV,GAjEsB,SAAH,GAA2D,IAArD4xF,EAAO,EAAPA,QAASzO,EAAS,EAATA,UAAWC,EAAK,EAALA,MA8DzC,OAAO,yBAAKD,UAAW0O,KAAW,gBAAiB1O,IA7D7B,WAClB,OAAQyO,GACJ,KAAKn+E,EAAAA,UAAAA,WACD,OAAO3P,EAAAA,EAAAA,UAAS,kCAEpB,KAAK2P,EAAAA,UAAAA,YACD,OAAO3P,EAAAA,EAAAA,UAAS,2CAEpB,KAAK2P,EAAAA,UAAAA,SACD,IAAQC,EAA6B0vE,EAA7B1vE,SAAUL,EAAmB+vE,EAAnB/vE,eAClB,OACI,kBAAC,EAAAy+E,SAAQ,CACLC,kBAAkB,uDAClBlyF,OAAQ,CAAE6T,SAAAA,EAAUL,eAAAA,GACpB2+E,WAAY,CAAC,kBAAC,EAAAltC,KAAI,CAACnmD,IAAK,EAAGU,KAAK,MAAM4yF,OAAQ,CAAE1B,MAAO,yBACvDxyF,QAAS,CAAEm0F,cAAe,CAAEC,aAAa,MAIrD,KAAK1+E,EAAAA,UAAAA,KACD,IAAQoB,EAAauuE,EAAbvuE,SACR,OACI,kBAAC,EAAAi9E,SAAQ,CACLC,kBAAkB,gCAClBlyF,OAAQ,CAAEgV,SAAAA,GACVm9E,WAAY,CAAC,kBAAC,EAAAltC,KAAI,CAACnmD,IAAK,EAAGU,KAAK,MAAM4yF,OAAQ,CAAE1B,MAAO,8BAInE,KAAK98E,EAAAA,UAAAA,OACD,IAAQ7H,EAAqBw3E,EAArBx3E,SAAU6M,EAAW2qE,EAAX3qE,OAClB,OACI,kBAAC,EAAAq5E,SAAQ,CACLC,kBAAkB,mCAClBlyF,OAAQ,CACJ4Y,OAAQ,GAAF,QAAK25E,EAAAA,EAAAA,aAAYxmF,EAAU6M,GAAQ,GAAK,aAAI29B,EAAAA,EAAAA,wBAAuBxqC,KAE7EomF,WAAY,CAAC,kBAAC,EAAAltC,KAAI,CAACnmD,IAAK,EAAGU,KAAK,MAAM4yF,OAAQ,CAAE1B,MAAO,8BAInE,KAAK98E,EAAAA,UAAAA,KACD,IAAQ7H,EAAqBw3E,EAArBx3E,SAAU6M,EAAW2qE,EAAX3qE,OAClB,OACI,kBAAC,EAAAq5E,SAAQ,CACLC,kBAAkB,iCAClBlyF,OAAQ,CACJ4Y,OAAQ,GAAF,QAAK25E,EAAAA,EAAAA,aAAYxmF,EAAU6M,GAAQ,GAAK,aAAI29B,EAAAA,EAAAA,wBAAuBxqC,KAE7EomF,WAAY,CAAC,kBAAC,EAAAltC,KAAI,CAACnmD,IAAK,EAAGU,KAAK,MAAM4yF,OAAQ,CAAE1B,MAAO,6BAInE,KAAK98E,EAAAA,UAAAA,aACD,OAAO,kBAAC,EAAAq+E,SAAQ,CAACC,kBAAkB,oDAEvC,QACI,OAAO,KAEnB,CAEgEM,GACpE,iBCrBA,SAjBoB,SAAH,GAAwD,IAAlD5nC,EAAG,EAAHA,IAAK6nC,EAAU,EAAVA,WAAYC,EAAO,EAAPA,QAC5BC,GAAYC,EAAAA,EAAAA,qBAAoBH,GAAhCE,QACAE,EAAwDjoC,EAAxDioC,KAAMhW,EAAkDjyB,EAAlDiyB,KAAM55E,EAA4C2nD,EAA5C3nD,QAASmuC,EAAmCwZ,EAAnCxZ,aAAckyC,EAAqB14B,EAArB04B,UAAWC,EAAU34B,EAAV24B,MAChDuP,EJjCO,SAAH,OAAMD,EAAI,EAAJA,KAAMhW,EAAI,EAAJA,KAAI,OAC1B,oCACI,0BAAMyG,UAAU,sBAAsBuP,GAAY,MAAG,0BAAMvP,UAAU,sBAAsBzG,GAC5F,CI8BakW,CAAS,CAAEF,KAAAA,EAAMhW,KAAAA,IAEjC,OACI,kBAACmW,GAAA,EAAa,CAACC,GAAIN,EAAS10E,QAAS,IAAK8uE,WAAW,mBACjD,yBAAKzJ,UAAU,iBACX,yBAAKA,UAAU,yBAjCD,SAC1BrgF,EACApE,EACAykF,EACAC,EACAmP,GAEA,OAAQ7zF,GACJ,KAAKuzB,EAAAA,cAAAA,QACD,OAAO,kBAAC,GAAa,CAAC2/D,QAAS9uF,EAAmBsgF,MAAOA,EAAOD,UAAWA,IAE/E,KAAKlxD,EAAAA,cAAAA,OACD,MAAuB,mBAAZnvB,EACA,yBAAKqgF,UAAW0O,KAAW,gBAAiB1O,IAAargF,EAAQyvF,IAErE,yBAAKpP,UAAW0O,KAAW,gBAAiB1O,IAAargF,GAEpE,KAAKmvB,EAAAA,cAAAA,MACD,OAAO,yBAAKkxD,UAAU,sCAAsCrgF,GAEhE,QACI,OAAO,KAEnB,CAWqBiwF,CAAsBjwF,EAASmuC,EAAckyC,EAAWC,EAA4BmP,IAEzF,yBAAKpP,UAAU,0BAA0BwP,IAIzD,EC9BA,GAdsB,SAAH,OAAMn0E,EAAS,EAATA,UAAS,OAC9B,kBAAC,MAAa,CACV2kE,UAAW0O,KAAW,kBAAmB,CAAE,0BAA2BrzE,IACtE0xE,MAAO,EACP9nD,MAAO,IACPC,OAAQ,GACR8nD,gBAAiB,2BACjBC,gBAAiB,wBAEjB,0BAAM5rF,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,OACrD,0BAAM7jC,EAAE,KAAKi3B,EAAE,KAAK+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,MACzC,ECiCpB,GAAe5J,GAAQ,gBAAGu0D,EAAQ,EAARA,SAAU1G,EAAS,EAATA,UAAS,MAAmB,CAC5D2G,2BAA4BD,EAASC,2BACrCC,uBAAwBF,EAASE,uBACjCC,uBAAwB7G,EAAU6G,uBACrC,GAJD,EAnCiB,SAAH,GAKQ,IACdC,EAAeC,EALnBC,EAAG,EAAHA,IACAL,EAA0B,EAA1BA,2BACAC,EAAsB,EAAtBA,uBACAC,EAAsB,EAAtBA,uBAUA,MAPY,iBAARG,GACAF,EAAgBH,EAChBI,GAAkBvvF,EAAAA,EAAAA,UAAS,uCACZ,YAARwvF,IACPF,EAAgBF,EAChBG,GAAkBvvF,EAAAA,EAAAA,UAAS,2BAG3B,kBAAC,EAAAonF,QAAO,CACJ/H,UAAU,kBACVoQ,gBAAgB,0BAChBpI,UAAU,SACVroF,QAASuwF,EACTjI,OAAQ,GAER,kBAAC,EAAAoI,OAAM,CACHxzF,GAAG,kBACH6lB,YAAastE,EACbhQ,UAAU,mBACVt0B,KACI,kBAAC,EAAA6F,KAAI,CAAC7F,KAAK,aAAa0hC,MAAO4C,GAA0B,WAAYhQ,UAAU,mBAEnFsQ,QAASL,IAIzB,IC3CA,MCkDA,GA7CqB,SAAH,GAMQ,IALtBpC,EAAe,EAAfA,gBACAC,EAAO,EAAPA,QACAC,EAAa,EAAbA,cACAC,EAAwB,EAAxBA,yBACAC,EAAkB,EAAlBA,mBAEML,EAAa3G,IAAAA,OAA6B,MAEhD,OACI,oCACI,yBAAKjH,UAAU,4BACX,kBAAC,EAAAuQ,eAAc,KACX,kBAAC,GAAQ,CAACJ,IAAI,aAElB,yBAAK9B,IAAKT,EAAY5N,UAAU,kCAAkCsQ,QAASrC,GACvE,kBAAC,EAAAtsC,KAAI,CAACzlD,KAAK,KAAK8jF,UAAU,0CACtB,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,aAEhC,kBAAC,EAAAr9B,KAAI,CAAC7F,KAAK,WAAWxvD,KAAM,OAGpC,kBAACwzF,GAAA,EAAa,CACVC,GAAI3B,EACJvE,WAAY,CACR+G,MAAO,uBACPC,UAAW,4BACXC,KAAM,uBAEV/1E,QAAS,IACTg2E,eAAa,GAEb,kBAAC,GAAY,CACT/C,WAAYA,EACZC,gBAAiBA,EACjBC,QAASA,EACTC,cAAeA,EACfC,yBAA0BA,EAC1BC,mBAAoBA,KAKxC,+FCuCA,SAAe3yD,GAAQ,gBAAGs1D,EAAO,EAAPA,QAASzH,EAAS,EAATA,UAAS,MAAmB,CAC3D0E,gBAAiB+C,EAAQ/C,gBACzBE,cAAe6C,EAAQ7C,cACvBD,QAAS8C,EAAQ9C,QACjB+C,kBAAmBD,EAAQC,kBAC3B7C,yBAA0B4C,EAAQ5C,yBAClCC,mBAAoB2C,EAAQ3C,mBAC5B6C,oBAAqBF,EAAQE,oBAC7BC,uBAAwB5H,EAAU4H,uBAClCC,eAAgB7H,EAAU6H,eAC7B,GAVD,EA/EgB,SAAH,GAMQ,IALjBA,EAAc,EAAdA,eACAH,EAAiB,EAAjBA,kBACAE,EAAsB,EAAtBA,uBACAD,EAAmB,EAAnBA,oBACG3L,oXAAK,OAEF8L,EAA2Bz0F,MAAMo/B,QAAQi1D,IAAsBA,EAAkBrvF,OACjF0vF,EAA6B10F,MAAMo/B,QAAQk1D,IAAwBA,EAAoBtvF,OACrFqsF,EAAoB1I,EAApB0I,gBACFxyE,GAAYwuE,EAAAA,EAAAA,YAElB,OACI,yBACI7J,UAAW0O,KAAW,0CAA2C,CAC7D,0BAA2BrzE,KAG/B,kBAAC,GAAiB8pE,GAClB,yBAAKnF,UAAU,sBACViR,EACG,kBAAC,EAAAE,SAAQ,CACLnR,UAAU,UACVoR,YAAaP,EACbQ,YAAa,SAAC5wF,GAA0B,OAAK,kBAAC,GAAgBA,EAAQ,EACtE6wF,UAAW,SAAChqC,GAAyB,OAAKA,EAAIiqC,SAAS,IAG3D,oCACKP,GAAkB3D,GAAgBE,UACjCxsF,OAAO2Z,KAAKmzE,GAAoCrsF,SACjD0vF,GACDH,EACI,kBAAC,GAAa,CAAC11E,UAAWA,IAE1B,yBAAK2kE,UAAU,iBACX,kBAAC,EAAAzuB,KAAI,CAAC7F,KAAK,QAAQs0B,UAAU,sBAAsB9jF,KAAM,GAAIkxF,MAAM,cACnE,kBAAC,EAAAzrC,KAAI,CACD6vC,GAAG,KACHt1F,KAAK,KACLixF,OAAO,OACPl2D,MAAM,SACNm2D,MAAM,iBACNqE,YAAY,MACZzR,UAAU,0BAETr/E,EAAAA,EAAAA,UAAS,qCAEd,yBAAKq/E,UAAU,0BACX,kBAAC,EAAAr+B,KAAI,CAACzlD,KAAK,MAAMkxF,MAAM,mBAClBzsF,EAAAA,EAAAA,UAAS,mCAEd,wBAAIq/E,UAAU,uBACV,4BACI,kBAAC,EAAAr+B,KAAI,CAACzlD,KAAK,MAAMkxF,MAAM,mBAClBzsF,EAAAA,EAAAA,UAAS,4BAGlB,4BACI,kBAAC,EAAAghD,KAAI,CAACzlD,KAAK,MAAMkxF,MAAM,mBAClBzsF,EAAAA,EAAAA,UAAS,2BAGlB,4BACI,kBAAC,EAAAghD,KAAI,CAACzlD,KAAK,MAAMkxF,MAAM,mBAClBzsF,EAAAA,EAAAA,UAAS,wCAY1D,ICrFA,mfCFA,knGAAA0B,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,6bAAAA,EAAA,iBAAAA,EAAA,EAAAA,IAAA,EAAAA,GAAA,EAAAA,GAAA,SAQA,IAAMqvF,GAAoB,SAAAvM,GACtB,IATJ,EAAA9iF,EASoE,GATpE,EASkD4kF,IAAAA,SAAe,IATjE5kF,EASoE,EATpE,yDAAAA,GAAA,0JAAAA,EAAA,6FAAAA,GAAA,mIAAAA,IAAA,iSAAAA,IAAA,gLASWsvF,EAAgB,KAAEC,EAAiB,KAEtCC,EASA1M,EATA0M,4BACAviD,EAQA61C,EARA71C,aACAwiD,EAOA3M,EAPA2M,eACAC,EAMA5M,EANA4M,eACAC,EAKA7M,EALA6M,iBACAC,EAIA9M,EAJA8M,mBACAC,EAGA/M,EAHA+M,oBACAC,EAEAhN,EAFAgN,YACAC,EACAjN,EADAiN,yBAGJnL,IAAAA,WAAgB,YACRmL,GAA6B9iD,GAC7B2iD,GAER,IAEA,IAAMI,EAAc,eA5BxB,EA4BwB,GA5BxB,EA4BwB,WAAG,WAAM31F,GAAM,2EAC3BA,EAAO41F,kBAAoBP,EAAc,gCAChBG,EAAoB,CAAEK,WAAY71F,EAAO41F,kBAAkB,OAApE,GACZE,OADEA,EAAa,EAAH,QACZA,EAAY1gF,MAAK,gBACqC,OAAtD8/E,GAAkBjxF,EAAAA,EAAAA,UAAS6xF,EAAW1gF,MAAMnS,UAAU,0BAI9DwyF,EAAYz1F,EAAO+1F,WACnBT,IAAmB,0CArC3B,iLAsCK,gBAVmB,sCA2EpB,OACI,yBAAKhS,UAAU,qBACX,yBAAKA,UAAU,8BACX,yBAAKA,UAAU,4BACVr/E,EAAAA,EAAAA,UAAS,qFAEd,kBAAC,GAAA+xF,OAAM,CAACC,cAAeb,EAAgBc,SAtE5B,SAAAl2F,GACnB,IAAMm2F,EAAS,CAAC,EAEVC,EAAY,gBACZC,EAAa,QAIbC,GAA0BryF,EAAAA,EAAAA,UAAS,2BACnCsyF,GAAuBtyF,EAAAA,EAAAA,UAAS,4BAChCuyF,GAAqBvyF,EAAAA,EAAAA,UAAS,oCAC9BwyF,GAAsBxyF,EAAAA,EAAAA,UAAS,sCAC/ByyF,GAA2BzyF,EAAAA,EAAAA,UAAS,0DAA2D,CACjGoxF,eAAAA,IAgDJ,MA9CyB,CAAC,YAAa,mBAOtB90F,SAAQ,SAAAkgC,GAChBzgC,EAAOygC,KACR01D,EAAO11D,GAAQ61D,EAEvB,IAVqB,CAAC,YAAa,mBAYtB/1F,SAAQ,SAAAkgC,GACbzgC,EAAOygC,KACF21D,EAAUrsF,KAAK/J,EAAOygC,KAEfzgC,EAAOygC,GA3BR,gBA4BP01D,EAAO11D,GAAQ+1D,GAFfL,EAAO11D,GAAQ81D,EAK3B,IAhBsB,CAAC,aAkBTh2F,SAAQ,SAAAkgC,GACdzgC,EAAOygC,KACF41D,EAAWtsF,KAAK/J,EAAOygC,MACxB01D,EAAO11D,GAAQ81D,GAG3B,IA3BsB,CAAC,mBA6BTh2F,SAAQ,SAAAkgC,GAClB,IAAMk2D,EAAuB32F,EAAOygC,GAAM50B,WAAWhC,MAAM,KAAK,IAClC8sF,GAAuBA,EAAqB7xF,QAAc,GAC5D,IACxBqxF,EAAO11D,GAAQg2D,EAEvB,IAlCsB,CAAC,mBAmCTl2F,SAAQ,SAAAkgC,GACK,IAAnB40D,GAAwBA,IAAmBr1F,EAAOygC,IAAS40D,EAAiBr1F,EAAOygC,GACnF01D,EAAO11D,GAAQi2D,EAEfxB,EAAkB,GAE1B,IAEOiB,CACX,EAQ6ES,SAAUjB,IACtE,YAAwD,IAArD31F,EAAM,EAANA,OAAQ62F,EAAO,EAAPA,QAASV,EAAM,EAANA,OAAQW,EAAO,EAAPA,QAASC,EAAY,EAAZA,aAClC,OACI,kBAAC,GAAAC,KAAI,KACD,yBAAK1T,UAAU,iCACX,kBAAC,GAAAvxB,MAAK,CAAC/uD,KAAK,oBACP,gBAAG0B,EAAK,EAALA,MAAK,OACL,kBAAC,EAAAuyF,MAAK,MACEvyF,EAAK,CACT4+E,UAAU,2BACVzkF,KAAK,OACLkzB,OAAO9tB,EAAAA,EAAAA,UAAS,oBAChBwT,MAAOzX,EAAO41F,gBACdzF,SAAU4G,EACV3hF,MAAO6/E,GAAqB4B,EAAQnyF,EAAM1B,OAASmzF,EAAOzxF,EAAM1B,MAChEk0F,MAAMjzF,EAAAA,EAAAA,UACF,0EAEN,KAId,yBAAKq/E,UAAU,iCACX,kBAAC,GAAAvxB,MAAK,CAAC/uD,KAAK,cACP,YAAe,IAAZ0B,EAAK,EAALA,MACA,OACI,kBAAC,EAAAuyF,MAAK,MACEvyF,EAAK,CACT4+E,UAAU,2BACVzkF,KAAK,OACLkzB,OAAO9tB,EAAAA,EAAAA,UAAS,8BAChBwT,MAAOzX,EAAO+1F,UACd5F,SAAU4G,EACV3hF,MAAOyhF,EAAQnyF,EAAM1B,OAASmzF,EAAOJ,UACrCmB,MAAMjzF,EAAAA,EAAAA,UACF,kEAIhB,KAGR,yBACIq/E,UAAWyJ,KAAW,4BAA6B,CAC/C,uCACII,EAAAA,EAAAA,aAAcgI,KAGtB,yBAAK7R,UAAU,uCACX,kBAAC,EAAAqQ,OAAM,CACHwD,OAAK,EACLnsF,MAAM/G,EAAAA,EAAAA,UAAS,UACf2vF,QAAS2B,EACTtkC,WAAS,EACTpyD,KAAK,WAET,kBAAC,EAAA80F,OAAM,CACH90F,KAAK,SACLs4F,OAAK,EACLnsF,MAAM/G,EAAAA,EAAAA,UAAS,iBACf+hB,aACK8wE,IACA92F,EAAO+1F,YACP/1F,EAAO41F,iBACa,KAArBX,EAEJ/jC,SAAO,MAM/B,KAKpB,EAEMkmC,GAAgB,SAAA3O,GAClB,IAAQ4O,EAAsC5O,EAAtC4O,cAAe9B,EAAuB9M,EAAvB8M,mBACvB,OACI,qCACKpI,EAAAA,EAAAA,YACG,kBAAC,EAAAmK,YAAW,CAACC,WAAYF,EAAe/T,UAAU,kBAAkBkU,QAAQ,oBACxE,kBAAC,EAAAC,YAAW,CAACC,QAAQzzF,EAAAA,EAAAA,UAAS,UAAW0zF,aAAcpC,GACnD,kBAAC,EAAAqC,cAAa,KACV,kBAAC,EAAAC,kBAAiB,CAACvU,UAAU,8BACzB,kBAAC0R,GAAsBvM,OAMvC,kBAAC,EAAAqP,MAAK,CACFC,QAASV,EACTW,gBAAc,EACdzvD,MAAM,QACNC,OAAO,QACPyvD,YAAa1C,EACbjS,UAAU,2BACVxP,OAAO7vE,EAAAA,EAAAA,UAAS,WAEhB,kBAAC+wF,GAAsBvM,IAK3C,EAEA2O,GAAcc,UAAY,CACtB/C,4BAA6BgD,KAAAA,KAC7BvlD,aAAculD,KAAAA,KACdd,cAAec,KAAAA,KACf/C,eAAgB+C,KAAAA,OAChB9C,eAAgB8C,KAAAA,OAChBpC,UAAWoC,KAAAA,UAAAA,OACX5C,mBAAoB4C,KAAAA,KACpBzC,yBAA0ByC,KAAAA,KAC1B1C,YAAa0C,KAAAA,KACb3C,oBAAqB2C,KAAAA,KACrBC,wBAAyBD,KAAAA,QAG7B,MCxOA,GDwOev5D,GAAQ,gBAAGhsB,EAAM,EAANA,OAAQylF,EAAc,EAAdA,eAAgBzM,EAAE,EAAFA,GAAE,MAAQ,CACxDwJ,eAAgBiD,EAAejD,eAC/BD,4BAA6BvJ,EAAGuJ,4BAChCviD,aAAchgC,EAAOggC,aACrBykD,cAAegB,EAAehB,cAC9BhC,eAAgBgD,EAAehD,eAC/BU,UAAWsC,EAAetC,UAC1BR,mBAAoB8C,EAAe9C,mBACnCG,yBAA0B9iF,EAAO0lF,yBACjC7C,YAAa4C,EAAe5C,YAC5BD,oBAAqB5iF,EAAO4iF,oBAC5B4C,wBAAyBxlF,EAAOwlF,wBACnC,GAZD,CAYIhB,IEnPG,IASMmB,GAA0B,SAAH,GAAyC,IAAnCC,EAAe,EAAfA,gBAAiBn7C,EAAW,EAAXA,YACvD,GAAmCo7C,EAAAA,EAAAA,qBAAoBp7C,GAAem7C,GAA9Dr7C,EAAS,EAATA,UAAWC,EAAW,EAAXA,YAEnB,MAAO,CAEHs7C,0BAA2Bv7C,EAAY92C,KAAK6gC,IAAIiW,GAAWtxC,WAAa,GACxE8sF,4BAA6Bv7C,EAAcA,EAAYvxC,WAAa,GACpE+sF,gCAAiCz7C,EACjC07C,kCAAmCz7C,EAE3C,EAGa07C,GAA4Bl6D,GAAQ,mFAA2B,YAApBhuB,SAAAA,OAAQ,IAAG,GAAC,EAAC,EACjE,MAAO,CACHmoF,kBAAmBnoF,EAASmoF,kBAC5BJ,4BAA6B/nF,EAAS+nF,4BACtCD,0BAA2B9nF,EAAS8nF,0BACpCG,gCAAiCjoF,EAASioF,gCAC1CD,8BAA+BhoF,EAASgoF,8BAEhD,62BC7BO,IAAMI,GAAgB,WAAH,MAAU,CAChCC,OAAOh1F,EAAAA,EAAAA,UAAS,SAChBi1F,OAAOj1F,EAAAA,EAAAA,UAAS,UAChBk1F,OAAOl1F,EAAAA,EAAAA,UAAS,SAChBm1F,QAAQn1F,EAAAA,EAAAA,UAAS,UACjBo1F,eAAep1F,EAAAA,EAAAA,UAAS,kBACxBq1F,iBAAiBr1F,EAAAA,EAAAA,UAAS,qBAC1Bs1F,aAAat1F,EAAAA,EAAAA,UAAS,gBACtBu1F,WAAWv1F,EAAAA,EAAAA,UAAS,cACpBw1F,WAAWx1F,EAAAA,EAAAA,UAAS,cACpBy1F,mBAAmBz1F,EAAAA,EAAAA,UAAS,sBAC5B01F,aAAa11F,EAAAA,EAAAA,UAAS,gBACtB21F,uBAAuB31F,EAAAA,EAAAA,UAAS,0BAChC41F,kBAAkB51F,EAAAA,EAAAA,UAAS,qBAC3B61F,eAAe71F,EAAAA,EAAAA,UAAS,kBACxB81F,QAAQ91F,EAAAA,EAAAA,UAAS,eACjB+1F,gBAAgB/1F,EAAAA,EAAAA,UAAS,cACzBg2F,kBAAkBh2F,EAAAA,EAAAA,UAAS,iBAC3Bi2F,MAAMj2F,EAAAA,EAAAA,UAAS,SACfk2F,KAAKl2F,EAAAA,EAAAA,UAAS,OACd+uB,MAAM/uB,EAAAA,EAAAA,UAAS,QACfm2F,MAAMn2F,EAAAA,EAAAA,UAAS,QACfo2F,KAAKp2F,EAAAA,EAAAA,UAAS,OACdsK,MAAMtK,EAAAA,EAAAA,UAAS,QACfq2F,iBAAiBr2F,EAAAA,EAAAA,UAAS,mBAC1Bs2F,iBAAiBt2F,EAAAA,EAAAA,UAAS,mBAC1Bu2F,gCAAgCv2F,EAAAA,EAAAA,UAC5B,qFAEJw2F,sBAAsBx2F,EAAAA,EAAAA,UAAS,yBAC/By2F,oBAAoBz2F,EAAAA,EAAAA,UAAS,sBAC7B02F,eAAe12F,EAAAA,EAAAA,UAAS,OAC3B,EAiIY22F,GAAoB,SAAAC,GAAW,6WA/HP,SAAAA,GAAW,MAAK,CACjDrtE,OAAQ,CACJxqB,MAAMiB,EAAAA,EAAAA,UAAS,YACf6nF,SAAU,OAEdr+D,OAAQ,CACJzqB,MAAMiB,EAAAA,EAAAA,UAAS,cACf6nF,SAAU,UAEdt/D,KAAM,CACFxpB,KAAM63F,GAAc52F,EAAAA,EAAAA,UAAS,WAAYA,EAAAA,EAAAA,UAAS,QAClD6nF,SAAU,OAEdr/D,IAAK,CACDzpB,KAAM63F,GAAc52F,EAAAA,EAAAA,UAAS,UAAWA,EAAAA,EAAAA,UAAS,QACjD6nF,SAAU,UAEdn/D,MAAO,CACH3pB,MAAMiB,EAAAA,EAAAA,UAAS,QACf6nF,SAAU,OAEdl/D,KAAM,CACF5pB,MAAMiB,EAAAA,EAAAA,UAAS,QACf6nF,SAAU,UAEdj9D,WAAY,CACR7rB,MAAMiB,EAAAA,EAAAA,UAAS,aACf6nF,SAAU,OAEdh9D,UAAW,CACP9rB,MAAMiB,EAAAA,EAAAA,UAAS,eACf6nF,SAAU,UAEdn+D,WAAY,CACR3qB,MAAMiB,EAAAA,EAAAA,UAAS,WACf6nF,SAAU,OAEdl+D,UAAW,CACP5qB,MAAMiB,EAAAA,EAAAA,UAAS,WACf6nF,SAAU,UAEdh+D,UAAW,CACP9qB,MAAMiB,EAAAA,EAAAA,UAAS,QACf6nF,SAAU,OAEd/9D,SAAU,CACN/qB,MAAMiB,EAAAA,EAAAA,UAAS,OACf6nF,SAAU,UAEd79D,UAAW,CACPjrB,MAAMiB,EAAAA,EAAAA,UAAS,QACf6nF,SAAU,OAEd59D,WAAY,CACRlrB,MAAMiB,EAAAA,EAAAA,UAAS,SACf6nF,SAAU,UAEd3+D,WAAY,CACRnqB,MAAMiB,EAAAA,EAAAA,UAAS,gBACf6nF,SAAU,OAEd5+D,YAAa,CACTlqB,MAAMiB,EAAAA,EAAAA,UAAS,gBACf6nF,SAAU,UAEdgP,YAAa,CACT93F,MAAMiB,EAAAA,EAAAA,UAAS,gBACf6nF,SAAU,OAEdiP,WAAY,CACR/3F,MAAMiB,EAAAA,EAAAA,UAAS,iBACf6nF,SAAU,OAEdkP,UAAW,CACPh4F,MAAMiB,EAAAA,EAAAA,UAAS,eACf6nF,SAAU,OAEdz/D,OAAQ,CACJrpB,MAAMiB,EAAAA,EAAAA,UAAS,MACf6nF,SAAU,OAEdx/D,SAAU,CACNtpB,MAAMiB,EAAAA,EAAAA,UAAS,QACf6nF,SAAU,UAEd/+D,SAAU,CACN/pB,MAAMiB,EAAAA,EAAAA,UAAS,SACf6nF,SAAU,OAEd9+D,QAAS,CACLhqB,MAAMiB,EAAAA,EAAAA,UAAS,YACf6nF,SAAU,UAEdz+D,MAAO,CACHrqB,MAAMiB,EAAAA,EAAAA,UAAS,iBACf6nF,SAAU,OAEdx+D,SAAU,CACNtqB,MAAMiB,EAAAA,EAAAA,UAAS,gBACf6nF,SAAU,UAEdv9D,UAAW,CACPvrB,MAAMiB,EAAAA,EAAAA,UAAS,cACf6nF,SAAU,OAEdt9D,SAAU,CACNxrB,MAAMiB,EAAAA,EAAAA,UAAS,aACf6nF,SAAU,UAEdp9D,QAAS,CACL1rB,MAAMiB,EAAAA,EAAAA,UAAS,YACf6nF,SAAU,OAEdn9D,OAAQ,CACJ3rB,MAAMiB,EAAAA,EAAAA,UAAS,cACf6nF,SAAU,UAEd19D,SAAU,CACNprB,MAAMiB,EAAAA,EAAAA,UAAS,aACf6nF,SAAU,OAEdz9D,QAAS,CACLrrB,MAAMiB,EAAAA,EAAAA,UAAS,YACf6nF,SAAU,UAEjB,CAGMmP,CAAsBJ,GAAY,EAG5BK,GAAyB,SAACr8F,GAAI,IAAEg8F,EAAc,UAAH,8CAAQ,OAC5DD,GAAkBC,GAAah8F,GAAQ+7F,GAAkBC,GAAah8F,EAAK40C,eAAezwC,KAAO,EAAE,ECrDvG,SAAe47B,GAAQ,gBAAGu8D,EAAY,EAAZA,aAAcpN,EAAM,EAANA,OAAQtB,EAAS,EAATA,UAAWb,EAAE,EAAFA,GAAE,MAAmB,CAC5EwP,SAAUxP,EAAGwP,SACbC,eAAgBF,EAChBG,cAAe1P,EAAG0P,cAClBC,sBAAuBJ,EAAaI,sBACpCC,qBAAsBL,EAAaK,qBACnCC,cAAeN,EAAaM,cAC5BC,YAAajP,EAAUiP,YACvBC,kBAAmBlP,EAAUkP,kBAC7BC,YAAahQ,EAAGgQ,YAChBhzE,YAAamlE,EAAOnlE,YACpBizE,gBAAiBjQ,EAAGiQ,gBACvB,GAZD,EAzGoB,SAAH,GAcQ,IAbrBT,EAAQ,EAARA,SACAU,EAAa,EAAbA,cACAT,EAAc,EAAdA,eACAC,EAAa,EAAbA,cACAC,EAAqB,EAArBA,sBACAQ,EAAmB,EAAnBA,oBACAP,EAAoB,EAApBA,qBACAC,EAAa,EAAbA,cACAC,EAAW,EAAXA,YACAC,EAAiB,EAAjBA,kBACAC,EAAW,EAAXA,YACAhzE,EAAW,EAAXA,YACAizE,EAAe,EAAfA,gBAEMl9E,GAAYwuE,EAAAA,EAAAA,YACZ6O,EACF,kBAAC,EAAAC,aAAA,OAAmB,CAChBH,cAAeA,EACf9C,cAAeA,GACfkC,uBAAwBA,GACxBgB,qBAAsBT,EACtB98E,UAAWA,EACXxI,QAASolF,EACT3yE,YAAaA,IAIfuzE,EACF,kBAAC,EAAAF,aAAA,KAAiB,CACdb,SAAUA,EACVtC,0BAA2BA,GAC3BgD,cAAeA,EACf/vF,SAAU+vF,GAAiBA,EAAc/vF,SACzCuvF,cAAeA,EACfc,wBAAwB,OACxBpD,cAAeA,GACfqD,gBAAiB,kBAAMhB,CAAc,EACrC18E,UAAWA,EACX88E,cAAeA,EACftlF,QAASolF,EACTK,YAAaA,EACbhzE,YAAaA,EACbizE,gBAAiBA,IAInBS,EACF,kBAAC,EAAAL,aAAA,OAAmB,CAChBH,cAAeA,EACf9C,cAAeA,GACfyC,cAAeA,EACfE,kBAAmBA,EACnBD,YAAaA,IAIfa,EACF,kBAAC,aAAc,KACVP,EACAG,EACAG,GAIT,OACI,yBACIhZ,UAAWyJ,KAAW,kBAAmB,CACrC,0BAA2BpuE,EAC3B,4BAA6B68E,IAAyBO,IAAwBD,EAC9E,8BAA+BC,EAC/B,6BAA8BR,EAC9B,oCAAqCA,GAAyB58E,KAGjEo9E,GAAuB,kBAAC,GAAkB,CAAC1L,MAAO,KACjD0L,GAAuBD,GACrB,kBAAC,EAAAG,aAAY,CACTH,cAAeA,EACf9C,cAAeA,GACfyC,cAAeA,EACfe,YAAaV,EAAcljF,OAC3B6jF,4BAA4B,GAE5B,yBACInZ,UAAWyJ,KAAW,mBAAoB,CACtC,0BAA2B+O,EAAcljF,OAAS,EAClD,wBAAyBkjF,EAAcljF,OAAS,KAGnD2jF,KAIXR,IAAwBD,GACtB,kBAAC,EAAA72C,KAAI,CAAC6vC,GAAG,IAAIC,YAAY,IAAIv1F,KAAK,OAC7ByE,EAAAA,EAAAA,UAAS,oCACV,iCAASA,EAAAA,EAAAA,UAAS,SACjBA,EAAAA,EAAAA,UAAS,2DAK9B,IC7EA,GAAe26B,GAAQ,gBAAGu8D,EAAY,EAAZA,aAAY,MAAmB,CACrDY,oBAAqBZ,EAAaY,oBAClCD,cAAeX,EAAaW,cAC/B,GAHD,EAvBgB,SAAH,GAAyE,IAAnEpP,EAAc,EAAdA,eAAgBqP,EAAmB,EAAnBA,oBAAqBD,EAAa,EAAbA,cAC9Cn9E,GAAYwuE,EAAAA,EAAAA,YAClB,OACI,yBACI7J,UAAW0O,KAAW,CAClB,0BAA2BrzE,EAC3B,iCAAkCA,GAAa+tE,EAC/C,uCAAwC/tE,GAAa+tE,KAGzD,kBAAC,EAAAgQ,iBAAgB,CACbpZ,UAAW0O,KAAW,CAClB2K,SAAUZ,IAAwBD,EAClC,mBACKn9E,GAAao9E,GAAyBp9E,IAAco9E,GAAuBD,KAGpF,kBAAC,GAAW,CAACC,oBAAqBA,EAAqBD,cAAeA,KAItF,IChCA,wVCMA,IAAMc,GAAkB,SAAH,OAAMtZ,EAAS,EAATA,UAAS,OAChC,yBAAKA,UAAWyJ,KAAW,mBAAoBzJ,IAC3C,0BAAMA,UAAU,kBAChB,0BAAMA,UAAU,mBACd,EAGJuZ,GAAgB,SAAH,GAAqC,IAA/BC,EAAwB,EAAxBA,yBACrB,OACI,yBAAKxZ,UAAU,kBAAkBsQ,QAASkJ,GACtC,kBAAC,EAAAjoC,KAAI,CAAC7F,KAAK,gBAAgB7uD,GAAG,6BAG1C,EAEM48F,GAAqB,SAAH,GAA8E,IAAxEp+E,EAAS,EAATA,UAAWq+E,EAA4B,EAA5BA,6BAA8BF,EAAwB,EAAxBA,yBACnE,OACI,kBAAC,EAAAhF,MAAK,CACFxU,UAAWyJ,KAAW,mBAAoB,CAAE,2BAA4BpuE,IACxEm1D,OAAO7vE,EAAAA,EAAAA,UAAS,6BAChB8zF,QAASiF,EACT/E,YAAa6E,EACbv0D,MAAO,SAEP,kBAAC,EAAAuvD,MAAA,KAAU,KACP,yBAAKxU,UAAWyJ,KAAW,CAAE,gCAAiCpuE,KAC1D,kBAAC,EAAAsmC,KAAI,CAAC6vC,GAAG,MACJ7wF,EAAAA,EAAAA,UACG,sGAGR,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIxR,UAAU,mCAClBr/E,EAAAA,EAAAA,UACG,+IAGR,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIxR,UAAU,mCAClBr/E,EAAAA,EAAAA,UAAS,qFAMlC,EAEMg5F,GAAoB,SAAH,GACnB,OADuC,EAAd3I,gBAErB,KAAK3D,GAAgBC,YACrB,QACI,OAAO,kBAAC,EAAAqB,SAAQ,CAACC,kBAAkB,uBACvC,KAAKvB,GAAgBE,SACjB,OAAO,kBAAC,EAAAoB,SAAQ,CAACC,kBAAkB,oBACvC,KAAKvB,GAAgBG,cACjB,OAAO,kBAAC,EAAAmB,SAAQ,CAACC,kBAAkB,oBACvC,KAAKvB,GAAgBI,kBACjB,OAAO,kBAAC,EAAAkB,SAAQ,CAACC,kBAAkB,oBACvC,KAAKvB,GAAgBK,YACjB,OAAO,kBAAC,EAAAiB,SAAQ,CAACC,kBAAkB,oBACvC,KAAKvB,GAAgBM,gBACjB,OAAO,kBAAC,EAAAgB,SAAQ,CAACC,kBAAkB,oBAE/C,EAEMgL,GAAiB,SAAH,GAed,IAdF5Z,EAAS,EAATA,UACAgR,EAAc,EAAdA,eACA0I,EAA4B,EAA5BA,6BACAzB,EAAqB,EAArBA,sBACAlH,EAAsB,EAAtBA,uBACA8I,EAAuB,EAAvBA,wBACAvkF,EAAM,EAANA,OACAwkF,EAAmB,EAAnBA,oBACA9H,EAAgB,EAAhBA,iBACA+H,EAAiB,EAAjBA,kBACAC,EAAc,EAAdA,eACAR,EAAwB,EAAxBA,yBACAS,EAAkB,EAAlBA,mBACAC,EAAyB,EAAzBA,0BAE0E,26BAArBjT,IAAAA,UAAe,GAAM,GAAnEkT,EAAkB,KAAEC,EAAsB,KAC3CC,EAAmCJ,aAAkB,EAAlBA,EAAoBp/E,SAAS,mCAEtEosE,IAAAA,WAAgB,WACZiT,GACJ,GAAG,IAEHjT,IAAAA,WAAgB,WACRkT,GACA/rF,YAAW,WACPgsF,GAAuB,EAC3B,GAAG,IAEX,GAAG,CAACD,IAEJ,IAAMG,EAAiB,CAAC,GAAI,GAAI,IAC5BC,EACAvJ,GACCA,IAAmB3D,GAAgBG,eAAiBwD,IAAmB3D,GAAgBI,kBAClF,EACA,GAEV,GAAI8M,GAAmB,EAAG,CAClBA,EAAkBD,EAAe94F,SACjC84F,EAAeC,GAAmB,UAGlCtC,IACAsC,GAAmB,GAGvB,IAAK,IAAIl4F,EAAI,EAAGA,EAAIk4F,EAAiBl4F,IACjCi4F,EAAej4F,GAAK,WAE5B,CAEA,OACI,yBAAK29E,UAAWyJ,KAAW,qBAAsBzJ,IACzB,SAAnBga,GAA6B,kBAACT,GAAa,CAACC,yBAA0BA,IACvE,kBAAC,EAAAnJ,OAAM,IACH3tE,aAAcm3E,GAA2BM,KAAwBE,EACjEra,UAAU,oBACVnjF,GAAIk0F,EAAyB,4BAA8B,2BAC3DrpF,KAAMqpF,GAAyBpwF,EAAAA,EAAAA,UAAS,SAAUA,EAAAA,EAAAA,UAAS,OAC3D+qD,KAAM,kBAAC,EAAA6F,KAAI,CAAC7F,KAAMqlC,EAAyB,UAAY,SAAU3D,MAAM,WACvEkD,QAAS,WACL8J,GAAuB,GACnBrJ,EACAgJ,IAGJ/H,GACJ,EACAwI,YAAU,GACLzJ,IAA2BsJ,EAAmC,CAAEzsC,SAAS,GAAS,CAAE6sC,OAAO,KAEpG,yBACIza,UAAWyJ,KAAW,uBAAwBzJ,EAAW,CACrD,qBAAsBgR,EAAiB,EACvC,uBAAwB8I,GAAuB7B,KAGlD6B,GAAuB7B,GAAyB,kBAAC,GAAqB,CAAC3iF,OAAQA,IAChF,0BAAM0qE,UAAU,mBACZ,kBAAC2Z,GAAiB,CAAC3I,eAAgBA,KAEvC,yBAAKhR,UAAU,uBACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAS,sDAAiDgR,MAElEsJ,EAAe19F,KAAI,SAAC89F,EAAcr4F,GAAC,OAChC,kBAACi3F,GAAe,CAAC99F,IAAK6G,EAAG29E,UAAW0a,GAAgB,MAI5C,UAAnBV,GAA8B,kBAACT,GAAa,CAACC,yBAA0BA,IACxE,kBAACC,GAAkB,CACfp+E,WAAWwuE,EAAAA,EAAAA,YACX6P,6BAA8BA,EAC9BF,yBAA0BA,IAI1C,EAEAI,GAAehF,UAAY,CACvB5U,UAAW6U,KAAAA,OACX7D,eAAgB6D,KAAAA,OAChB6E,6BAA8B7E,KAAAA,KAC9BoD,sBAAuBpD,KAAAA,KACvB9D,uBAAwB8D,KAAAA,KACxBgF,wBAAyBhF,KAAAA,KACzB7C,iBAAkB6C,KAAAA,KAClBkF,kBAAmBlF,KAAAA,KACnBqF,0BAA2BrF,KAAAA,KAC3Bv/E,OAAQu/E,KAAAA,OACRiF,oBAAqBjF,KAAAA,MAGzB,SAAev5D,GAAQ,gBAAGu8D,EAAY,EAAZA,aAAc1O,EAAS,EAATA,UAAWpkC,EAAO,EAAPA,QAASz1C,EAAM,EAANA,OAAM,MAAQ,CACtE0hF,eAAgB7H,EAAU6H,eAC1B0I,6BAA8B30C,EAAQ20C,6BACtCzB,sBAAuBJ,EAAaI,sBACpClH,uBAAwB5H,EAAU4H,uBAClC8I,wBAAyB1Q,EAAU0Q,wBACnC7H,iBAAkB7I,EAAU6I,iBAC5B+H,kBAAmB5Q,EAAU4Q,kBAC7BG,0BAA2B/Q,EAAU+Q,0BACrC5kF,OAAQuiF,EAAaviF,OACrBwkF,oBAAqB3Q,EAAU2Q,oBAC/BN,yBAA0Bz0C,EAAQy0C,yBAClCS,mBAAoB3qF,EAAOqrF,eAAeV,mBAC7C,GAbD,CAaIL,ICtMJ,MCHO,IAAMgB,GAAuB75F,OAAOguB,OAAO,CAC9C8rE,SAAU,WACVC,QAAS,YCFAC,GAAiBh6F,OAAOguB,OAAO,CACxCisE,eAAgB,MAChBC,QAAS,IACTC,YAAa,GACbC,iBAAkB,EAClBC,UAAW,ICMTC,GAA0B,SAAH,OAAM3vC,EAAI,EAAJA,KAAM8kB,EAAK,EAALA,MAAO7wE,EAAO,EAAPA,QAASqgF,EAAS,EAATA,UAAS,OAC9D,kBAAC,aAAc,KACX,kBAAC,EAAA+H,QAAO,CACJ/H,UAAWyJ,KAAWzJ,EAAW,sBACjCgI,UAAU,OACVroF,QAAS6wE,EACTyX,OAAQ8S,GAAeG,aAEtBxvC,GAEJ/rD,EACY,EAGf27F,GAAyB,WAAH,OACxB,kBAAC,MAAa,CACVtb,UAAU,4BACV96C,OAAQ,GACRD,MAAO,GACP8nD,MAAO,EACPC,gBAAiB,2BACjBC,gBAAiB,wBAEjB,0BAAM5rF,EAAE,IAAIi3B,EAAE,IAAI+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,MAAMC,OAAO,OACvC,EAGdq2D,GAAwB,WAAH,OACvB,kBAAC,MAAa,CACVvb,UAAU,4BACV+M,MAAO,EACP9nD,MAAO,GACPC,OAAQ,GACR8nD,gBAAiB,2BACjBC,gBAAiB,wBAEjB,0BAAM5rF,EAAE,IAAIi3B,EAAE,IAAI+3B,GAAG,IAAIC,GAAG,IAAIrrB,MAAM,KAAKC,OAAO,OACtC,EAGds2D,GAAc,SAAH,OAAM9vC,EAAI,EAAJA,KAAM8kB,EAAK,EAALA,MAAOjkB,EAAQ,EAARA,SAAQ,OACxC,yBAAKyzB,UAAU,8BACVt0B,GAAQ,yBAAKs0B,UAAU,6BAA6Bt0B,GACrD,yBAAKs0B,UAAU,iCACX,yBAAKA,UAAU,+BAA+BxP,GAC7CjkB,GAEH,EAGJkvC,GAAiB,SAAH,OAAMnuF,EAAQ,EAARA,SAAQ,OAC9B,yBAAK0yE,UAAU,iCACV1yE,EAASmD,iBACN,kBAAC+qF,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,kBACxB2M,EAASmD,gBAAgBT,KACtB,yBAAKgwE,UAAU,+BAA6B,UACpC1yE,EAASmD,gBAAgBT,IAAG,aAAIrP,EAAAA,EAAAA,UAAS,WAGpD2M,EAASmD,gBAAgBkB,MACtB,yBAAKquE,UAAU,+BAA6B,UACpC1yE,EAASmD,gBAAgBkB,KAAI,aAAIhR,EAAAA,EAAAA,UAAS,aAK7D2M,EAASouF,YACN,kBAACF,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,aACzB,yBAAKq/E,UAAU,+BAA6B,UAAK1yE,EAASouF,WAAU,aAAI/6F,EAAAA,EAAAA,UAAS,YAGvF2M,EAAS6tE,SACP,kBAACqgB,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,YACzB,yBAAKq/E,UAAU,+BAA+B1yE,EAAS6tE,WAG1D7tE,EAAS8tE,cAAgB9tE,EAASquF,aAC/B,kBAACH,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,aACzB,yBAAKq/E,UAAU,+BAA6B,UAAK1yE,EAAS8tE,aAAY,aAAIz6E,EAAAA,EAAAA,UACtE,YAEJ,yBAAKq/E,UAAU,+BAA6B,UAAK1yE,EAASquF,YAAW,aAAIh7F,EAAAA,EAAAA,UAAS,YAG7F2M,EAASsuF,YACN,kBAACJ,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,eACzB,yBAAKq/E,UAAU,gCACV6b,EAAAA,EAAAA,mBAAkBvuF,EAASsuF,WAAY,0BAA2B,+BAK3EtuF,EAASwF,YACL,kBAAC0oF,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,eACzB,yBAAKq/E,UAAU,+BAA+B1yE,EAASwF,YACtDxF,EAASq0E,iBACN,yBAAK3B,UAAU,gCACV6b,EAAAA,EAAAA,mBACGvuF,EAASq0E,gBACT,0BACA,+BAQtBr0E,EAASu0E,WAAav0E,EAASs0E,gBAC7B,kBAAC4Z,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,cACzB,yBAAKq/E,UAAU,+BAA+B1yE,EAASu0E,WACvD,yBAAK7B,UAAU,gCACV6b,EAAAA,EAAAA,mBAAkBvuF,EAASs0E,eAAgB,0BAA2B,gCAI9Et0E,EAASu0E,WACN,kBAAC2Z,GAAW,CAAChrB,OAAO7vE,EAAAA,EAAAA,UAAS,cACzB,yBAAKq/E,UAAU,+BAA+B1yE,EAASu0E,YAGjE,EAGJia,GAAc,SAAH,OAAMC,EAAqB,EAArBA,sBAAuBzuF,EAAQ,EAARA,SAAU0uF,EAAsB,EAAtBA,uBAAsB,OAC1E,kBAAC,EAAAjU,QAAO,CACJE,OAAQ8S,GAAeG,YACvBlT,UAAU,OACVhI,UAAU,6BACVyU,QAASnnF,GAAYyuF,IAA0BzuF,EAASmD,gBAAgBT,IACxErQ,QAAS2N,GAAY,kBAACmuF,GAAc,CAACnuF,SAAUA,KAE/C,yBACI0yE,UAAU,qBACVsQ,QAAShjF,GAAa,kBAAM0uF,EAAuB1uF,EAASmD,gBAAgBT,IAAI,GAEhF,yBAAKgwE,UAAU,+CACX,yBAAKA,UAAU,kCACV1yE,EACG,kBAAC+tF,GAAuB,CACpB3vC,KAAM,kBAAC,EAAA6F,KAAI,CAAC7F,KAAI,sBAAiBp+C,EAAS2uF,YAAc//F,KAAM,KAC9Ds0E,MAAOljE,EAAS2kB,eAGpB,kBAACspE,GAAqB,OAG9B,yBAAKvb,UAAU,kCACV1yE,EACG,kBAAC+tF,GAAuB,CACpB3vC,KAAM,kBAAC,EAAAwwC,eAAc,CAAC3gG,KAAM+R,EAASlD,cAAelO,KAAM,KAC1Ds0E,OAAO/qD,EAAAA,EAAAA,qBAAoBnY,KAG/B,kBAACiuF,GAAqB,QAIlC,yBAAKvb,UAAU,+CACX,kBAACqb,GAAuB,CACpB3vC,KAAM,kBAAC,EAAA6F,KAAI,CAAC7F,KAAK,wBACjB8kB,OAAO7vE,EAAAA,EAAAA,UAAS,cAChBhB,QAAU2N,GAAYA,EAASwF,YAAe,kBAACwoF,GAAsB,SAG7E,yBAAKtb,UAAU,8CACX,kBAACqb,GAAuB,CACpB3vC,KAAM,kBAAC,EAAA6F,KAAI,CAAC7F,KAAK,uBACjB8kB,OAAO7vE,EAAAA,EAAAA,UAAS,aAChBhB,QAAU2N,GAAYA,EAASu0E,WAAc,kBAACyZ,GAAsB,SAG5E,yBAAKtb,UAAU,0CACV1yE,EACG,kBAAC,EAAA6uF,MAAK,CAAC5jD,OAAQjrC,EAASoD,UAAWjI,SAAU6E,EAAS7E,SAAU2zF,eAAa,IAE7E,kBAACd,GAAsB,OAG/B,yBAAKtb,UAAU,2CACV1yE,SAAAA,EAAU+uF,aACP,yBACIrc,UAAWyJ,KAAW,CAClB,4BAA6Bn8E,EAASgI,QAAU,EAChD,6BAA8BhI,EAASgI,OAAS,KAGpD,kBAAC,EAAA6mF,MAAK,CAAC5jD,OAAQx1C,KAAK6gC,IAAIt2B,EAASgI,QAAS7M,SAAU6E,EAAS7E,SAAU2zF,eAAa,KAGxF,kBAACd,GAAsB,QAI7B,EAGdQ,GAAYlH,UAAY,CACpBmH,sBAAuBlH,KAAAA,OACvBvnF,SAAUunF,KAAAA,OACVmH,uBAAwBnH,KAAAA,MAG5B,SAAev5D,GAAQ,gBAAGghE,EAAY,EAAZA,aAAY,MAAQ,CAC1CP,sBAAuBO,EAAaP,sBACpCC,uBAAwBM,EAAaN,uBACxC,GAHD,CAGIF,IC5MJ,IAAMS,GAAkB,SAAH,GAA4B,IAAtBj1C,EAAG,EAAHA,IAAK6nC,EAAU,EAAVA,WACpBE,GAAYC,EAAAA,EAAAA,qBAAoBH,GAAhCE,QAER,OAAQ/nC,EAAI/rD,MACR,KAAKq/F,GAAqBC,SACtB,IAAcvtF,EAAag6C,EAAnBjqD,KACR,OACI,kBAACqyF,GAAA,EAAa,CAACC,GAAIN,EAAS10E,QAAS,IAAK8uE,WAAW,mBACjD,kBAAC,GAAW,CAACn8E,SAAUA,KAInC,KAAKstF,GAAqBE,QACtB,OACI,yBAAK9a,UAAU,yBACX,yBAAKA,UAAU,gCAI3B,QACI,OAAO,KAGnB,EAEMwc,GAAe,SAAH,GAAyE,IAAnExL,EAAc,EAAdA,eAAgBr1D,EAAQ,EAARA,SAAUytD,EAAc,EAAdA,eAAgBqT,EAAO,EAAPA,QAASC,EAAS,EAATA,UACvEzV,IAAAA,WAAgB,WAEZ,OADAwV,IACO,kBAAMC,GAAW,CAC5B,GAAG,CAACD,EAASC,IAEb,IAAMrhF,GAAYwuE,EAAAA,EAAAA,YAElB,OACI,yBACI7J,UAAW0O,KAAW,eAAgB,CAClC,0BAA2BrzE,EAC3B,iCAAkCA,GAAa+tE,KAGnD,kBAAC,EAAAmH,eAAc,KACX,yBAAKvQ,UAAU,uBACX,kBAAC,GAAQ,CAACmQ,IAAI,mBAGtB,yBAAKnQ,UAAU,wBACX,0BAAMA,UAAU,0DAAyDr/E,EAAAA,EAAAA,UAAS,SAClF,0BAAMq/E,UAAU,0DACXr/E,EAAAA,EAAAA,UAAS,oBAEd,0BAAMq/E,UAAU,4DACXr/E,EAAAA,EAAAA,UAAS,uBAGlB,yBACIq/E,UAAW0O,KAAW,CAClBiO,uBAAwBthF,EACxB,gCAAiCA,KAGrC,yBAAK2kE,UAAU,2BACVrkD,EAASn6B,OACN,kBAAC,EAAA2vF,SAAQ,CACLnR,UAAU,eACVoR,YAAaz1D,EACb01D,YAAa,SAAAlM,GAAK,OAAI,kBAACoX,GAAoBpX,EAAS,EACpDmM,UAAW,SAAAhqC,GACP,OAAQA,EAAI/rD,MACR,KAAKq/F,GAAqBC,SACtB,OAAOvzC,EAAIjqD,KAAKoT,gBAAgBT,IAEpC,KAAK4qF,GAAqBE,QACtB,OAAOxzC,EAAIjqD,KAEf,QACI,OAAO,KAGnB,EACAu/F,WAAY,YAAe,IAAZ9nF,EAAK,EAALA,MAEX,OADY6mB,EAAS7mB,GACTvZ,MACR,KAAKq/F,GAAqBC,SACtB,OAAO,GAEX,KAAKD,GAAqBE,QACtB,OAAO,GAEX,QACI,OAAO,EAGnB,IAGJ,oCACK9J,GAAkB3D,GAAgBE,SAC/B,kBAAC,GAAW,CAACjgF,SAAU,OAEvB,kBAAC,EAAA8rF,iBAAgB,KACb,yBAAKpZ,UAAU,0BACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,gCACX,kBAAC,EAAAzuB,KAAI,CACD7F,KAAK,QACLs0B,UAAU,2BACV9jF,KAAM,GACNkxF,MAAM,eAGd,kBAAC,EAAAzrC,KAAI,CACD6vC,GAAG,KACHt1F,KAAK,KACLixF,OAAO,OACPl2D,MAAM,SACNm2D,MAAM,iBACNqE,YAAY,MACZzR,UAAU,+BAETr/E,EAAAA,EAAAA,UAAS,yCAEd,yBAAKq/E,UAAU,+BACX,kBAAC,EAAAr+B,KAAI,CAACzlD,KAAK,MAAMkxF,MAAM,mBAClBzsF,EAAAA,EAAAA,UAAS,mCAEd,wBAAIq/E,UAAU,4BACV,6BAAKr/E,EAAAA,EAAAA,UAAS,2BACd,6BAAKA,EAAAA,EAAAA,UAAS,kCAalE,EAEA67F,GAAa5H,UAAY,CACrB5D,eAAgB6D,GAAAA,UAAAA,OAChBl5D,SAAUk5D,GAAAA,UAAAA,MACVzL,eAAgByL,GAAAA,UAAAA,KAChB4H,QAAS5H,GAAAA,UAAAA,KACT6H,UAAW7H,GAAAA,UAAAA,MAGf,MChKA,GDgKev5D,GAAQ,gBAAGghE,EAAY,EAAZA,aAAuB,MAAQ,CACrDtL,eAD6C,EAAT7H,UACV6H,eAC1Br1D,SAAU2gE,EAAa3gE,SACvB8gE,QAASH,EAAaG,QACtBC,UAAWJ,EAAaI,UAC3B,GALD,CAKIF,sUE1JJ,IAAMK,GAAiB,SAAH,OAAMC,EAAO,EAAPA,QAASC,EAAgB,EAAhBA,iBAAkBvsB,EAAK,EAALA,MAAK,OACtD,yBAAKwP,UAAU,mBACX,yBAAKA,UAAU,yBAAyBxP,GACxC,yBAAKwP,UAAWyJ,KAAW,0BAA2BsT,IAAoBD,GACxE,EAGJE,GAAoB,SAAH,OACnBv0F,EAAQ,EAARA,SACA4S,EAAS,EAATA,UACA4hF,EAAc,EAAdA,eACAC,EAAc,EAAdA,eACAC,EAAW,EAAXA,YACAC,EAAY,EAAZA,aACAC,EAA2B,EAA3BA,4BACAC,EAAyB,EAAzBA,0BACA7vD,EAAY,EAAZA,aACA8vD,EAAa,EAAbA,cAAa,OAEb,yBACIvd,UAAWyJ,KAAW,kBAAmB,CACrC,+BAAgC4T,EAChC,0BAA2BhiF,KAG/B,yBAAK2kE,UAAU,wBAAwBsQ,QAASgN,GAC5C,yBAAKtd,UAAU,8BACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,mBAGpC,yBAAK5O,UAAU,0BACX,kBAAC6c,GAAc,CACXrsB,OAAO7vE,EAAAA,EAAAA,UAAS,eAChBqnF,UAAU,MACV8U,QAAS,kBAAC,EAAAX,MAAK,CAAC5jD,OAAQ4kD,EAAa10F,SAAUA,EAAU2zF,eAAa,MAE1E,kBAACS,GAAc,CACXrsB,OAAO7vE,EAAAA,EAAAA,UAAS,gBAChBqnF,UAAU,MACV8U,QAAS,kBAAC,EAAAX,MAAK,CAAC5jD,OAAQ6kD,EAAc30F,SAAUA,EAAU2zF,eAAa,MAE3E,kBAACS,GAAc,CAACrsB,OAAO7vE,EAAAA,EAAAA,UAAS,eAAgBqnF,UAAU,MAAM8U,QAASI,IACzE,kBAACL,GAAc,CAACrsB,OAAO7vE,EAAAA,EAAAA,UAAS,kBAAmBqnF,UAAU,SAAS8U,QAASG,IAC/E,kBAACJ,GAAc,CAACrsB,OAAO7vE,EAAAA,EAAAA,UAAS,iBAAkBqnF,UAAU,SAAS8U,QAASS,IAC9E,kBAACV,GAAc,CACXrsB,OAAO7vE,EAAAA,EAAAA,UAAS,qBAChBm8F,QAAS,kBAAC,EAAAX,MAAK,CAAC5jD,OAAQ9K,EAAchlC,SAAUA,EAAU+0F,UAAQ,EAACpB,eAAa,IAChFpU,UAAU,SACV+U,iBAAkBtT,KAAW,yBAA0B,CACnD,mCAAoCh8C,EAAe,EACnD,mCAAoCA,EAAe,OAI7D,EAGJgwD,GAAe,SAAH,OAAMzN,EAAsB,EAAtBA,uBAAwB30E,EAAS,EAATA,UAAW+tE,EAAc,EAAdA,eAAgBsU,EAAgB,EAAhBA,iBAAgB,OACvFriF,GACA+tE,GACI,kBAAC,EAAAiH,OAAM,CACHxzF,GAAG,6BACHmjF,UAAU,0BACVt9D,YAAastE,EACbtoF,MAAM/G,EAAAA,EAAAA,UAAS,SACf2vF,QAASoN,EACT/vC,WAAS,GAEhB,EAECgwC,GAAgB,SAAH,GAAmG,IAA7FC,EAAY,EAAZA,aAAcxU,EAAc,EAAdA,eAAgBiU,EAA2B,EAA3BA,4BAA6BQ,EAAiB,EAAjBA,kBAAsB1Y,oXAAK,OAC3G,OACI,oCACI,kBAAC,EAAA2Y,KAAI,CAACF,aAAcA,EAAcG,eAAgBF,EAAmBz7B,KAAG,GACpE,yBAAKvlE,GAAG,4BAA4B4xB,OAAO9tB,EAAAA,EAAAA,UAAS,YAChD,kBAAC,GAAO,CAACyoF,eAAgBA,KAE7B,yBAAKvsF,GAAG,iCAAiC4xB,OAAO9tB,EAAAA,EAAAA,UAAS,iBACrD,kBAAC,GAAY,CAACyoF,eAAgBA,KAElC,yBAAKvsF,GAAG,4BAA4B4xB,OAAO9tB,EAAAA,EAAAA,UAAS,YAChD,kBAAC,GAAO,QAGfyoF,GAAmC,IAAjBwU,GACf,kBAACZ,GAAiB,IAACK,4BAA6BA,GAAiClY,IAIjG,EAEM6Y,GAAe,SAAH,OAAMhO,EAAsB,EAAtBA,uBAAwB0N,EAAgB,EAAhBA,iBAAgB,OAC5D,yBAAK1d,UAAU,qBACX,kBAAC,EAAAqQ,OAAM,CACHxzF,GAAG,6BACHmjF,UAAU,2BACVt9D,YAAastE,EACbtoF,MAAM/G,EAAAA,EAAAA,UAAS,SACf2vF,QAASoN,EACTlD,YAAU,EACV7sC,WAAS,IAEX,EAGJswC,GAAqB,WACvB,OACI,yBAAKje,UAAU,qBACX,yBAAKA,UAAU,qBACX,kBAAC,GAAc,CAACA,UAAU,sBAAsB8Z,qBAAmB,EAACE,eAAgB,WAIpG,EAEMkE,GAAsB,SAAH,GAAgF,IAA1E7iF,EAAS,EAATA,UAAW8iF,EAA6B,EAA7BA,8BAA+Bb,EAAyB,EAAzBA,0BACrE,OACI,kBAAC,EAAA9I,MAAK,CACFxU,UAAWyJ,KAAW,oBAAqB,CAAE,4BAA6BpuE,IAC1Em1D,OAAO7vE,EAAAA,EAAAA,UAAS,gBAChB8zF,QAAS0J,EACTxJ,YAAa2I,EACbr4D,MAAO,SAEP,kBAAC,EAAAuvD,MAAA,KAAU,KACP,yBAAKxU,UAAWyJ,KAAW,yBAA0B,CAAE,iCAAkCpuE,KACrF,kBAAC,EAAA+9E,iBAAgB,CAACpZ,UAAU,+BACxB,kBAAC,EAAAr+B,KAAI,CAAC6vC,GAAG,IAAIrE,OAAO,OAAOnN,UAAU,8CAChCr/E,EAAAA,EAAAA,UAAS,gBAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,MAAK7wF,EAAAA,EAAAA,UAAS,mDACvB,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIrE,OAAO,OAAOnN,UAAU,oCAChCr/E,EAAAA,EAAAA,UAAS,iBAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,MAAK7wF,EAAAA,EAAAA,UAAS,oDACvB,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIrE,OAAO,OAAOnN,UAAU,oCAChCr/E,EAAAA,EAAAA,UAAS,gBAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,MACJ7wF,EAAAA,EAAAA,UACG,oIAGR,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIrE,OAAO,OAAOnN,UAAU,oCAChCr/E,EAAAA,EAAAA,UAAS,mBAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,MACJ7wF,EAAAA,EAAAA,UAAS,6EAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIrE,OAAO,OAAOnN,UAAU,oCAChCr/E,EAAAA,EAAAA,UAAS,kBAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,MACJ7wF,EAAAA,EAAAA,UAAS,4EAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIrE,OAAO,OAAOnN,UAAU,oCAChCr/E,EAAAA,EAAAA,UAAS,sBAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,MACJ7wF,EAAAA,EAAAA,UACG,sIAQhC,EAEMy9F,GAAW,SAAH,GAoBR,IAnBFR,EAAY,EAAZA,aACAn1F,EAAQ,EAARA,SACA40F,EAA2B,EAA3BA,4BACArN,EAAsB,EAAtBA,uBACA5G,EAAc,EAAdA,eACA+U,EAA6B,EAA7BA,8BACAlB,EAAc,EAAdA,eACAC,EAAc,EAAdA,eACAQ,EAAgB,EAAhBA,iBACAjB,EAAO,EAAPA,QACAzK,EAAgB,EAAhBA,iBACA0K,EAAS,EAATA,UACAmB,EAAiB,EAAjBA,kBACAQ,EAAY,EAAZA,aACAf,EAAyB,EAAzBA,0BACAF,EAAY,EAAZA,aACA3vD,EAAY,EAAZA,aACA0vD,EAAW,EAAXA,YACAI,EAAa,EAAbA,cAEMliF,GAAYwuE,EAAAA,EAAAA,YAElB5C,IAAAA,WAAgB,WAEZ,OADAwV,IACO,kBAAMC,GAAW,CAC5B,GAAG,CAACD,EAASC,IAEbzV,IAAAA,WAAgB,WACR5rE,GACAgjF,GAAa,EAErB,GAAG,IAEH,IAAMvB,EACF,kBAACa,GAAa,CACVC,aAAcA,EACdn1F,SAAUA,EACV2gF,eAAgBA,EAChB/tE,UAAWA,EACX4hF,eAAgBA,EAChBC,eAAgBA,EAChBW,kBAAmBA,EACnBP,0BAA2BA,EAC3BF,aAAcA,EACd3vD,aAAcA,EACd0vD,YAAaA,EACbI,cAAeA,EACfF,4BAA6BA,IAI/BiB,EAAS,kBAACN,GAAY,CAAChO,uBAAwBA,EAAwB0N,iBAAkBA,IAEzFtJ,EACF,kBAACqJ,GAAY,CACTzN,uBAAwBA,EACxB30E,UAAWA,EACX+tE,eAAgBA,EAChBsU,iBAAkBA,IAI1B,OACI,oCACI,yBAAK1d,UAAW3kE,GAAa+tE,EAAiB,+BAAiC,aAC3E,kBAAC,EAAAmV,OAAM,CACHC,OAAO,QACPxe,UAAWyJ,KAAW,YAAa,CAC/B,wBAAyBpuE,EACzB,qCAAsCA,GAAagiF,IAEvDN,iBAAiB,qBACjB3I,OAAQA,EACRkK,QAASjjF,GAAaijF,EACtB7J,QAASrL,EACTiV,aAAcA,EACdp5D,MAAO,IACPgjD,OAAQ8S,GAAeK,WAEtB0B,GAEJzhF,GAAa,kBAAC4iF,GAAkB,OAErC,kBAAC,GAAa,CAACjM,iBAAkBA,IACjC,kBAACkM,GAAmB,CAChB7iF,UAAWA,EACX8iF,8BAA+BA,EAC/Bb,0BAA2BA,IAI3C,EAEAc,GAASxJ,UAAY,CACjBgJ,aAAc/I,KAAAA,OACdpsF,SAAUosF,KAAAA,OACV7E,uBAAwB6E,KAAAA,KACxBzL,eAAgByL,KAAAA,KAChBsJ,8BAA+BtJ,KAAAA,KAC/BoI,eAAgBpI,KAAAA,OAChBqI,eAAgBrI,KAAAA,OAChB6I,iBAAkB7I,KAAAA,KAClB4H,QAAS5H,KAAAA,KACT7C,iBAAkB6C,KAAAA,KAClB6H,UAAW7H,KAAAA,KACXgJ,kBAAmBhJ,KAAAA,KACnBwJ,aAAcxJ,KAAAA,KACdyI,0BAA2BzI,KAAAA,KAC3BuI,aAAcvI,KAAAA,OACdpnD,aAAconD,KAAAA,OACdsI,YAAatI,KAAAA,OACb0I,cAAe1I,KAAAA,QAGnB,SAAev5D,GAAQ,gBAAG6tD,EAAS,EAATA,UAAW/B,EAAI,EAAJA,KAAMviC,EAAS,EAATA,UAAS,MAAQ,CACxD+4C,aAAczU,EAAUyU,aACxBn1F,SAAU2+E,EAAK93E,OAAO7G,SACtB40F,4BAA6Bx4C,EAAUw4C,4BACvCrN,uBAAwB7G,EAAU6G,uBAClC5G,eAAgBD,EAAUC,eAC1B+U,8BAA+BhV,EAAUgV,8BACzClB,eAAgB9T,EAAUsV,WAAWxB,eACrCC,eAAgB/T,EAAUsV,WAAWvB,eACrCQ,iBAAkBvU,EAAUuU,iBAC5BjB,QAAStT,EAAUsT,QACnBzK,iBAAkB7I,EAAU6I,iBAC5B0K,UAAWvT,EAAUuT,UACrBmB,kBAAmB1U,EAAU0U,kBAC7BQ,aAAclV,EAAUkV,aACxBf,0BAA2BnU,EAAUmU,0BACrCF,aAAcjU,EAAUsV,WAAWrB,aACnC3vD,aAAc07C,EAAUsV,WAAWhxD,aACnC0vD,YAAahU,EAAUsV,WAAWtB,YAClCI,cAAepU,EAAUsV,WAAWlB,cACvC,GApBD,CAoBIa,IC5TJ,MCMA,GANoB,WAAH,OACb,yBAAKpe,UAAU,oBACX,kBAAC,GAAc,CAAC8Z,qBAAmB,EAACE,eAAe,SACjD,4BCgCV,SAAe1+D,GAAQ,gBAAGupB,EAAS,EAATA,UAAS,MAAmB,CAClD65C,WAAY75C,EAAU65C,WACtBC,cAAe95C,EAAU85C,cACzBC,gBAAiB/5C,EAAU+5C,gBAC9B,GAJD,EAzBwB,SAAH,GAAyE,IAAnEF,EAAU,EAAVA,WAAYC,EAAa,EAAbA,cAAeC,EAAe,EAAfA,gBAClD3X,IAAAA,WAAgB,WACZ74E,YAAW,WACPwwF,EAAgBD,GAAe,EACnC,GAAG,IACP,GAAG,CAACD,IACJ,IAAMG,EAAY/iF,SAASC,eAAe,cAE1C,OAAI8iF,GAAaH,EACNI,KAAAA,aACH,yBAAK9e,UAAU,uBACX,6BACI,kBAAC,EAAA+e,MAAK,KACiB,WAAlBJ,GACKh+F,EAAAA,EAAAA,UAAS,uCACTA,EAAAA,EAAAA,UAAS,0CAI3Bk+F,GAGD,IACX,8qBCjC+C,IAE1BG,GAAQ,WACzB,WAAYC,EAAY7X,GAAM,sHA4E9B8X,eAAiB,SAAApiF,GACsB,EAAKmiF,WAAW9V,UAA3C4H,yBAGJj0E,EAAM0Z,aAAc,EAE5B,EAAC,KA6ID2oE,sBAAwB,SAAAriF,GAEhB,IAG8B,EAJ9BhB,SAASy8C,cAAc,oBACVz7C,EAAM4mE,MAAS5mE,EAAMsiF,cAAgBtiF,EAAMsiF,gBACjBlrF,MAAK,SAAA4+D,GAAE,OAAIA,EAAGusB,WAAavsB,EAAGusB,UAAUl7E,SAAS,eAAe,KAG5F,QAAP,EAAA3a,eAAO,OAAP,EAASyX,WAA6B,GAGlD,EAAC,KAEDq+E,mCAAqC,SAAChwF,EAAQm7E,IAEpCn7E,EAAOggC,cAAgBhgC,EAAOiwF,eAC/BjwF,EAAOkwF,OAASx/F,OAAO6jF,SAASC,WAAa2b,EAAAA,OAAAA,MAC9CC,EAAAA,EAAAA,2BAA0BpwF,EAAOqwF,kBACjCrwF,EAAOswF,oBAEPC,EAAAA,EAAAA,oCAAmCpV,EAAOqV,UAAW,CACjDp4F,MAAM/G,EAAAA,EAAAA,UACF,kKAEJ6vE,OAAO7vE,EAAAA,EAAAA,UAAS,0CAChBo/F,MAAMp/F,EAAAA,EAAAA,UAAS,+BAEZ8pF,EAAOuV,WACdvV,EAAO7F,UAAS,EAAO,KAE/B,GA1PIiB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB2iG,QAASzwF,EAAAA,OAAAA,MACT0wF,UAAW1wF,EAAAA,OAAAA,MACXkzF,eAAgBlzF,EAAAA,OAAAA,MAChBi0F,+BAAgCj0F,EAAAA,OAAAA,MAChCk0F,yBAA0Bl0F,EAAAA,OAAAA,MAC1Bm0F,wBAAyBn0F,EAAAA,OAAAA,MACzBo0F,qCAAsCp0F,EAAAA,OAAAA,MACtCq0F,gCAAiCr0F,EAAAA,OAAAA,MACjCs0F,oBAAqBt0F,EAAAA,OAAAA,MACrBmzF,sBAAuBnzF,EAAAA,OAAAA,MACvBszF,mCAAoCtzF,EAAAA,OAAAA,QAGxClS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,EACZttF,KAAKymG,WAAa,KAClBzmG,KAAKshB,kBAAoB,IAC7B,SA0MC,SA1MA,0BAED,WACI,IAAQolF,EAAkB1mG,KAAKmlG,WAAvBuB,cACR,EAA2B1mG,KAAKstF,KAAxB93E,EAAM,EAANA,OAAQm7E,EAAM,EAANA,OAChB3wF,KAAKwlG,mCAAmChwF,EAAQm7E,GAEhD+V,EAAcp7C,YAAW,GACzBzmC,EAAAA,KAAAA,cAAmBnD,EAAAA,EAAyB1hB,KAAKymG,WAAYzmG,KAAKshB,mBAAmB9c,MAAK,WACtFkiG,EAAcC,mBACdD,EAAcp7C,YAAW,EAC7B,IACAtrD,KAAKmmG,+BAA+BnmG,MACpCA,KAAKomG,yBAAyBhkD,KAAKpiD,MACnCA,KAAKqmG,wBAAwBjkD,KAAKpiD,MAClCA,KAAKsmG,qCAAqClkD,KAAKpiD,MAC/CA,KAAKumG,gCAAgCnkD,KAAKpiD,MAE1CkG,OAAO0e,iBAAiB,QAAS5kB,KAAKqlG,uBACtCn/F,OAAO0e,iBAAiB,eAAgB5kB,KAAKolG,gBAE7CsB,EAAcE,oBAClB,GAAC,uBAED,WACI/hF,EAAAA,KAAAA,eACAA,EAAAA,KAAAA,sBACInV,QAAQC,iBACRsvE,cAAcvvE,QAAQC,eAAek3F,yBACrCn3F,QAAQC,eAAeivB,WAE+B,mBAA/C5+B,KAAK8mG,uCACZ9mG,KAAK8mG,wCAEmC,mBAAjC9mG,KAAK+mG,yBACZ/mG,KAAK+mG,0BAEwC,mBAAtC/mG,KAAKgnG,8BACZhnG,KAAKgnG,+BAE+C,mBAA7ChnG,KAAKinG,qCACZjnG,KAAKinG,sCAE0C,mBAAxCjnG,KAAKknG,gCACZlnG,KAAKknG,iCAGThhG,OAAOihG,oBAAoB,QAASnnG,KAAKqlG,uBACzCn/F,OAAOihG,oBAAoB,eAAgBnnG,KAAKolG,gBAGhD,IAAQ5W,EAAOxuF,KAAKstF,KAAZkB,GAERA,EAAG4Y,mCAAkC,GACrC5Y,EAAG6Y,kBAAiB,EACxB,GAAC,4CASD,WAAiC,WAC7BrnG,KAAK8mG,uCAAwCv7C,EAAAA,EAAAA,WACzC,kBAAM,EAAK+hC,KAAKqD,OAAOa,gBAAgB,IACvC,WAGI,IAAQxH,EAAa9jF,OAAO6jF,SAApBC,UAEJ,SAASr9E,KAAKq9E,IAAc,WAAWr9E,KAAKq9E,IAAwC,QAA3BA,EAASv9E,MAAM,KAAK,KACrEvG,OAAO6jF,SAASud,QAChC,GAER,GAAC,sCACD,WAA2B,WAEvBtnG,KAAK+mG,yBAA0Bx7C,EAAAA,EAAAA,WAC3B,kBAAM,EAAK+hC,KAAK93E,OAAO7G,QAAQ,IAC/B,SAAAA,GACSe,QAAQC,gBAEgBD,QAAQC,eAChC0W,eACAtQ,QACG,SAAAjO,GAAC,MACc,kCAAXA,EAAErG,MACS,gCAAXqG,EAAErG,MACDqG,EAAE8vC,eAAe,gCAAkD,qBAAhB9vC,EAAE8iC,SAAiC,IAG9EznC,SAAQ,SAAAokG,GAAmB,OAAIA,EAAoBxtD,YAAYprC,EAAS,GACjG,GAER,GAAC,qCAED,WAA0B,WACtB,EAA2B3O,KAAKstF,KAAxB93E,EAAM,EAANA,OAAQm7E,EAAM,EAANA,OAEhB3wF,KAAKgnG,8BAA+Bz7C,EAAAA,EAAAA,WAChC,kBAAM/1C,EAAOgyF,gBAAgB,IAC7B,SAAAA,GACI,GAAKA,EAAL,CACA,EAAKhC,mCAAmChwF,EAAQm7E,GAEhD,MAA0ChvE,EAAAA,WAAAA,SAAlCo1B,EAAc,EAAdA,eAAgBgB,EAAa,EAAbA,cAEpBroC,QAAQC,gBACRonC,EAAe0wD,uBAAsB,GAAMjjG,MAAK,WAC5CuzC,EAAc2vD,eACdh4F,QAAQC,eACH0W,eACAtQ,QAAO,SAAAtG,GAAK,MAAmB,4BAAfA,EAAMhO,IAAkC,IACxD0B,SAAQ,SAAAsM,IACLkyB,EAAAA,EAAAA,wBAAsB,WAClB,IAAMgmE,EAAoB,IAAIj4F,QAAQwU,OAAOo2B,OAAO7qC,GACpDC,QAAQwU,OAAOq2B,KAAKotD,EACxB,GACJ,GACR,GAjByB,CAmBjC,GAER,GAAC,kDAED,WACI,MAA2B3nG,KAAKstF,KAAxB93E,EAAM,EAANA,OAAQm7E,EAAM,EAANA,OAEhB3wF,KAAKinG,qCAAsC17C,EAAAA,EAAAA,WACvC,kBAAM/1C,EAAOylC,yBAAyB,IACtC,aAEUzlC,EAAOggC,cAAgBhgC,EAAOiwF,eAC/BjwF,EAAOkwF,OAASx/F,OAAO6jF,SAASC,WAAa2b,EAAAA,OAAAA,MAC9CC,EAAAA,EAAAA,2BAA0BpwF,EAAOqwF,kBACjCrwF,EAAOswF,sBAEPC,EAAAA,EAAAA,oCAAmCpV,EAAOqV,UAAW,CACjDp4F,MAAM/G,EAAAA,EAAAA,UACF,kKAEJ6vE,OAAO7vE,EAAAA,EAAAA,UAAS,0CAChBo/F,MAAMp/F,EAAAA,EAAAA,UAAS,8BAG3B,GAER,GAAC,6CAED,WACI,MAA2B7G,KAAKstF,KAAxB93E,EAAM,EAANA,OAAQm7E,EAAM,EAANA,OAEhB3wF,KAAKknG,gCAAiC37C,EAAAA,EAAAA,WAClC,kBAAM/1C,EAAOoyF,iBAAiBC,YAAY,IAC1C,aAEUryF,EAAOggC,cAAgBhgC,EAAOiwF,eAC/BjwF,EAAOkwF,OAASx/F,OAAO6jF,SAASC,WAAa2b,EAAAA,OAAAA,MAC9CC,EAAAA,EAAAA,2BAA0BpwF,EAAOqwF,kBACjCrwF,EAAOswF,sBAEPC,EAAAA,EAAAA,oCAAmCpV,EAAOqV,UAAW,CACjDp4F,MAAM/G,EAAAA,EAAAA,UACF,kKAEJ6vE,OAAO7vE,EAAAA,EAAAA,UAAS,0CAChBo/F,MAAMp/F,EAAAA,EAAAA,UAAS,8BAG3B,GAER,GAAC,iCAED,WAEI,MACI7G,KAAKmlG,WADDn6C,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAASE,EAAU,EAAVA,WAAYJ,EAAS,EAATA,UAAW+8C,EAAc,EAAdA,eAAgB18C,EAAU,EAAVA,WAAYs7C,EAAa,EAAbA,cAAe3I,EAAY,EAAZA,aAEnFvoF,EAAWxV,KAAKstF,KAAhB93E,OACAuM,EAAqBqpC,EAArBrpC,iBACAgmF,EAAqBD,EAArBC,iBACAz8C,EAAeo7C,EAAfp7C,WACAzL,EAA4Bk+C,EAA5Bl+C,wBAER7/C,KAAKymG,WAAa,CACdjxF,OAAAA,EACAw1C,OAAAA,EACAC,QAAAA,EACAE,WAAAA,EACAJ,UAAAA,EACAK,WAAAA,EACAE,WAAAA,EACAzL,wBAAAA,EACAkoD,iBAAAA,EACAhmF,iBAAAA,GAGJ/hB,KAAKshB,kBAAoB,CACrBkK,YAAaxrB,KAAKstF,KAAKqD,OAAOnlE,YAC9BqvC,GAAI76D,KAAKmlG,WAAWtqC,GAE5B,4EAAC,EA9NwB,GCLvBmtC,GAAuB,WACzB,OAAO5jG,KAAKiB,MAAMi4E,aAAaC,QAAQ,iBAC3C,EAEa0qB,GAAa,SAAAvmG,GACtB,IAAMyvF,EAAW6W,KAEjB,OAAK7W,EAIEA,EAASzvF,GAHL,IAIf,EAEawmG,GAAe,SAACxmG,EAAK2Y,GAC9B,IAAM82E,EAAW6W,MAA0B,CAAC,EAE5C7W,EAASzvF,GAAO2Y,EAChBijE,aAAa6qB,QAAQ,gBAAiB/jG,KAAKC,UAAU8sF,GACzD,EAEaiX,GAAiB,SAAA1mG,GAC1B,IAAMyvF,EAAW6W,MAA0B,CAAC,SACrC7W,EAASzvF,GAEhB47E,aAAa6qB,QAAQ,gBAAiB/jG,KAAKC,UAAU8sF,GACzD,4qBCvB0D,IAcrCkX,GAAY,WAG7B,WAAYlD,gGAAuB,cAFnCA,gBAAU,OAgBVza,YAAa,EAAK,KAElB+E,WAAaZ,GAAWC,WAfpB/C,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB0qF,WAAYsB,EAAAA,WACZyD,WAAYzD,EAAAA,WACZsc,aAAcp2F,EAAAA,OAAAA,MACdy0F,iBAAkBz0F,EAAAA,OAAAA,MAClBywF,QAASzwF,EAAAA,OAAAA,MACT00F,mBAAoB10F,EAAAA,OAAAA,MACpB0wF,UAAW1wF,EAAAA,OAAAA,MACXo5C,WAAYp5C,EAAAA,OAAAA,QAEhBlS,KAAKmlG,WAAaA,CACtB,SAiCC,SAjCA,gCAMD,SAAa9O,GACTr2F,KAAKyvF,WAAa4G,EAClB6R,GAAa,aAAcloG,KAAKyvF,WACpC,GAAC,8BAED,WACQzvF,KAAKyvF,aAAeZ,GAAWC,YAC/BpF,EAAAA,EAAAA,oBAER,GAAC,qBAED,WACIxjF,OAAO0e,iBAAiB,SAAU5kB,KAAK2mG,iBAC3C,GAAC,gCAED,WACQsB,GAAW,gBACXjoG,KAAKyvF,WAAawY,GAAW,cAErC,GAAC,uBAED,WACI/hG,OAAOihG,oBAAoB,SAAUnnG,KAAK2mG,iBAC9C,GAAC,wBAED,SAAWjc,GACP1qF,KAAK0qF,WAAaA,CACtB,2EAAC,EAhD4B,6qBCbjC,IACIQ,GADEqd,GAAoB,CAAC,EAGNC,GAAU,WAC3B,WAAYrD,GAAY,sHA+BxBpkG,YAAM,OACN0nG,sBAAgB,OAChB7X,gBAAU,OACV5vF,iBAAW,OAkDX8wF,YAAc,SAAC4W,EAAKlnG,GAChB,GAAsB,IAAlBknG,EAAIrlG,UAAiB,CACrB,IAAM3B,EAAM0C,KAAKC,UAAUqkG,GACrB1d,EAAaE,GAAGyd,sBAAsBD,EAAKlnG,GACjD+mG,GAAkB7mG,GAAOspF,CAC7B,CACJ,EAAC,KAED2G,SAAW,SAAA+W,GACP,IAAMhnG,EAAM0C,KAAKC,UAAUqkG,GACvBH,GAAkB7mG,KAClB6mG,GAAkB7mG,GAAK0R,qBAChBm1F,GAAkB7mG,GAEjC,EAAC,KAEDkwF,eAAiB,SAAAgX,GACb1d,GAAG2d,aAAaD,EACpB,EAAC,KAED/W,cAAgB,SAAA6W,GACZ,OAAIA,EAAIjpB,KACGqpB,EAAAA,WAAAA,cAAyBtkG,MAAK,WACjC,MAAO,CACHhB,SAAU,OACVi8E,KAAMqpB,EAAAA,WAAAA,MAAiB1mB,OAE/B,IAEAsmB,EAAI3xD,eACGm0C,GAAG/P,gBAEP+P,GAAGkB,QAAQ/gE,KAAKq9E,EAC3B,EAAC,KAED7X,gBAAkB,SAAA95C,GACd,IAAMgyD,EAAkB,kBAElBC,IAAwBjyD,EAAevmC,MAAK,SAAA+uE,GAAC,OAAIA,EAAEpoC,SAAW4xD,CAAe,IACnF,OAAOhyD,EACFjzC,QACA65D,MAAK,SAAC91D,EAAGC,GAAC,OAAMD,EAAEswB,aAAerwB,EAAEqwB,cAAgB,EAAI,CAAC,IACxDr1B,KAAI,SAAAy8E,GAAC,OAAIA,EAAEpoC,MAAM,IACjBvvC,QACG,SAACP,EAAK8vC,GAEF,OAD6B,IAAzB9vC,EAAIy2B,QAAQqZ,IAAgB9vC,EAAI2S,KAAKm9B,GAClC9vC,CACX,GACA2hG,EAAsB,CAACD,GAAmB,GAEtD,GArIIhd,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBe,OAAQirF,EAAAA,WACRyc,iBAAkBzc,EAAAA,WAClB4E,WAAY5E,EAAAA,WACZhrF,YAAagrF,EAAAA,WACbid,kBAAmBC,EAAAA,SACnBC,WAAYj3F,EAAAA,OAAAA,MACZk3F,UAAWl3F,EAAAA,OAAAA,MACXm3F,aAAcn3F,EAAAA,OAAAA,MACd++E,eAAgB/+E,EAAAA,OAAAA,MAChB29E,kBAAmB39E,EAAAA,OAAAA,MACnB09E,gBAAiB19E,EAAAA,OAAAA,MACjBg/E,eAAgBh/E,EAAAA,OAAAA,MAChB4/E,YAAa5/E,EAAAA,OAAAA,MACby/E,SAAUz/E,EAAAA,OAAAA,MACV0/E,eAAgB1/E,EAAAA,OAAAA,MAChB2/E,cAAe3/E,EAAAA,OAAAA,MACf2+E,gBAAiB3+E,EAAAA,OAAAA,QAGrBlS,KAAKmlG,WAAaA,EAClBja,GAAKia,EAAWtqC,GAChB,IAAQw0B,EAAc8V,EAAd9V,WAER9jC,EAAAA,EAAAA,WACI,kBAAM8jC,EAAU1R,UAAU,IAC1B,kBAAO0R,EAAU1R,WAAa,EAAKwrB,aAAe,EAAKC,WAAW,GAE1E,SA0GA,SA1GC,mCAOD,WACI,IAAQ5G,EAAiBxiG,KAAKmlG,WAAtB3C,aAER,OAAOA,EAAa3gB,UAAUn6E,OAAS,GAAK86F,EAAa3gB,UAAU,GAAGynB,QAC1E,GAAC,wBAED,WACItpG,KAAKqpG,cAIT,GAEA,uBACA,WAEI,GACH,0BAED,WACI,IACM1zD,EADYjmC,QAAQC,eACK0W,eAAe7V,MAAK,SAAAf,GAC/C,MAAsB,4BAAfA,EAAMhO,IACjB,IAEA,GAAIk0C,GAAiC,OAAjBA,EAAuB,CACvC,IAAM50C,EAAS40C,EAAazb,cAAc,eAC1Cl6B,KAAKe,OAASA,CAClB,CACJ,GAAC,4BAED,SAAeA,GACXf,KAAKe,OAASA,CAClB,GAAC,+BAED,SAAkBC,GACdhB,KAAKgB,YAAcA,CACvB,GAAC,6BAED,SAAgB4vF,GACZ5wF,KAAK4wF,WAAaA,CACtB,GAAC,4BAED,SAAel8E,GACX1U,KAAKyoG,iBAAmB/zF,CAC5B,2EAsDA,EAxI2B,GCPlBm6E,GAAa5nF,OAAOguB,OAAO,CACpCs0E,UAAW,YACXC,WAAY,aACZC,WAAY,eAGHC,GAAoB,SAACjoG,EAAMkoG,GAK7B,QAJM,UAATloG,EACIkoG,GAAUA,EAAOC,uBAAuB,gBAAgBliG,OAAS,GACjEiiG,EAAO3pC,YAAY2pC,EAAOC,uBAAuB,gBAAgB,IAGrED,SAAe,QAAT,EAANA,EAAQre,eAAO,OAAf,EAAiBtrB,YAAY2pC,SAAe,QAAT,EAANA,EAAQre,eAAO,WAAT,EAAN,EAAiB74B,SAAS,GAE/D,6GCmDA,SAAejxB,GAAQ,gBAAGupB,EAAS,EAATA,UAAS,MAAmB,CAClD8+C,uBAAwB9+C,EAAU8+C,uBAClCC,cAAe/+C,EAAU++C,cACzBC,YAAah/C,EAAUg/C,YAC1B,GAJD,EAnDkB,SAAH,GAAqE,QAA/D/G,EAAO,EAAPA,QAASv3B,EAAG,EAAHA,IAAK92C,EAAK,EAALA,MAAOo1E,EAAW,EAAXA,YAAaC,EAAU,EAAVA,WACa,KAArB7c,IAAAA,UAAe,KAAM,s5BAAzD8c,EAAgB,KAAEC,EAAc,KAYvC,OAVA/c,IAAAA,WAAgB,WACZ,GAAI1hB,EAAK,CACL,IAAM0+B,EAAa,IAAIC,MACvBD,EAAW39E,OAAS,WAChB09E,GAAe,EACnB,EACAC,EAAW79E,IAAMm/C,CACrB,CACJ,GAAG,CAACu+B,IAGA,kBAAC,aAAc,KACX,yBAAK9jB,UAAU,WACX,yBAAKA,UAAU,mBACX,kBAAC,EAAAr+B,KAAI,CAACyrC,MAAM,iBAAiBqE,YAAY,KACpCqS,EAAU,MAEf,kBAAC,EAAAniD,KAAI,CAACq+B,UAAU,yBAAyByR,YAAY,IAAInB,QAASuT,IAC7DljG,EAAAA,EAAAA,UAAS,eAGlB,yBAAKq/E,UAAU,kBACX,kBAAC,EAAAr+B,KAAI,CAAC6vC,GAAG,IAAIC,YAAY,IAAItE,OAAO,QAC/B1+D,IAIR82C,GACG,yBAAKya,UAAU,sBACV+jB,EAAmB,yBAAK39E,IAAKm/C,EAAK4+B,QAAQ,UAAa,kBAAC,EAAAC,QAAO,OAIxE,yBAAKpkB,UAAU,oBACV8c,EAAQlgG,KAAI,SAAAynG,GACT,OACI,yBAAKrkB,UAAU,0BAA0BxkF,IAAK6oG,GAC1C,kBAAC,EAAA1iD,KAAI,CAAC1qB,MAAM,OAAOu6D,GAAG,IAAIt1F,KAAK,KAAKu1F,YAAY,KAC3C4S,GAIjB,MAKpB,ktCCrCO,IAwCHC,GAxCSC,GAAkB,SAACp/B,EAA2C5pE,GACvE,OAAIA,IAAS,GAAL,OAAQipG,GAAUhpG,IAAG,UAClBwmG,GAAa,GAAD,OAAIwC,GAAUhpG,IAAG,UAAU2pE,GAE3C68B,GAAa,GAAD,OAAIwC,GAAUhpG,IAAG,WAAW2pE,EACnD,EAEas/B,GAAkB,SAAClpG,GAC5B,OACWwmG,GAAW,GAAD,OAAIyC,GAAUhpG,IADtB,UAATD,EACkC,SAEJ,WACtC,EAaaipG,GAAuB,CAChChpG,IAAK,gBAGIkpG,GAAc,SAACv/B,GACxBq/B,GAAUhpG,IAAM2pE,CACpB,EAEaw/B,GAAiC,CAC1CnpG,IAAK,GACLy8E,OAAQ,GACR18E,KAAM,GAAF,OAAKipG,GAAUhpG,IAAG,YAGtBopG,GAAkC,CAAC,EAE1BC,GAAwB,SAACxnG,GAClC,IAAQ2O,EAA0B3O,EAA1B2O,OAAQ8I,EAAkBzX,EAAlByX,MAAOtG,EAAWnR,EAAXmR,OACR,aAAXA,IACAm2F,GAAkBnpG,IAAMgT,GAEb,UAAXxC,IACA24F,GAAkB1sB,OAASjsE,GAE3Bs4F,KAAmBxvF,KACnB8vF,GAAO,CAAC,GACHp2F,OAASA,EACdo2F,GAAK54F,OAASA,GAElBs4F,GAAiBxvF,EACjByvF,GAAgBK,GAAM,QAEtB5kG,OAAOwe,cAAc,IAAIC,MAAM,YAC/B8lF,IAAgB,IAAI59F,MAAOE,UAAW,GAAF,OAAK29F,GAAUhpG,IAAG,UAC1D,EAEMspG,GAAgC,CAClCC,cAAc,EACdC,iBAAiB,EACjBC,eAAe,EACfC,gBAAgB,EAChBC,mBAAmB,GAGVC,GAAkB,CAAC,OAExBhhF,OAAQ,kBACR04E,QACI,kBAAC,GAAS,CACNruE,OAAO9tB,EAAAA,EAAAA,UAAS,sBAChBm8F,QAAS,EACLn8F,EAAAA,EAAAA,UACI,gJAEJA,EAAAA,EAAAA,UACI,wGAGR4kE,IAAKye,EAAiB,mCACtBqhB,oBAAqB,EACrBvB,WAAY,KAGjBgB,IAAa,IAChBI,gBAAgB,IAAK,OAGrB9gF,OAAQ,aACR04E,QACI,kBAAC,GAAS,CACNruE,OAAO9tB,EAAAA,EAAAA,UAAS,sBAChBm8F,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,oDACnB4kE,IAAKye,EAAiB,mCACtBqhB,oBAAqB,EACrBvB,WAAY,KAGjBgB,IAAa,IAChBI,gBAAgB,IAAK,OAGrB9gF,OAAQ,gBACR04E,QACI,kBAAC,GAAS,CACNruE,OAAO9tB,EAAAA,EAAAA,UAAS,+BAChBm8F,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,2CACnB4kE,IAAKye,EAAiB,mCACtBqhB,oBAAqB,EACrBvB,WAAY,KAGjBgB,IAAa,IAChBI,gBAAgB,IAAK,OAGrB9gF,OAAQ,gCACR04E,QACI,kBAAC,GAAS,CACNruE,OAAO9tB,EAAAA,EAAAA,UAAS,aAChBm8F,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,kEACnB0kG,oBAAqB,EACrBvB,WAAY,IAGpBwB,UAAW,SACRR,IAAa,IAChBI,gBAAgB,IAAK,OAGrB9gF,OAAQ,yBACR04E,QACI,kBAAC,GAAS,CACNruE,OAAO9tB,EAAAA,EAAAA,UAAS,wBAChBm8F,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,6CACnB4kE,IAAKye,EAAiB,mCACtBqhB,oBAAqB,EACrBvB,WAAY,IAGpBwB,UAAW,QACRR,IAAa,IAChBI,gBAAgB,IAAK,OAGrB9gF,OAAQ,sBACR04E,QACI,kBAAC,GAAS,CACNruE,OAAO9tB,EAAAA,EAAAA,UAAS,wBAChBm8F,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,oFACnB4kE,IAAKye,EAAiB,mCACtBqhB,oBAAqB,EACrBvB,WAAY,IAGpByB,OAAQ,CAAEC,MAAM7kG,EAAAA,EAAAA,UAAS,UACtBmkG,IAAa,IAChBI,gBAAgB,KAIlBO,GAAQ,SAAH,WAAMC,WAAAA,OAAU,IAAG,GAAK,SAC/B,yBAAK1lB,UAAU,mBACV0lB,GACG,yBAAK1lB,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,cAGpC,yBAAK5O,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAiB,gDACjBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,yBAAKwkF,UAAU,oDACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,6BAA6BC,WAAY,CAAC,4BAAQrzF,IAAK,QAEvF,yBAAKwkF,UAAU,yBACX,4BACI,4BACI,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,wFAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,sDAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,4CAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,yDAClBC,WAAY,CAAC,4BAAQrzF,IAAK,UAKxC,EAGJmqG,GAAS,WAAH,OACR,yBAAK3lB,UAAU,mBACX,yBAAKA,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,6CAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,yBAAKwkF,UAAU,yBACX,4BACI,4BACI,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,2BAA2BC,WAAY,CAAC,4BAAQrzF,IAAK,QAErF,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,gDAClBC,WAAY,CAAC,4BAAQrzF,IAAK,UAKxC,EAGJoqG,GAAQ,SAAH,WAAMF,WAAAA,OAAU,IAAG,GAAK,SAC/B,yBAAK1lB,UAAU,mBACV0lB,GACG,yBAAK1lB,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,cAIpC,yBAAK5O,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,kDAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,yBAAKwkF,UAAU,oDACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,iCAAiCC,WAAY,CAAC,4BAAQrzF,IAAK,QAE3F,yBAAKwkF,UAAU,yBACX,4BACI,4BACI,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,wBAAwBC,WAAY,CAAC,4BAAQrzF,IAAK,UAIxF,EAGJqqG,GAAQ,SAAH,WAAMH,WAAAA,OAAU,IAAG,GAAK,SAC/B,yBAAK1lB,UAAU,mBACV0lB,GACG,yBAAK1lB,UAAU,2DACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,cAIpC,yBAAK5O,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,sJAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGhC,EAGJsqG,GAAQ,SAAH,WAAMJ,WAAAA,OAAU,IAAG,GAAK,SAC/B,yBAAK1lB,UAAU,mBACV0lB,GACG,yBAAK1lB,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,cAIpC,yBAAK5O,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,sGAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,yBAAKwkF,UAAU,yBACX,4BACI,4BACI,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,uGAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,4CAClBC,WAAY,CAAC,4BAAQrzF,IAAK,SAItC,yBAAKwkF,UAAU,oDACX,yBAAKA,UAAU,oCACX,kBAAC,EAAAzuB,KAAI,CAAC7F,KAAK,oBAAoBs0B,UAAU,gCAAgCoN,MAAM,WAEnF,yBAAKpN,UAAU,qCACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,6DAClBC,WAAY,CAAC,4BAAQrzF,IAAK,UAK1C,6BACI,yBAAK4qB,IAAK49D,EAAiB,+BAAgC7+C,IAAI,WAEjE,EAGJ4gE,GAAQ,SAAH,WAAML,WAAAA,OAAU,IAAG,GAAK,SAC/B,yBAAK1lB,UAAU,mBACV0lB,GACG,yBAAK1lB,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,cAIpC,yBAAK5O,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,wEAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,yBAAKwkF,UAAU,yBACX,4BACI,4BACI,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,oHAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,6FAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,0DAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,4BACI,kBAAC,EAAAmzF,SAAQ,CACLC,kBAAkB,yGAClBC,WAAY,CAAC,4BAAQrzF,IAAK,UAK1C,6BACI,yBAAK4qB,IAAK49D,EAAiB,+BAAgC7+C,IAAI,WAEjE,EAGJ6gE,GAAQ,SAAH,WAAMN,WAAAA,OAAU,IAAG,GAAK,SAC/B,yBAAK1lB,UAAU,mBACV0lB,GACG,yBAAK1lB,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,cAIpC,yBAAK5O,UAAU,yBACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,sGAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGhC,EAGGyqG,GAAmB,CAAC,IAEzB7hF,OAAQ,sBACR04E,QAAS,kBAAC2I,GAAK,CAACC,YAAU,IAC1BJ,UAAW,SACRR,IAAa,IAGhB1gF,OAAQ,sBACR04E,QAAS,kBAAC6I,GAAM,MAChBL,UAAW,UACRR,IAAa,IAGhB1gF,OAAQ,sBACR04E,QAAS,kBAAC8I,GAAK,CAACF,YAAU,IAC1BJ,UAAW,SACRR,IAAa,IAGhB1gF,OAAQ,sBACR04E,QAAS,kBAAC+I,GAAK,CAACH,YAAU,IAC1BJ,UAAW,SACRR,IAAa,IAGhB1gF,OAAQ,sBACR04E,QAAS,kBAACgJ,GAAK,CAACJ,YAAU,IAC1BJ,UAAW,SACRR,IAAa,IAGhB1gF,OAAQ,sBACR04E,QAAS,kBAACiJ,GAAK,CAACL,YAAU,IAC1BJ,UAAW,SACRR,IAAa,IAGhB1gF,OAAQ,sBACR04E,QAAS,kBAACkJ,GAAK,CAACN,YAAU,IAC1BH,OAAQ,CAAEC,MAAM7kG,EAAAA,EAAAA,UAAS,UACtBmkG,KAUEoB,GAAoC,CAC7C,CACI9R,QAAQzzF,EAAAA,EAAAA,UAAS,UACjBm8F,QAAS,kBAAC,EAAAnO,SAAQ,CAACC,kBAAiB,kDACpCpzF,IAAK,GAET,CACI44F,QAAQzzF,EAAAA,EAAAA,UAAS,UACjBm8F,QACI,kBAAC,EAAAnO,SAAQ,CACLC,kBAAiB,iFAGzBpzF,IAAK,GAET,CACI44F,QAAQzzF,EAAAA,EAAAA,UAAS,UACjBm8F,QACI,kBAAC,EAAAnO,SAAQ,CACLC,kBAAiB,iHAGzBpzF,IAAK,IAIA2qG,GAAyB,CAClC,CACI/R,QAAQzzF,EAAAA,EAAAA,UAAS,uBACjBm8F,QAAS,CACL,kBAAC,EAAAnO,SAAQ,CACLnzF,IAAI,qBACJozF,kBAAkB,iEAClBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlCA,IAAK,EACL4qG,SAAU,GAEd,CACIhS,QAAQzzF,EAAAA,EAAAA,UAAS,sBACjB4kE,IAAKye,EAAiB,qCACtB8Y,QAAS,EACLn8F,EAAAA,EAAAA,UACI,sLAGRnF,IAAK,EACL4qG,SAAU,GAEd,CACIhS,QAAQzzF,EAAAA,EAAAA,UAAS,sBACjB4kE,IAAKye,EAAiB,qCACtB8Y,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,oDACnBnF,IAAK,EACL4qG,SAAU,GAEd,CACIhS,QAAQzzF,EAAAA,EAAAA,UAAS,+BACjB4kE,IAAKye,EAAiB,qCACtB8Y,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,2CACnBnF,IAAK,EACL4qG,SAAU,GAEd,CACIhS,QAAQzzF,EAAAA,EAAAA,UAAS,aACjB4kE,IAAKye,EAAiB,qCACtB8Y,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,kEACnBnF,IAAK,EACL4qG,SAAU,GAEd,CACIhS,QAAQzzF,EAAAA,EAAAA,UAAS,wBACjB4kE,IAAKye,EAAiB,qCACtB8Y,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,6CACnBnF,IAAK,EACL4qG,SAAU,GAEd,CACIhS,QAAQzzF,EAAAA,EAAAA,UAAS,wBACjB4kE,IAAKye,EAAiB,qCACtB8Y,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,oFACnBnF,IAAK,EACL4qG,SAAU,2PCxiBlB,knGAAA/jG,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yZAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,yYAG+F,IAoC1EgkG,GAAc,WAG/B,WAAYpH,GAAuB,YA1CvC,4FA0CuC,cAFnCA,gBAAU,OAsFV1V,WAAa,EAAC,KACd+c,qBAAuB,EAAC,KACxBC,wBAA0B,EAAC,KAC3BC,eAAiB,CAAC,EAAC,KACnBC,iBAA2B,GAAE,KAC7BC,aAAe,GAAE,KACjBC,kBAAoB,GAAE,KACtBC,iBAAkB,EAAK,KACvBC,2BAA4B,EAAK,KACjCC,qBAAuB,GAAE,KACzBC,8BAA+B,EAAK,KACpC1J,6BAA8B,EAAK,KACnC2J,gBAAiB,EAAK,KACtBC,kBAAmB,EAAK,KACxBC,gBAAiB,EAAK,KACtBC,mBAAoB,EAAK,KACzB3d,uBAAwB,EAAK,KAC7B4d,qBAAsB,EAAK,KAC3BC,wBAAyB,EAAK,KAC9B3I,YAAa,EAAK,KAClB4I,mBAAqB,UAAS,KAC9B3I,cAAgB,GAAE,KAalBC,gBAAkB,SAACD,GAA6C,IAAtBD,IAAa,UAAH,+CAChD,EAAKC,cAAgBA,EACrB,EAAKD,WAAaA,CACtB,EAAC,KAED6I,mBAAqB,SAACJ,GAClB,EAAKA,kBAAoBA,CAC7B,EAAC,KAMDK,kBAAoB,SAACjB,GACjB,EAAKA,wBAA0BA,CACnC,EAAC,KAEDkB,mBAAqB,SAACZ,GAClB,EAAKA,0BAA4BA,GAIjCa,EADI,EAAKzI,WADL/5C,WAAcwiD,mBAGtB,EAAC,KAEDC,oBAAsB,SAACL,GACnB,EAAKA,mBAAqBA,CAC9B,EAAC,KAEDM,gBAAkB,SAACZ,GACf,EAAKA,eAAiBA,CAC1B,EAAC,KAEDa,wBAA0B,SAAClB,GACvB,EAAKA,kBAAoBA,CAC7B,EAAC,KAEDmB,wBAA0B,SAAChB,GACvB,EAAKA,qBAAuBA,CAChC,EAAC,KAEDiB,uBAAyB,SAAChB,GACtB,EAAKA,6BAA+BA,CACxC,EAAC,KAEDiB,kBAAoB,SAACZ,GACjB,EAAKA,oBAAsBA,CAC/B,EAAC,KAEDzD,uBAAyB,SAACtG,GACtB,EAAKA,4BAA8BA,CACvC,EAAC,KAED4K,wBAA0B,SAACZ,GACvB,EAAKA,uBAAyBA,CAClC,EAAC,KAEDzD,cAAgB,SAACqD,GACb,EAAKA,iBAAmBA,CAC5B,EAAC,KAEDiB,cAAgB,SAACtB,GACb,EAAKA,gBAAkBA,EACvBpD,GAAkB,QAAS1nF,SAASC,eAAe,oCACvD,EAAC,KAEDosF,cAAgB,WACZ,EAAKjB,gBAAiB,CAC1B,EAAC,KAED9E,aAAe,SAAC7Y,GACZ,EAAKA,WAAaA,EACd,EAAKwd,+BACL,EAAKnD,eAAc,GACnB,EAAKmE,wBAAuB,IAER,IAApB,EAAKxe,aACLl9B,EAAAA,EAAAA,mBAER,EAAC,KAED+7C,qBAAuB,SAAC9B,GACpB,EAAKA,qBAAuBA,CAChC,EAAC,KAED+B,kBAAoB,SAAC5B,GACjB,EAAKA,iBAAmBA,CAC5B,EAAC,KAED6B,gBAAkB,SAACnjC,GACf,IAAQx9D,EAAcw9D,EAAdx9D,IAAKpM,EAAS4pE,EAAT5pE,KACO,CAAC,SAAU,OACfsf,SAAStf,IACR,QAATA,IACA,EAAKirG,eAAiB,CAClB7+F,IAAAA,IAGR,EAAKu/F,gBAAiB,GAEtB,EAAKA,gBAAiB,CAE9B,EAAC,KAEDqB,uBAAyB,SAAC/e,GACtB,EAAKA,sBAAwBA,CACjC,EAAC,KAEDgf,iBAAmB,SAACC,GAChB,IAAMxtF,EAAYzR,QAAQkU,cACpB4+C,EAAUrhD,EAAUmkD,aACpBspC,EAAWD,EAAa,GAAK,EAEnCxtF,EAAUoB,KAAKigD,EAAQM,UAAY,EAAGN,EAAQQ,WAAa,EAAG4rC,EAClE,EAAC,KAEDC,gBAAkB,SAACpf,EAAoBp1E,GAChB,IAAfo1E,GACA,EAAKqa,cAAczvF,GACnB,EAAKwvF,uBAAuBxvF,IAE5B,EAAK4zF,uBAAuB5zF,GAEhC,EAAKyzF,gBAAgBzzF,EACzB,EAAC,KAED0vF,YAAc,WACV,EAAKF,wBAAuB,GAC5B,EAAKoE,wBAAuB,GAC5BxD,IAAgB,IAAI59F,MAAOE,UAAW,GAAF,OAAK29F,GAAUhpG,IAAG,WACtD,EAAKooG,eAAc,EACvB,EAAC,KACDgF,WAAa,SAACzjC,GACV,IAAQ3pE,EAAQ2pE,EAAR3pE,IACR,EAAKosG,iBAAgB,IAChB/d,EAAAA,EAAAA,aAAY,EAAKoe,yBAAwB,GAC9C,EAAKrE,eAAc,GACnBW,IAAgB,IAAI59F,MAAOE,UAAW,GAAF,OAAKrL,EAAG,UAChD,EAAC,KAEDqtG,UAAY,SAACllE,EAAc05D,GACV,IAAT15D,IACA,EAAKkgE,cACL,EAAK+E,WAAWpE,IAChB,EAAKyD,yBAAwB,IAE5B5K,GAAwC,IAAT15D,IAChC,EAAKkgE,cACL,EAAK+E,WAAWpE,IAExB,GA3QI3e,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBwsG,qBAAsBxgB,EAAAA,WACtByD,WAAYzD,EAAAA,WACZ0gB,eAAgB1gB,EAAAA,WAChB2gB,iBAAkB3gB,EAAAA,WAClB4gB,aAAc5gB,EAAAA,WACd6gB,kBAAmB7gB,EAAAA,WACnB8gB,gBAAiB9gB,EAAAA,WACjB+gB,0BAA2B/gB,EAAAA,WAC3BghB,qBAAsBhhB,EAAAA,WACtBihB,6BAA8BjhB,EAAAA,WAC9BuX,4BAA6BvX,EAAAA,WAC7BkhB,eAAgBlhB,EAAAA,WAChBmhB,iBAAkBnhB,EAAAA,WAClBgjB,cAAe98F,EAAAA,OAAAA,MACfk7F,eAAgBphB,EAAAA,WAChBqhB,kBAAmBrhB,EAAAA,WACnB0D,sBAAuB1D,EAAAA,WACvBshB,oBAAqBthB,EAAAA,WACrBuhB,uBAAwBvhB,EAAAA,WACxBt+D,aAAcw7E,EAAAA,SACdmF,cAAen8F,EAAAA,OAAAA,MACf63F,YAAa73F,EAAAA,OAAAA,MACb68F,UAAW78F,EAAAA,OAAAA,MACXo2F,aAAcp2F,EAAAA,OAAAA,MACdo8F,qBAAsBp8F,EAAAA,OAAAA,MACtB67F,wBAAyB77F,EAAAA,OAAAA,MACzB+7F,uBAAwB/7F,EAAAA,OAAAA,MACxBq8F,kBAAmBr8F,EAAAA,OAAAA,MACnBk8F,cAAel8F,EAAAA,OAAAA,MACf47F,gBAAiB57F,EAAAA,OAAAA,MACjBu8F,uBAAwBv8F,EAAAA,OAAAA,MACxBu7F,mBAAoBv7F,EAAAA,OAAAA,MACpB87F,wBAAyB97F,EAAAA,OAAAA,MACzB23F,uBAAwB33F,EAAAA,OAAAA,MACxBy7F,mBAAoBz7F,EAAAA,OAAAA,MACpBg8F,kBAAmBh8F,EAAAA,OAAAA,MACnB43F,cAAe53F,EAAAA,OAAAA,MACfi8F,wBAAyBj8F,EAAAA,OAAAA,MACzB4yF,gBAAiB5yF,EAAAA,OAAAA,MACjB0yF,WAAY5Y,EAAAA,WACZwiB,gBAAiBt8F,EAAAA,OAAAA,MACjBs7F,mBAAoBxhB,EAAAA,WACpB6iB,gBAAiB38F,EAAAA,OAAAA,MACjB2yF,cAAe7Y,EAAAA,WACf6hB,oBAAqB37F,EAAAA,OAAAA,QAEzBlS,KAAKmlG,WAAaA,EAClB,MAEInlG,KAAKmlG,WADL/5C,WAAc6jD,EAAqB,EAArBA,sBAAuBC,EAAoB,EAApBA,qBAGnCC,EAAyB,WAC3Bz/F,QAAQC,eAAe86D,aACvB/6D,QAAQ0U,IAAIC,eACR3U,QAAQ0U,IAAIE,UAAU5U,QAAQC,eAAegU,kBAC7CjU,QAAQC,eAEhB,GAEA47C,EAAAA,EAAAA,WACI,kBAAM,EAAK79B,YAAY,IACvB,YACID,EAAAA,EAAAA,WAAU,EAAKC,cACS,IAApB,EAAK+hE,WACL0f,KAEAA,IACAF,EAAsBC,GAE9B,KAEJ3jD,EAAAA,EAAAA,WACI,kBAAM,EAAK+hD,mBAAmB,kBApH1C,EAoH0C,GApH1C,EAoH0C,WAC9B,WAAMA,GAAmB,kEACjBA,GACA,EAAKY,mBAAkB,GAC1B,0CAxHjB,iLAyHa,mDAL6B,IAOlCluG,KAAKgvG,eACT,CA5HJ,QA2KK,OA3KL,EA4HK,GA5HL,EA4HK,yBAyBD,WAQI,OADIhvG,KAAKmlG,WALLiK,IACI9hB,KACIkB,GAAM1jC,eAKtB,GAAC,2BAWD,WACSwyB,aAAaC,QAAQ,2BAA0Bv9E,KAAK0vF,uBAAwB,EACrF,MA3KJ,qEA2KK,EApI8B,m9BCvCnC,knGAAAnnF,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,0ZAE0D,IAErC8mG,GAAmB,WACpC,WAAYlK,EAAY7X,GAAM,YALlC,4FAKkC,cAqC9BgiB,YAAa,EAAK,KAClBC,cAAe,EAAI,KAEnBC,SAAW,+EAA8E,KACzFC,OAAS,GAAE,KACXC,UAAY,EAAC,KACbC,iBAAkB,EAAI,KACtBC,iBAAmB,GAAE,KACrBj5F,gBAAkB,CAAC,EAAC,KA0EpBk5F,YAAc,SAAAC,GACV,IAAMC,EAAqB,CAAC,IAAK,IAAK,MAChCC,GAAcC,EAAAA,EAAAA,aAAYH,GAOhC,OANoC,SAA9BI,EAA8B1oF,GAChCuoF,EAAmB5sG,SAAQ,SAAAgtG,GAAiB,OAAI3oF,EAAQ4oF,gBAAgBD,EAAkB,IAC1FztG,MAAMC,KAAK6kB,EAAQirC,UAAUtvD,SAAQ,SAAA2rD,GAAK,OAAIohD,EAA4BphD,EAAM,GACpF,CAEAohD,CAA4BF,GACrBA,CACX,EAAC,KAEDK,QAAU,SAAAjzC,GAAM,OAAIkzC,KAAKC,KAAAA,IAAUnzC,GAAQ,GAlIvC2uB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBsvG,WAAYtjB,EAAAA,WACZujB,aAAcvjB,EAAAA,WACdwjB,SAAUxjB,EAAAA,WACVyjB,OAAQzjB,EAAAA,WACR0jB,UAAW1jB,EAAAA,WACX2jB,gBAAiB3jB,EAAAA,WACjB4jB,iBAAkB5jB,EAAAA,WAClBr1E,gBAAiBq1E,EAAAA,WACjBwkB,SAAUt+F,EAAAA,OAAAA,MACVu+F,iBAAkBv+F,EAAAA,OAAAA,MAClBw+F,SAAUx+F,EAAAA,OAAAA,MACVy+F,YAAaz+F,EAAAA,OAAAA,MACb0+F,mBAAoB1+F,EAAAA,OAAAA,MACpB29F,YAAa39F,EAAAA,OAAAA,MACbm+F,QAASn+F,EAAAA,OAAAA,QAEblS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,IACRujB,EAAAA,EAAAA,iBAAkB,oBAAoBlkG,KAAKzG,OAAO6jF,SAAS+mB,aAC3D9wG,KAAKmlG,WAAaA,GAElB55C,EAAAA,EAAAA,WACI,kBAAM,EAAK45C,WAAW9V,UAAU1R,UAAU,IAC1C,kBAAO,EAAKwnB,WAAW9V,UAAU1R,WAAa,EAAK6yB,gBAAa1rG,CAAS,KAE7EymD,EAAAA,EAAAA,WACI,kBAAM,EAAK45C,WAAW3C,aAAaA,YAAY,IAC/C,SAAAA,GACQ,EAAKiN,QAAQ,EAAKgB,iBAAiBjO,EAC3C,IAGZ,CAvCJ,QAgEK,EAvBD,EAiFC,OA1HL,EAyCI,EAzCJ,EAyCI,wCAWA,yFACUsN,EAAU9vG,KAAK6vG,YAAYngG,QAAQ0U,IAAIe,eAAeN,EAAAA,KAAAA,WAA+B,IACrF2zD,EAAa9oE,QAAQ0U,IAAI69B,UAAU6tD,GACnCiB,EAAW/wG,KAAKqwG,QAAQ73B,GAE1Bx4E,KAAKqwG,QAAQrwG,KAAK4vG,oBAAsBmB,IACxC/wG,KAAK2vG,iBAAkB,EACvB3vG,KAAK4wG,mBAAmBp4B,IAG5Bx4E,KAAK0wG,SAAS1wG,KAAKqwG,QAAQU,EAAW/wG,KAAKstF,KAAK93E,OAAOD,QAAUtM,KAAK++E,WACtEhoF,KAAK2wG,YAAY3wG,KAAKstF,KAAKqD,OAAOnlE,YAAY42D,QAAQ,gDACzD,4FAED,WAAuBP,GAAS,qGACT,mCAAwD,OAC5C,GADzBmvB,EAAO,EAAH,KACJx9F,EAAWquE,EAAU,GAEZ,CAAF,gDAIAzrE,EAAmB5C,EAASjQ,KAAKoT,gBAAtCT,IACqBjP,OAAO2Z,KAAK5gB,KAAK2W,iBAAiBoK,SAAS3K,EAAe3H,cAGnFzO,KAAK2W,gBAAgBP,GAAkBpW,KAAKsvG,WAEtC2B,EAAa,WAEf,MAAO,CACH9iG,KAFY6iG,EAAKE,KAAK,EAAKtB,kBAG3B1hG,QAAS,CACL,mBAAoB,OACpB,eAAgB,kBAChBijG,QAASjrG,OAAO6jF,SAAS+mB,UAGrC,EAEA/iG,MAAM,GAAD,OACE/N,KAAKwvG,SAAQ,YAAIxvG,KAAKyvG,OAAM,YAAIr5F,EAAc,YAAIpW,KAAK0vG,UAAS,YAAI1vG,KAAKqwG,QACxErwG,KAAK4vG,mBACR,SAEO5vG,KAAK2vG,gBAAkBsB,IAAe,CAAC,GAAC,IAC5CjjG,OAAQ,OACRC,KAAM,UAGTzJ,MAAK,WACF,EAAKmrG,iBAAkB,EACvB,EAAKh5F,gBAAgBP,GAAkB,EAAKm5F,YAChD,IAAE,OACK,kBACI,EAAK54F,gBAAgBP,EAChC,KACP,gDACJ,oEAED,SAASq5F,GACLzvG,KAAKyvG,OAASA,CAClB,GAAC,yBAED,SAAY5iF,GACR7sB,KAAK0vG,UAAY7iF,CACrB,GAAC,gCAED,SAAmB+iF,GACf5vG,KAAK4vG,iBAAmBA,CAC5B,IA1HJ,wEA0HK,EAtHmC,4xBCHO,IAE1BwB,GAAa,IAC9B,WAAYjM,GAAY,sHAUxBkM,yBAA2B,SAACxrG,EAASsgF,GACjC,IAAQ3qE,EAA+C2qE,EAA/C3qE,OAAQ5D,EAAuCuuE,EAAvCvuE,SAAUnB,EAA6B0vE,EAA7B1vE,SAAUL,EAAmB+vE,EAAnB/vE,eACpC,OAAQvQ,GACJ,KAAK2Q,EAAAA,UAAAA,WACD,OAAO3P,EAAAA,EAAAA,UAAS,kCAEpB,KAAK2P,EAAAA,UAAAA,YACD,OAAO3P,EAAAA,EAAAA,UAAS,2CAEpB,KAAK2P,EAAAA,UAAAA,SACD,OAAO3P,EAAAA,EAAAA,UAAS,gDAAiD,CAAE4P,SAAAA,EAAUL,eAAAA,IAEjF,KAAKI,EAAAA,UAAAA,KACD,OAAO3P,EAAAA,EAAAA,UAAS,yBAA0B,CAAE+Q,SAAAA,IAEhD,KAAKpB,EAAAA,UAAAA,OACD,OAAO3P,EAAAA,EAAAA,UAAS,4BAA6B,CAAE2U,OAAAA,IAEnD,KAAKhF,EAAAA,UAAAA,KACD,OAAO3P,EAAAA,EAAAA,UAAS,0BAA2B,CAAE2U,OAAAA,IAEjD,KAAKhF,EAAAA,UAAAA,aACD,OAAO3P,EAAAA,EAAAA,UAAS,mDAEpB,QACI,OAAO,KAEnB,EAAC,KAEDmvF,2BAA6B,WAEzB,IAAMsb,EAAyB,CAC3B,EACIzqG,EAAAA,EAAAA,UAAS,WACTA,EAAAA,EAAAA,UAAS,uBACTA,EAAAA,EAAAA,UAAS,wBACTA,EAAAA,EAAAA,UAAS,YACTA,EAAAA,EAAAA,UAAS,eACTA,EAAAA,EAAAA,UAAS,eACTA,EAAAA,EAAAA,UAAS,oBACTA,EAAAA,EAAAA,UAAS,cACTA,EAAAA,EAAAA,UAAS,mBACTA,EAAAA,EAAAA,UAAS,cACTA,EAAAA,EAAAA,UAAS,iBAGjB,EAAKs+F,WAAW3C,aAAaA,aAAar/F,SAAQ,SAAAkgC,GAAI,OAClDiuE,EAAuBt3F,KAAK,CACxBqpB,EAAK9/B,KAAK40B,aACVkL,EAAK9/B,KAAKoT,gBAAgBT,IAC1BmtB,EAAK9/B,KAAKoT,gBAAgBkB,KAC1BwrB,EAAK9/B,KAAK89E,QACVh+C,EAAK9/B,KAAKu+F,WACVz+D,EAAK9/B,KAAKyV,WACVqqB,EAAK9/B,KAAKskF,gBACVxkD,EAAK9/B,KAAKwkF,UACV1kD,EAAK9/B,KAAKukF,eACVzkD,EAAK9/B,KAAKqT,UACVysB,EAAK9/B,KAAKiY,QACZ,IAIN,IAAM+1F,EAA0B,gCAAH,OAAmCD,EAC3DxuG,KAAI,SAAAjB,GAAC,OAAIA,EAAEq3B,KAAK,IAAI,IACpBA,KAAK,OACJs4E,EAA0BC,UAAUF,GACpCG,EAAmB1vF,SAASqK,cAAc,KAChDqlF,EAAiBz3E,aAAa,OAAQu3E,GACtCE,EAAiBz3E,aAAa,YAAYpzB,EAAAA,EAAAA,UAAS,qBACnDmb,SAAS7T,KAAKwe,YAAY+kF,GAE1BA,EAAiBC,QAEjBD,EAAiB1sF,WAAWg7C,YAAY0xC,EAC5C,EAAC,KAEDzb,uBAAyB,WAErB,IAAM2b,EAAqB,CAAC,EAAC/qG,EAAAA,EAAAA,UAAS,SAASA,EAAAA,EAAAA,UAAS,SAASA,EAAAA,EAAAA,UAAS,aAEjD,EAAKs+F,WAAWrO,QAAQC,kBAEhCj0F,KAAI,SAAAugC,GACjB,IAAIwuE,EAEAA,EADsB,YAAtBxuE,EAAK2Q,aACW5vC,KAAKC,UAAUg/B,EAAKx9B,SAEpB,EAAKwrG,yBAAyBhuE,EAAKx9B,QAAQ4I,WAAY40B,EAAK8iD,OAEhF,IAAM9+E,EAAM,CAACg8B,EAAKoyD,KAAMpyD,EAAKo8C,KAAMoyB,EAActlG,QAAQ,SAAU,MACnEqlG,EAAmB53F,KAAK3S,EAC5B,IAGA,IAAMyqG,EAAsB,gCAAH,OAAmCF,EACvD9uG,KAAI,SAAAjB,GAAC,OAAIA,EAAEq3B,KAAK,IAAI,IACpBA,KAAK,OACJ64E,EAAsBN,UAAUK,GAChCE,EAAehwF,SAASqK,cAAc,KAC5C2lF,EAAa/3E,aAAa,OAAQ83E,GAClCC,EAAa/3E,aAAa,YAAYpzB,EAAAA,EAAAA,UAAS,gBAC/Cmb,SAAS7T,KAAKwe,YAAYqlF,GAE1BA,EAAaL,QAEbK,EAAahtF,WAAWg7C,YAAYgyC,EACxC,GApHIjmB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBg2F,2BAA4B9jF,EAAAA,OAAAA,MAC5B+jF,uBAAwB/jF,EAAAA,OAAAA,MACxBm/F,yBAA0Bn/F,EAAAA,OAAAA,QAG9BlS,KAAKmlG,WAAaA,CACtB,ICbS8M,GACH,OADGA,GAGF,QAHEA,GAIF,QAJEA,GAKA,UAGL3pD,GAAgC2pD,GAA1BC,GAA0BD,GAAnBE,GAAmBF,GAAZG,GAAYH,GAE3BI,GAAsB,SAAAhxF,GAE/B,OADAK,EAAAA,EAA0BL,EACnB,CAEHgf,oBAAqB,CACjB,CAAE5+B,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,cAGjCnrD,gBAAiB,CACb,CAAE1lD,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,KAEZZ,YAAa,CACT,CAAEjmD,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,KAEZpD,eAAgB,CACZ,CAAEzjD,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,cAYjC3nD,WAAY,CAAC,CAAElpD,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,KACtDsC,gBAAiB,CAAC,CAAEnpD,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,KAE3DzX,cAAe,CAAC,CAAEpvC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,KACxCrmE,aAAc,CACV,CAAErqC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,KAEZxX,WAAY,CAAC,CAAErvC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,KACrC3hE,UAAW,CACP,CAAE/uC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,wBAEjC7gE,cAAe,CACX,CAAEhwC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,sBAEjC3hE,gBAAiB,CAAC,CAAElvC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,KAC3F5X,SAAU,CACN,CAAEjvC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,cAC7B,CAAE7wG,KAAM6mD,KAEZnpD,KAAM,CAAC,CAAEsC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,IAAQ,CAAE7mD,KAAM2wG,GAASE,WAAY,kBACrFjiE,YAAa,CAAC,CAAE5uC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,IAAQ,CAAE7mD,KAAM2wG,GAASE,WAAY,gBAC5FthE,gBAAiB,CACb,CAAEvvC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,OAAQt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,+BAC7D,CAAEjgB,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,OAAQt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,iCAC7D,CAAEjgB,KAAM6mD,KAEZjX,oBAAqB,CACjB,CAAE5vC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,kBAGjCC,eAAgB,CACZ,CAAE9wG,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,KAEZtd,cAAe,CACX,CAAEvpC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,OAAQt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,8BAC7D,CAAEjgB,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,OAAQt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,4BAGjEliB,MAAO,CACH,CAAEiC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,UAEjCh+D,WAAY,CACR,CAAE7yC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,cAC7B,CAAE7wG,KAAM6mD,KAEZ5T,YAAa,CACT,CAAEjzC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,eAC7B,CAAE7wG,KAAM6mD,KAGZjV,gBAAiB,CACb,CAAE5xC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,oBAGjC9kG,QAAS,CAAC,CAAE/L,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,KAClGnzC,QAAS,CACL,CAAE1T,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,KAGZ9Z,cAAe,CACX,CAAE/sC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,MAAOt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,0BAC5D,CAAEjgB,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,OAAQt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,0BAC7D,CAAEjgB,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,OAAQt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,0BAC7D,CAAEjgB,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,qBAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,uBAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,aAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,OAAQt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,sCAGjEmzB,iBAAkB,CACd,CAAEpzC,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM0wG,KAEZr5D,8BAA+B,CAAC,CAAEr3C,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,KACxDnzD,4BAA6B,CAAC,CAAEv9C,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,IAAQ,CAAE7mD,KAAM6mD,KACtFlc,gBAAiB,CAAC,CAAE3qC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,KAC3Dhb,gBAAiB,CACb,CAAE7rC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,mBAEjC9kE,eAAgB,CACZ,CAAE/rC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,mBAEjCpnE,eAAgB,CAAC,CAAEzpC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,KAC1Dpc,YAAa,CAAC,CAAEzqC,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,IAAQ,CAAE7mD,KAAM2wG,GAASE,WAAY,gBAE5F7mE,sBAAuB,CACnB,CAAEhqC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,iBAEjCn6F,WAAY,CAAC,CAAE1W,KAAM6mD,IAAQ,CAAE7mD,KAAM0wG,IAAS,CAAE1wG,KAAM6mD,IAAQ,CAAE7mD,KAAM2wG,GAASE,WAAY,YAE3FtxD,YAAa,CACT,CAAEv/C,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,eAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,iBAC7B,CAAE7wG,KAAM2wG,GAASE,WAAY,oBAEjCxuD,gBAAiB,CACb,CAAEriD,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAMywG,GAAO/mE,MAAO,MAAOt9B,IAAK,GAAF,OAAK6T,EAAAA,EAAuB,qBAGhE8mB,oBAAqB,CACjB,CAAE/mC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,gBAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,iBAEjCtpE,aAAc,CACV,CAAEvnC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,gBAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,KAEZle,iBAAkB,CACd,CAAE3oC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,oBAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM6mD,KAEZhe,yBAA0B,CACtB,CAAE7oC,KAAM6mD,IACR,CAAE7mD,KAAM0wG,IACR,CAAE1wG,KAAM6mD,IACR,CAAE7mD,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,aAC7B,CAAE7wG,KAAM6mD,IACR,CAAE7mD,KAAM2wG,GAASE,WAAY,aAGzC,EC5UA,UACI1kG,KAAM,EACF/G,EAAAA,EAAAA,UACI,uIAEJA,EAAAA,EAAAA,UACI,2HCNZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,gDACTA,EAAAA,EAAAA,UACI,uKAEJA,EAAAA,EAAAA,UAAS,iDACTA,EAAAA,EAAAA,UAAS,iCACTA,EAAAA,EAAAA,UAAS,8BCRjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,8HAEJA,EAAAA,EAAAA,UACI,sPCNZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,2IAEJA,EAAAA,EAAAA,UAAS,cACTA,EAAAA,EAAAA,UACI,uLAEJA,EAAAA,EAAAA,UACI,wLCVZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,uJAEJA,EAAAA,EAAAA,UAAS,+BACTA,EAAAA,EAAAA,UAAS,yCACTA,EAAAA,EAAAA,UAAS,wFACTA,EAAAA,EAAAA,UAAS,uGACTA,EAAAA,EAAAA,UAAS,sGCTjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,0IAEJA,EAAAA,EAAAA,UACI,8HAEJA,EAAAA,EAAAA,UACI,iIAEJA,EAAAA,EAAAA,UAAS,cCXjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,+GAEJA,EAAAA,EAAAA,UAAS,cACTA,EAAAA,EAAAA,UACI,qHAEJA,EAAAA,EAAAA,UACI,0HCVZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,kJAEJA,EAAAA,EAAAA,UAAS,aACTA,EAAAA,EAAAA,UACI,+KAEJA,EAAAA,EAAAA,UAAS,uECTjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,kJAEJA,EAAAA,EAAAA,UAAS,aACTA,EAAAA,EAAAA,UACI,0LAEJA,EAAAA,EAAAA,UAAS,yGCTjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,iGACTA,EAAAA,EAAAA,UAAS,mEACTA,EAAAA,EAAAA,UAAS,qFCJjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,0EACTA,EAAAA,EAAAA,UAAS,cACTA,EAAAA,EAAAA,UACI,0KAEJA,EAAAA,EAAAA,UACI,6KCRZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,kHAEJA,EAAAA,EAAAA,UAAS,cCLjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,uFACTA,EAAAA,EAAAA,UAAS,aACTA,EAAAA,EAAAA,UAAS,wFACTA,EAAAA,EAAAA,UAAS,uFACTA,EAAAA,EAAAA,UAAS,oGCNjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,mFACTA,EAAAA,EAAAA,UAAS,iGACTA,EAAAA,EAAAA,UACI,oHCLZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,kJAEJA,EAAAA,EAAAA,UACI,6IAEJA,EAAAA,EAAAA,UAAS,6FACTA,EAAAA,EAAAA,UAAS,oCACTA,EAAAA,EAAAA,UAAS,oCACTA,EAAAA,EAAAA,UAAS,kCACTA,EAAAA,EAAAA,UAAS,qCACTA,EAAAA,EAAAA,UACI,mJAEJA,EAAAA,EAAAA,UACI,mJAEJA,EAAAA,EAAAA,UAAS,8ECnBjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,mPCHZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,qFACTA,EAAAA,EAAAA,UACI,8GAEJA,EAAAA,EAAAA,UACI,wHCPZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,mEACTA,EAAAA,EAAAA,UAAS,0BACTA,EAAAA,EAAAA,UAAS,eACTA,EAAAA,EAAAA,UAAS,kBACTA,EAAAA,EAAAA,UAAS,qBACTA,EAAAA,EAAAA,UAAS,eACTA,EAAAA,EAAAA,UAAS,gECRjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,6DACTA,EAAAA,EAAAA,UACI,kVAEJA,EAAAA,EAAAA,UACI,wHCPZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,mEACTA,EAAAA,EAAAA,UAAS,8BACTA,EAAAA,EAAAA,UAAS,kBACTA,EAAAA,EAAAA,UAAS,eACTA,EAAAA,EAAAA,UAAS,eACTA,EAAAA,EAAAA,UAAS,kBACTA,EAAAA,EAAAA,UAAS,2DACTA,EAAAA,EAAAA,UAAS,yCCTjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,uHAEJA,EAAAA,EAAAA,UAAS,gBACTA,EAAAA,EAAAA,UACI,2JAEJA,EAAAA,EAAAA,UACI,sJAEJA,EAAAA,EAAAA,UACI,8GAEJA,EAAAA,EAAAA,UACI,4KAEJA,EAAAA,EAAAA,UAAS,uFACTA,EAAAA,EAAAA,UACI,0JCpBZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,4EACTA,EAAAA,EAAAA,UACI,0KCJZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,gMAEJA,EAAAA,EAAAA,UACI,8GCNZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,8JAEJA,EAAAA,EAAAA,UAAS,iEACTA,EAAAA,EAAAA,UAAS,qGCNjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,gGACTA,EAAAA,EAAAA,UAAS,cCHjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,+DACTA,EAAAA,EAAAA,UAAS,gDACTA,EAAAA,EAAAA,UAAS,0DACTA,EAAAA,EAAAA,UAAS,iEACTA,EAAAA,EAAAA,UAAS,yCACTA,EAAAA,EAAAA,UAAS,uCACTA,EAAAA,EAAAA,UAAS,6FACTA,EAAAA,EAAAA,UAAS,oDACTA,EAAAA,EAAAA,UAAS,+DACTA,EAAAA,EAAAA,UAAS,8CACTA,EAAAA,EAAAA,UAAS,6DACTA,EAAAA,EAAAA,UACI,sIAEJA,EAAAA,EAAAA,UAAS,gEChBjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,uHAEJA,EAAAA,EAAAA,UAAS,8BACTA,EAAAA,EAAAA,UAAS,8BACTA,EAAAA,EAAAA,UAAS,4BACTA,EAAAA,EAAAA,UAAS,+BACTA,EAAAA,EAAAA,UAAS,wCACTA,EAAAA,EAAAA,UACI,4GCXZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,sKAEJA,EAAAA,EAAAA,UAAS,4ECLjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,6JAEJA,EAAAA,EAAAA,UAAS,cCLjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,wJAEJA,EAAAA,EAAAA,UACI,kHCNZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,8IAEJA,EAAAA,EAAAA,UAAS,4BACTA,EAAAA,EAAAA,UAAS,qCACT,IACAA,EAAAA,EAAAA,UAAS,uBACTA,EAAAA,EAAAA,UACI,8KAEJA,EAAAA,EAAAA,UACI,+GAEJA,EAAAA,EAAAA,UACI,8GAEJ,IACAA,EAAAA,EAAAA,UAAS,6BACTA,EAAAA,EAAAA,UAAS,8FACTA,EAAAA,EAAAA,UAAS,aACTA,EAAAA,EAAAA,UAAS,6EACTA,EAAAA,EAAAA,UAAS,kEACTA,EAAAA,EAAAA,UAAS,8DACTA,EAAAA,EAAAA,UACI,yMAEJA,EAAAA,EAAAA,UAAS,gGACTA,EAAAA,EAAAA,UACI,2IAEJA,EAAAA,EAAAA,UAAS,8EChCjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,sKCHZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,+SCHZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,8QCHZ,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,0HAEJA,EAAAA,EAAAA,UAAS,aACTA,EAAAA,EAAAA,UAAS,uFCNjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,+GAEJA,EAAAA,EAAAA,UAAS,aACTA,EAAAA,EAAAA,UAAS,sFCNjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,6KAEJA,EAAAA,EAAAA,UAAS,cCLjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UACI,kKAEJA,EAAAA,EAAAA,UAAS,cACTA,EAAAA,EAAAA,UAAS,0FACTA,EAAAA,EAAAA,UAAS,kBACTA,EAAAA,EAAAA,UAAS,qEACTA,EAAAA,EAAAA,UAAS,qBACTA,EAAAA,EAAAA,UACI,iOAEJA,EAAAA,EAAAA,UAAS,+BACTA,EAAAA,EAAAA,UAAS,yEACTA,EAAAA,EAAAA,UAAS,iCACTA,EAAAA,EAAAA,UAAS,mDACTA,EAAAA,EAAAA,UAAS,mCACTA,EAAAA,EAAAA,UAAS,6DACTA,EAAAA,EAAAA,UAAS,yBACTA,EAAAA,EAAAA,UAAS,0EACTA,EAAAA,EAAAA,UAAS,qBACTA,EAAAA,EAAAA,UAAS,kGCpBjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,wEACTA,EAAAA,EAAAA,UAAS,gGACTA,EAAAA,EAAAA,UAAS,mFACT,kBAAC,EAAAguF,SAAQ,CACLnzF,IAAK,EACLozF,kBAAkB,6EAClBC,WAAY,CAAC,kBAAC,EAAA3G,UAAS,CAAC1sF,IAAK,EAAGwkF,UAAU,OAAOmI,KAAK,gCCVlE,IACIzgF,KAAM,EACF/G,EAAAA,EAAAA,UACI,uXAEJA,EAAAA,EAAAA,UAAS,cCLjB,IACI+G,KAAM,EACF/G,EAAAA,EAAAA,UAAS,uGACTA,EAAAA,EAAAA,UACI,gZAEJA,EAAAA,EAAAA,UAAS,wBACTA,EAAAA,EAAAA,UAAS,mFACTA,EAAAA,EAAAA,UAAS,2TCTjB,knGAAA0B,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,68BAAAA,EAAA,iBAAAA,EAAA,EAAAA,IAAA,EAAAA,GAAA,EAAAA,GAAA,kWAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,yYAEgE,ICAxD48F,GAUEqN,GAyBAC,GAqBAC,GDtDWC,GAAe,WAChC,WAAYxN,GAAY,YAL5B,4FAK4B,cAyBxBrkG,QAAU,CACN8xG,KAAK,EACLvwF,MAAO,GAAF,OAAKX,EAAAA,EAAuB,UACjCmxF,KAAM,CAAEnwF,YAAY,EAAO2/C,MAAM,EAAM7/C,OAAO,GAC9CD,KAAM,CAAEE,WAAYza,EAAAA,OAAAA,WAAAA,4BACpB8qG,QAAQ,GACX,KAEDv5C,WAAa,KAAI,KACjBmB,WAAa,GAAE,KACfq4C,SAAW,GAAE,KACbC,YAAc,CAAC,EAAC,KAChBt8B,MAAQ,GAAE,KACVu8B,qBAAsB,EAAK,KAC3BC,yBAA0B,EAAK,KAC/BC,cAAgB,GAAE,KAElBC,eAAc,+BAAG,WAAM75C,GAAU,8EACvBmB,EAAanB,EAAW3+B,aAAa,QACrC87C,EAAQhnE,QAAQgnB,OAAOgkC,GAAYxiC,OAAOC,aAC7B,KAAfuiC,IACA,EAAKy4C,cAAgBz4C,GAGjB1P,EAAW,EAAKm6C,WAAhBn6C,OACR,EAAKqoD,YAAY34C,GACX44C,EAAiB,EAAKP,SAASjwG,KAAI,SAAAywG,GAAO,OAAIA,EAAQh5E,WAAW,EAAE,IACzEjmB,YAAW,kBAAM02C,EAAOwoD,eAAe,CAACj6C,GAAU,UAAK+5C,IAAgB,GAAE,KAEzEG,EAAAA,EAAAA,cAAY,WACRzoD,EAAO0oD,iBAAkB,EACzB,EAAKn6C,WAAaA,EAClB,EAAKmB,WAAaA,EAClB,EAAKgc,MAAQA,EACb,EAAKs8B,YAAcW,EAAaj5C,EACpC,IAEK1P,EAAO4oD,kBACR,EAAKC,wBACR,2CACJ,mDAvBa,GAuBb,KAEDC,eAAc,+BAAG,WAAMv6C,GAAU,4EAO5B,OAJGA,IACMw6C,EAAgB,EAAKC,eAAez6C,GACpCmB,EAAaq5C,EAAc,GAAGn5E,aAAa,QACjDq5E,EAAgBN,EAAaj5C,IAChC,kBACMu5C,GAAa,2CACvB,mDATa,GASb,KAEDC,qBAAoB,+BAAG,WAAMC,GAAW,wFACPvzG,QAAQiC,IAAIsxG,EAAYrxG,KAAI,SAAA2M,GAAK,OAAI,EAAKqkG,eAAerkG,EAAM,KAAE,OAA1E,OAAd2kG,EAAiB,EAAH,uBACbA,EAAetxG,KAAI,SAACpB,EAAKsZ,GAAK,OAAMtZ,EAAMsZ,EAAQ,IAAI,IAAGjF,QAAO,SAAAsE,GAAK,OAAc,OAAVA,CAAc,KAAC,2CAClG,mDAHmB,GAGnB,KAEDg6F,wBAAuB,+BAAG,WAAMC,GAAO,wFACD,EAAKJ,qBAAqBjtG,OAAO2Z,KAAK,EAAKozF,iBAAgB,OAApE,OAAnBO,EAAsB,EAAH,uBAClBD,EAAUC,EAAoBA,EAAoB7sG,OAAS,GAAK6sG,EAAoB,IAAE,2CAChG,mDAHsB,IAlFnBxoB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBu5D,WAAYyyB,EAAAA,WACZtxB,WAAYsxB,EAAAA,WACZ+mB,SAAU/mB,EAAAA,WACVgnB,YAAahnB,EAAAA,WACbtV,MAAOsV,EAAAA,WACPinB,oBAAqBjnB,EAAAA,WACrBknB,wBAAyBlnB,EAAAA,WACzBmnB,cAAennB,EAAAA,WACfonB,eAAgBlhG,EAAAA,OAAAA,MAChBsiG,gBAAiBtiG,EAAAA,OAAAA,MACjBuiG,YAAaviG,EAAAA,OAAAA,MACbwiG,gBAAiBxiG,EAAAA,OAAAA,MACjByiG,eAAgBziG,EAAAA,OAAAA,MAChB2hG,sBAAuB3hG,EAAAA,OAAAA,MACvBmhG,YAAanhG,EAAAA,OAAAA,MACb4hG,eAAgB5hG,EAAAA,OAAAA,MAChBgiG,qBAAsBhiG,EAAAA,OAAAA,MACtBmiG,wBAAyBniG,EAAAA,OAAAA,QAG7BlS,KAAKmlG,WAAaA,CACtB,CA5BJ,QA4JK,EAlDA,EAkGA,OA5ML,EA4BK,EA5BL,EA4BK,8BAiED,SAAgBgO,GACZnzG,KAAKmzG,cAAgBA,CACzB,GAAC,yBAED,WACI,MAA4BnzG,KAAKmlG,WAAzBj6C,EAAO,EAAPA,QAASF,EAAM,EAANA,OAEjB,GAAIA,EAAO4oD,iBAAkB,CACzB,IAAMviD,EAASrvC,SAAS4yF,kBAAkB,UAAU,GAAGv6F,MACvD6wC,EAAQ2pD,SAAS,CAAExjD,OAAAA,GACvB,MACIrG,EAAO4T,iBAEf,GAAC,8CAED,WAAsBk2C,GAAc,uFAWd,OAVZ36C,EAAgBz3D,MAAMC,KAAK3C,KAAK+0G,UAAUvkG,MAAK,SAAAuT,GAAG,OAAIA,EAAI6W,aAAa,UAAY,EAAK8/B,UAAU,IAIxGzzD,OAAO2Z,KAAK5gB,KAAKg0G,gBAAgB7wG,SAAQ,SAACzB,EAAKsZ,GACvCm/C,EAAcv/B,aAAa,UAAYl5B,IACvCszG,EAAsBh6F,EAE9B,IAEMi6F,EAAY,+BAAG,WAAOlxF,EAAKmxF,EAAeC,GAAO,gFAIlD,OAHKC,EAAaF,GAAiBC,EAAU,GAAK,GAC7CE,EAAmBpuG,OAAO2Z,KAAKmD,GAAKhO,QAAO,SAACrU,EAAKsZ,GAAK,OACxDm6F,EAAUC,GAAcp6F,EAAQo6F,GAAcp6F,CAAK,IACtD,SAC+B,EAAKk5F,qBAAqBmB,GAAiB,OAKV,GAL3DC,EAAoB,EAAH,KAEjBC,EAA0BJ,EAC1BG,EAAkB,GAClBA,EAAkBA,EAAkB5tG,OAAS,GAC7C8tG,EAAkBH,EAAiBE,GAEnB,CAAF,yCACT,GAAK,iCAIN,sCAAiE,iCAChEC,GAAe,2DAEfP,EAAalxF,EAAKqxF,EAAYD,IAAQ,0DAEpD,gBAtBiB,mDAwBOF,EAAaj1G,KAAKg0G,eAAgBgB,EAAqBF,GAAe,QAAzFp6C,EAAa,EAAH,QAENq5C,EAAgB/zG,KAAKg0G,eAAet5C,GAC1C16D,KAAKozG,eAAeW,EAAc,KACrC,gDACJ,0EAED,SAAex6C,GACX,MAA4Bv5D,KAAKmlG,WAAzBn6C,EAAM,EAANA,OAAQE,EAAO,EAAPA,QAChBlrD,KAAK+0G,SAAW7pD,EAAQuqD,oBAAoBzqD,EAAO0qD,mBACnD11G,KAAKg0G,eAAiBh0G,KAAK21G,QAAQ31G,KAAK+0G,UAAU,GAElD/0G,KAAKozG,eAAe75C,EACxB,GAAC,oDAED,kGAIK,OAHKY,EAAgBz3D,MAAMC,KAAK3C,KAAK+0G,UAAUvkG,MAAK,SAAAuT,GAAG,OAAIA,EAAI6W,aAAa,UAAY,EAAK8/B,UAAU,IAClGw6C,EAAgBjuG,OAAO2Z,KAAK5gB,KAAKg0G,gBAAgB95F,WACnD,SAAAxY,GAAG,OAAIy4D,EAAcv/B,aAAa,UAAYl5B,CAAG,IACpD,SAEuC1B,KAAKq0G,yBAAwB,GAAK,OAA3C,OAAzBuB,EAA4B,EAAH,cACU51G,KAAKq0G,yBAAwB,GAAM,OAAtEwB,EAA6B,EAAH,MAEhCpC,EAAAA,EAAAA,cAAY,WACR,EAAKP,wBAA4C,IAAlBgC,GAAuBA,IAAkBW,EACxE,EAAK5C,oBACDiC,IAAkBjuG,OAAO2Z,KAAK,EAAKozF,gBAAgBtsG,OAAS,GAC5DwtG,IAAkBU,CAC1B,IAAG,gDACN,6CAED,qBACA,SAAQE,GAA0C,IAAnCC,EAA4B,UAAH,8CACpC,OAAOrzG,MAAMC,KAAKmzG,GAAOluG,QAAO,SAACouG,EAAaC,GAC1C,IAAMx0G,EAAOw0G,EAAKr7E,aAAa,QAE/B,OAAIm7E,GAAsC,OAATt0G,IAI5Bu0G,EAAYv0G,KACbu0G,EAAYv0G,GAAQ,MAGnBs0G,GAA8BA,GAAsC,OAATt0G,IAC5Du0G,EAAYv0G,GAAMuY,KAAKi8F,IARhBD,CAYf,GAAG,CAAC,EACR,GAAC,yBAED,SAAYt7C,GACR,IACMw7C,EAAe,GADDl2G,KAAKmlG,WAAjBj6C,QACyBirD,iBAAiB57E,YAG5Cw4E,EAFeV,GAAoB3wF,EAAAA,GAAyBg5C,GAChC3kD,QAAO,SAAAijE,GAAE,MAAgB,YAAZA,EAAGv3E,IAAkB,IAAEqB,KAAI,SAAAywG,GAAO,OAAIA,EAAQjB,UAAU,IACzExvG,KAAI,SAAAC,GAAE,OAAImzG,EAAa1lG,MAAK,SAAA+iG,GAAO,OAAIA,EAAQxwG,KAAOA,CAAE,GAAC,IAEvF/C,KAAK+yG,SAAWA,CACpB,IA5MJ,wEA4MK,EAxM+B,GCH9BqD,IAoCI3D,GAAW,SAAA9N,GACb,IACI,IAAM8K,EAAS,GAAH,OAlCTtK,GAAW7X,KAAK93E,OAAOD,QAkCI,YA9B3B4vF,GAAW35E,YAAY42D,QAsCpB7+E,EAAO,CACT8yG,SARa,MAAH,OAAS1R,EAAWvB,eAAc,+BACvCuB,EAAWtB,YAAW,+BACtBsB,EAAWrB,aAAY,+BACvBqB,EAAWxB,eAAc,+BACzBwB,EAAWlB,cAAa,+BACxBkB,EAAWhxD,cAGGpnC,QAAQ,MAAO,IAClCyW,MAAO,WACPysF,OAAAA,GAEJ+C,GAAcjvG,EAClB,CAAE,MAAOyU,GACLxK,QAAQ8b,KAAK,sCAAuCtR,EACxD,CACJ,EAEM06F,GAAsB,SAAA7wB,GACxB,IACI,IAAMruE,EAAWquE,EAAUn6E,OAAS,GAAKm6E,EAAU,GACnD,GAAIruE,GAAYA,EAAS+uF,aAAc,CACnC,IAAMh/F,EAAO,CACTyf,MAAO,uBACPszF,aAAc9iG,EAAS+iG,aAE3B/D,GAAcjvG,EAClB,CACJ,CAAE,MAAOyU,GACLxK,QAAQ8b,KAAK,yCAA0CtR,EAC3D,CACJ,EAEO,CACHqE,KA1DS,SAAAm6F,GACT,IAGI,MAFArR,GAAaqR,EAELnnB,EAAS,EAATA,UAAWmT,EAAY,EAAZA,aACbiU,EAAiBpnB,EAAUsV,YAEjCp5C,EAAAA,EAAAA,WACI,kBAAM8jC,EAAU1R,UAAU,IAC1B,kBAAM0R,EAAU1R,YAAc80B,GAASgE,EAAe,KAG1DlrD,EAAAA,EAAAA,WACI,kBAAMi3C,EAAa3gB,SAAS,IAC5B,kBAAM6wB,GAAoBlQ,EAAa3gB,UAAU,GAEzD,CAAE,MAAO7pE,GACLxK,QAAQ8b,KAAK,oCAAqCtR,EACtD,CACJ,EAwCIw6F,cA/DEA,GAAgB,SAAAjvG,GAClB,OAAO4hG,GAAW7X,KAAKopB,IAAIlE,cAAcjvG,EAC7C,IAiEJ,srBC7E4B,IAEPozG,GAAW,WAqB5B,WAAYxR,gGAAY,cApBxByR,gBAAkB,GAAE,KACpBC,iBAAmB,GAAE,KACrBC,iBAAmB,IAAG,KACtBh2G,QAAU,CACN8xG,KAAK,EACLvwF,MAAO,GAAF,OAAKX,EAAAA,EAAuB,UACjCmxF,KAAM,CAAEnwF,YAAY,EAAO2/C,MAAM,EAAM7/C,OAAO,GAC9CD,KAAM,CAAEE,WAAYza,EAAAA,OAAAA,WAAAA,4BACpB8qG,QAAQ,GACX,KAEDY,iBAAkB,EAAK,KACvBqD,eAAiB,GAAE,KACnBC,aAAeh3G,KAAK82G,iBAAgB,KACpC3c,YAAa,EAAK,KAClByZ,kBAAmB,EAAK,KACxBlpB,YAAa,EAAK,KAClBusB,YAAc,GAAE,KAChBvB,kBAAoB,MAGhB3pB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB0zG,gBAAiB1nB,EAAAA,WACjB+qB,eAAgB/qB,EAAAA,WAChBgrB,aAAchrB,EAAAA,WACdmO,WAAYnO,EAAAA,WACZ4nB,iBAAkB5nB,EAAAA,WAClBtB,WAAYsB,EAAAA,WACZirB,YAAajrB,EAAAA,WACb0pB,kBAAmB1pB,EAAAA,WACnB2W,QAASzwF,EAAAA,OAAAA,MACT0wF,UAAW1wF,EAAAA,OAAAA,MACXglG,WAAYhlG,EAAAA,OAAAA,MACZilG,mBAAoBjlG,EAAAA,OAAAA,MACpB0zD,UAAW1zD,EAAAA,OAAAA,MACXklG,YAAallG,EAAAA,OAAAA,MACbshG,eAAgBthG,EAAAA,OAAAA,MAChBq8C,cAAer8C,EAAAA,OAAAA,MACf6uD,kBAAmB7uD,EAAAA,OAAAA,MACnBmlG,oBAAqBnlG,EAAAA,OAAAA,MACrBolG,oBAAqBplG,EAAAA,OAAAA,MACrBqlG,qBAAsBrlG,EAAAA,OAAAA,MACtB0sD,gBAAiB1sD,EAAAA,OAAAA,MACjBslG,uBAAwBtO,EAAAA,SACxBuO,+BAAgCvO,EAAAA,WAGpClpG,KAAKmlG,WAAaA,CACtB,SA6MC,SA7MA,0BAED,WACInlG,KAAKk3G,aACLhxG,OAAO0e,iBAAiB,QAAS5kB,KAAKu3G,qBAC1C,GAAC,uBAED,WACIrxG,OAAOihG,oBAAoB,QAASnnG,KAAKu3G,qBAC7C,GAAC,wBAED,WACI,IAAMp2F,EAAYzR,QAAQC,eACpB7O,EAAU,CACZwpE,gBAAiBnpD,EACjBod,IAAKpd,EAAUod,IACfm5E,iBAAkBv2F,EAAUu2F,kBAG5Bv2F,EAAUu2F,iBACV13G,KAAKgrD,OAAS,IAAIt7C,QAAQioG,iBAAiB72G,GAE3Cd,KAAKgrD,OAAS,IAAIt7C,QAAQkoG,eAAe92G,GAG7Cd,KAAKgrD,OAAOoM,iBAAmBj2C,EAC/BnhB,KAAKgrD,OAAOuX,WAAWs1C,gBAAkB12F,EAGzCnhB,KAAKgrD,OAAOuX,WAAWuC,WAAa9kE,KAAKgrD,OAAOoM,iBAAiB0N,WAAWxpD,KAAKtb,KAAKgrD,OAAOoM,kBAG7Fj2C,EAAUwsD,aAAe3tE,KAAKgrD,OAAOoM,iBAAiB0gD,iBAEtD93G,KAAKgrD,OAAOuX,WAAWw1C,6BAEvB52F,EAAU41C,QAAU/2D,KAAKgrD,MAC7B,GAEA,gCAMA,SAAmBgtD,EAAoBz+C,GAAY,WACzCp4C,EAAYzR,QAAQ0S,OAAO41F,EAAoBh4G,KAAKc,SAE1DqgB,EAAUmX,UAAW,EACrBnX,EAAU02F,gBAAkBnoG,QAAQC,eAEpC,IAAMF,EAAQC,QAAQ0U,IAAI61C,WAAWV,EAAYp4C,GAE3C64C,EAAWvqD,EAAMyqD,iBAEvBzqD,EAAMkpB,YAAa,EAInBq/E,EAAmB/2G,MAAMmqC,OAAS,GAAH,OAAMniC,KAAKy9D,KAAK1M,EAAS5uB,OAASprC,KAAKc,QAAQyhB,KAAKE,YAAc,EAAC,MAClGu1F,EAAmB/2G,MAAMkqC,MAAQ,GAAH,OAAMliC,KAAKy9D,KAAK1M,EAAS7uB,MAAQnrC,KAAKc,QAAQyhB,KAAKE,YAAc,EAAC,MAChGhT,EAAM8sD,OAAO,EAAG,GAGhB,IAAM07C,EAAiBxoG,EAAMyjD,aAE7BlzD,KAAK42G,gBAAgB58F,KACjBtK,QAAQujD,qBAAqBglD,EAAgB,YAAa,MAAM,SAAAj1F,GAC5DozF,GAAAA,cAAkB,CACdpzF,MAAO,kBACP03C,WAAYjrD,EAAMhO,OAEtB,EAAKupD,OAAOktD,gBAAgBzoG,EAA5B,CAAmCuT,EACvC,IACAtT,QAAQyoG,WAAWF,EAAgB,WAAYxoG,EAAOA,EAAM8Z,cAC5D7Z,QAAQyoG,WAAWF,EAAgB,YAAaxoG,EAAOA,EAAM6+C,YAGjEtuD,KAAK62G,iBAAiB78F,KAAKmH,GAC3BzR,QAAQy2D,UAAUhlD,EACtB,GAAC,uBAED,WACI,OAAOnhB,KAAKgrD,MAChB,GAEA,yBAOA,SAAY+pD,GAA4B,WAAlBkC,EAAc,UAAH,6CAAG,GAE1BmB,EAAgBrD,EAEtB/0G,KAAK42G,gBAAgBzzG,SAAQ,SAAA2gE,GAAQ,OAAIp0D,QAAQ86D,aAAa1G,EAAS,IACvE9jE,KAAK62G,iBAAiB1zG,SAAQ,SAAAge,GAAS,OAAIA,EAAUyd,SAAS,IAC9D5+B,KAAK42G,gBAAkB,GACvB52G,KAAK62G,iBAAmB,GAExB72G,KAAK0zG,iBAAkB,EACvB1zG,KAAKi3G,YAAcA,EAAYvvG,OATZ,GASkC,GAAH,OAAMuvG,EAAYnuD,UAAU,EAT3D,IASyE,OAAQmuD,EACpGj3G,KAAK+2G,eAAiBhC,EAEtB/0G,KAAKwzG,eAAe4E,GACpBp4G,KAAKuuD,eAAc,GAInBj6C,YAAW,kBAAM,EAAKk/F,eAAe4E,EAAc,GAAE,GACzD,GAEA,4BAMA,SAAep7C,GAAS,WAChBq7C,EAAsB,EAE1Br7C,EAAQ75D,SAAQ,SAAA8yG,GAGZ,GAFiBA,EAAK7sC,QAAQ/yB,gBAEb3mC,QAAQ0U,IAAIgqD,WAAY,CACrC,IAAMpU,EAAWtqD,QAAQyoD,MAAMmB,cAAc28C,GAE7CA,EAAKh8E,aAAa,QAAShxB,KAAKy9D,KAAK1M,EAAS7uB,MAAQ,EAAKrqC,QAAQyhB,KAAKE,aACxEwzF,EAAKh8E,aAAa,SAAUhxB,KAAKy9D,KAAK1M,EAAS5uB,OAAS,EAAKtqC,QAAQyhB,KAAKE,aAC1E41F,EAAsBpvG,KAAKq0C,IACvB+6D,EACApvG,KAAKy9D,KAAK1M,EAAS7uB,MAAQ,EAAKrqC,QAAQyhB,KAAKE,YAErD,CACJ,IAEAziB,KAAKg3G,aAAe/tG,KAAKq0C,IAAIt9C,KAAK82G,iBAAkBuB,EAAsB,GAC9E,GAEA,2BAKA,SAAcle,GACVn6F,KAAKm6F,WAAaA,EAEbA,IACDn6F,KAAKq3G,oBAAoB,MACzBr3G,KAAK+2G,eAAiB,GAE9B,GAEA,+BAKA,SAAkBuB,GACdt4G,KAAK4zG,iBAAmB0E,CAC5B,GAAC,iCAED,SAAoB5C,GAChB11G,KAAK01G,kBAAoBA,CAC7B,GAAC,iCAED,WACI,OAAO11G,KAAK01G,iBAChB,GAEA,kCAGA,SAAqB1yF,GACjB,GAAKhjB,KAAKm6F,YAAezqF,QAAQC,eAAjC,CAIA,IAAMu7C,EAAUlpC,SAASC,eAAe,eAElCs2F,GADOv1F,EAAM4mE,MAAS5mE,EAAMsiF,cAAgBtiF,EAAMsiF,gBAC3BlrF,MAAK,SAAA4+D,GAAE,OAAIA,EAAGusB,WAAavsB,EAAGusB,UAAUl7E,SAAS,SAAS,IACjFmuF,EAAkBx4G,KAAKmlG,WAAWj6C,QAAQstD,gBAG3CD,GAFwBrtD,EAAQ7gC,SAASrH,EAAMsH,SAENkuF,IAC1Cx4G,KAAKuuD,eAAc,GACnBvuD,KAAKq3G,oBAAoB,MAV7B,CAYJ,GAAC,6BAED,WACI,IAAMt/E,EAAW/3B,KAAKs3G,sBAEhBP,EADc/2G,KAAKmlG,WAAjBj6C,QACuBuqD,oBAAoB19E,GACnD/3B,KAAKo3G,YAAYL,EACrB,GAAC,kCAED,WACI,OAAO/2G,KAAK+2G,eAAehhG,QAAO,SAAAtG,GAAK,MAAmC,kBAA/BA,EAAMmrB,aAAa,OAA2B,IAAElzB,MAC/F,GAAC,0CAED,WACI,OAAO1H,KAAK+2G,eAAervG,OAAS1H,KAAKw3G,sBAC7C,4EAAC,EA9P2B,GCLnBiB,GAAgBxxG,OAAOguB,OAAO,CACvCyjF,OAAQ,EACRC,QAAS,EACTC,UAAW,2PCFf,knGAAArwG,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,yYAEwD,IAEnCswG,GAAgB,WACjC,WAAY1T,GAAY,YAL5B,4FAK4B,cA2BxB2T,gBAAkBx7B,aAAaC,QAAQ,uBAAsB,KAE7Dw7B,OAAS,WACL,MAAkC/wG,EAAAA,OAAAA,GAA1B0J,EAAK,EAALA,MAAO0iB,EAAc,EAAdA,eACf,EAAK4kF,eAAYC,EACjB,EAAKC,YAASD,EACd,EAAKE,aAAUF,EACf,EAAKvnG,MAAQA,EACb,EAAK0iB,eAAiBA,CAC1B,EAAC,KAED6mD,WAAa,WACTm+B,KAAKniC,KAAK,iBAAiB,kBAAMmiC,KAAK5jG,OAAOyhE,KAAK,EAAK7iD,eAAe,GAC1E,EAAC,KAEDilF,iBAAmB,WACf,EAAK7jG,OAAS8jG,OAAOC,SAASC,OAAOC,gBAAgB,CACjDT,UAAW,EAAKA,UAChBtnG,MAAO,EAAKA,MACZlQ,SAAU,SAAA4M,GACN,EAAKV,aAAeU,EAASV,aAC7B,EAAKgsG,oBAAmB,GACxBp8B,aAAa6qB,QAAQ,sBAAuB/5F,EAASV,aACzD,GAER,GAnDIq+E,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB84G,cAAe9sB,EAAAA,WACf0tB,mBAAoBxnG,EAAAA,OAAAA,MACpBynG,SAAUznG,EAAAA,OAAAA,MACV0nG,SAAU1nG,EAAAA,OAAAA,MACV6mG,OAAQ7mG,EAAAA,OAAAA,MACR+oE,WAAY/oE,EAAAA,OAAAA,MACZ2nG,OAAQ3nG,EAAAA,OAAAA,MACR4nG,QAAS5nG,EAAAA,OAAAA,MACT6nG,kBAAmB7nG,EAAAA,OAAAA,MACnB8nG,kBAAmB9nG,EAAAA,OAAAA,MACnB+nG,qBAAsB/nG,EAAAA,OAAAA,MACtBgoG,qBAAsBhoG,EAAAA,OAAAA,MACtBioG,0BAA2BjoG,EAAAA,OAAAA,QAG/BlS,KAAKmlG,WAAaA,EAClBnlG,KAAKo6G,gBAAkB,gBAAH,QAAmBvzG,EAAAA,EAAAA,UAAS,eAChD7G,KAAKq6G,YAAc,KACnBr6G,KAAK+4G,SACL/4G,KAAKwV,OAAS,KACdxV,KAAK0N,aAAe4vE,aAAaC,QAAQ,wBAA0B,IACnEpxD,EAAAA,EAAAA,gBAAe,0CAA0C3nB,MAAK,kBAAM,EAAK60G,kBAAkB,KAC3FltF,EAAAA,EAAAA,gBAAe,qCAAqC3nB,MAAK,kBAAM,EAAKy2E,YAAY,GACpF,CA9BJ,QAuIK,EAjCA,EAbA,EAsJA,OA/OL,EA8BK,EA9BL,EA8BK,iCA6BD,SAAmBq/B,GACft6G,KAAK84G,cAAgBwB,CACzB,GAAC,oBAED,WACSt6G,KAAK84G,eACN94G,KAAKwV,OAAO+kG,oBAEpB,GAAC,qBAED,WACQv6G,KAAK0N,eACL0rG,KAAK5jG,OAAOglG,SAAS,IACrBlB,OAAOC,SAASC,OAAOiB,OAAOz6G,KAAK0N,cACnC4vE,aAAao9B,WAAW,uBACxB16G,KAAK0N,aAAe,IAExB1N,KAAK05G,oBAAmB,EAC5B,GAEA,+BACA,WACI,IAAMnoB,GAAW5S,EAAAA,EAAAA,eAEjB,MAAiB,SAAb4S,EACO,QACa,SAAbA,EACA,QAEJA,CACX,GAAC,uCAED,WAAezwF,GAAO,2FAERd,KAAK65G,SAAQ,OAC8D,OAA7E75G,KAAK0N,cAAc0rG,KAAK5jG,OAAOglG,SAAS,CAAE9sG,aAAc1N,KAAK0N,eAAgB,SAC3E1N,KAAKg6G,oBAAmB,uBACxBh6G,KAAKi6G,qBAAqB,sCAAsCpzG,EAAAA,EAAAA,UAAS,mBAAoB/F,GAAQ,yDAExF,MAAf,KAAI4T,QACJ1U,KAAK85G,UACR,0DAER,qFAED,qGACU95G,KAAK65G,SAAQ,OAE8D,OAA7E75G,KAAK0N,cAAc0rG,KAAK5jG,OAAOglG,SAAS,CAAE9sG,aAAc1N,KAAK0N,eAAgB,kBAEvE0rG,KAAK5jG,OAAOmlG,MAAMC,MAAMj4E,KAAK,CAC/Bk4E,SAAU,GACVp2C,OAAQ,oBACV,0DAEkB,OAAhB,uCAAK/vD,QAAc,kCACb1U,KAAK85G,UAAS,QACpBxlG,YAAW,WACP,IAAMwmG,EAAS94F,SAAS4nF,uBAAuB,yBAAyB,GACxEkR,EAAO91F,WAAWg7C,YAAY86C,GAC9B,IAAMC,EAAmB/4F,SAAS4nF,uBAAuB,oBACzD,GAAImR,EAAiBrzG,OACjB,IAAK,IAAIa,EAAI,EAAGA,EAAIwyG,EAAiBrzG,OAAQa,IACzCwyG,EAAiBxyG,GAAGtH,MAAMyyB,QAAU,MAGhD,GAAG,KAAK,yBAIM1zB,KAAKk6G,qBACvB,4BACArzG,EAAAA,EAAAA,UAAS,gCACZ,QAHY,OAAPm0G,EAAU,EAAH,uBAKNA,GAAO,yDACjB,6FAED,yFACiB,OAALJ,EAAUxB,KAAK5jG,OAAOmlG,MAAtBC,MAAK,SACUA,EAAMj4E,KAAK,CAAE53B,EAAG,kBAAkB,OAEqB,GAFxEqD,EAAW,EAAH,KACR6sG,EAAY,sCACH7sG,EAAS2O,OAAO69F,MAAMpqG,MAAK,SAAA0qG,GAAI,OAAIA,EAAKC,WAAaF,CAAS,IAEjE,CAAF,iEAIJL,EAAM9sC,OAAO,CACfstC,SAAU,CACNx1G,KAAM5F,KAAKo6G,gBACXe,SAAUF,EACVx2C,OAAQ,QAEd,iDACL,+EAED,SAAqBw2C,EAAWvkC,EAAO51E,GAAS,WACpCu6G,EAAoBr7G,KAAKmlG,WAAWh6C,WAApCkwD,gBACR,OAAO,IAAIz6G,SAAQ,SAAAC,GAiCf,EAAKs5G,2BAA0B,EAAMc,EAAWvkC,GAhCrB,SAAAnzE,GACvB,GAAIA,EAAK2O,SAAWonG,OAAOwB,OAAOQ,OAAOC,OAAQ,CAC7C,IAAMC,EAAYj4G,EAAKk4G,KAAK,GAAG14G,GACzB24G,EAAgB,IAAI9sC,KAAK,CAAC9tE,EAAQkiG,SAAU,CAAEvhG,KAAMX,EAAQq6G,WAC5DQ,EAAyBv3G,KAAKC,UAAU,CAC1CuB,KAAM9E,EAAQ8E,KACdu1G,SAAUr6G,EAAQq6G,SAClBS,QAAS,CAACJ,KAGRK,EAAY,IAAIC,SACtBD,EAAUE,OAAO,WAAY,IAAIntC,KAAK,CAAC+sC,GAAyB,CAAEl6G,KAAM,sBACxEo6G,EAAUE,OAAO,OAAQL,GAEzB,IAAMM,EAAM,IAAIC,eAChBD,EAAIE,aAAe,OACnBF,EAAI58G,KAAK,OAAQ,yEACjB48G,EAAIG,iBAAiB,gBAAiB,UAAF,OAAY,EAAKzuG,eACrDsuG,EAAIxvF,OAAS,WACU,MAAfwvF,EAAItnG,QACJ,EAAKolG,UAGTuB,EAAgB5C,GAAcC,QAC9B73G,GACJ,EACAm7G,EAAI3wF,KAAKwwF,EACb,MAAWt4G,EAAK2O,SAAWonG,OAAOwB,OAAOQ,OAAOtf,QAC5Cqf,EAAgB5C,GAAcC,OAEtC,GAGJ,GACJ,GAAC,kCAED,SAAqBuC,EAAWvkC,GAAO,WACnC,OAAO,IAAI91E,SAAQ,SAAAC,GACf,IAAMu7G,EAAkB,+BAAG,WAAM74G,GAAI,mFAC7BA,EAAK2O,SAAWonG,OAAOwB,OAAOQ,OAAOC,OAAM,gBAI9B,OAHPL,EAAO33G,EAAKk4G,KAAK,GACjB53F,EAAYq3F,EAAKt1G,KACjBy2G,EAASnB,EAAKn4G,GACZ63G,EAAUxB,KAAK5jG,OAAOmlG,MAAtBC,MAAK,SAEUA,EAAMz5G,IAAI,CAC7BkqC,IAAK,QACLgxE,OAAAA,EACAlB,SAAU,eACZ,OAJI/sG,EAAW,EAAH,KAMdvN,EAAQ,CAAEm6G,QAAS5sG,EAASD,KAAM0V,UAAAA,IAAa,2CAEtD,gBAfuB,sCAiBxB,EAAKs2F,2BAA0B,EAAOc,EAAWvkC,EAAO0lC,EAC5D,GACJ,GAAC,uCAED,SAA0BE,EAASrB,EAAWvkC,EAAOl1E,GACjD,IAAM+6G,EAAY,IAAIjD,OAAOwB,OAAO0B,SACpCD,EAAUE,mBAAkB,GAC5BF,EAAUG,aAAazB,GAEnBqB,GACAC,EAAUI,wBAAuB,IAEtB,IAAIrD,OAAOwB,OAAO8B,eAE5BC,UAAU,GAAD,OAAI32G,OAAO6jF,SAAS+yB,SAAQ,aAAK52G,OAAO6jF,SAASgzB,OAC1DC,UAASn2G,EAAAA,EAAAA,UAAS6vE,IAClBumC,UAAUj9G,KAAK+5G,qBACfmD,SAASl9G,KAAKk5G,QACdiE,cAAcn9G,KAAK0N,cACnB0vG,QAAQb,GACRc,gBAAgBr9G,KAAKm5G,SACrBmE,QAAQ,KAAM,KACdC,YAAY/7G,GACZg8G,QACA9rD,YAAW,EACpB,IA/OJ,wEA+OK,EA3OgC,cCF/B+rD,GAA6B,SAAC53G,EAAS2J,EAAUkuG,EAAkBC,GACrED,EACIE,GAAkB,CACdnmB,UAAWjoF,EACX/N,KAAM,QACNoE,QAAAA,EACAg4G,UAAUh3G,EAAAA,EAAAA,UAAS,eACnB2vF,QAAS,WACLmnB,GACJ,IAGZ,EA0DMG,GAAa,SAAbA,EAAaj4G,GACf,OAAOA,EAAQ/C,KAAI,SAAAugC,GACf,MAAO,CACHtgC,IAAI,IAAI8J,MAAOE,UAAY9D,KAAK++E,SAChC3tE,MAAOgpB,GAAQ3gC,MAAMo/B,QAAQuB,GAAQy6E,EAAWz6E,GAAQA,EAEhE,GACJ,wBC9Ea06E,GAAuB,SAACC,EAAazoG,EAAS23B,GACvD,OAAK33B,GAIW0oG,GAAoBD,EAAa9wE,GAClC33B,IAJJ23B,CAKf,EAEa+wE,GAAsB,SAACD,EAAa9wE,GAC7C,IACI,IAAMgxE,EAAuBC,eAAe5gC,QAAQygC,GAC9CI,EAAoB31B,KAAAA,WAAoBy1B,GACxCG,EAAej6G,KAAKiB,MAAM+4G,GAEhC,GAAIC,EACA,OAAOA,CAEf,CAAE,MAAOx8G,GACL,CAGJ,OAAOqrC,CACX,EAEaoxE,GAAsB,SAACN,EAAa3jG,GAC7C,IACI,IAAMkkG,EAAmB91B,KAAAA,SAAkBrkF,KAAKC,UAAUgW,IAC1D8jG,eAAehW,QAAQ6V,EAAaO,EACxC,CAAE,MAAO18G,GAEL2L,QAAQ8b,KAAK,8BACjB,CACJ,4qBC5B6D,IAExCk1F,GAAY,WAC7B,WAAYrZ,EAAY7X,GAAM,wHAoC9BmxB,cAAgB,gBAAe,KAE/BvqB,0BAA2B,EAAK,KAEhCF,QAAU,CACN,CAAEjxF,GAAIiyB,EAAAA,cAAAA,MAAqBL,OAAO9tB,EAAAA,EAAAA,UAAS,WAC3C,CAAE9D,GAAIiyB,EAAAA,cAAAA,OAAsBL,OAAO9tB,EAAAA,EAAAA,UAAS,kBAC5C,CAAE9D,GAAIiyB,EAAAA,cAAAA,QAAuBL,OAAO9tB,EAAAA,EAAAA,UAAS,YAChD,KAED63G,gBAAkBzW,GAAW,mBAAqBjoG,KAAKg0F,QAAQlxF,KAAI,SAAAiT,GAAM,OAAIA,EAAOhT,EAAE,IAAC,KACvFi0F,oBAAsB+mB,GAAqB/9G,KAAKy+G,cAAwB,QAAX,EAAEz+G,KAAKstF,YAAI,aAAT,EAAW93E,OAAOD,QAAS,IAAG,KAM7FopG,UAAY,SAAA5rE,GACJA,IAAU/qC,GAAAA,EAAAA,MAAAA,mBAAAA,GAAAA,IACIga,SAASC,eAAe8wB,GAChC6rE,MAEd,GAzDI7yB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBk0F,yBAA0BlI,EAAAA,WAC1B0yB,gBAAiB1yB,EAAAA,WAAAA,QACjBgI,QAAShI,EAAAA,WAAAA,QACTgL,oBAAqBhL,EAAAA,WAAAA,QACrBmI,mBAAoBjiF,EAAAA,OAAAA,MACpB2sG,aAAc3sG,EAAAA,OAAAA,MACdpE,QAASoE,EAAAA,OAAAA,MACT4sG,SAAU5sG,EAAAA,OAAAA,MACV6sG,YAAa7sG,EAAAA,OAAAA,MACb6kF,kBAAmBmS,EAAAA,SACnB8V,cAAe9sG,EAAAA,OAAAA,MACfysG,UAAWzsG,EAAAA,OAAAA,MACX6hF,gBAAiBmV,EAAAA,SACjBjV,cAAe/hF,EAAAA,OAAAA,MACfw4D,MAAOx4D,EAAAA,OAAAA,MACP+sG,gBAAiB/sG,EAAAA,OAAAA,MACjBgtG,kBAAmBhtG,EAAAA,OAAAA,QAGvBlS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,EACZttF,KAAKm/G,mBAAqBn/G,KAAKk/G,qBAG/BE,EAAAA,EAAAA,OACI,kBAAM,EAAKpoB,mBAAmB,IAC9B,WACQ,EAAKA,oBAAoBtvF,OAAS,GAClC,EAAKu3G,iBAEb,GAER,SA0IC,SA1IA,gCAeD,WAAgB,MACZ,OAAgB,QAAhB,EAAOj/G,KAAKstF,YAAI,aAAT,EAAWqD,OAAOnlE,YAAYrqB,KACzC,GAAC,gCASD,WACInB,KAAKk0F,0BAA4Bl0F,KAAKk0F,wBAC1C,GAAC,0BAED,SAAaruF,GACT,IAAQ2sC,EAAoB3sC,EAApB2sC,SAAU2zC,EAAUtgF,EAAVsgF,MAClBnmF,KAAK++G,YAAYvsE,EAAUxd,EAAAA,cAAAA,QAAuB,GAAImxD,EAC1D,GAAC,qBAED,SAAQtgF,GACJ7F,KAAK++G,YAAYl5G,EAASmvB,EAAAA,cAAAA,MAC9B,GAAC,sBAED,SAASzxB,GAAM,WACX,EAA4BvD,KAAKmlG,WAAzB9V,EAAS,EAATA,UAAWgwB,EAAI,EAAJA,KACXx5G,EAAqEtC,EAArEsC,QAASqgF,EAA4D3iF,EAA5D2iF,UAAWlyC,EAAiDzwC,EAAjDywC,aAAcjB,EAAmCxvC,EAAnCwvC,MAAOvjC,EAA4BjM,EAA5BiM,SAAU0jC,EAAkB3vC,EAAlB2vC,eFpE7B,SAAH,EAE/BwqE,EACAC,EACAoB,GACC,IAJCl5G,EAAO,EAAPA,QAAS2J,EAAQ,EAARA,SAAU0jC,EAAa,EAAbA,cAMrB,QAAgBpuC,IAAZe,GAA0C,MAAjBqtC,EAUzB,OATAuqE,IACI52G,EAAAA,EAAAA,UACI,4GACA,CAAEqsC,cAAAA,IAEN1jC,EACAkuG,EACAC,IAEG,EAGX,GAAgB,OAAZ93G,EAEA,OADAk5G,EAAY,SACL,EAGX,GAAI93G,OAAOq4G,GAAGz5G,EAAS05G,KAOnB,OANA9B,IACI52G,EAAAA,EAAAA,UAAS,0CACT2I,EACAkuG,EACAC,IAEG,EAGX,GAAIj7G,MAAMo/B,QAAQj8B,GAAU,CACxB,IAAM25G,EAAiB35G,EAAQ6B,OACzB+3G,EAAc,CAChBnlB,OACsB,SAAlBpnD,EAAwB,UACfA,EAAa,cAAMssE,EAAc,MACpC34G,EAAAA,EAAAA,UAAS,6BAA8B,CAAE24G,eAAAA,IACnDxc,QAAS8a,GAAWj4G,IAGxB,OADAk5G,EAAYW,GAAeD,KACpB,CACX,CAEA,MAAuB,kBAAZ55G,IACPk5G,EAAYl5G,EAAQ4I,aACb,EAIf,CEiBYkxG,CACI,CAAE95G,QAAAA,EAAS2J,SAAAA,EAAU0jC,cAAAA,GACrBm8C,EAAUquB,kBACV,kBAAM2B,EAAK1B,wBAAwBnuG,GAAU,EAAK,IAClD,SAAAowG,GAAc,OAAI,EAAKb,YAAYa,EAAgB5rE,GAAgBhf,EAAAA,cAAAA,OAAsBkxD,EAAU,KAM3GlmF,KAAK++G,YAAYl5G,EAASmuC,GAAgBhf,EAAAA,cAAAA,OAAsBkxD,GAChElmF,KAAK2+G,UAAU5rE,IAJX/yC,KAAK2+G,UAAU5rE,EAKvB,GAAC,yBAED,SAAYltC,EAASmuC,EAAckyC,GAAuB,IAAZC,EAAQ,UAAH,6CAAG,CAAC,EAC7CsP,GAAOoqB,EAAAA,EAAAA,YAAW7/G,KAAKg/G,iBACvBv/B,GAAOogC,EAAAA,EAAAA,YAAW7/G,KAAKg/G,gBAAiB,kBACxCvnB,EAAY/nF,QAAQ+T,MAAMC,SAEhC1jB,KAAKg3F,oBAAoBpzB,QAAQ,CAAE6xB,KAAAA,EAAMhW,KAAAA,EAAM55E,QAAAA,EAASmuC,aAAAA,EAAckyC,UAAAA,EAAWuR,UAAAA,EAAWtR,MAAAA,IAC5FnmF,KAAKg3F,oBAAsBh3F,KAAKg3F,oBAAoBlzF,OACxD,GAAC,6BAED,WAAwB,WACpB,OACI9D,KAAKg3F,oBAEAjhF,QACG,SAAAlQ,GAAO,OACH,EAAK64G,gBAAgBh3G,QACrB,EAAKg3G,gBAAgBtkG,MAAK,SAAArE,GAAM,OAAIlQ,EAAQmuC,eAAiBj+B,CAAM,GAAC,GAGxF,GAAC,2BAED,WACI,OAAO/V,KAAK0+G,gBAAgB3oG,QAAO,SAAAA,GAAM,OAAc,MAAVA,CAAc,GAC/D,GAAC,2BAED,SAAc4iC,EAASmnE,GACfnnE,EACA34C,KAAK0+G,gBAAgB1kG,KAAK8lG,GAE1B9/G,KAAK0+G,gBAAgBn6C,OAAOvkE,KAAK0+G,gBAAgB5gF,QAAQgiF,GAAU,GAGvE5X,GAAa,iBAAkBloG,KAAK0+G,gBACxC,GAAC,mBAED,WACI1+G,KAAKg3F,oBAAsBh3F,KAAKg3F,oBAAoBlzF,MAAM,EAAG,EACjE,GAAC,6BAED,WACI9D,KAAK++G,YAAYvoG,EAAAA,UAAAA,aAAwBwe,EAAAA,cAAAA,QAAuB,gBACpE,GAAC,+BAED,WAAoB,WACRxf,EAAWxV,KAAKstF,KAAhB93E,OAGFuqG,GAAqCx0D,EAAAA,EAAAA,WACvC,kBAAM,EAAKyrC,mBAAmB,IAC9B,SAAAA,GACI,IAAMgpB,EAAkB/B,GAAoB,EAAKQ,cAAe,CAAC,GAEjEuB,EAAgBxqG,EAAOD,SAAWyhF,EAAoBlzF,MAAM,EAAG,KAAMiS,QAAO,SAAAkqG,GAMxE,QAHIA,EAAmBjsE,eAAiBhf,EAAAA,cAAAA,SACpCirF,EAAmBp6G,UAAY2Q,EAAAA,UAAAA,aAGvC,IACA8nG,GAAoB,EAAKG,cAAeuB,EAC5C,IAIEE,GAAgC30D,EAAAA,EAAAA,WAClC,kBAAM/1C,EAAOD,OAAO,IACpB,WACI,EAAKyhF,oBAAsB+mB,GAAqB,EAAKU,cAAejpG,EAAOD,QAAS,IAEhF,EAAKyhF,oBAAoBtvF,OAAS,GAClC,EAAKu3G,iBAEb,IAGJ,OAAO,WACHc,IACAG,GACJ,CACJ,4EAAC,EA7K4B,0PCRjC,knGAAA33G,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,moBAAAA,EAAA,iBAAAA,EAAA,EAAAA,IAAA,EAAAA,GAAA,EAAAA,GAAA,kCAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,yYAYqE,IAsDhD43G,GAAc,WAG/B,WAAYhb,GAAuB,YArEvC,4FAqEuC,cAFnCA,gBAAU,OA8DVib,sBAAgB,OAChBC,qBAAe,OACfC,eAAS,OAETxc,aAAe,EAAC,KAChByc,oBAAqB,EAAK,KAC1BC,uBAAwB,EAAK,KAC7BC,wBAAyB,EAAK,KAC9BC,kBAAoB,KAAI,KACxBC,kBAAoB,GAAE,KACtBC,qBAAuB,GAAE,KACzBC,0BAAuB/7G,EAAS,KAChCg8G,oBAAqB,EAAK,KAC1BC,sBAAuB,EAAK,KAC5BC,qBAAsB,EAAK,KAC3B9R,qBAAuB,GAAE,KAyBzB+R,sBAAwB,SAAC/R,GACrB,EAAKA,qBAAuBA,CAChC,EAAC,KAcDntF,iBAAmB,SACfiB,GAEU,IACN43F,EAFJsG,IAAU,UAAH,+CAGY,SAAfl+F,EAAMvhB,MACNuhB,EAAM+G,kBACN/G,EAAMgH,iBAEH4wF,EAAU53F,EAAMiH,aAAhB2wF,OAEAA,EAAU53F,EAAMsH,OAAhBswF,MAGP,IAvMR,EAAAryG,EAuMe2yG,GAvMf,EAuMuBN,EAvMvBryG,EAuM4B,EAvM5B,yDAAAA,GAAA,0JAAAA,EAAA,6FAAAA,GAAA,mIAAAA,IAAA,iSAAAA,IAAA,gLAuMmB,GAEX,IAAK24G,EAAS,CACV,IAAIhG,EAAKt1G,KAAKmb,SAAS,OAInB,OAAO,EAHP,EAAKogG,mBAAmBjG,GACxB,EAAKkG,wBAIb,CAGA,OAFA,EAAKC,UAAUH,EAASl+F,EAAOk4F,GAC/Bl4F,EAAMsH,OAAOjQ,MAAQ,IACd,CACX,EAAC,KACDinG,uBAAyB,WAAkD,MAAjDC,EAAW,UAAH,6CAAyB,QAAzB,EAAG,EAAKC,yBAAiB,aAAtB,EAAwBz9F,IACrDw9F,IAAUtqC,EAAAA,EAAAA,MAAK,CAAEC,aAAcqqC,EAAUpqC,WAAY,CAAC,EAAGh2D,UAAW,EAAKi/F,kBACjF,EAAC,KACDqB,mBAAkB,cAAG,+EACkB,GAAnC,EAAKhB,wBAAyB,EACzB,EAAKe,kBAAmB,CAAF,eAMa,OALpC9xG,QAAQC,eAAe86D,aACvB/6D,QAAQ0U,IAAIC,eACR3U,QAAQ0U,IAAIE,UAAU5U,QAAQC,eAAegU,kBAC7CjU,QAAQC,gBAEZ,EAAK8wG,wBAAyB,EAAM,0BAWrC,OAPH93B,EAAAA,EAAAA,yBAAwB,EAAK64B,kBAAkBz+G,KAC/Ck0E,EAAAA,EAAAA,MAAK,CACDC,aAAc,EAAKsqC,kBAAkBz9F,IACrCqzD,YAAa,EAAKoqC,kBAAkBz+G,GACpC8gB,UAAW,EAAK29F,kBAAkB57G,KAClCub,UAAWzR,QAAQC,eACnBhN,KAAM,EAAK6+G,kBAAkBv5B,YAC9B,WACwBzmE,EAAAA,EAAAA,sBAAoB,QAA1B,EAAH,KACL1e,KAAI,SAAAy+G,GACb,IAAQx9F,EAAYw9F,EAAZx9F,IAAKhhB,EAAOw+G,EAAPx+G,GACT,EAAKy+G,kBAAkBz+G,KAAOA,IAC9B2M,QAAQC,eAAegU,iBAAmBI,EAElD,IACA,EAAK08F,wBAAyB,EAAM,4CACvC,KAEDiB,kBAAoB,WAChB,EAAKjB,wBAAyB,EAC9B,EAAKY,UAAS,EAAO,CAAC,EAAG,EAAKX,mBAC9B,EAAKD,wBAAyB,CAClC,EAAC,KAEDkB,oBAAsB,WACd,EAAKC,WAAa/yB,GAAAA,WAClB,EAAKogB,sBAAsB,EAAK4R,sBAG5B,EAAKT,kBACL9rG,YAAW,WAGP,EAAK8rG,iBAAiBxhF,UACtB,EAAKwhF,iBAAmB,IAC5B,IAIJ,EAAKwB,WAAa/yB,GAAAA,UACb,EAAKyxB,YACN,EAAKA,UAAYt+F,SAASy8C,cAAc,sCAEpC,EAAK6hD,WACL,EAAKA,UAAU17F,iBAAiB,QAAQ,SAAA5B,GAAK,OAAI,EAAKjB,iBAAiBiB,GAAO,EAAM,KAMxF,EAAKq9F,iBACL/rG,YAAW,WACP,EAAK+rG,gBAAgBzhF,UACrB,EAAKyhF,gBAAkB,KACvB,EAAKc,mBAAmB,KAC5B,GAAG,GAKP,EAAKS,WAAa/yB,GAAAA,WAAwB,EAAKyxB,WAC/C,EAAKA,UAAUnZ,oBAAoB,QAAQ,SAAAnkF,GAAK,OAAI,EAAKjB,iBAAiBiB,GAAO,EAAM,GAE/F,EAAC,KAED6+F,eAAiB,WACb,IAAQC,EAAiB,EAAK3c,WAAtB2c,aAEJA,EAAahJ,cACbgJ,EAAahI,UAEbgI,EAAajI,QAErB,EAAC,KAYDkI,UAAY,WACR,EAAK9S,sBAAsB,EAAK4R,qBACpC,EAAC,KAEDjT,iBAAmB,WACX,EAAKwS,mBACL,EAAKA,iBAAmB,MAExB,EAAKC,kBACL,EAAKA,gBAAkB,MAG3B,EAAKtc,kBAAkB,GACvB,EAAKod,mBAAmB,KAC5B,EAAC,KAEDzS,iBAAmB,SAACC,GACZ,EAAKqT,mBACL,EAAKA,kBAAkBC,WAAWtT,EAAa,GAAK,EAE5D,EAAC,KAEDM,sBAAwB,SAAC9mB,GAGrB,GAFA,EAAK+5B,sBAAsB/5B,GACtBA,GAAc,EAAK+5B,sBAAsB,EAAKhT,sBAC9C,EAAKsS,kBAAV,CAkBA,GAVmB,IAHf,EAAKrc,WADLp6C,UAAa0kC,YAIQ,EAAK8wB,qBAC1B,EAAKH,iBAAmB,KACxB,EAAKe,mBAAmB,OAGxB,EAAKS,WAAa/yB,GAAAA,WAAwB,EAAKuxB,mBAC/C1W,GAAkB,QAAS1nF,SAASC,eAAe,qCACnD,EAAKm+F,iBAAiBxhF,UACtB,EAAKwhF,iBAAmB,OAEvB,EAAKA,mBAAqB,EAAKA,iBAAiBj+D,SAAU,CAC3D,IAAMoyC,EAAMvyE,SAASC,eAAe,oCACpC,IAAKsyE,EAGD,YADA/mF,QAAQ8b,KAAK,6CAIjB,EAAK82F,iBAAmB1wG,QAAQ0S,OAAOmyE,EAAK,CACxClyE,MAAO,GAAF,OAAKX,EAAAA,EAAuB,UACjCa,KAAM,CACFC,OAAO,EACPC,WAAYza,EAAAA,OAAAA,WAAAA,4BAEhB0wB,UAAU,EACVhW,YAAY,GAEpB,CACA,IAAMy/F,EAAYngG,SAAS7T,KAAKo3F,UAAUl7E,SAAS,gBACnDoD,EAAAA,EAAAA,WAAU00F,GACV,EAAKb,0BAIL/8F,EADI,EAAK4gF,WADLh6C,WAAc5mC,eAEJ,EAAKi9F,kBAAkB57G,KAxCrC,CAyCJ,EAAC,KAEDm+F,kBAAoB,SAAC/oF,GACjB,EAAK8oF,aAAe9oF,CACxB,EAAC,KAEDmmG,mBAAqB,SAACT,GAClB,EAAKA,kBAAoBA,CAC7B,EAAC,KAED0B,oBAAsB,SAACzB,GACnB,EAAKA,kBAAoBA,CAC7B,EAAC,KAED0B,kBAAoB,WAChB,EAAKD,oBAAoB,EAAKzB,kBAClC,EAAC,KAEDuB,sBAAwB,SAACrB,GACrB,EAAKA,qBAAuBA,CAChC,EAAC,KAEDyB,wBAA0B,WACtB,EAAK9B,uBAAyB,EAAKA,qBACvC,EAAC,KAED+B,gBAAkB,WACd,EAAKhC,oBAAsB,EAAKA,mBAC5B,EAAKM,sBAAsB,EAAK5R,sBAAsB,EAAK4R,qBACnE,EAAC,KAED2B,oBAAsB,WAAuC,IAAtCrkC,EAAS,UAAH,8CAAI,EAAKoiC,mBAClC,EAAKA,mBAAqBpiC,CAC9B,EAAC,KAED+J,qBAAuB,SAAC7zD,GAChBA,IACC,EAAKusF,qBAA6CvsF,EAE3D,EAAC,KAEDouF,kBAAoB,SAACx6B,GACjB,OAAQA,GACJ,KAAK7iE,EAAAA,WAAAA,QACD,MAAO,YACX,KAAKA,EAAAA,WAAAA,MACD,MAAO,eACX,KAAKA,EAAAA,WAAAA,aACD,MAAO,gBACX,QACI,MAAO,YAEnB,EAAC,KAEDs9F,YAAc,SAACz6B,GACX,OAAQA,GACJ,KAAK7iE,EAAAA,WAAAA,QACD,OAAOve,EAAAA,EAAAA,UAAS,WACpB,KAAKue,EAAAA,WAAAA,MACD,OAAOve,EAAAA,EAAAA,UAAS,SACpB,KAAKue,EAAAA,WAAAA,aACD,OAAOve,EAAAA,EAAAA,UAAS,gBACpB,QACI,OAAOA,EAAAA,EAAAA,UAAS,WAE5B,EAAC,KAED87G,qBAAuB,SAAC5B,GACpB,EAAKA,qBAAuBA,CAChC,EAAC,KAEDM,SAAW,SAACuB,EAAqBzrC,EAAuB+jC,GACpD,IAAMr3F,EAAYq3F,GAAQA,EAAKt1G,KAAK2G,QAAQ,YAAa,IACnDs2G,EAAS,IAAIC,WACnBD,EAAOr2F,QAASta,EAAAA,EAAAA,SAAO,SAAArQ,GACnB,IAAMkhH,EAAe,CAAE7rC,aAAcr1E,EAAEyoB,OAAOvN,OAAQo6D,WAAAA,EAAYx0E,KAAMyiB,EAAAA,WAAAA,OACxE,GAAIw9F,EAAY,CACZ,IAAMruB,EAAMvyE,SAASC,eAAe,oCAEpC,EAAKo+F,gBAAkB3wG,QAAQ0S,OAAOmyE,EAAK,CACvClyE,MAAO,GAAF,OAAKX,EAAAA,EAAuB,UACjCa,KAAM,CACFC,OAAO,EACPC,WAAYza,EAAAA,OAAAA,WAAAA,4BAEhB0wB,UAAU,EACVhW,YAAY,IAEhBqgG,EAAa5hG,UAAY,EAAKk/F,eAClC,MACI0C,EAAa5hG,UAAYzR,QAAQC,eACjCozG,EAAal/F,UAAYA,GAE7BozD,EAAAA,EAAAA,MAAK8rC,EACT,IACAF,EAAOG,WAAW9H,EACtB,GAvZInvB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB8jG,aAAc9X,EAAAA,WACdu0B,mBAAoBv0B,EAAAA,WACpBw0B,sBAAuBx0B,EAAAA,WACvBy0B,uBAAwBz0B,EAAAA,WACxB80B,mBAAoB90B,EAAAA,WACpB+0B,qBAAsB/0B,EAAAA,WACtBg1B,oBAAqBh1B,EAAAA,WACrB00B,kBAAmB10B,EAAAA,WACnB20B,kBAAmB30B,EAAAA,WACnB40B,qBAAsB50B,EAAAA,WACtB60B,qBAAsB70B,EAAAA,WACtBkjB,qBAAsBljB,EAAAA,WACtBg2B,kBAAmB9Y,EAAAA,SACnBsY,kBAAmBtY,EAAAA,SACnB0Y,SAAU1Y,EAAAA,SACV+X,sBAAuB/uG,EAAAA,OAAAA,MACvBmwG,kBAAmBnwG,EAAAA,OAAAA,MACnBovG,uBAAwBpvG,EAAAA,OAAAA,MACxB6P,iBAAkB7P,EAAAA,OAAAA,MAClBuvG,mBAAoBvvG,EAAAA,OAAAA,MACpBwvG,kBAAmBxvG,EAAAA,OAAAA,MACnByvG,oBAAqBzvG,EAAAA,OAAAA,MACrB2vG,eAAgB3vG,EAAAA,OAAAA,MAChB+wG,YAAa/wG,EAAAA,OAAAA,MACb6vG,UAAW7vG,EAAAA,OAAAA,MACX07F,iBAAkB17F,EAAAA,OAAAA,MAClBw8F,iBAAkBx8F,EAAAA,OAAAA,MAClB+8F,sBAAuB/8F,EAAAA,OAAAA,MACvB6xF,kBAAmB7xF,EAAAA,OAAAA,MACnBivG,mBAAoBjvG,EAAAA,OAAAA,MACpBkwG,oBAAqBlwG,EAAAA,OAAAA,MACrBgwG,sBAAuBhwG,EAAAA,OAAAA,MACvBowG,wBAAyBpwG,EAAAA,OAAAA,MACzBqwG,gBAAiBrwG,EAAAA,OAAAA,MACjBswG,oBAAqBtwG,EAAAA,OAAAA,MACrBmvG,SAAUnvG,EAAAA,OAAAA,MACVgxG,uBAAwBhxG,EAAAA,OAAAA,MACxBg2E,qBAAsBh2E,EAAAA,OAAAA,QAG1BlS,KAAKmlG,WAAaA,GAElB55C,EAAAA,EAAAA,WACI,kBAAM,EAAKu4C,YAAY,IACvB,kBAAM,EAAK6d,qBAAqB,KAEpCp2D,EAAAA,EAAAA,WACI,kBAAM,EAAKg1D,kBAAkB,kCAC7B,WAAMA,GAAkB,sEAChBA,EAAoB,CAAF,gBACd,OADc,KAClB,EAAI,UAA4B/+F,EAAAA,EAAAA,sBAAoB,gDAAK,GAAE,sBAAtD4gG,oBAAmB,wCAExB,EAAKxU,mBAAmB,4CAE/B,mDAP4B,GASrC,CA/HJ,QAuLK,EALA,EAqIA,OAvTL,EA+HK,EA/HL,EA+HK,8BAmBD,WACI,OAAI5tG,KAAK4hH,WAAa/yB,GAAAA,UAA6B7uF,KAAKqgH,gBACpDrgH,KAAK4hH,WAAa/yB,GAAAA,WAA8B7uF,KAAKogH,iBAClD,IACX,GAAC,6BAED,WAAwB,WACpB,OACIpgH,KAAK4gH,qBAAqBpwG,MAAK,SAAAqqD,GAAE,OAAIA,EAAG93D,KAAO,EAAK89G,oBAAoB,KAAK7gH,KAAK4gH,qBAAqB,EAE/G,GAAC,oBAED,WACI,IAAI7wB,EAAAA,EAAAA,YAAY,CACZ,GAA0B,IAAtB/vF,KAAK8jG,aAAoB,OAAOjV,GAAAA,UACpC,GAA0B,IAAtB7uF,KAAK8jG,aAAoB,OAAOjV,GAAAA,UACxC,CACA,OAA0B,IAAtB7uF,KAAK8jG,aAA2BjV,GAAAA,WACV,IAAtB7uF,KAAK8jG,aAA2BjV,GAAAA,UACV,IAAtB7uF,KAAK8jG,aAA2BjV,GAAAA,WAC7B,EACX,GAAC,oCAMD,SAAuBp6D,GACnBz0B,KAAK4gH,qBAAuBnsF,EACvBA,EAAW/sB,SACZ1H,KAAK6gH,0BAAuB/7G,EAEpC,GAAC,qDAED,sGACoC0c,EAAAA,EAAAA,sBAAoB,OAA9Cm/F,EAAoB,EAAH,KACvB3gH,KAAK4gH,qBAAuBD,EAAkB,gDACjD,uFAwHD,2FACoB,OAAR/G,EAAa55G,KAAKmlG,WAAW2c,aAA7BlI,SAAQ,SACqBA,IAAU,gBAAvCoB,EAAO,EAAPA,QAASn3F,EAAS,EAATA,WACjBozD,EAAAA,EAAAA,MAAK,CAAEC,aAAc8jC,EAASn3F,UAAAA,EAAW1C,UAAWzR,QAAQC,eAAgBhN,KAAMyiB,EAAAA,WAAAA,eAE/D,IADIplB,KAAKmlG,WAAWp6C,UAA/B0kC,YACczvF,KAAKuiH,kBAE3BviH,KAAKmlG,WAAWp6C,UAAUqiD,gBAAiB,EAAM,iDACpD,8CAvTL,wEAuTK,EArP8B,+WClEnC,knGAAA7kG,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4zBAAAA,EAAA,EAAAA,EAAA,iBAAAA,IAAA,uBAAAA,GAAA,UAAAA,GAAA,GAAAA,EAAA,+ZAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,0ZAI0D,IA2BrC46G,GAAkB,WAInC,WAAYhe,GAAuB,cAnCvC,4FAmCuC,cAHnCA,gBAAU,OACVie,SAAsBnb,GAAW,mBAAkC,CAAC,EAAC,KAuDrExuD,gBAAkCz5C,KAAKojH,SAAS3pE,iBAAqC,CAAC,EAAC,KACvFG,oBAAmC55C,KAAKojH,SAASxpE,qBAAsC,CAAC,EAAC,KACzFypE,uBAAyCrjH,KAAKojH,SAASC,wBAA4C,CAAC,EAAC,KACrGC,uBAA4CtjH,KAAKojH,SAASE,wBAA+C,CAAC,EAAC,KAC3GC,qBAAwCvjH,KAAKojH,SAASG,sBAAwB,GAAE,KAChFC,YAAsBxjH,KAAKojH,SAASI,aAAe,GAAE,KACrDC,sBAAgCzjH,KAAKojH,SAASK,uBAAyB,GAAE,KACzEC,oBAA8B1jH,KAAKojH,SAASM,qBAAuB,GAAE,KACrEC,iBAA2B3jH,KAAKojH,SAASO,kBAAoB,GAAE,KAC/DC,WAAqB5jH,KAAKojH,SAASQ,YAAc,GAAE,KACnDC,aAAuB7jH,KAAKojH,SAASS,cAAgB,GAAE,KACvD/f,aAAuB9jG,KAAKqjH,uBAAuBroG,OAAS,EAAC,KAC7D4Z,aAA0D,QAApC,EAAA50B,KAAKojH,SAASC,8BAAsB,aAApC,EAAsCzuF,cAAe,GAAE,KAC7EkvF,0BAAqD,GAAE,KACvD5sE,gBAAmC,GAAE,KACrC6sE,oBAA0C,GAAE,KAC5CC,uBAAgD,GAAE,KAClDC,yBAA0B,EAAK,KAC/BC,yBAA0B,EAAK,KAC/BC,wBAAyB,EAAK,KAuZ9BC,yBAA2B,SAAC3iH,GACxB20G,GAAAA,cAAkB,CAAEpzF,MAAO,8BAAF,OAAgCvhB,IAC7D,EAAC,KAED4iH,YAAc,SAACrpG,GACX,OAAQA,GACJ,KAAK,EACD,MAAO,2GACX,KAAK,EACD,MAAO,sEACX,KAAK,EACD,MAAO,yEACX,QACI,MAAO,GAEnB,EAAC,KAEDspG,YAAc,SAAC7iH,GA2BX,MA1BsB,CAClBV,OAAQ,CACJowE,WAAY,yBACZvqC,SAAU,EAAKsQ,gBACfxxB,SAAU,EAAK+zB,gBACf8qE,YAAa,EAAKC,mBAEtB,aAAc,CACVrzC,WAAY,6BACZvqC,SAAU,EAAKm9E,oBACfr+F,SAAU,EAAKk0B,oBACf2qE,YAAa,EAAKE,sBAEtB,gBAAiB,CACbtzC,WAAY,gCACZvqC,SAAU,EAAKo9E,uBACft+F,SAAU,EAAK49F,uBACfiB,YAAa,EAAKG,yBAEtB,gBAAiB,CACbvzC,WAAY,gCACZvqC,SAAU,EAAKk9E,0BACfp+F,SAAU,EAAK29F,uBACfkB,YAAa,EAAKI,0BAGLljH,EACzB,EAAC,KAEDy4B,cAAgB,SAAC0qF,EAAwBvqG,GACrC,IAAMwqG,GACFD,aAAU,EAAVA,EAAYp0G,MAAK,SAAA6yB,GAAI,YACK,iBAAfA,EAAKhpB,MACNgpB,EAAKhpB,QAAUA,GACL,QAAV,EAAAgpB,EAAKhpB,aAAK,aAAV,EAAYqgB,kBAAkBrgB,aAAK,EAALA,EAAOqgB,cAAa,MACvD,CAAC,EAEV,MAA2B,iBAAbmqF,EAAwBA,aAAQ,EAARA,EAAUj3G,KAAO,EAC3D,EAAC,KAEDk3G,uBAAyB,WACrB,OAAO7c,GAAW,iBACtB,EAAC,KAED8c,oBAAsB,SAAC1sE,GAOnB,IAFA,IAAI2sE,EAAoB,EAEfliE,EAAI,EAAGA,EAAIzK,EAAY3wC,OAAQo7C,IAAK,CACzC,IAAMpW,EAAa2L,EAAYyK,GACzBmiE,EAAcj9G,EAAAA,OAAAA,oBAAAA,SAAoC0kC,EAAWryB,OAC7D2jC,EAAiBh2C,EAAAA,OAAAA,uBAAAA,SAAuC0kC,EAAWryB,QAErE4qG,GAAejnE,IACfgnE,GAER,CAEA,OAAOA,CACX,EAAC,KAEDE,oBAAsB,SAAC7sE,EAA4CP,GAC/D,IAAMsrC,EAAyC,GAgB/C,OAfA/qC,EAAYl1C,SAAQ,SAACupC,GACjB,IAAMu4E,EAAcj9G,EAAAA,OAAAA,oBAAAA,SAAoC0kC,EAAWryB,OAC7D2jC,EAAiBh2C,EAAAA,OAAAA,uBAAAA,SAAuC0kC,EAAWryB,OACnE8qG,EAAe,CAAC,cAAcpkG,SAAS2rB,EAAWryB,OAGnD4qG,GAAgBjnE,GAAmBmnE,GACpC/hC,EAAmBppE,KAAK,CACpBpM,KAAM8+B,EAAW9mC,KACjByU,MAAOqyB,EAAWryB,MAClB8jB,MAAO2Z,EAAoB,GAC3B8Z,KAAMllB,EAAWklB,MAG7B,IACOwxB,CACX,EAAC,KAEDgiC,oBAAsB,WAClB,EAAKnB,yBAA2B,EAAKA,wBACrC,EAAKC,yBAA2B,EAAKA,uBACzC,GAvkBIn4B,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBy5C,gBAAiBuyC,EAAAA,WACjBpyC,oBAAqBoyC,EAAAA,WACrBq3B,uBAAwBr3B,EAAAA,WACxBs3B,uBAAwBt3B,EAAAA,WACxBu3B,qBAAsBv3B,EAAAA,WACtBw3B,YAAax3B,EAAAA,WACb03B,oBAAqB13B,EAAAA,WACrBy3B,sBAAuBz3B,EAAAA,WACvB23B,iBAAkB33B,EAAAA,WAClB43B,WAAY53B,EAAAA,WACZ63B,aAAc73B,EAAAA,WACdm4B,uBAAwBn4B,EAAAA,WACxB8X,aAAc9X,EAAAA,WACd90C,gBAAiB80C,EAAAA,WACjB+3B,oBAAqB/3B,EAAAA,WACrBg4B,uBAAwBh4B,EAAAA,WACxBp3D,YAAao3D,EAAAA,WACbi4B,wBAAyBj4B,EAAAA,WACzBk4B,wBAAyBl4B,EAAAA,WACzBgM,eAAgBkR,EAAAA,SAChB4a,0BAA2B93B,EAAAA,WAC3Bo4B,yBAA0BlyG,EAAAA,OAAAA,MAC1BmyG,YAAanyG,EAAAA,OAAAA,MACboyG,YAAapyG,EAAAA,OAAAA,MACbgoB,cAAehoB,EAAAA,OAAAA,MACf4yG,uBAAwB5yG,EAAAA,OAAAA,MACxBmzG,eAAgBnzG,EAAAA,OAAAA,MAChBozG,2BAA4BpzG,EAAAA,OAAAA,MAC5BqzG,wBAAyBrzG,EAAAA,OAAAA,MACzBszG,kBAAmBtzG,EAAAA,OAAAA,MACnBuzG,qBAAsBvzG,EAAAA,OAAAA,MACtBwzG,2BAA4BxzG,EAAAA,OAAAA,MAC5ByyG,wBAAyBzyG,EAAAA,OAAAA,MACzBwyG,wBAAyBxyG,EAAAA,OAAAA,MACzBsyG,kBAAmBtyG,EAAAA,OAAAA,MACnBuyG,qBAAsBvyG,EAAAA,OAAAA,MACtByzG,sBAAuBzzG,EAAAA,OAAAA,MACvB0zG,qBAAsB1zG,EAAAA,OAAAA,MACtB2zG,mBAAoB3zG,EAAAA,OAAAA,MACpB4zG,mBAAoB5zG,EAAAA,OAAAA,MACpB61F,iBAAkB71F,EAAAA,OAAAA,MAClB6zG,eAAgB7zG,EAAAA,OAAAA,MAChB8zG,qBAAsB9zG,EAAAA,OAAAA,MACtB+zG,8BAA+B/zG,EAAAA,OAAAA,MAC/Bg0G,wBAAyBh0G,EAAAA,OAAAA,MACzBi0G,uBAAwBj0G,EAAAA,OAAAA,MACxBk0G,oBAAqBl0G,EAAAA,OAAAA,QAGzBlS,KAAKmlG,WAAaA,CACtB,CAvFJ,QA4eK,EAnCA,EAxBA,EAhEA,EAnBA,EAvFA,EAVA,EAmQA,OAhgBL,EAuFK,EAvFL,EAuFK,2BAsBD,WACI,IAAM9oF,EAAO,aACT,gCACIrc,KAAKk6B,cAAcl6B,KAAK8jH,0BAA2B9jH,KAAKqjH,uBAAuBhpG,QAAU,GAC7F,yBAA0Bra,KAAKk6B,cAAcl6B,KAAKk3C,gBAAiBl3C,KAAKy5C,gBAAgBp/B,QAAU,GAClG,6BACIra,KAAKk6B,cAAcl6B,KAAK+jH,oBAAqB/jH,KAAK45C,oBAAoBv/B,QAAU,GACpF,gCACIra,KAAKk6B,cAAcl6B,KAAKgkH,uBAAwBhkH,KAAKsjH,uBAAuBjpG,QAAU,GAC1F,iCAAkCra,KAAKujH,sBAAwB,GAC/D,wBAAyBvjH,KAAKwjH,aACJ,IAAtBxjH,KAAK8jG,cAAsB,CAAE,kBAAmB9jG,KAAKyjH,uBAAyB,KACxD,IAAtBzjH,KAAK8jG,cAAsB,CAAE,gBAAiB9jG,KAAK0jH,qBAAuB,KACpD,IAAtB1jH,KAAK8jG,cAAsB,CAAE,aAAc9jG,KAAK2jH,kBAAoB,KAAI,IAE5E,uBAAwB3jH,KAAK4jH,YAAc,GAC3C,yBAA0B5jH,KAAK6jH,cAAgB,KAInD,OAFA3b,GAAa,iBAAkBloG,KAAKojH,UAE7B/mG,CACX,GAAC,wCAED,SAA2BrB,GACvBhb,KAAK8jG,aAAe9oF,CACxB,GAAC,4BAED,SAAeqrG,GAAoC,QAC/CrmH,KAAK40B,aAC6B,QAA9B,EAAA50B,KAAK8jH,iCAAyB,OAA0D,QAA1D,EAA9B,EAAgCtzG,MAAK,SAAA+wG,GAAQ,OAAIA,EAASlnG,QAAUgsG,EAAchsG,KAAK,WAAC,WAA1D,EAA9B,EAA0Fua,cAAe,EACjH,GAAC,qCAED,SAAwB0xF,GACpBtmH,KAAKgkH,uBAAyBsC,CAClC,GAAC,+BAED,SAAkBtpC,GACdh9E,KAAKk3C,gBAAkB8lC,CAC3B,GAAC,kCAED,SAAqBoG,GACjBpjF,KAAK+jH,oBAAsB3gC,CAC/B,GAAC,qCAED,SAAwBnqC,GACpBj5C,KAAKojH,SAASE,uBAAyBrqE,EACvCj5C,KAAKsjH,uBAAyBrqE,CAClC,GAAC,wCAED,SAA2BstE,GACvBvmH,KAAK8jH,0BAA4ByC,CACrC,GAAC,qCAED,SAAwBF,GACpBrmH,KAAKojH,SAASC,uBAAyBgD,EACvCrmH,KAAKqjH,uBAAyBgD,EAC9BrmH,KAAKqlH,eAAegB,EACxB,GAAC,+BAED,SAAkBtlH,GACdf,KAAKojH,SAAS3pE,gBAAkB14C,EAChCf,KAAKy5C,gBAAkB14C,SAChBf,KAAKojH,SAASE,8BACdtjH,KAAKojH,SAASxpE,mBACzB,GAAC,kCAED,SAAqBlN,GACjB1sC,KAAKojH,SAASxpE,oBAAsBlN,EACpC1sC,KAAK45C,oBAAsBlN,SACpB1sC,KAAKojH,SAASE,sBACzB,GAAC,mCAED,SAAsBpqE,GAClBl5C,KAAKojH,SAASG,qBAAuBrqE,EACrCl5C,KAAKujH,qBAAuBrqE,CAChC,GAAC,kCAED,SAAqBz3C,EAAsB4Y,EAAeme,GACtD,GAAKne,EAAL,CAIA,IAAMmsG,EAAYxmH,KAAKskH,YAAY7iH,GACnC,GAAa,WAATA,EAAmB,CACnBzB,KAAKkmH,wBAAwB7rG,EAAOme,GAEpC,IAAMz3B,EAASf,KAAKk3C,gBAAgB1mC,MAAK,SAAA6yB,GAAI,OAAIA,EAAKhpB,QAAUA,CAAK,IAEjEtZ,IACAf,KAAKwkH,kBAAkBzjH,GACvBy3B,EAAcguF,aAAS,EAATA,EAAWr1C,WAAYpwE,EAAO6M,MAEpD,MAAO,GAAa,eAATnM,EAAuB,CAC9BzB,KAAKmmH,uBAAuBnmH,KAAKy5C,gBAAgBp/B,MAAOA,EAAOme,GAE/D,IAAMkU,EAAa1sC,KAAK+jH,oBAAoBvzG,MAAK,SAAA6yB,GAAI,OAAIA,EAAKhpB,QAAUA,CAAK,IAEzEqyB,IACA1sC,KAAKykH,qBAAqB/3E,GAC1BlU,EAAcguF,aAAS,EAATA,EAAWr1C,WAAYzkC,EAAW9+B,MAExD,MAAO,GAAa,kBAATnM,EAA0B,CACjCzB,KAAKomH,oBAAoB/rG,EAAOme,GAEhC,IAAMygB,EAAgBj5C,KAAKgkH,uBAAuBxzG,MAAK,SAAA6yB,GAAI,OAAIA,EAAKhpB,QAAUA,CAAK,IAE/E4+B,IACAj5C,KAAK0kH,wBAAwBzrE,GAC7BzgB,EAAcguF,aAAS,EAATA,EAAWr1C,WAAYl4B,EAAcrrC,MAE3D,MAAO,GAAa,kBAATnM,EAA0B,CACjC,IAAMglH,EAAezmH,KAAK8jH,0BAA0BtzG,MAAK,SAAA6yB,GAAI,OAAIA,EAAKhpB,QAAUA,CAAK,IAEjFosG,IACAzmH,KAAK2kH,wBAAwB8B,GAC7BzmH,KAAKslH,2BAA2BmB,EAAazrG,OAC7Cwd,EAAcguF,aAAS,EAATA,EAAWr1C,WAAYs1C,EAAa74G,MAE1D,CAtCA,CAuCJ,GAAC,gCAED,SAAmBtG,EAA2B0b,GAC1ChjB,KAAKojH,SAAS97G,GAAS0b,EAAM0jG,cAAcrsG,MAC3Cra,KAAKsH,GAAS0b,EAAM0jG,cAAcrsG,MAClC6tF,GAAa,iBAAkBloG,KAAKojH,SACxC,GAAC,gCAED,SAAmB3hH,EAAsB4Y,EAA2Bme,GAAqC,MAC/FguF,EAAYxmH,KAAKskH,YAAY7iH,GAC7B4hC,GAAyB,QAAlB,EAAAmjF,EAAU5/E,gBAAQ,aAAlB,EAAoBp2B,MAAK,SAAAjI,GAAC,OAAIA,EAAEqF,KAAK8sB,gBAAkBrgB,EAAMqgB,aAAa,MAAK8rF,EAAU9gG,SAGjG2d,GAKDA,EAAKz1B,OAASyM,GACdme,EAAcguF,aAAS,EAATA,EAAWr1C,WAAY9tC,EAAKz1B,MAG1Cy1B,IAASmjF,EAAU9gG,UACnB8gG,EAAUjC,YAAYlhF,IATtB7K,EAAcguF,aAAS,EAATA,EAAWr1C,WAAY,GAW7C,GAAC,+CAED,+EAE+D,GAD3DnxE,KAAKmlG,WAAWn6C,OAAOuD,eAAc,GACrCvuD,KAAKmkH,wBAA0BnkH,KAAKmkH,wBAEhCnkH,KAAKmkH,uBAAwB,CAAF,+BACrBnkH,KAAKgmH,uBAAsB,uBAC3BhmH,KAAKimH,gCAA+B,gDAEjD,0FAED,+IAYyB,OAZF1nD,EAAM,EAANA,OACbx9D,EAASf,KAAKy5C,gBAAgBp/B,MAC9BqyB,EAAa1sC,KAAK45C,oBAAoBv/B,MACtC4+B,EAAgBj5C,KAAKsjH,uBAAuBjpG,MAC5C6+B,EAAiBl5C,KAAKujH,qBACtBoD,EAAQ3mH,KAAKwjH,YACbphH,EAAOpC,KAAKyjH,sBACZmD,EAAgB5mH,KAAK0jH,oBACrBmD,EAAa7mH,KAAK2jH,iBAClBl4G,EAAOzL,KAAK4jH,WACZpoG,EAASxb,KAAK6jH,aAEZ9rE,EAAkBp2B,EAAAA,WAAAA,SAAAA,cAAL,UACAo2B,EAAc+uE,kBAAkB/lH,GAAO,QAAhD,OAANo2C,EAAS,EAAH,eACYY,EAAcgvE,qBAAqBhmH,GAAO,QAAnD,OAATq2C,EAAY,EAAH,eACcW,EAAc4pC,gCAAgCj1C,GAAW,QAGY,OAH5FsL,EAAiB,EAAH,KAEZvjB,EAAezsB,EAAAA,OAAAA,WACjBg/G,EAAgB//G,OAAO2Z,KAAK6T,GAAYjkB,MAAK,SAAA+uE,GAAC,OAAI9qD,EAAW8qD,GAAGvkE,QAAU,EAAK8oF,YAAY,IAAC,UACvE,QAA0C,YAAWkjB,EAAa,SAAO,QAA9FC,EAAe,EAAH,KACZC,EAAex3G,QAAQ0U,IAAIE,UAAU2iG,EAAY,SAEjDE,EAAoB,SAACzlH,EAAa2Y,GACZ6sG,EAAapzC,iBAAiB,yBAAD,OAA0BpyE,EAAG,OAElEyB,SAAQ,SAACikH,GACrBA,EAAel8C,UAAY,gDAAH,OAAmD7wD,EAAK,oBACpF,GACJ,EAEMgtG,EAA4B,SAACzhH,EAAcyU,GAC7C,IAAMitG,EAAY,GAAH,OAAM1hH,EAAKywC,cAAa,SACrB6wE,EAAapzC,iBAAiB,eAAD,OAAgBwzC,EAAS,OAE9DnkH,SAAQ,SAACyuE,GACfA,EAAS1G,UAAY7wD,CACzB,GACJ,EAEMktG,EAAoC,CACtCpwE,OAAAA,EACAC,UAAAA,EACAr2C,OAAAA,EACAymH,UAAW96E,EACX+6E,aAAczvE,EACd0vE,aAAczuE,EACduD,SAAUtD,EACVytE,MAAAA,EACAvkH,KAAAA,EACAwkH,cAAAA,EACAC,WAAAA,EACAp7G,KAAAA,EACA+P,OAAAA,GAGJvU,OAAO2Z,KAAK2mG,GAAkBpkH,SAAQ,SAAAzB,GAClC,IAAM2Y,EAAQktG,EAAiB7lH,GAE1BoL,MAAMuN,GAEiB,iBAAVA,GACdgtG,EAA0B3lH,EAAK2Y,GAF/B8sG,EAAkBzlH,EAAK2Y,EAI/B,IAEMwJ,GAAa4Q,SAA8D,QAApD,EAAVA,EAA6BuyF,UAAiC,WAApD,EAAX,EAAiEryF,SAAS9tB,EAAAA,EAAAA,UAAS,WAAU,EAEzE6I,QAAdyR,EAAS,EAAzBxR,gBAERsnE,EAAAA,EAAAA,MAAK,CAAEC,aAAcxnE,QAAQ0U,IAAI69B,UAAUilE,GAAerjG,UAAAA,EAAW1C,UAAAA,EAAWxe,KAAMyiB,GAAAA,EAAAA,UAEvE,QAAXm5C,GACAp9C,EACK4iD,kBAAkB,CACfrJ,WAAY,mBACZwJ,WAAYx0D,QAAQwU,OAAOoD,aAC3BzG,QAAS,MAEZrc,MAAK,WACF,EAAK2gG,WAAW9V,UAAU6I,kBAC9B,IAEJl4F,KAAKmkH,wBACLnkH,KAAK+nG,mBACR,iDACJ,iGAED,yFAcK,OAbOhxD,EAAmBp1B,EAAAA,WAAAA,SAAAA,eACrBm6D,EAAU/kC,EAAe4wE,eAAmC,GAE5D3qC,EAAiBlB,EAAQh5E,KAAI,SAAC/B,GAAe,MAAM,CACrDo9B,MAAOp9B,EAAO07E,kBACd7uE,KAAM7M,EAAO27E,eACbriE,MAAOtZ,EAAOA,OACjB,IAEDf,KAAKwlH,kBAAkBxoC,IAElBh9E,KAAKy5C,gBAAgBp/B,OAAS2iE,EAAet1E,SAC9C1H,KAAKy5C,gBAAkBujC,EAAe,IACzC,SAEKh9E,KAAKkmH,wBAAwBlmH,KAAKy5C,gBAAgBp/B,OAAM,gDACjE,mGAED,WAA8BtZ,EAAgBy3B,GAA8B,yGAIZ,OAHpDuf,EAAkBp2B,EAAAA,WAAAA,SAAAA,cACpByhE,EAAyC,GACzCjsC,EAASY,EAAc+uE,kBAAkB/lH,GACzCq2C,EAAYW,EAAcgvE,qBAAqBhmH,GAAO,SACxBg3C,EAAcE,uBAAuBd,EAAQC,EAAWr2C,GAAO,OAA7F6iF,EAAwB,EAAH,KAErBgkC,EAAiC,GAE9Br/G,EAAI,EAAC,YAAEA,EAAIq7E,EAAsBl8E,QAAM,iBAE5C,OADMowC,EAAsB8rC,EAAsBr7E,GAClD,UAC0BwvC,EAAcwrC,4BACpCpsC,EACAC,EACAr2C,EACA+2C,EAAoB,IACvB,QALKO,EAAc,EAAH,KAOSr4C,KAAK+kH,oBAAoB1sE,GAE3BA,EAAY3wC,QAChCkgH,EAA+B5tG,KAAK89B,GACvC,QAd6CvvC,IAAG,uBAiB5CA,EAAI,EAAC,aAAEA,EAAIq/G,EAA+BlgH,QAAM,iBAErD,OADMowC,EAAsB8vE,EAA+Br/G,GAC3D,UAC0BwvC,EAAcwrC,4BACpCpsC,EACAC,EACAr2C,EACA+2C,EAAoB,IACvB,QALKO,EAAc,EAAH,KAOjB+qC,EAAmBppE,KAAI,MAAvBopE,kDAA2BpjF,KAAKklH,oBAAoB7sE,EAAaP,wkBAAsB,QAVhCvvC,IAAG,wBAuB7D,GAVDvI,KAAKylH,qBAAqBriC,GACtBykC,EAAmBzkC,EAAmB,GAEtCpjF,KAAK45C,qBAAuBwpC,EAAmBhpE,MAAK,SAAAvY,GAAC,OAAIA,EAAEwY,QAAU,EAAKu/B,oBAAoBv/B,KAAK,KACnGwtG,EAAmB7nH,KAAK45C,qBACxB65D,EAAAA,EAAAA,cAAY,WACRoU,EAAiBj6G,KAAO,EAAKssB,cAAc,EAAK6pF,oBAAqB,EAAKnqE,oBAAoBv/B,MAClG,KAEoB,QAApB,EAAOra,KAAKojH,gBAAQ,cAAb,EAAexpE,qBAEtBiuE,EAAkB,CAAF,gBAC4B,OAA5C7nH,KAAKykH,qBAAqBoD,GAAkB,UACtC7nH,KAAKmmH,uBACPnmH,KAAKy5C,gBAAgBp/B,MACrBra,KAAK45C,oBAAoBv/B,MACzBme,GACH,QAEGA,GACAA,EAAc,6BAA8BqvF,EAAiBj6G,MAChE,sDAER,4GAED,gGACY6mB,EAAezsB,EAAAA,OAAAA,WACjB8/G,EAAmB7gH,OAAOrE,OAAO6xB,GAA2B3xB,KAAI,SAAAy+G,GAAQ,MAAK,CAC/EvmG,MAAOumG,EAASvmG,MAChBpN,KAAM2zG,EAAS5sF,MACfta,MAAOknG,EAAS5sF,MAChBC,YAAa2sF,EAAS3sF,YACzB,IAED50B,KAAK0lH,2BAA2BoC,GAC5BC,EAAsBD,EAAiB,GACvC9nH,KAAKqjH,wBAA0ByE,EAAiB1tG,MAAK,SAAAvY,GAAC,OAAIA,EAAEwY,QAAU,EAAKgpG,uBAAuBhpG,KAAK,KACvG0tG,EAAsB/nH,KAAKqjH,wBAC3B5P,EAAAA,EAAAA,cAAY,WACRsU,EAAoBn6G,KAAO,EAAKssB,cAAc4tF,EAAkB,EAAKzE,uBAAuBhpG,MAChG,YAEOra,KAAKojH,SAASC,uBAErB0E,GACA/nH,KAAK2kH,wBAAwBoD,GAChC,gDACJ,kGAED,WAA6BhnH,EAAgB2rC,EAAoBlU,GAA8B,2FACtE,OAAbuf,EAAkBp2B,EAAAA,WAAAA,SAAAA,cAAL,SACGo2B,EAAcqE,aAAar7C,EAAQ2rC,GAAW,OAAhEqM,EAAY,EAAH,KAETwD,EAAoBxD,EAAyBj2C,KAAI,SAAA05C,GAAQ,MAAK,CAChE5uC,KAAM4uC,EAAS9oB,QACfrZ,MAAOmiC,EAAS7oB,KAChBC,IAAK4oB,EAAS5oB,IACd0pB,IAAKd,EAASc,IACjB,IACDt9C,KAAKulH,wBAAwBhpE,GACzByrE,EAAwCzrE,EAAiB,GACzDv8C,KAAKsjH,wBAALtjH,MAA+Bu8C,GAAAA,EAAkBniC,MAAK,SAAAvY,GAAC,OAAIA,EAAEwY,QAAU,EAAKipG,uBAAuBjpG,KAAK,KACxG2tG,GACIzrE,aAAgB,EAAhBA,EAAkB/rC,MAAK,SAAA3O,GAAC,OAAIA,EAAEwY,QAAU,EAAKipG,uBAAuBjpG,KAAK,MACzEra,KAAKsjH,wBACT7P,EAAAA,EAAAA,cAAY,WACRuU,EAAoBp6G,KAAO,EAAKssB,cAAcqiB,EAAkB,EAAK+mE,uBAAuBjpG,MAChG,KAEoB,QAApB,EAAOra,KAAKojH,gBAAQ,cAAb,EAAeE,uBAEtB0E,IACAhoH,KAAK0kH,wBAAwBsD,GAC7BhoH,KAAKomH,qBACY,QAAb,EAAApmH,KAAKojH,gBAAQ,OAAwB,QAAxB,EAAb,EAAeE,8BAAsB,WAAxB,EAAb,EAAuCjpG,QAASra,KAAKsjH,uBAAuBjpG,MAC5Eme,GAGAA,GACAA,EAAc,gCAAiCwvF,EAAoBp6G,OAE1E,gDACJ,oGAED,WAA0B8wC,EAAuBlmB,GAA8B,oFACtD,OAAbuf,EAAkBp2B,EAAAA,WAAAA,SAAAA,cAAL,SACGo2B,EAAcqE,aAAap8C,KAAKy5C,gBAAgBp/B,MAAOra,KAAK45C,oBAAoBv/B,OAAM,OAAxG0+B,EAAY,EAAH,MACT2D,EAAgB3D,EAAyBvoC,MAAK,SAAAgsC,GAAQ,OAAIA,EAAS7oB,OAAS+qB,CAAa,OAEvFupE,EAAwCvrE,EAAa9oB,KACnDs0F,EAA0B,QAAhB,EAAGloH,KAAKojH,gBAAQ,aAAb,EAAeG,uBAChB2E,EAAaxrE,EAAaY,KAAO4qE,EAAaxrE,EAAa9oB,IACzEq0F,EAAuBC,EAEH,QAApB,EAAOloH,KAAKojH,gBAAQ,cAAb,EAAeG,qBAE1BvjH,KAAK2lH,sBAAsBsC,GAEvBzvF,GACAA,EAAc,iCAAkCyvF,IAEvD,gDACJ,iDAhgBL,wEAggBK,EAjekC,6qBChCmB,IAErCE,GAAsB,WACvC,WAAYhjB,EAAY7X,gGAAM,cAe9B86B,aAAc,EAAK,KACnBC,cAAe,EAAK,KACpBC,cAAgB,MAhBZv8B,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBooH,YAAap8B,EAAAA,WACbq8B,aAAcr8B,EAAAA,WACds8B,cAAet8B,EAAAA,WACfu8B,0BAA2Br2G,EAAAA,OAAAA,MAC3Bs2G,UAAWt2G,EAAAA,OAAAA,MACXu2G,SAAUv2G,EAAAA,OAAAA,MACVw2G,cAAex2G,EAAAA,OAAAA,QAGnBlS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,CAChB,SA4BC,SA5BA,6CAMD,SAA0Bq7B,GACtB,QAAK3oH,KAAKqoH,eACNroH,KAAKsoH,cAAgBK,EACrB3oH,KAAKooH,aAAc,GACZ,EAIf,GAAC,uBAED,WACIpoH,KAAKooH,aAAc,EACnBpoH,KAAKqoH,cAAe,CACxB,GAAC,sBAED,WACIroH,KAAKooH,aAAc,CACvB,GAAC,2BAED,WACI,IAAQz3B,EAAW3wF,KAAKstF,KAAhBqD,OACJ3wF,KAAKqoH,cAAgBroH,KAAKsoH,eAAe33B,EAAOi4B,QAAQ5oH,KAAKsoH,cAAct+B,SACnF,2EAAC,EA1CsC,GCF9BqF,GAAYpoF,OAAOguB,OAAO,CACnC4zF,QAAS,EACTC,aAAc,EACdC,QAAS,ICAAC,GAA8B,CACvCtnH,IAAK,qBACL44F,QAAQzzF,EAAAA,EAAAA,UAAS,+BACjBhB,SAASgB,EAAAA,EAAAA,UACL,oGAEJpF,KAAM,UACNwnH,eAAe,0PCTnB,knGAAA1gH,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,yYAMoF,IAE/D2gH,GAAa,WAC9B,WAAY/jB,EAAY7X,IAT5B,4FASkC,cAgE9BwW,aAAe,EAAC,KAChB5M,eAAiB3D,GAAgBC,YAAW,KAC5CkZ,eAAiB,CAAC,EAAC,KACnByc,mBAAoB,EAAK,KACzBxrC,YAAa,EAAK,KAClB0mB,+BAAgC,EAAK,KACrC/U,gBAAiB,EAAI,KACrB8d,gBAAiB,EAAK,KACtB7O,mBAAoB,EAAK,KAEzBkR,OAAS,GAAE,KAKX2Z,gBAAatkH,EAAS,KA0dtB4lE,MAAQ,WACJnlE,EAAAA,SAAAA,KAAc,mBAClB,EAAC,KA8CD8jH,uBAAyB,WACrB9jH,EAAAA,SAAAA,cAAuB,eACvBA,EAAAA,SAAAA,cAAuB,YACvBA,EAAAA,SAAAA,cAAuB,mBACvBA,EAAAA,SAAAA,cAAuB,mBACvBA,EAAAA,SAAAA,cAAuB,gBACvBA,EAAAA,SAAAA,cAAuB,QAC3B,GA/lBIwmF,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB8jG,aAAc9X,EAAAA,WACdkL,eAAgBlL,EAAAA,WAChB0gB,eAAgB1gB,EAAAA,WAChBm9B,kBAAmBn9B,EAAAA,WACnBrO,WAAYqO,EAAAA,WACZqY,8BAA+BrY,EAAAA,WAC/BsD,eAAgBtD,EAAAA,WAChBohB,eAAgBphB,EAAAA,WAChBuS,kBAAmBvS,EAAAA,WACnByjB,OAAQzjB,EAAAA,WACRo9B,WAAYp9B,EAAAA,WACZ2Y,WAAYuE,EAAAA,SACZjS,uBAAwBiS,EAAAA,SACxBnJ,wBAAyBmJ,EAAAA,SACzBhT,uBAAwBgT,EAAAA,SACxBjJ,kBAAmB/tF,EAAAA,OAAAA,MACnBqT,QAASrT,EAAAA,OAAAA,MACT0xF,iBAAkB1xF,EAAAA,OAAAA,MAClBo3G,UAAWp3G,EAAAA,OAAAA,MACXsxF,0BAA2BtxF,EAAAA,OAAAA,MAC3BqyF,aAAcryF,EAAAA,OAAAA,MACd6xF,kBAAmB7xF,EAAAA,OAAAA,MACnBm8F,cAAen8F,EAAAA,OAAAA,MACfkuF,0BAA2BluF,EAAAA,OAAAA,MAC3Bq3G,iCAAkCr3G,EAAAA,OAAAA,MAClCs3G,gBAAiBt3G,EAAAA,OAAAA,MACjBu3G,sBAAuBv3G,EAAAA,OAAAA,MACvBw3G,oBAAqBx3G,EAAAA,OAAAA,MACrBihE,+BAAgCjhE,EAAAA,OAAAA,MAChCy3G,8BAA+Bz3G,EAAAA,OAAAA,MAC/B03G,eAAgB13G,EAAAA,OAAAA,MAChB23G,eAAgB33G,EAAAA,OAAAA,MAChB43G,gBAAiB53G,EAAAA,OAAAA,MACjB63G,sBAAuB73G,EAAAA,OAAAA,MACvBosF,YAAapsF,EAAAA,OAAAA,MACb83G,mBAAoB93G,EAAAA,OAAAA,MACpBpE,QAASoE,EAAAA,OAAAA,MACTwrG,iBAAkBxrG,EAAAA,OAAAA,MAClB+3G,gBAAiB/3G,EAAAA,OAAAA,MACjBg4G,iBAAkBh4G,EAAAA,OAAAA,MAClBi4G,mBAAoBj4G,EAAAA,OAAAA,MACpBk4G,aAAcl4G,EAAAA,OAAAA,MACdywF,QAASzwF,EAAAA,OAAAA,MACT0wF,UAAW1wF,EAAAA,OAAAA,MACXm4G,mBAAoBn4G,EAAAA,OAAAA,MACpBgmF,iBAAkBhmF,EAAAA,OAAAA,MAClBo4G,qBAAsBp4G,EAAAA,OAAAA,MACtBgtG,kBAAmBhtG,EAAAA,OAAAA,MACnBq4G,kBAAmBr4G,EAAAA,OAAAA,MACnBm3G,uBAAwBn3G,EAAAA,OAAAA,MACxBw4D,MAAOx4D,EAAAA,OAAAA,MACPs4G,aAAct4G,EAAAA,OAAAA,MACdu4G,UAAWv4G,EAAAA,OAAAA,MACXw4G,wBAAyBx4G,EAAAA,OAAAA,QAG7BlS,KAAKmlG,WAAaA,EAClBnlG,KAAKq/G,KAAOr/G,KAAKmlG,WAAWka,KAC5Br/G,KAAKstF,KAAOA,EACZttF,KAAKm/G,mBAAqBn/G,KAAKk/G,mBACnC,CAvEJ,QA8oBK,EA7fA,EALA,EAuhBA,OAnqBL,EAuEK,EAvEL,EAuEK,uBAmBD,WACI,IAAIprE,EAAa,EAEX6wD,EADmB3kG,KAAKmlG,WAAW3C,aAAjCA,aACwB56F,QAC5B,SAAC+iH,EAAO,GAAkB,IAAVC,EAAG,EAATrnH,KAcN,OAbIqnH,EAAIroB,eACAqoB,EAAIpvG,OAAS,GACbmvG,EAAMlnB,eAAiB,EACvBknB,EAAMrnB,cAAgBsnB,EAAIjuG,QAE1BguG,EAAMxnB,gBAAkB,EAG5BwnB,EAAMh3E,cAAgBi3E,EAAIpvG,OAC1BmvG,EAAMtnB,aAAeunB,EAAIh0G,UACzBk9B,GAAc,GAGX62E,CACX,GACA,CACIxnB,eAAgB,EAChBC,eAAgB,EAChBzvD,aAAc,EACd2vD,aAAc,EACdD,YAAa,EACbI,cAAe,IAKvB,OADAkB,EAAWvB,eAAiBtvD,EACrB6wD,CACX,GAAC,kCAED,WACI,OAAO3kG,KAAK29E,YAAc39E,KAAKmpH,iBACnC,GAAC,mCAED,WACI,MAAO,CAAC51B,GAAgBG,cAAeH,GAAgBK,aAAa7yE,SAAS/gB,KAAKk3F,eACtF,GAAC,kCAED,WACI,MAAkCl3F,KAAKmlG,WAA/BrO,EAAO,EAAPA,QAAS0L,EAAY,EAAZA,aAEjB,OACIxiG,KAAK29E,YACL39E,KAAKmpH,mBACmC,IAAvCryB,EAAQE,oBAAoBtvF,QAAiD,IAAjC86F,EAAa3gE,SAASn6B,MAE3E,GAAC,wDAED,qFAC0B,OAAduzF,EAAmBj7F,KAAKmlG,WAAxBlK,eAAc,SAChBA,EAAe4vB,mBAAkB,gDAC1C,4FAED,0GAKqC,GALrC,EACkE7qH,KAAKmlG,WAA3DpH,EAAY,EAAZA,aAAc+sB,EAAmB,EAAnBA,oBAAqB7vB,EAAc,EAAdA,eAAc,EAClCj7F,KAAKstF,KAApB93E,EAAM,EAANA,OAAQg5E,EAAE,EAAFA,GACVu8B,EAA8B,SAArBC,EAAAA,EAAAA,kBACfhrH,KAAKq/G,KAAK4L,sBACVjrH,KAAKq/G,KAAK6L,uBACL11G,EAAOggC,aAAc,CAAF,eACG,OAAvBx1C,KAAKwpH,kBAAkB,0BASmB,IAA1CuB,IAAUI,EAAAA,EAAAA,cAAYnrH,KAAKwqH,eAE1BvvB,EAAemwB,eAAgB,CAAF,gBACO,OAArCnwB,EAAeowB,iBAAgB,GAAM,2BAKb,GAF5BpwB,EAAeowB,iBAAgB,GAE/BrrH,KAAKsqH,uBAEAtqH,KAAKq/G,KAAKiM,eAAgB,CAAF,gBACK,OAA9BtrH,KAAKqpH,yBAAyB,2BAIlC76B,EAAG4Y,mCACCvgG,EAAAA,EAAAA,UACI,8GAGR4sG,EAAAA,EAAAA,cAAY,WACR,EAAK2W,cAAa,GAClB57B,EAAG6Y,kBAAiB,EAAMyjB,EAAoBvC,2BAC9C,EAAKhkB,cAAa,GAClB,EAAKkL,OAAS,OAAH,OAAU5iG,KAAKoX,OAE1B85E,EAAarzB,QACb,EAAKw/C,iBAAiB32B,GAAgBE,UACtC,EAAK4rB,KAAKkM,QACd,IAAG,iDACN,4EAED,WAC8BvrH,KAAKmlG,WAAWpH,aAAlCM,cAGJr+F,KAAKupH,mCAELvpH,KAAKulB,SAEb,GAAC,qBAED,WACI,IAAQipE,EAAOxuF,KAAKstF,KAAZkB,GAERxuF,KAAKq/G,KAAK95F,UAEVipE,EAAG6Y,kBAAiB,GAEhBrnG,KAAKopH,YAELppH,KAAKkqH,iBAAiB32B,GAAgBC,aACtChF,EAAG4Y,mCAAkC,GACrCpnG,KAAKoqH,cAAa,IACXpqH,KAAKmpH,kBAEZnpH,KAAKkqH,iBAAiB32B,GAAgBK,cAGtC5zF,KAAKkqH,iBAAiB32B,GAAgBC,aACtCxzF,KAAKqpH,yBACL76B,EAAG4Y,mCAAkC,GACrCpnG,KAAKoqH,cAAa,IAGlBpqH,KAAKopH,aACLppH,KAAKopH,gBAAatkH,EAE1B,GAAC,8BAED,WACI9E,KAAK0pH,qBACT,GAAC,uBAED,WACI,MAAgD1pH,KAAKmlG,WAA7CpH,EAAY,EAAZA,aAAcjH,EAAO,EAAPA,QAAS0L,EAAY,EAAZA,aAE/BxiG,KAAKoqH,cAAa,GAClBpqH,KAAKmqH,oBAAmB,GACxBnqH,KAAK0qE,QACLosB,EAAQpsB,QACRqzB,EAAarzB,QACb83B,EAAa93B,QACb1qE,KAAKkqH,iBAAiB32B,GAAgBC,YAC1C,GAAC,uCAED,WACIxzF,KAAKqkG,+BAAiCrkG,KAAKqkG,6BAC/C,GAAC,0BAED,SAAa1J,GACT36F,KAAKsvF,eAAiBqL,CAC1B,GAAC,+BAED,SAAkB3/E,GACdhb,KAAK8jG,aAAe9oF,EAEM,IAAtBhb,KAAK8jG,cACL9jG,KAAKmlG,WAAW3C,aAAaN,uBAAuB,KAE5D,GAAC,2BAED,WACIliG,KAAKotG,gBAAiB,CAC1B,GAAC,uBAED,WACI,MAAyCptG,KAAKmlG,WAAtCpH,EAAY,EAAZA,aAAc+J,EAAc,EAAdA,eACdtZ,EAAOxuF,KAAKstF,KAAZkB,GACA42B,EAAwBtd,EAAxBsd,oBAER52B,EAAG6Y,kBAAiB,GACpBrnG,KAAKq/G,KAAKmM,eACVxrH,KAAKquG,gBACLtQ,EAAarzB,QACb06C,GACJ,GAAC,qCAED,WACI,IACQA,EADmBplH,KAAKmlG,WAAxB2C,eACAsd,oBAERplH,KAAKs+F,cACLt+F,KAAKulB,UACLvlB,KAAKquG,gBACL+W,GACJ,GAAC,8CAED,WAAmC,WACvBrnB,EAAiB/9F,KAAKmlG,WAAtBpH,aACAvP,EAAOxuF,KAAKstF,KAAZkB,GAERxuF,KAAKyrH,gBAAkB,WACnBj9B,EAAG6Y,kBAAiB,GACpB,EAAKgY,KAAKmM,eACV,EAAKnd,gBACLtQ,EAAarzB,OACjB,EACA1qE,KAAK0rH,oBAAsB,WACvB,EAAKptB,cACL,EAAK/4E,UACL,EAAK8oF,eACT,EACAruG,KAAK0sG,eAAiB,CAClBh2B,OAAO7vE,EAAAA,EAAAA,UAAS,+BAChBhB,QACI,kBAAC,EAAAgvF,SAAQ,CACLC,kBAAkB,2JAClBC,WAAY,CACR,uBACIrzF,IAAK,EACLwkF,UAAU,OACVylC,IAAI,sBACJrhG,OAAO,SACP+jE,KAAK,0BAKrBu9B,gBAAgB/kH,EAAAA,EAAAA,UAAS,oBACzBglH,oBAAoBhlH,EAAAA,EAAAA,UAAS,sBAEjC7G,KAAKotG,gBAAiB,CAC1B,GAAC,6BAED,WACIptG,KAAKyrH,gBAAkBzrH,KAAKquG,cAC5BruG,KAAK0rH,yBAAsB5mH,EAC3B9E,KAAK0sG,eAAiB,CAClBh2B,OAAO7vE,EAAAA,EAAAA,UAAS,iBAChBhB,SAASgB,EAAAA,EAAAA,UAAS,uCAEtB7G,KAAKotG,gBAAiB,CAC1B,GAAC,mCAED,WACIptG,KAAKyrH,gBAAkBzrH,KAAKquG,cAC5BruG,KAAK0rH,yBAAsB5mH,EAC3B9E,KAAK0sG,eAAiB,CAClBh2B,OAAO7vE,EAAAA,EAAAA,UAAS,4CAChBhB,SAASgB,EAAAA,EAAAA,UAAS,yDAEtB7G,KAAKotG,gBAAiB,CAC1B,GAAC,iCAED,WAAsB,WAClBptG,KAAKyrH,gBAAkB,WACnB,EAAKnC,YACL,EAAKjb,eACT,EACAruG,KAAK0rH,oBAAsB1rH,KAAKquG,cAChCruG,KAAK0sG,eAAiB,CAClBh2B,OAAO7vE,EAAAA,EAAAA,UAAS,iBAChBhB,SAASgB,EAAAA,EAAAA,UACL,mHAGR7G,KAAKotG,gBAAiB,CAC1B,GAAC,4CAED,WACIptG,KAAKyrH,gBAAkBzrH,KAAKquG,cAC5BruG,KAAK0rH,yBAAsB5mH,EAC3B9E,KAAK0sG,eAAiB,CAClBh2B,OAAO7vE,EAAAA,EAAAA,UAAS,gBAChBhB,SAASgB,EAAAA,EAAAA,UAAS,yDAEtB7G,KAAKotG,gBAAiB,CAC1B,GAAC,2CAED,SAA8BvnG,GAC1B7F,KAAKyrH,gBAAkBzrH,KAAKquG,cAC5BruG,KAAK0rH,yBAAsB5mH,EAC3B9E,KAAK0sG,eAAiB,CAClBh2B,OAAO7vE,EAAAA,EAAAA,UAAS,yBAChBhB,SAASgB,EAAAA,EAAAA,UAAShB,IAEtB7F,KAAKotG,gBAAiB,CAC1B,GAAC,kCAED,WACI,MAAuCptG,KAAKmlG,WAApCpH,EAAY,EAAZA,aAAcyE,EAAY,EAAZA,aAEtBj9F,EAAAA,SAAAA,SAAkB,cAAevF,KAAKuqH,mBACtChlH,EAAAA,SAAAA,SAAkB,WAAYvF,KAAK4pH,gBACnCrkH,EAAAA,SAAAA,SAAkB,WAAYvF,KAAK6pH,gBACnCtkH,EAAAA,SAAAA,SAAkB,iBAAkBvF,KAAKigG,mBACzC16F,EAAAA,SAAAA,SAAkB,kBAAmBvF,KAAK8pH,iBAC1CvkH,EAAAA,SAAAA,SAAkB,kBAAmBvF,KAAK+pH,uBAC1CxkH,EAAAA,SAAAA,SAAkB,eAAgBvF,KAAKgqH,oBACvCzkH,EAAAA,SAAAA,SAAkB,eAAgBw4F,EAAaisB,oBAC/CzkH,EAAAA,SAAAA,SAAkB,eAAgBi9F,EAAawnB,oBAC/CzkH,EAAAA,SAAAA,SAAkB,QAASvF,KAAK8N,QACpC,GAAC,+BAED,WAAoB,WAChB,EAA0C9N,KAAKstF,KAAvC93E,EAAM,EAANA,OAAQm7E,EAAM,EAANA,OAAQm7B,EAAa,EAAbA,cAElBC,EAAiC,WAC/Bp7B,EAAOK,iBACP,EAAKg7B,+BAAgCzgE,EAAAA,EAAAA,WACjC,kBAAM/1C,EAAOD,OAAO,IACpB,SAAAA,GACQA,GAAW,EAAKooE,YAChBmuC,EAAcG,uBAAuBjD,IAEzC,EAAK3J,KAAKmM,eACV,EAAKnC,wBACT,IAEyC,mBAA/B,EAAK6C,uBACnB,EAAKA,uBAEb,EAgBA,OAdAH,IAEA/rH,KAAKksH,uBAAwB3gE,EAAAA,EAAAA,WACzB,kBAAMolC,EAAOK,gBAAgB,IAC7B,kBAAM+6B,GAAgC,IAG1C/rH,KAAKmsH,wBAAyB5gE,EAAAA,EAAAA,WAC1B,kBAAO,EAAKoyB,UAAU,IACtB,WACS,EAAKA,YAAY,EAAKusC,iBAAiB32B,GAAgBC,YAChE,IAGG,WAC+C,mBAAvC,EAAKw4B,+BACZ,EAAKA,gCAGiC,mBAA/B,EAAKE,uBACZ,EAAKA,wBAGkC,mBAAhC,EAAKC,wBACZ,EAAKA,wBAEb,CACJ,GAAC,+BAED,WACInsH,KAAKmqH,oBAAmB,GAGxB,IAAMiC,EAAqB,IAAIznG,MAAM,mBACrC3C,SAAS0C,cAAc0nG,GACvB,IAAQnxB,EAAmBj7F,KAAKmlG,WAAxBlK,eAEJA,EAAemwB,iBAAgD,IAA9BnwB,EAAetC,YAChDsC,EAAetC,WAAa,EACxBsC,EAAetC,UAAY,GAC3B34F,KAAKigG,oBAGjB,GAAC,4BAED,WACIjgG,KAAKu+F,mBAAoB,CAC7B,GAAC,4BAED,WAAiB,WACb,EAAyCv+F,KAAKmlG,WAAtClK,EAAc,EAAdA,eAAgB8C,EAAY,EAAZA,aAChBvP,EAAOxuF,KAAKstF,KAAZkB,GACF69B,EAAqB,WACvB,EAAKjD,gBAAatkH,EAClB,EAAKslH,cAAa,GAClB,EAAKF,iBAAiB32B,GAAgBC,aACtChF,EAAG4Y,mCAAkC,GACrC,EAAKiiB,yBACLpuB,EAAe9C,oBACnB,EACA,GAAIn4F,KAAKopH,aAAe/zF,EAAAA,YAAAA,mBAAgC,CAGpD,MAAqDr1B,KAAKq/G,KAAK/gG,YAAYN,IAAIhS,YAAYlL,QAAnFmd,EAAoB,EAApBA,qBAAsBlH,EAAkB,EAAlBA,mBACHkH,GAAwBlH,GAG/C/W,KAAKopH,gBAAatkH,EAClB9E,KAAKkqH,iBAAiB32B,GAAgBG,gBAEtC24B,GAER,MAAWrsH,KAAKopH,aAAe/zF,EAAAA,YAAAA,qBAG3Bg3F,IACOrsH,KAAKmpH,oBAGZnpH,KAAKopH,gBAAatkH,EAClB9E,KAAKoqH,cAAa,GAClBpqH,KAAKu+F,mBAAoB,EACzBv+F,KAAKkqH,iBAAiB32B,GAAgBM,iBACtCrF,EAAG4Y,mCAAkC,GACrCpnG,KAAKqpH,yBACLpuB,EAAe9C,sBAGnBn4F,KAAKmqH,oBAAmB,GAExBpsB,EAAauuB,kCAGb,IAAMC,EAAqB,IAAI5nG,MAAM,mBACrC3C,SAAS0C,cAAc6nG,EAC3B,GAAC,6BAED,SAAgBC,GACPA,GACDxsH,KAAKigG,mBAEb,GAAC,mCAED,SAAsBwsB,GAClB,OAAQA,EAAgB1pH,IACpB,IAAK,yBACD/C,KAAKkqH,iBAAiB32B,GAAgBG,eACtC,MAEJ,IAAK,6BACD1zF,KAAKkqH,iBAAiB32B,GAAgBI,mBAGtC3zF,KAAKmlG,WAAW3C,aAAaN,uBAAuB,MAEpD,IAAQhsF,EAAQu2G,EAARv2G,IACelW,KAAKstF,KAAK93E,OAAzBk3G,YAGJ1sH,KAAKstF,KAAKopB,IAAIlE,cAAc,CAAExvF,MAAO,gBAAiBpM,UAAWV,EAAIU,YAGzE,MAEJ,IAAK,gBACD5W,KAAKu+F,mBAAoB,EACzBv+F,KAAKkqH,iBAAiB32B,GAAgBM,iBAMlD,GAAC,yBAED,WAC8B7zF,KAAKmlG,WAAWpH,aAAlCM,eAGJr+F,KAAKkqH,iBAAiB32B,GAAgBK,aAG1C5zF,KAAKq/G,KAAK/gG,YAAYN,IAAI9B,eAAeU,cAC7C,GAAC,gCAMD,SAAmBrZ,GACXA,SAAAA,EAAMwV,UACN/Y,KAAKu+F,mBAAoB,EACzBv+F,KAAKkqH,iBAAiB32B,GAAgBM,iBAE9C,GAAC,qBAED,SAAQtwF,GAEJ,IAAMyU,EAAQzU,EAAKyU,OAASzU,EACxB4a,EAAAA,qBAAAA,SAA8BnG,EAAMjS,OACpC/F,KAAKmlG,WAAWpH,aAAarzB,QAC7B1qE,KAAKopH,WAAa/zF,EAAAA,YAAAA,sBAElBr1B,KAAKopH,WAAa/zF,EAAAA,YAAAA,mBAGtB,IAAM5O,EAAgBzO,aAAK,EAALA,EAAOnS,QAC7B7F,KAAK09G,iBAAiBj3F,EAC1B,GAAC,8BAED,SAAiBljB,GACb,IDhkBoBizF,ECgkBZM,EAAY92F,KAAKmlG,WAAjBrO,QACAg1B,EAAkB9rH,KAAKstF,KAAvBw+B,cACRh1B,EAAQhpF,QAAQvK,GACZuzF,EAAQ4nB,gBAAgBtkG,MAAK,SAAArE,GAAM,OAAIA,IAAWif,EAAAA,cAAAA,KAAmB,KACrEh1B,KAAKukG,cAAa,GAClBvkG,KAAK+jG,kBAAkB1U,GAAAA,WAEvBy8B,EAAcG,wBDvkBEz1B,ECukBkCx2F,KAAKiqH,gBDtkBxD,CACHvoH,IAAK,YACL44F,QAAQzzF,EAAAA,EAAAA,UAAS,+CACjBqL,OAAQ,CACJtE,MAAM/G,EAAAA,EAAAA,UAAS,mBACf2vF,QAAAA,GAEJ/0F,KAAM,SACNkrH,SAAU,CAACC,EAAAA,cAAAA,MACXC,eAAe,KC8jBXf,EAAcgB,0BAA0B,CAAEprH,IAAK,cAEvD,GAAC,6BAED,WACI,IAAQo1F,EAAY92F,KAAKmlG,WAAjBrO,QACAg1B,EAAkB9rH,KAAKstF,KAAvBw+B,cACRh1B,EAAQ4nB,gBAAgB1kG,KAAKgb,EAAAA,cAAAA,OAC7Bh1B,KAAK+jG,kBAAkB1U,GAAAA,SACvBrvF,KAAKukG,cAAa,GAClBunB,EAAciB,2BACdjB,EAAckB,wBAAwB,CAAEtrH,IAAK,aACjD,GAAC,8BAWD,SAAiBw1F,GACbl3F,KAAKk3F,eAAiBA,CAC1B,GAAC,gCAED,SAAmBiyB,GACfnpH,KAAKmpH,kBAAoBA,CAC7B,GAAC,0BAED,SAAaxrC,GACT39E,KAAK29E,WAAaA,CACtB,GAAC,qBAED,WACI,IAAQmZ,EAAY92F,KAAKmlG,WAAjBrO,QACRvxF,EAAAA,SAAAA,SAAkB,eAAgBvF,KAAK09G,kBACvCn4G,EAAAA,SAAAA,SAAkB,gBAAiBuxF,EAAQgoB,UAC3Cv5G,EAAAA,SAAAA,SAAkB,iBAAkBuxF,EAAQ+nB,cAC5Ct5G,EAAAA,SAAAA,SAAkB,uBAAwBvF,KAAKqqH,mBACnD,GAAC,uBAED,WACI,MAAgDrqH,KAAKmlG,WAA7CrO,EAAO,EAAPA,QAASiH,EAAY,EAAZA,aAAcyE,EAAY,EAAZA,aAE1BxiG,KAAK29E,aACN39E,KAAKqpH,yBACLrpH,KAAKm/G,qBACLroB,EAAQqoB,qBACRphB,EAAaohB,qBACb3c,EAAa2c,sBAGjB55G,EAAAA,SAAAA,cAAuB,gBACvBA,EAAAA,SAAAA,cAAuB,iBACvBA,EAAAA,SAAAA,cAAuB,kBACvBA,EAAAA,SAAAA,cAAuB,uBAC3B,GAAC,iDAED,qFACkB,OAANiQ,EAAWxV,KAAKstF,KAAhB93E,OAAM,SACRA,EAAOy3G,SAAQ,OACrBjtH,KAAK+jG,kBAAkB1U,GAAAA,SAAmB,gDAC7C,uEAED,WAC4BrvF,KAAKq/G,KAAK6N,oBAElB/pH,SAAQ,SAAA4vC,GACpB,IAAMo6E,EAAenrG,SAASC,eAAe8wB,GAE7Co6E,EAAaC,OAAQ,EACrBD,EAAavO,OAAM,OAAO,WACtB,IAEJuO,EAAaE,QACbF,EAAaC,OAAQ,CACzB,GACJ,IAnqBJ,wEAmqBK,EA3pB6B,gRCRlC,knGAAA7kH,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,yYAYwD,IAcnC+kH,GAAc,WAG/B,WAAYnoB,GAAuB,YA7BvC,4FA6BuC,cAFnCA,gBAAU,OAiBVooB,oBAAqB,EAAK,KAC1B9U,cAAgBA,GAAcC,OAAM,KACpCjiC,SAAW,GAAE,KAEb+2C,gBAAkB,WACT,EAAKD,oBACN,EAAKlS,gBAAgB5C,GAAcC,QAGvC,EAAK6U,oBAAsB,EAAKA,kBACpC,EAAC,KAEDE,gBAAkB,SAAC7qH,GACf,IAAMm2F,EAAS,CAAC,EAMhB,MAJ+B,KAA3Bn2F,EAAO6zE,SAASjqE,SAChBusF,EAAOtiB,UAAW5vE,EAAAA,EAAAA,UAAS,kCAGxBkyF,CACX,EAAC,KAED20B,uBAAsB,+BAAG,WACrBvlC,EACAwlC,EACAC,EACAn3C,EACA1yD,GAAW,sHAGiBvC,EAAAA,EAAAA,sBAAoB,OAsC0C,OAtChFL,EAAY,EAAH,KACTmnE,EAA0BnnE,EAAUjH,WAAU,SAAAqnG,GAAQ,OAAIA,EAASx+G,KAAOolF,CAAY,IAE1Eu6B,EACd,EAAKvd,WADL/5C,WAAcs3D,YAEZmL,EAAaF,EAAWvoG,EAAAA,WAAAA,MAAmBA,EAAAA,WAAAA,aAC3C0oG,EAAkBF,EAAqBxoG,EAAAA,WAAAA,QAAqByoG,EAG5D5lC,EAA6B,QAApB,EAAGy6B,EAFLoL,UAEsB,aAAjB,EAAmBpzF,cAE/BqzF,EAAsB,CACxBhrH,GAAIolF,EACJpkE,IAAKrU,QAAQ0U,IAAI69B,UAAUl+B,GAC3Bne,KAAM6wE,EACN5pD,UAAWhgB,KAAKoX,MAChBgkE,UAAAA,GAGAK,GAA2B,GACrBC,EAAoBwlC,EAC1B5sG,EAAUmnE,GAA2BC,GAErCpnE,EAAUnH,KAAK+zG,GAGnB5sG,EACKw8C,MAAK,SAAC91D,EAAGC,GACN,OAAO,IAAI+E,KAAKhF,EAAEglB,WAAa,IAAIhgB,KAAK/E,EAAE+kB,UAC9C,IACC1N,UAEDgC,EAAUzZ,O3GvFI,I2GwFdyZ,EAAUlC,MAGImjG,EACd,EAAKjd,WADL/5C,WAAcg3D,oBAElB55B,KAAAA,QAAoB,mBAAoBC,KAAAA,SAAkBrkF,KAAKC,UAAU8c,KAAa,WACrDK,EAAAA,EAAAA,sBAAoB,QAA/CwsG,EAAqB,EAAH,KACxB5L,EAAoB4L,IAEHngB,EACb,EAAK1I,WADLp6C,UAAa8iD,qBAEG5lB,GAAW,kDAE/BnmF,EAAAA,SAAAA,KAAoB,QAAS,EAAF,IAAS,0DAE3C,2DAxDqB,GAwDrB,KAuCDyiB,cAAgB,SAACkyD,GACb,EAAKA,SAAWA,GAChBD,EAAAA,EAAAA,sBACJ,EAAC,KAYD6kC,gBAAkB,SAAC3mG,GACf,EAAK+jG,cAAgB/jG,CACzB,GApJIq3E,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjButH,mBAAoBvhC,EAAAA,WACpBysB,cAAezsB,EAAAA,WACfvV,SAAUuV,EAAAA,WACVwhC,gBAAiBt7G,EAAAA,OAAAA,MACjBu7G,gBAAiBv7G,EAAAA,OAAAA,MACjB+7G,cAAe/7G,EAAAA,OAAAA,MACfqS,cAAerS,EAAAA,OAAAA,MACf2vG,eAAgB3vG,EAAAA,OAAAA,MAChBmpG,gBAAiBnpG,EAAAA,OAAAA,QAGrBlS,KAAKmlG,WAAaA,CACtB,CA3CJ,QA+JK,EApHA,EAmIA,OA9KL,EA2CK,EA3CL,EA2CK,6CAiFD,oGAO0E,GAPpDwoB,EAAQ,EAARA,SAAUC,EAAkB,EAAlBA,mBAAoBn3C,EAAQ,EAARA,SAChDz2E,KAAKq7G,gBAAgB5C,GAAcE,SAE3BgB,EAAa35G,KAAKmlG,WAAW2c,aAA7BnI,UACF51F,EAAMrU,QAAQ0U,IAAIe,eAAezV,QAAQC,iBAE3CsqB,aAAa,UAAW,QAC5BlW,EAAIkW,aAAa,aAAc2zF,EAAqB,OAAS,UAEzDD,EAAU,CAAF,iBACRl9D,EAAAA,EAAAA,MAAKgmB,EAAUm3C,EAAoB7pG,GAAK,yCAElC41F,EAAS,CACX/zG,KAAM6wE,EACNusB,QAAStzF,QAAQ0U,IAAI4yD,gBAAgBjzD,GACrCo3F,SAAU,oBACZ,QAEFn7G,KAAKq7G,gBAAgB5C,GAAcG,WAAW,QAGjCnpB,EACbzvF,KAAKmlG,WADLp6C,UAAa0kC,WAGCoxB,EACd7gH,KAAKmlG,WADL/5C,WAAcy1D,qBAGC,IAAfpxB,GACMtH,EAAe04B,GAAwBnxG,QAAQ+T,MAAMC,SAC3D1jB,KAAK0tH,uBAAuBvlC,EAAcwlC,EAAUC,EAAoBn3C,EAAU1yD,KAElFmB,EAAAA,EAAAA,uBAAsBnB,EAAK4pG,EAAWvoG,EAAAA,WAAAA,MAAmBA,EAAAA,WAAAA,cAE7DplB,KAAKukB,cAAckyD,GACnBz2E,KAAKwtH,kBAAkB,iDAC1B,2FAOD,sFACY1L,EAAiB9hH,KAAKmlG,WAAtB2c,cAEShJ,cACbgJ,EAAahI,UAEbgI,EAAajI,SAChB,gDACJ,8CA9KL,wEA8KK,EApJ8B,0PC1BnC,q/NADoE,IAE/CqU,GAAkB,WACnC,WAAY/oB,EAAY7X,IAF5B,4FAEkC,cAkB9B2K,eAAiB,EAAC,KAClBU,WAAa,EAAC,KACdsB,eAAgB,GAnBZlO,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjBi4F,eAAgBjM,EAAAA,WAChB2M,UAAW3M,EAAAA,WACXiO,cAAejO,EAAAA,WACfgM,eAAgBkR,EAAAA,SAChBkiB,eAAgBliB,EAAAA,SAChBmiB,gBAAiBn5G,EAAAA,OAAAA,MACjBi8G,gBAAiBj8G,EAAAA,OAAAA,MACjBmmF,YAAanmF,EAAAA,OAAAA,MACbimF,mBAAoBjmF,EAAAA,OAAAA,MACpB24G,iBAAkB34G,EAAAA,OAAAA,QAGtBlS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,CAChB,CAlBJ,QAuDK,EAvDL,EA+DK,OA/DL,EAkBK,EAlBL,EAkBK,2BAKD,WACI,MAAO,CACHkL,gBAAiBx4F,KAAKi4F,gBAAkB,GACxCU,WAA+B,IAApB34F,KAAK24F,UAAmB34F,KAAK24F,UAAY,GAE5D,GAAC,0BAED,WACI,IAAQnjF,EAAWxV,KAAKstF,KAAhB93E,OACR,QAAIA,EAAOkwF,QAAUlwF,EAAOk3G,aAAuC,IAAxB1sH,KAAKi4F,iBAA4C,IAApBj4F,KAAK24F,WAIjF,GAAC,6BAED,SAAgBsB,GACZj6F,KAAKi6F,cAAgBA,CACzB,GAAC,6BAED,SAAgBhC,GACZj4F,KAAKi4F,eAAiBA,CAC1B,GAAC,yBAED,SAAYU,GACR34F,KAAK24F,UAAYA,CACrB,GAAC,gCAED,WACI34F,KAAKi6F,eAAgB,EACrBj6F,KAAKi4F,eAAiB,EACtBj4F,KAAKw4F,gBAAkB,EACvBx4F,KAAK24F,WAAa,CACtB,GAAC,+BAvDL,EAuDK,WAED,qFACkB,OAANnjF,EAAWxV,KAAKstF,KAAhB93E,OAAM,SACRA,EAAO44G,mBAAkB,OAC3B54G,EAAOylF,eAAexC,YACtBz4F,KAAKmuH,gBAAgB34G,EAAOylF,eAAexC,YAC9C,+CAPJ,EAvDL,gLA+DK,8CA/DL,wEA+DK,EA9DkC,6qBCqCvC,SAvCY,WACR,0GAAc,SACVz4F,KAAK+4F,OAAS,CAAC,CACnB,SAiCC,SAjCA,uBAED,SAAIs1B,EAAWxoH,GACN7F,KAAKkB,IAAImtH,KACVruH,KAAK+4F,OAAOs1B,GAAa,KAGoB,IAA7CruH,KAAK+4F,OAAOs1B,GAAWvwF,QAAQj4B,IAC/B7F,KAAK+4F,OAAOs1B,GAAWr0G,KAAKnU,EAEpC,GAAC,iBAED,WACI,OAAO7F,KAAK+4F,MAChB,GAAC,mBAED,SAAMs1B,GACF,OAAIruH,KAAKkB,IAAImtH,GACFruH,KAAK+4F,OAAOs1B,GAAW,GAE3B,IACX,GAAC,iBAED,SAAIA,GACA,OAAIruH,KAAKkB,IAAImtH,GACFruH,KAAK+4F,OAAOs1B,GAGhB,EACX,GAAC,iBAED,SAAIA,GACA,OAAOpnH,OAAOglD,UAAUqiE,eAAelsE,KAAKpiD,KAAK+4F,OAAQs1B,EAC7D,2EAAC,EApCO,6qBCGZ,IAAMl0G,GAAW,SAACijD,EAAQ4lC,GACtB,IAAIurB,EAAavrB,EAIjB,OAHIA,IAAYtgG,MAAMo/B,QAAQkhE,KAC1BurB,EAAa,CAACvrB,IAEX5lC,EAAO7wD,QAAQ,cAAc,SAACgzE,EAAGvkE,GAAK,OAAKuzG,GAAYvzG,EAAQ,EAAE,GAC5E,EA6GA,SA3Ge,WACX,WAAYjP,EAAOyiH,GAAqB,IAAdx7G,EAAQ,UAAH,6CAAG,kGAAI,SAClChT,KAAK+L,MAAQA,EACb/L,KAAKwuH,MAAQA,EACbxuH,KAAKgT,MAAQA,EACbhT,KAAK+4F,OAAS,IAAIjzF,GAElB9F,KAAKyuH,YAAc,CACvB,WAgGC,SA9FD,IA8EA,4BAMA,SAAqBC,GACjB,IAAMC,EAAiC,iBAATD,EACxBE,EAAc,CAChBhpH,KAAM+oH,EAAiBD,EAAOA,EAAK,GACnC5tH,QAAS6tH,EAAiB,CAAC,EAAID,EAAK,IAAM,CAAC,GAK/C,OAFAE,EAAYC,UAAiC,WAArBD,EAAYhpH,KAAoB8oH,EAAK,GAAG3vG,MAAO+vG,EAAAA,EAAAA,mBAAkBF,EAAYhpH,MAAMmZ,KAEpG6vG,CACX,OA9FA,yBAMA,SAAWP,EAAWK,EAAMjoG,GACxB,IAAI5gB,EAAU4gB,GAAiBioG,EAAK5tH,QAAQ+E,UAAWipH,EAAAA,EAAAA,mBAAkBJ,EAAK9oH,MAAMC,UAClE,WAAd6oH,EAAK9oH,KACLC,EAAUsU,GAAStU,EAAS,CACxB6oH,EAAK5tH,QAAQ8yB,MAAQ86F,EAAK5tH,QAAQw8C,IAAMoxE,EAAK5tH,QAAQ8yB,IAAM,GAAH,OAAM86F,EAAK5tH,QAAQ8yB,IAAG,YAAI86F,EAAK5tH,QAAQw8C,OAE9E,QAAdoxE,EAAK9oH,KACZC,EAAUsU,GAAStU,EAAS,CAAC6oH,EAAK5tH,QAAQ8yB,MACrB,cAAd86F,EAAK9oH,OACZC,EAAUsU,GAAStU,EAAS,CAAC6oH,EAAK5tH,QAAQiuH,MAAOL,EAAK5tH,QAAQkuH,SAElEhvH,KAAK+4F,OAAOtU,IAAI4pC,EAAWxoH,GAC3B7F,KAAKyuH,aACT,GAEA,mBAKA,WAAQ,WAwCJ,OAvCAxnH,OAAO2Z,KAAK5gB,KAAK+L,OAAO5I,SAAQ,SAAAkrH,GACvBpnH,OAAOglD,UAAUqiE,eAAelsE,KAAK,EAAKosE,MAAOH,IAItD,EAAKG,MAAMH,GAAWlrH,SAAQ,SAAAurH,GAC1B,IAAMO,EAAaC,EAAUC,cAAcT,GAE3C,IAAKO,EAAWJ,WAA6C,mBAAzBI,EAAWJ,cAI3CI,EAAWnuH,QAAQy/B,WAAc0uF,EAAWnuH,QAAQy/B,UAAU,EAAKvtB,UAIzC,KAA1B,EAAKjH,MAAMsiH,IAAyC,QAApBY,EAAWrpH,MAA/C,CAIA,IAAIwpH,EAAU3oG,EACd,GAAwB,WAApBwoG,EAAWrpH,KAAmB,CAC9B,MAA2BqpH,EAAWJ,UAClC,EAAK9iH,MAAMsiH,GACXY,EAAWnuH,QACX,EAAKkS,MACL,EAAKjH,OAETqjH,EANa,EAALC,MAOR5oG,EAPsB,EAAP5gB,OAQnB,MACIupH,EAAWH,EAAWJ,UAAU,EAAK9iH,MAAMsiH,GAAYY,EAAWnuH,QAAS,EAAKkS,MAAO,EAAKjH,OAG3FqjH,GACD,EAAKE,WAAWjB,EAAWY,EAAYxoG,EAjB3C,CAmBJ,GACJ,KACQzmB,KAAKyuH,WACjB,GAEA,sBAKA,WACI,OAAOzuH,KAAKk9B,OAChB,sFAkBC,EAxGU,6zBCNyB,IAEnBqyF,GAAgB,WAmBjC,WAAYpqB,EAAY7X,gGAAM,cAlB9BoR,cAAgB,KAAI,KACpB8wB,oBAAsB,GAAE,KACxBC,gBAAkB,GAAE,KAEpB9zB,kBAAoB,CAAC,EAAC,KACtB+zB,iBrF+JqC,CACrCl0B,8BAA+B,CAC3Bm0B,QAAS,6BAEbr0B,0BAA2B,CACvBkzB,MAAO,CACH,CACI,MACA,CACIjuF,UAAW,SAAA09D,GAAc,OAAKA,EAAe3C,yBAAyB,EACtEz1F,SAASgB,EAAAA,EAAAA,UAAS,sCAG1B,CACI,SACA,CACIkY,KAAM,SAAC1E,EAAOvZ,EAASm9F,GACnB,IAAMziF,GAAShN,EAAAA,EAAAA,gBAAeyvF,EAAeS,eAC7C,QAASljF,EAAS,IAAMnB,EAAQmB,EACpC,EACA3V,SAASgB,EAAAA,EAAAA,UAAS,oFAG1B,CACI,SACA,CACIkY,KAAM,SAAC1E,EAAOvZ,EAASm9F,GACnB,IAAM0oB,EDpMH,SAAA1oB,GACvB,OAAOA,EAAeS,cAAc9nF,SACxC,CCkMsCg5G,CAAY3xB,GAC1B,OAAO5jF,EAAQssG,EAAQ,CAC3B,EACA9gH,SAASgB,EAAAA,EAAAA,UAAS,+DAKlC40F,gCAAiC,CAC7Bk0B,QAAS,+BAEbp0B,4BAA6B,CACzBizB,MAAO,CACH,CACI,MACA,CACIjuF,UAAW,SAAA09D,GAAc,OAAKA,EAAe1C,2BAA2B,EACxE11F,SAASgB,EAAAA,EAAAA,UAAS,wCAG1B,CACI,SACA,CACIkY,KAAM,SAAC1E,EAAOvZ,EAASm9F,GACnB,IAAMziF,GAAShN,EAAAA,EAAAA,gBAAeyvF,EAAeS,eAC7C,QAASljF,EAAS,IAAMnB,EAAQmB,EACpC,EACA3V,SAASgB,EAAAA,EAAAA,UACL,2FqFtNmB,KAGvC00F,4BAA8B,GAAE,KAChCD,0BAA4B,GAAE,KAC9BG,iCAAkC,EAAK,KACvCD,+BAAgC,EAAK,KACrCq0B,uBAAyB,CAAC,EAAC,KAE3Br7G,YAAc,KAAI,KAClBgH,OAAS,EAAC,KACVs0G,WAAa,GAGT/jC,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB0+F,cAAe1S,EAAAA,WACfwjC,oBAAqBxjC,EAAAA,WACrByjC,gBAAiBzjC,EAAAA,WACjB2P,kBAAmB3P,EAAAA,WACnB0jC,iBAAkB1jC,EAAAA,WAClBuP,4BAA6BvP,EAAAA,WAC7BsP,0BAA2BtP,EAAAA,WAC3ByP,gCAAiCzP,EAAAA,WACjCwP,8BAA+BxP,EAAAA,WAC/B6jC,uBAAwB7jC,EAAAA,WACxBx3E,YAAaw3E,EAAAA,WACbxwE,OAAQwwE,EAAAA,WACR8jC,WAAY9jC,EAAAA,WACZmS,sBAAuB+K,EAAAA,SACvBvK,oBAAqBuK,EAAAA,SACrB9K,qBAAsB8K,EAAAA,SACtB7K,cAAe6K,EAAAA,SACfx+B,MAAOx4D,EAAAA,OAAAA,MACPo6G,gCAAiCp6G,EAAAA,OAAAA,MACjC69G,cAAe79G,EAAAA,OAAAA,MACf83G,mBAAoB93G,EAAAA,OAAAA,MACpB6gF,SAAU7gF,EAAAA,OAAAA,MACV89G,6BAA8B99G,EAAAA,OAAAA,MAC9B2tC,wBAAyB3tC,EAAAA,OAAAA,MACzB+9G,iBAAkB/9G,EAAAA,OAAAA,MAClBg+G,2BAA4Bh+G,EAAAA,OAC5Bi+G,iBAAkBj+G,EAAAA,OAClBgtG,kBAAmBhtG,EAAAA,OAAAA,QAGvBlS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,EACZttF,KAAKm/G,mBAAqBn/G,KAAKk/G,mBACnC,SAiLC,SAjLA,sCAED,WAA4B,MACxB,QACwB,QAAnB,EAACl/G,KAAK0+F,qBAAa,QAAlB,EAAoB3lF,UACtB/Y,KAAKmlG,WAAW9V,UAAU6H,iBAAmB3D,GAAgBI,iBAErE,GAAC,+BAED,WACI,OACK3zF,KAAKmlG,WAAW9V,UAAU1R,YAAqC,OAAvB39E,KAAK0+F,eAC9C1+F,KAAKmlG,WAAW9V,UAAU6H,iBAAmB3D,GAAgBG,eAC7D1zF,KAAKmlG,WAAW9V,UAAU6H,iBAAmB3D,GAAgBE,QAErE,GAAC,gCAED,WACI,OAAQzzF,KAAK0+F,gBAAkB1+F,KAAK0qF,UACxC,GAAC,yBAED,WAAoB,MAChB,OAAO0lC,EAAAA,EAAAA,sBAAuC,QAAnB,EAACpwH,KAAK0+F,qBAAa,aAAlB,EAAoBpuF,cACpD,GAAC,mBAED,cAA8B,UAAH,kDAEnBtQ,KAAK0+F,cAAgB,MAGzB1+F,KAAKwb,OAAS,EACdxb,KAAKo/F,YAAc,EACnBp/F,KAAK8vH,WAAa,EAClB9vH,KAAKwvH,oBAAsB,GAC3BxvH,KAAKyvH,gBAAkB,EAC3B,GAAC,6CAED,WACQzvH,KAAK0+F,eACLz3F,OAAOw6E,OAAOzhF,KAAMm7F,GAAwBn7F,KAAK0+F,eAEzD,GAAC,2BAED,WACI,IAAMz+C,EAAc,CAAC,EAQrB,OALAA,EAAYD,YAAchgD,KAAKy7F,iCAAmCz7F,KAAKu7F,4BAA8B,KAGrGt7C,EAAYF,UAAY//C,KAAKw7F,+BAAiCx7F,KAAKs7F,0BAA4B,KAExFr7C,CACX,GAAC,gCAED,SAAmBzsC,GAAU,WACjBgI,EAAWhI,EAAXgI,OACFs0G,GAAaO,EAAAA,EAAAA,oBAAmB78G,GAElCxT,KAAKwU,cAAgBhB,EAASzQ,KAC9B/C,KAAK0qE,OAAM,GACX1qE,KAAKwU,YAAchB,EAASzQ,GAC5B/C,KAAKwb,OAASA,EACdxb,KAAK8vH,WAAaA,GAGtB,IAAMQ,EAAY,CAAE90G,OAAAA,EAAQs0G,WAAAA,GAE5B7oH,OAAO2Z,KAAK0vG,GAAWntH,SAAQ,SAAAyC,GACvB0qH,EAAU1qH,KAAU,EAAKA,GACzB,EAAK,GAAD,OAAIA,EAAI,cAAe0qH,EAAU1qH,GAAQ,EAAKA,GAAQ,SAAW,OACjC,KAA7B,EAAK,GAAD,OAAIA,EAAI,gBACnB,EAAK4pH,oBAAsB,IAG/B,EAAK5pH,GAAQ0qH,EAAU1qH,EAC3B,IAGA5F,KAAK0+F,cAAgBlrF,CACzB,GAAC,sBAED,YAA0B,IAAf5N,EAAI,EAAJA,KAAMyU,EAAK,EAALA,MACbra,KAAK4F,GAAQyU,EACbra,KAAKmwH,iBAAiBvqH,EAAM5F,KAAK4F,GACrC,GAAC,0CAED,SAA6BwI,GACzB,IAAMyhH,EAAyB10B,GAAwB/sF,GAEvD,KAAKmiH,EAAAA,EAAAA,eAAcvwH,KAAK6vH,uBAAwBA,GAAyB,CACrE5oH,OAAOw6E,OAAOzhF,KAAM6vH,GACpB7vH,KAAK6vH,uBAAyBA,EAE9B,IAAQz0B,EAA2BhtF,EAA3BgtF,gBAAiBpjF,EAAU5J,EAAV4J,MACrBojF,IAAoBpjF,IACpBhY,KAAK0+F,cAAcz+C,YAAch5C,OAAOw6E,OAAOzhF,KAAK0+F,cAAcz+C,aAAe,CAAC,EAAGm7C,GAE7F,CACJ,GAAC,qCAED,SAAwBG,EAA6BD,GACjDt7F,KAAKy7F,kCAAoCF,EACzCv7F,KAAKw7F,gCAAkCF,EACvCt7F,KAAKu7F,4BAA8Bv7F,KAAKy7F,iCAAmCF,EAA8B,KACzGv7F,KAAKs7F,0BAA4Bt7F,KAAKw7F,+BAAiCF,EAA4B,IACvG,GAAC,8BAED,WAAmB,WACTr7C,EAAcjgD,KAAK+vH,gBAEzB/vH,KAAKmlG,WAAWtqC,GAAG21D,eAAexwH,KAAK0+F,cAAclqF,YAAayrC,GAAaz7C,MAAK,SAAA4J,GAC5EA,EAAS4J,MACT,EAAKmtF,WAAW9V,UAAUs6B,8BAA8Bv7G,EAAS4J,MAAMnS,SAK3E,EAAKmqH,6BAA6B5hH,EACtC,GACJ,GAEA,wCAOA,SAA2BqiH,EAAcC,GAAU,WAK1C1wH,KAAK27F,kBAAkB80B,KAHtB,EAAK90B,kBAAkB80B,GACpB16G,QAAO,SAAAxO,GAAC,OAAKmpH,EAAS3vG,SAASxZ,EAAE,IACjCg4B,OAAOmxF,EAAS36G,QAAO,SAAAxO,GAAC,OAAK,EAAKo0F,kBAAkB80B,GAAc1vG,SAASxZ,EAAE,KAAGG,SAErF1H,KAAK27F,kBAAkB80B,GAAgBC,EAE/C,GAEA,8BAOA,SAAiBjqE,EAAUpsC,GAAO,WACxBs1G,EAAU3vH,KAAK0vH,iBAAiBjpE,GAAUkpE,QAC1CgB,EAAS,MAAGlqE,OAAqB3hD,IAAVuV,EAAsBA,EAAQra,KAAKymD,IAC1DipE,EAAmB,MAAGjpE,EAAWzmD,KAAK0vH,iBAAiBjpE,GAAU+nE,OAAS,IAE1EmB,GAAW1oH,OAAOqnH,eAAelsE,KAAKpiD,KAAM2vH,KAC9CgB,EAAOhB,GAAW3vH,KAAK2vH,GACvBD,EAAiBC,GAAW3vH,KAAK0vH,iBAAiBC,GAASnB,OAAS,IAGxE,IAAMK,EAAY,IAAIK,GAAUyB,EAAQjB,EAAkB1vH,MAE1D6uH,EAAU+B,WAEV3pH,OAAO2Z,KAAK+vG,GAAQxtH,SAAQ,SAAAzB,GACxB,EAAKwuH,2BAA2BxuH,EAAKmtH,EAAU91B,OAAO53F,IAAIO,GAC9D,GACJ,GAAC,+BAED,WAAoB,WACR8T,EAAWxV,KAAKstF,KAAhB93E,OAMR,OALAxV,KAAK6wH,6BAA8BtlE,EAAAA,EAAAA,WAC/B,kBAAM/1C,EAAOD,OAAO,IACpB,kBAAM,EAAKm1D,OAAO,IAGf,WAC6C,mBAArC,EAAKmmD,6BACZ,EAAKA,6BAEb,CACJ,4EAAC,EAvOgC,gyBCPhBC,GAAY,IAC7B,WAAY3rB,gGAAY,SACpBnlG,KAAKmlG,WAAaA,CACtB,6xBCFiE,IAoBhD4rB,GAAY,IAG7B,WAAY5rB,GAAuB,sHAFnCA,gBAAU,OAqBVvF,8BAA+B,EAAK,KACpCwN,gBAAiB,EAAK,KACtBvpF,UAAY7b,EAAAA,OAAAA,kBAAwB,KACpCgpH,gBAAiB,EAAK,KACtBC,gBAAiB,EAAK,KAEtBvxB,yBAA2B,WACvB,EAAKE,8BAAgC,EAAKA,4BAC9C,EAAC,KAEDsxB,aAAe,WACX,EAAK9jB,gBAAiB,CAC1B,EAAC,KAED+jB,iBAAmB,WACf,EAAK/jB,gBAAiB,CAC1B,EAAC,KAEDgkB,qBAAuB,YACnBlwF,EAAAA,EAAAA,mBACI,GACA,WACI,IAAM/f,EAAYzR,QAAQC,eAC1BwR,EAAUqC,oBAAsB9T,QAAQ+T,MAAMC,UAC9CuzD,EAAAA,EAAAA,MAAK,CACDC,aAAc/1D,EAAUwB,WAAWC,KACnCiB,UAAW7b,EAAAA,OAAAA,kBACXmZ,UAAAA,IAEJzR,QAAQC,eAAegU,iBAAmBxC,EAAUwB,WAAWC,IACnE,GACA,SAEJ,EAAKwqF,gBAAiB,EAEA,EAAKjI,WAAnB9V,UACM1R,YACV,EAAKwnB,WAAW9V,UAAU9pE,SAElC,EAAC,KAED8rG,YAAc,WACV3hH,QAAQC,eAAe6U,SAC3B,EAAC,KAED8sG,YAAc,SAACC,GACX7hH,QAAQwU,OAAOC,SAAS,gBACxBzU,QAAQC,eAAe6hH,KAAKD,GAC5B7hH,QAAQy2D,UAAUz2D,QAAQC,gBAC1B,EAAK4zD,kBACL,EAAKC,kBACL9zD,QAAQwU,OAAOC,UAAS,EAC5B,EAAC,KAEDuqF,iBAAmB,SAACC,GAChB,IAAMxtF,EAAYzR,QAAQC,eACpB6yD,EAAUrhD,EAAUmkD,aACpBspC,EAAWD,EAAa,GAAK,EAEnCxtF,EAAUoB,KAAKigD,EAAQM,UAAY,EAAGN,EAAQQ,WAAa,EAAG4rC,EAClE,EAAC,KAEDprC,gBAAkB,WAAY,MAC1B,EAAKwtD,eAAuC,QAAzB,EAAGthH,QAAQC,sBAAc,aAAtB,EAAwB8hH,cAClD,EAAC,KAEDluD,gBAAkB,WAAY,MAC1B,EAAK0tD,eAAuC,QAAzB,EAAGvhH,QAAQC,sBAAc,aAAtB,EAAwB+hH,cAClD,GAtFI3lC,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB4/F,6BAA8B5T,EAAAA,WAC9BohB,eAAgBphB,EAAAA,WAChBnoE,UAAWmoE,EAAAA,WACXglC,eAAgBhlC,EAAAA,WAChBilC,eAAgBjlC,EAAAA,WAChB0T,yBAA0BxtF,EAAAA,OAAAA,MAC1Bg/G,aAAch/G,EAAAA,OAAAA,MACdi/G,iBAAkBj/G,EAAAA,OAAAA,MAClBk/G,qBAAsBl/G,EAAAA,OAAAA,MACtBo/G,YAAap/G,EAAAA,OAAAA,MACbsxD,gBAAiBtxD,EAAAA,OAAAA,MACjBqxD,gBAAiBrxD,EAAAA,OAAAA,QAGrBlS,KAAKmlG,WAAaA,CACtB,m6CCtC2C,IAE1BwsB,GAAY,WAC7B,WAAYxsB,EAAY7X,gGAAM,cA6B9BskC,iBAAkB,EAAI,KACtBC,mBAAoB,EAAK,KACzBrZ,iBAAkB,EAAK,KACvBsZ,mBAAqB,GAAE,KACvBC,YAAc,KAAI,KAClB5b,iBAAmB,MAjCfpqB,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB4xH,gBAAiB5lC,EAAAA,WACjB6lC,kBAAmB7lC,EAAAA,WACnBwsB,gBAAiBxsB,EAAAA,WACjB8lC,mBAAoB9lC,EAAAA,WACpB+lC,YAAa/lC,EAAAA,WACbmqB,iBAAkBnqB,EAAAA,WAClB2W,QAASzwF,EAAAA,OAAAA,MACT0wF,UAAW1wF,EAAAA,OAAAA,MACX8/G,oBAAqB9/G,EAAAA,OAAAA,MACrB+/G,gBAAiB//G,EAAAA,OAAAA,MACjBqyF,aAAcryF,EAAAA,OAAAA,MACdggH,mBAAoBhgH,EAAAA,OAAAA,MACpBigH,oBAAqBjgH,EAAAA,OAAAA,MACrBujG,oBAAqBvjG,EAAAA,OAAAA,MACrBkgH,iBAAkBlgH,EAAAA,OAAAA,MAClBmgH,eAAgBngH,EAAAA,OAAAA,MAChB2iG,SAAU3iG,EAAAA,OAAAA,MACVogH,aAAcpgH,EAAAA,OAAAA,MACdqgH,cAAergH,EAAAA,OAAAA,MACfsgH,cAAetgH,EAAAA,OAAAA,MACfugH,WAAYvgH,EAAAA,OAAAA,QAGhBlS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,CAChB,SAuWC,SAvWA,0BASD,SAAQolC,GAAa,WACjB1yH,KAAKiyH,kBAELjyH,KAAK+xH,YAAcriH,QAAQ0U,IAAIE,UAAUouG,aAAW,EAAXA,EAAapnC,SACtDtrF,KAAKm2G,iBAAmB,GAAIn2G,KAAK+xH,YAAYx3F,YAAY/pB,MAAK,SAAAwoE,GAAE,MAAmB,aAAfA,EAAG5P,OAAsB,IAC7FppE,KAAKgyH,sBACLhyH,KAAK2yH,8BAA+BpnE,EAAAA,EAAAA,WAChC,kBAAM,EAAKqmE,eAAe,IAC1B,SAAAA,GACQA,IACA,EAAKK,kBAEW,EAAK3kC,KAAbopB,IACJlE,cAAc,CAAExvF,MAAO,uBAAwB3I,OAAO,IAElE,GAER,GAAC,uBAED,WACqD,mBAAtCra,KAAK2yH,8BACZ3yH,KAAK2yH,8BAEb,GAAC,iCAED,WACI,IAEIC,EAAcC,EAAeC,EAAaC,EAAaC,EAFrD7xG,EAAYzR,QAAQC,eACPwR,EAAUrgB,QAAQ43B,UAIjCk6F,EAAe,KACfC,GAAgB,EAChBC,GAAc,EACdC,GAAc,EACdC,GAAa,IAEbJ,EAAe5yH,KAAK+xH,YAEpBe,EADAD,EAAgB55G,QAAQ25G,GAAgBA,EAAap7C,qBAAqB,YAAY9vE,QAEtFqrH,EAAcF,EACdG,EAAaH,GAGjB1xG,EAAUrgB,QAAQ6uD,SAAWmjE,EAC7B3xG,EAAUrgB,QAAQyuD,SAAWwjE,EAC7B5xG,EAAUrgB,QAAQ84B,QAAUo5F,EAC5B7xG,EAAUrgB,QAAQ+xH,cAAgBA,EAClC1xG,EAAUrgB,QAAQ8xH,aAAeA,CACrC,GAEA,6BACA,WAAkB,QACRzxG,EAAYzR,QAAQC,eACpBsjH,GAAsD,QAAtC,EAAAjxG,SAASC,eAAe,sBAAc,aAAtC,EAAwCixG,wBAAwB/nF,QAAS,EACzFgoF,EAA6C,QAA5B,EAAGhyG,EAAU4oD,uBAAe,aAAzB,EAA2BmpD,wBAErD,GAAIjqH,KAAKmqH,MAAMD,aAAiB,EAAjBA,EAAmB5qD,OAAS0qD,EAAe,CACtD,IAAMI,GAAkBtjC,EAAAA,EAAAA,YAClBkjC,EAAgBE,EAAkB5qD,KAAO,GACzC0qD,EAAgBE,EAAkB5qD,KAAO,IAC/CgR,EAAAA,EAAAA,iBAAgBp4D,EAAWkyG,GAAiB,GAAM,EACtD,CACJ,GAAC,0BAED,WACIrzH,KAAK4xH,iBAAmB5xH,KAAK4xH,eACjC,GAAC,gCAED,SAAmB75F,GAAU,MACjBizB,EAAWhrD,KAAKmlG,WAAhBn6C,OACFsoE,EAAcv7F,EAAS6C,aAAa,MACpCm8E,EAAiB/2G,KAAKy1G,oBAAoB19E,GAEhDizB,EAAO+V,mBAAkB,IAEG,QAAxB,EAAA/V,EAAO0qD,yBAAiB,aAAxB,EAA0B96E,aAAa,SAAU04F,EACjDtoE,EAAOuD,eAAc,IAErBvD,EAAOqsD,oBAAoBt/E,GAC3BizB,EAAOosD,YAAYL,GAE3B,GAAC,iCAED,SAAoB/7F,GAChB,GAAIhb,KAAK8xH,mBAAmB/wG,SAAS/F,GAAQ,CACzC,IAAMu4G,EAAWvzH,KAAK8xH,mBAAmB/7G,QAAO,SAAAy9G,GAAO,OAAIA,IAAYx4G,CAAK,IAC5Ehb,KAAK8xH,mBAAqByB,CAC9B,MACIvzH,KAAK8xH,mBAAqB,GAAH,UAAO9xH,KAAK8xH,oBAAkB,CAAE92G,GAE/D,GAEA,iCACA,SAAoB+c,GAChB,IAAM5W,EAAYzR,QAAQC,eACpB8jH,EAAU17F,EAAS6C,aAAa,WAClCm6E,EAAWryG,MAAMC,KAAKo1B,EAASwC,YAQnC,MALuB,iBAAZk5F,IAEP1e,EADkB5zF,EAAUuyG,2BAA2BD,EAC5CE,CAAUxyG,IAGlB4zF,CACX,GAAC,8BAED,WAAmB,WACT78D,EAAa,GASnB,OARAx1C,MAAMC,KAAK3C,KAAK+xH,YAAYx3F,YAAYp3B,SAAQ,SAAA40B,GAC5CmgB,EAAWl+B,KAAK+d,GACZ,EAAKs6F,eAAet6F,EAAS06B,WAC7B/vD,MAAMC,KAAKo1B,EAAS06B,UAAUtvD,SAAQ,SAAAywH,GAClC17E,EAAWl+B,KAAK45G,EACpB,GAER,IACO17E,CACX,GAEA,4BACA,SAAengB,GAOX,QALoB9wB,OAAO2Z,KAAKmX,GAAUhiB,QAAO,SAAArU,GAC7C,GAA4C,aAAxCq2B,EAASr2B,GAAK0nE,QAAQ/yB,cACtB,OAAOte,EAASr2B,EAExB,IACgBgG,MAIpB,GAAC,sBAED,YAAqB,IAAV2pD,EAAM,EAANA,OACPrxD,KAAKw4G,iBAAkB,EACvBx4G,KAAKyyH,WAAWphE,EACpB,GAAC,0BAED,WACIrxD,KAAKw4G,iBAAkB,CAC3B,GAAC,2BAED,SAAchgF,GACVA,EAAc,SAAU,IACxBx4B,KAAKyyH,WAAW,GACpB,GAAC,2BAED,SAAcoB,GAAY,WACtB7zH,KAAK6xH,mBAAoB,EAEzBn5G,aAAa1Y,KAAK8zH,cAClB9zH,KAAK8zH,aAAex/G,YAChBpC,EAAAA,EAAAA,SAAO,WACH2hH,IACA,EAAKhC,mBAAoB,CAC7B,IACA,IAER,GAAC,wBAED,SAAWxgE,GAAQ,WACTlwC,EAAYzR,QAAQC,eACpBonG,EAAiB,GACjBE,EAAc5lD,EAAO9kD,QAAQ,OAAQ,KAAKC,OAAO6pC,cACjD09E,EAAe9c,EAAYxqG,MAAM,KACjCunH,EAAgB7yG,EAAU47C,mBAAmB,IAC7Ck3D,EAAiBvkH,QAAQwnB,WAAW0qC,cAAczgD,GAChD6pC,EAAWhrD,KAAKmlG,WAAhBn6C,OAERA,EAAOuD,eAAc,GAGrB,IAAM2lE,EAAe,EACjBrtH,EAAAA,EAAAA,UAAS,QACTA,EAAAA,EAAAA,UAAS,OACTA,EAAAA,EAAAA,UAAS,QACTA,EAAAA,EAAAA,UAAS,OACTA,EAAAA,EAAAA,UAAS,SACTA,EAAAA,EAAAA,UAAS,SACTA,EAAAA,EAAAA,UAAS,MACTA,EAAAA,EAAAA,UAAS,OAGb,GAA2B,IAAvBowG,EAAYvvG,OAAhB,CAEO,GAAIuvG,EAAYvvG,QAAU,GAAKqsH,EAAa7sH,OAAM,SAAAitH,GAAI,OAAID,EAAanzG,SAASozG,EAAK,IAGxF,OAFAnpE,EAAO+V,mBAAkB,QACzB/V,EAAOosD,YAAYL,EAAgB1lD,GAIvC,IAEM+iE,EAFiBp0H,KAAKoyH,mBAGvBr8G,QAAO,SAAAgiB,GAAQ,OAAK,EAAKs6F,eAAet6F,EAAS06B,SAAS,IAC1D3vD,KAAI,SAAAi1B,GACD,IAAMs8F,EAAW,EAAK5e,oBAAoB19E,GAK1C,OAH4Br1B,MAAMC,KAAK0xH,GAAUt+G,QAC7C,SAAAitF,GAAO,MAAsC,UAAlCA,EAAQ55B,QAAQ/yB,aAAyB,GAG5D,IACCi+E,OAECC,EAAkB,SAACC,EAAOC,GACvBD,EAAMp6G,MAAK,SAAAoN,GAAO,OAAIA,IAAYitG,CAAe,KAClDD,EAAMx6G,KAAKy6G,EAEnB,EA6FuB,CAAC,mBAAoB,cAAe,aAAc,oBAAqB,cAE/EtxH,SAAQ,SAAAuxH,GAAQ,OA7FD,SAAAA,GAC1BN,EAAejxH,SAAQ,SAAA8wG,GACnB,IAAMv5C,EAAau5C,EAAcr5E,aAAa,QACxCnrB,EAAQC,QAAQgnB,OAAOgkC,GACvBpC,EAAa7oD,EAAMyoB,gBAAgBm0D,UAAY58E,EAAMyoB,OACrDy8F,EAAoBllH,EAAMsnB,sBAAsBs1D,UAAY58E,EAAMsnB,aAClE69F,EAAat8D,EAAWngC,aACxB08F,EAAmBn6D,EAAWrkB,cAAc5pC,MAAM,KAClDqoH,EAAmBF,EAAWv+E,cAAc5pC,MAAM,KAClDsoH,EAA2B,oCAEjC,OAAQL,GAEJ,IAAK,mBACGzd,IAAgB2d,EAAWv+E,eAAiB4gE,IAAgBv8C,EAAWrkB,eACvEk+E,EAAgBxd,EAAgB9C,GAEpC,MAGJ,IAAK,eAEG8f,EAAa7sH,OAAM,SAAA8tH,GAAI,OAAIF,EAAiB16G,MAAK,SAAA+5G,GAAI,OAAIA,EAAKpzG,SAASi0G,EAAK,GAAC,KAC7EjB,EAAa7sH,OAAM,SAAA8tH,GAAI,OAAIH,EAAiBz6G,MAAK,SAAA+5G,GAAI,OAAIA,EAAKpzG,SAASi0G,EAAK,GAAC,MAE7ET,EAAgBxd,EAAgB9C,GAEpC,MAGJ,IAAK,cAEG4gB,EAAiBz6G,MAAK,SAAA+5G,GAAI,OAAIJ,EAAa35G,MAAK,SAAA46G,GAAI,OAAIb,EAAKpzG,SAASi0G,EAAK,GAAC,KAC5EF,EAAiB16G,MAAK,SAAA+5G,GAAI,OAAIJ,EAAa35G,MAAK,SAAA46G,GAAI,OAAIb,EAAKpzG,SAASi0G,EAAK,GAAC,MAE5ET,EAAgBxd,EAAgB9C,GAEpC,MAEJ,IAAK,oBAEDhtG,OAAO2Z,KAAK+zG,GAAmBxxH,SAAQ,SAAAzB,GACnC,IAAMq1B,EAAa49F,EAAkBjzH,GAGjCqzH,EAAyBpoH,KAAKjL,IAC9BqyH,EAAa35G,MAAK,SAAA46G,GAAI,OAAIj+F,EAAWhW,SAASi0G,EAAK,KAEnDT,EAAgBxd,EAAgB9C,GAGhCl9E,aAAsBr0B,OACtBq0B,EAAW5zB,SAAQ,SAAA66B,GACf,IAAMi3F,EAAqB7wH,KAAKC,UAAU25B,GAAKqY,cAG9B,mBAAbrY,EAAIv8B,MACJw1G,EAAYvvG,OAAS,GACrBqsH,EAAa35G,MAAK,SAAA46G,GAAI,OAAIC,EAAmBl0G,SAASi0G,EAAK,KAE3DT,EAAgBxd,EAAgB9C,EAExC,GAER,IACA,MAEJ,IAAK,aAED,IAAMihB,EAAejuH,OAAO2Z,KAAK03C,GAC5BviD,QAAO,SAAArU,GAAG,MAAY,iBAARA,CAAsB,IACpC8O,MAAK,SAAA9O,GACF,IAAMyzH,EAAqB78D,EAAW52D,GACjC20C,cACA9pC,QAAQ,YAAa,IACrBE,MAAM,KAEX,OAAOsnH,EAAa35G,MAAK,SAAA46G,GAAI,OAAIG,EAAmB/6G,MAAK,SAAA8d,GAAI,OAAIA,EAAKnX,SAASi0G,EAAK,GAAC,GACzF,IAEAE,GAAgBA,EAAaxtH,QAC7B6sH,EAAgBxd,EAAgB9C,GAOhD,GACJ,CAImCmhB,CAAsBV,EAAS,IAGlE,IAAMW,EAAoBrB,EAAcj+G,QAAO,SAAA+iB,GAAQ,OAAIA,EAASlzB,KAAKywC,cAAct1B,SAASk2F,EAAY,IAGtGqe,EAFmB5lH,QAAQmtD,aAAaxL,OAAOgkE,GAEVt/G,QAAO,SAAA+5D,GAC9C,OAAmD,IAA5CinC,EAAej5E,QAAQgyC,EAClC,IACIwlD,GAAqBA,EAAkB5tH,QACvCqvG,EAAenzC,QAAO,MAAtBmzC,EAAc,GAAYue,IAI9B,IAAMC,EAAsB,CAAE,EAAG,GAAI,EAAG,IAClC/3F,EAA0By2F,EAAe,GACzCj0F,EAAwBi0F,EAAe,GAC7ChtH,OAAO2Z,KAAK4c,GAAyBr6B,SAAQ,SAAAzB,GACzC,IAAM8zH,EAAYh4F,EAAwB97B,GAEtC8zH,EAAU,GAAGn/E,cAAct1B,SAASk2F,IACpCse,EAAoB,GAAK3xD,QAAQ4xD,EAEzC,IAEAvuH,OAAO2Z,KAAKof,GAAuB78B,SAAQ,SAAAzB,GACvC,IAAM8zH,EAAYx1F,EAAsBt+B,GAEpC8zH,EAAU,GAAGn/E,cAAct1B,SAASk2F,IACpCse,EAAoB,GAAK3xD,QAAQ4xD,EAEzC,IAEA,IAEMC,EAFoB/lH,QAAQwnB,WAAW2qC,0BAA0B0zD,GAEzBx/G,QAAO,SAAA2/G,GACjD,OAAoD,IAA7C3e,EAAej5E,QAAQ43F,EAClC,IACID,EAAoB/tH,QACpBqvG,EAAenzC,QAAO,MAAtBmzC,EAAc,GAAY0e,IAG9BzqE,EAAO+V,mBAAkB,GACzB/V,EAAOosD,YAAYL,EAAgB1lD,EA9JnC,CA+JJ,4EAAC,EAnY4B,6qBCDyE,IAErFskE,GAAiB,WAClC,WAAYxwB,EAAY7X,GAAM,iHA2B9BsoC,kBAAoB,oBAAmB,KAEvC/zF,SAAWk8E,GAAqB/9G,KAAK41H,kBAA4B,QAAX,EAAE51H,KAAKstF,YAAI,aAAT,EAAW93E,OAAOD,QAAS,IAAG,KACtF0sF,sBAAwB,KAAI,KAC5B4zB,iCAAmC,GAAE,KACrCC,uBAAyB,GAAE,KAC3BC,kCAAmC,GAhC/BhqC,EAAAA,EAAAA,gBAAe/rF,KAAM,CACjB6hC,SAAUmqD,EAAAA,WACViW,sBAAuBjW,EAAAA,WACvB6pC,iCAAkC7pC,EAAAA,WAClC8pC,uBAAwB9pC,EAAAA,WACxB+pC,iCAAkC/pC,EAAAA,WAClCwW,aAAc0G,EAAAA,SACd8gB,mBAAoB93G,EAAAA,OAAAA,MACpB8jH,gBAAiB9jH,EAAAA,OAAAA,MACjB+jH,0BAA2B/jH,EAAAA,OAAAA,MAC3BywF,QAASzwF,EAAAA,OAAAA,MACT0wF,UAAW1wF,EAAAA,OAAAA,MACXw4D,MAAOx4D,EAAAA,OAAAA,MACPgwF,uBAAwBhwF,EAAAA,OAAAA,MACxBgtG,kBAAmBhtG,EAAAA,OAAAA,MACnBgkH,wBAAyBhkH,EAAAA,OAAAA,MACzBikH,+BAAgCjkH,EAAAA,OAAAA,MAChCkkH,6BAA8BlkH,EAAAA,OAAAA,MAC9BmkH,4BAA6BnkH,EAAAA,OAAAA,QAGjClS,KAAKmlG,WAAaA,EAClBnlG,KAAKstF,KAAOA,EACZttF,KAAKm/G,mBAAqBn/G,KAAKk/G,mBACnC,SA8MC,SA9MA,6BAUD,WACI,OAAOl/G,KAAK6hC,SAAS9rB,QAAO,SAAAyR,GAAO,OAAIA,EAAQ/lB,OAASq/F,GAAqBC,QAAQ,GACzF,GAAC,gCAED,SAAmBx9F,GACfvD,KAAKg2H,gBAAgBzyH,EACzB,GAAC,6BAED,SAAgBA,GACZ,IAAMg/F,GAAe+zB,EAAAA,EAAAA,SAAQ/yH,GACrBksG,EAAWzvG,KAAKmlG,WAAW9V,UAA3BogB,OACFj8F,EAAW,CACb6tE,QAAS99E,EAAK89E,QACdzqE,UAAWrT,EAAKqT,UAChBpC,YAAajR,EAAKiR,YAClBlE,cAAe/M,EAAK+M,cACpB3B,SAAUpL,EAAKoL,SACfmzF,YAAY+d,EAAAA,EAAAA,YAAWt8G,EAAKu+F,WAAY,2BACxC3pE,aAAc50B,EAAK40B,aACnBnf,WAAYzV,EAAKgzH,yBACjB1uC,gBAAiBtkF,EAAKskF,kBAAmBg4B,EAAAA,EAAAA,YAAWt8G,EAAKskF,gBAAiB,2BAC1EE,UAAWxkF,EAAKizH,wBAChB1uC,eAAgBvkF,EAAKukF,iBAAkB+3B,EAAAA,EAAAA,YAAWt8G,EAAKukF,eAAgB,2BACvExG,aAAc/9E,EAAK+9E,aACnBihB,aAAAA,EACAV,YAAat+F,EAAKs+F,YAClBllF,OAAQpZ,EAAKoZ,OACbnB,OAAQ+mF,GAAgBh/F,EAAKiY,OAC7Bi0F,OAAAA,EACAxjF,UAAW1oB,EAAK0oB,UAChB21E,WAAYr+F,EAAKq+F,WACjBjrF,gBAAiBpT,EAAKoT,gBACtBwrF,WAAY5+F,EAAK4+F,YAGfs0B,EAAsBz2H,KAAK6hC,SAAS3nB,WACtC,SAAA/M,GAAC,OACGA,EAAE1L,OAASq/F,GAAqBC,UAChC5zF,EAAE5J,KAAKoT,iBACPxJ,EAAE5J,KAAKoT,gBAAgBT,MAAQ3S,EAAKoT,gBAAgBT,GAAG,KAGlC,IAAzBugH,GAEIz2H,KAAK6hC,SAASn6B,OAAS,GAEnB1H,KAAK6hC,SAAS,GAAGpgC,OAASq/F,GAAqBC,UAC/CvtF,EAASi8F,SAAWzvG,KAAK6hC,SAAS,GAAGt+B,KAAKksG,QAG1CzvG,KAAK6hC,SAAS+hC,QAAQ,CAClBniE,KAAMq/F,GAAqBE,QAC3Bz9F,KAAMiQ,EAASi8F,SAK3BzvG,KAAK6hC,SAAS+hC,QAAQ,CAClBniE,KAAMq/F,GAAqBC,SAC3Bx9F,KAAMiQ,KAIVxT,KAAK6hC,SAAS0iC,OAAOkyD,EAAqB,EAAG,CACzCh1H,KAAMq/F,GAAqBC,SAC3Bx9F,KAAMiQ,IAIdxT,KAAK6hC,SAAW7hC,KAAK6hC,SAAS/9B,OAClC,GAAC,oCAED,SAAuBsS,GAEfA,GAAkBpW,KAAKiiG,wBAA0B7rF,EACjDpW,KAAKiiG,sBAAwB,KAE7BjiG,KAAKiiG,sBAAwB7rF,CAErC,GAAC,uCAED,SAA0B4M,IACTA,EAAM4mE,MAAS5mE,EAAMsiF,cAAgBtiF,EAAMsiF,gBACtBlrF,MAC9B,SAAA4+D,GAAE,OAAIA,EAAGusB,WAAavsB,EAAGusB,UAAUl7E,SAAS,6BAA6B,KAGzErqB,KAAKkiG,uBAAuB,KAEpC,GAAC,qBAED,WACIh8F,OAAO0e,iBAAiB,QAAS5kB,KAAKi2H,2BACtCj2H,KAAKk2H,yBACT,GAAC,uBAED,WACIhwH,OAAOihG,oBAAoB,QAASnnG,KAAKi2H,0BAC7C,GAAC,mBAED,WACIj2H,KAAK6hC,SAAW7hC,KAAK6hC,SAAS/9B,MAAM,EAAG,GACvC9D,KAAK61H,iCAAmC71H,KAAK61H,iCAAiC/xH,MAAM,EAAG,GACvF9D,KAAK81H,uBAAyB91H,KAAK81H,uBAAuBhyH,MAAM,EAAG,EACvE,GAAC,+BAED,WAAoB,WACR0R,EAAWxV,KAAKstF,KAAhB93E,OAGFkhH,GAAqCnrE,EAAAA,EAAAA,WACvC,kBAAM,EAAK1pB,QAAQ,IACnB,SAAAA,GACI,IAAM80F,EAAsB1Y,GAAoB,EAAK2X,kBAAmB,CAAC,GACzEe,EAAoBnhH,EAAOD,SAAWssB,EAAS/9B,MAAM,EAAG,KACxDw6G,GAAoB,EAAKsX,kBAAmBe,EAChD,IAMEC,GAA0BrrE,EAAAA,EAAAA,WAC5B,kBAAM,EAAKi3C,aAAa96F,MAAM,IAC9B,kBAAM,EAAKwuH,yBAAyB,IAGxC,OAAO,WACHQ,IACAE,GACJ,CACJ,GAAC,qCAED,WAA0B,WACtB52H,KAAKwiG,aAAar/F,SAAQ,YAAmB,IAAVynH,EAAG,EAATrnH,KACrBqnH,EAAIroB,cAAgB,EAAKuzB,uBAAuB/0G,SAAS6pG,EAAIp2G,cACjE,EAAK6hH,4BAA4BzL,EAAIp2G,YACzC,GACJ,GAAC,4CAED,SAA+BhB,GAC3B,MAAkCxT,KAAKmlG,WAA/BrO,EAAO,EAAPA,QACA4H,EADqB,EAAZX,aACTW,cACA/vF,EAAqB6E,EAArB7E,SAAU6M,EAAWhI,EAAXgI,OAEdhI,EAASgB,eAAgBkqF,aAAa,EAAbA,EAAelqF,eACxCxU,KAAKgqH,mBAAmBx2G,GAEnBxT,KAAK81H,uBAAuB/0G,SAASvN,EAASgB,cAC/CxU,KAAK81H,uBAAuB97G,KAAKxG,EAASgB,cAEzCxU,KAAK61H,iCAAiC90G,SAASvN,EAASgB,eAAgB8hH,EAAAA,EAAAA,SAAQ9iH,KACjFxT,KAAK61H,iCAAiC77G,KAAKxG,EAASgB,aAEpDsiF,EAAQ+nB,aAAa,CACjBrsE,SAAUh3B,EAAS,EAAIhF,EAAAA,UAAAA,OAAmBA,EAAAA,UAAAA,KAC1C2vE,MAAO,CAAEx3E,SAAAA,EAAU6M,OAAAA,MAInC,GAAC,0CAED,SAA6Bq7G,GAA+B,WAApBC,EAAa,UAAH,8CAC9CD,EAAU1zH,SAAQ,SAAAurF,GACd,IAAKooC,GAAeA,GAAcpoC,EAAS3rF,KAAO+zH,EAAa,CAC3D,IAAMC,EAAmBroC,EAASgQ,cAClC,EAAKy3B,+BAA+BY,EACxC,CACJ,GACJ,GAAC,yCAED,SAA4BviH,GAAa,WAC7BqmD,EAAO76D,KAAKmlG,WAAZtqC,GACFg8D,EAAY72H,KAAKstF,KAAK0pC,UAAUH,UActC,IAVKI,EAAAA,EAAAA,UACDp8D,EAAGqgB,WAAWg8C,8BAA8B1iH,GAAa,SAAApG,GAErD,GADA,EAAK2nH,kCAAmC,GACnC3nH,EAAS4J,MAAO,CACjB,IAAQrD,EAA2BvG,EAA3BuG,uBACR,EAAKwhH,+BAA+BxhH,EACxC,CACJ,KAGC3U,KAAK+1H,mCACD/1H,KAAK6hC,SAASn6B,QACf1H,KAAKo2H,6BAA6BS,GAElC72H,KAAK6hC,SAASn6B,SAAW1H,KAAK6hC,SAAS,GAAGt+B,KAAKiY,QAAQ,CACvD,IAAMs7G,EAAa92H,KAAK6hC,SAAS,GAAGt+B,KAAKiR,YACzCxU,KAAKo2H,6BAA6BS,EAAWC,EACjD,CAER,4EAAC,EAxOiC,4xBCiBtC,IACqBK,GAAS,IA0B1B,WAAY7pC,EAAkBzyB,EAAgBwkD,gGAAa,cAzBpDxkD,QAAE,OACFwkD,UAAI,OACJjQ,SAAG,OACHrR,kBAAY,OACZhI,cAAQ,OACR/qC,YAAM,OACNosE,iBAAW,OACXtV,kBAAY,OACZhrB,aAAO,OACP1rC,gBAAU,OACVikC,eAAS,OACTlkC,gBAAU,OACVo0C,aAAO,OACPiD,kBAAY,OACZv3C,aAAO,OACPC,aAAO,OACP48C,oBAAc,OACdgjB,yBAAmB,OACnB7vB,oBAAc,OACdlwC,eAAS,OAET2lC,iBAAW,OACXgW,mBAAa,OACb2wB,2BAAqB,EAGxBr3H,KAAK66D,GAAKA,EACV76D,KAAKq/G,KAAOA,EACZr/G,KAAKovG,IAAM,IAAIlK,GAASllG,KAAMstF,GAC9BttF,KAAK+9F,aAAe,IAAIwxB,GAAiBvvH,KAAMstF,GAC/CttF,KAAK+1F,SAAW,IAAIqb,GAAcpxG,MAClCA,KAAKgrD,OAAS,IAAI2rD,GAAY32G,MAC9BA,KAAKo3H,YAAc,IAAIzkB,GAAgB3yG,MACvCA,KAAK8hH,aAAe,IAAIjJ,GAAiB74G,MACzCA,KAAK82F,QAAU,IAAI0nB,GAAax+G,KAAMstF,GACtCttF,KAAKorD,WAAa,IAAI+0D,GAAengH,MACrCA,KAAKqvF,UAAY,IAAI65B,GAAclpH,KAAMstF,GACzCttF,KAAKmrD,WAAa,IAAImiE,GAAettH,MACrCA,KAAKu/F,QAAU,IAAIuxB,GAAa9wH,MAChCA,KAAKwiG,aAAe,IAAImzB,GAAkB31H,KAAMstF,GAChDttF,KAAKirD,QAAU,IAAI8lE,GAAa/wH,MAChCA,KAAKkrD,QAAU,IAAIymE,GAAa3xH,KAAMstF,GACtCttF,KAAK8nG,eAAiB,IAAIqb,GAAmBnjH,MAC7CA,KAAK8qH,oBAAsB,IAAI3C,GAAuBnoH,KAAMstF,GAC5DttF,KAAKi7F,eAAiB,IAAIizB,GAAmBluH,KAAMstF,GACnDttF,KAAK+qD,UAAY,IAAIwhD,GAAevsG,MAGpCA,KAAK0wF,YAAc,IAAI8X,GAAWxoG,MAClCA,KAAK0mG,cAAgB,IAAI2B,GAAaroG,MACtCA,KAAKq3H,sBAAwB,IAAIhoB,GAAoBrvG,KAAMstF,EAC/D,ICtEEgqC,IAAmBjtC,EAAAA,EAAAA,eAAgC,MAEnDktC,GAAoB,SAAH,GAAgE,IAA1D9kE,EAAQ,EAARA,SAAUoI,EAAE,EAAFA,GAC7B28D,EAAS/rC,IACTqB,GAAgBC,EAAAA,EAAAA,UAAQ,kBAAM,IAAIoqC,GAAUK,EAAQ38D,EAAIh2C,EAAAA,KAAK,GAAE,IAErE,OAAO,kBAACyyG,GAAiBjqC,SAAQ,CAAChzE,MAAOyyE,GAAgBr6B,EAC7D,EAEMglE,GAAe,WACjB,IAAMzkH,GAAQu3E,EAAAA,EAAAA,YAAW+sC,IAEzB,IAAKtkH,EACD,MAAM,IAAIlN,MAAM,sDAGpB,OAAOkN,CACX,ECGA,SAAewuB,GAAQ,YAAY,MAAmB,CAClDktE,iBAD+B,EAAT3jD,UACM2jD,iBAC/B,GAFD,EAjByB,SAAH,OAAMA,EAAgB,EAAhBA,iBAAgB,OACxC,yBAAKxoB,UAAU,6CACX,kBAAC,EAAAzuB,KAAI,CACD7F,KAAM,eACNs0B,UAAU,wCACVwxC,aAAa,iBACblhC,QAAS,kBAAMkY,GAAiB,EAAK,IAEzC,kBAAC,EAAAj3C,KAAI,CACD7F,KAAM,iBACNs0B,UAAU,wCACVwxC,aAAa,iBACblhC,QAAS,kBAAMkY,GAAiB,EAAM,IAExC,ICRV,GARmB,SAAH,GAAgC,IAA1BipB,EAAM,EAANA,OAClB,OACI,yBAAKzxC,UAAU,6CAA6CnjF,GAAG,mCAAmCwxF,IAAKojC,GACnG,kBAAC,GAAgB,MAG7B,6GCwBA,IAqHMC,GAAQp2F,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYD,EAAU,EAAVA,WAAYJ,EAAS,EAATA,UAAS,MAAmB,CACzEhpC,iBAAkBqpC,EAAWrpC,iBAC7B0+F,uBAAwBr1D,EAAWq1D,uBACnCU,mBAAoB/1D,EAAW+1D,mBAC/BP,qBAAsBx1D,EAAWw1D,qBACjCqN,cAAe9iE,EAAW8iE,cAC1B3lB,aAAcv9C,EAAUu9C,aACxBmZ,mBAAoBr2D,EAAWq2D,mBAC/BrT,cAAerjD,EAAUqjD,cACzBT,mBAAoB5iD,EAAU4iD,mBAC9BW,qBAAsBvjD,EAAUujD,qBAChCvB,0BAA2BhiD,EAAUgiD,0BACxC,GAZavrE,EArHS,SAAH,GASG,UARnBzf,EAAgB,EAAhBA,iBACA0/F,EAAkB,EAAlBA,mBACAwM,EAAa,EAAbA,cACA3lB,EAAY,EAAZA,aACAsY,EAAoB,EAApBA,qBACAjT,EAAkB,EAAlBA,mBACAZ,EAAyB,EAAzBA,0BACAuB,EAAoB,EAApBA,qBAEMupB,EAAiB1qC,IAAAA,OAAsC,MACgB,KAA7BA,IAAAA,UAAwB,KAAK,s5BAAtEkgB,EAAiB,KAAEI,EAAkB,KACtC9D,EAASxc,IAAAA,OAAsC,MAC/C5rE,GAAYwuE,EAAAA,EAAAA,YACZ+nC,IAA6BlX,UAAAA,EAAsBl5G,QAEzDylF,IAAAA,WAAgB,WAAM,MACyB,IAAH,KAAtB,QAAd,EAAAwc,EAAOre,eAAO,aAAd,EAAgB74B,SAAS/qD,UACzBiiG,SAAe,QAAT,EAANA,EAAQre,eAAO,OAAf,EAAiBtrB,YAAY2pC,SAAe,QAAT,EAANA,EAAQre,eAAO,WAAT,EAAN,EAAiB74B,SAAS,IAE/D,GAAG,CAAe,QAAf,EAACk3C,EAAOre,eAAO,aAAd,EAAgB74B,SAAS/qD,SAE7B,IAAMqwH,EAAmB,WAAH,OAClB,4BACI7xC,UAAU,oCACVsQ,QAAS,WACLmX,GAAmB,GACnB8T,IACAnZ,EAAatZ,GAAUE,YAC3B,IAECroF,EAAAA,EAAAA,UAAS,QACL,EAEb,OACI,yBAAKq/E,UAAU,iEACVmnB,GACG,yBACInnB,UAAWyJ,KAAW,+BAAgC,CAClD,uCAAwCmoC,KAG5C,yBAAK5xC,UAAU,iCACX,yBACIA,UAAWyJ,KAAW,uBAAwB,sCAAuC,CACjF,+BAAgCmoC,GAA4Bv2G,MAG9DA,GAAa,kBAAC,EAAAszE,SAAQ,CAACC,kBAAkB,YAC3C,yBAAK5O,UAAU,sCACX,4BACIsQ,QAAS,WACL8R,EAAatZ,GAAUG,UACvBmf,EAAqB,EACzB,GAEA,kBAAC,EAAA72C,KAAI,CACDyuB,UAAU,2CACV/6C,MAAM,SACNC,OAAO,SACPwmB,KAAM,qBAERrwC,GACE,kBAAC,EAAAsmC,KAAI,CACDyrC,MAAM,YACNlxF,KAAK,KACLu1F,YAAY,IACZzR,UAAW,6CAEVr/E,EAAAA,EAAAA,UAAS,mBAO5B0a,GACE,oCACI,yBAAK2kE,UAAU,oCACX,kBAAC,GAAU,CAACyxC,OAAQhuB,EAAQloG,KAAM,WAEtC,yBAAKykF,UAAU,+BACX,2BACIzkF,KAAK,OACL8yF,IAAKsjC,EACLG,OAAO,OACP/2H,MAAO,CAAEyyB,QAAS,QAClBq/D,SAAU,SAAAlxF,GACN6nG,GAAkB,YAAaC,GAC/BskB,IACAxgB,EAAmB1rF,EAAiBlgB,GAAG,GAC3C,IAEHk2H,MAIb,kBAAC,EAAAv9B,cAAa,KACV,kBAAC,EAAAy9B,OAAM,CACH99B,WAAY4S,EACZ0b,SAAU,kBAAM9a,GAAmB,EAAM,EACzCuqB,sBAAoB,EACpBhyC,UAAU,8BACV0U,gBAAc,EACdlkB,OAAO7vE,EAAAA,EAAAA,UAAS,YAEhB,kBAAC,GAAU,CAAC8wH,OAAQhuB,EAAQloG,KAAK,UACjC,yBAAKykF,UAAU,+BAA+B6xC,SAQ9E,IAgBA,YCrFA,GAAev2F,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAY02D,EAAY,EAAZA,aAAc/2D,EAAS,EAATA,UAAS,MAAmB,CAC5E+tD,cAAegJ,EAAahJ,cAC5B2H,uBAAwBr1D,EAAWq1D,uBACnCoB,eAAgBz2D,EAAWy2D,eAC3BoB,YAAa73D,EAAW63D,YACxBne,gBAAiB/5C,EAAU+5C,gBAC9B,GAND,EAnEoB,SAAH,GAMQ,IALrBgU,EAAa,EAAbA,cACA2H,EAAsB,EAAtBA,uBACAoB,EAAc,EAAdA,eACAoB,EAAW,EAAXA,YACAne,EAAe,EAAfA,gBAEA,OACI,yBAAK5e,UAAU,4BACX,yBAAKA,UAAU,+BACX,kBAAC,EAAAzuB,KAAI,CACD7F,KAAM,gBACNs0B,UAAW0O,KAAW,mCAAoC,CACtD,8CAA+CkkB,IAEnD12G,MAAM2tF,EAAAA,EAAAA,YAAa,GAAK,MAE5B,yBAAK7J,UAAU,8CACV4yB,EACG,kBAAC,EAAAjkB,SAAQ,CAACC,kBAAkB,sCAE5B,gBAGPgkB,EACG,kBAAC,EAAAviB,OAAA,MAAY,KACT,kBAAC,EAAAA,OAAM,CAAC3oF,MAAM/G,EAAAA,EAAAA,UAAS,cAAe2vF,QAASqrB,EAAgBnhB,YAAU,EAAC7sC,WAAS,EAACkmC,OAAK,IACzF,kBAAC,EAAAxD,OAAM,CACH3oF,MAAM/G,EAAAA,EAAAA,UAAS,QACf2vF,QAAS,WACLysB,IACAne,EAAgB,SACpB,EACApa,WAAY+1B,EACZ/f,YAAU,EACV5sC,SAAO,EACPimC,OAAK,KAIb,kBAAC,aAAc,KACX,yBAAK7T,UAAU,qCACX,yBAAKA,UAAU,oCACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,+FAEhC,yBAAK5O,UAAU,oCACX,kBAAC,EAAA2O,SAAQ,CACLC,kBAAkB,2FAClBC,WAAY,CACR,kBAAC,EAAA3G,UAAS,CACN1sF,IAAK,EACLwkF,UAAU,OACVmI,KAAK,+BACLC,aAAW,SAM/B,kBAAC,EAAAiI,OAAM,CAAC3oF,MAAM/G,EAAAA,EAAAA,UAAS,WAAY2vF,QAASqrB,EAAgBnhB,YAAU,EAAC5sC,SAAO,EAACimC,OAAK,MAM5G,2OCvEA,IAAMo+B,GAAgB,SAAH,OACf1hD,EAAQ,EAARA,SACAgiC,EAAa,EAAbA,cACAK,EAAa,EAAbA,cACAmV,EAAa,EAAbA,cACApM,EAAc,EAAdA,eACA4L,EAAe,EAAfA,gBACAD,EAAe,EAAfA,gBACAjsG,EAAS,EAATA,UACAw2E,EAA2B,EAA3BA,4BACA0G,EAAe,EAAfA,gBAAe,OAEf,kBAAC,GAAA7F,OAAM,CACHC,cAAe,CACX80B,UAAU,EACVC,oBAAoB,EACpBn3C,SAAUA,IAAazuE,EAAAA,OAAAA,kBAA2B,GAAKyuE,GAE3DqiB,SAAU20B,EACVj0B,SAAUy0B,IAET,YAA8D,IAAjDN,EAAQ,EAAlB/qH,OAAU+qH,SAAYn1F,EAAa,EAAbA,cAAeihE,EAAO,EAAPA,QAASV,EAAM,EAANA,OACxCq/B,EAAkB72G,EAAsB,aAAV,QACpC,OACI,kBAAC,EAAA+9E,iBAAgB,CAACl0D,OAAQgtF,EAAgBC,UAAQ,GAC9C,kBAAC,GAAAz+B,KAAI,CAAC1T,UAAWyJ,KAAW,CAAE,wBAAyBoI,KACnD,yBAAK7R,UAAU,kBACX,kBAAC,EAAAr+B,KAAI,CAACzlD,KAAK,KAAKu1F,YAAY,MACvB9wF,EAAAA,EAAAA,UACG,kFAEJ,iCAASA,EAAAA,EAAAA,UAAS,WAEtB,yBAAKq/E,UAAU,sBACX,kBAAC,GAAAvxB,MAAK,CAAC/uD,KAAK,aACP,gBAAG0B,EAAK,EAALA,MAAK,OACL,kBAAC,EAAAuyF,MAAK,MACEvyF,EAAK,CACT4+E,UAAU,mBACVzkF,KAAK,OACL62H,aAAazxH,EAAAA,EAAAA,UAAS,gBACtBmR,MAAOyhF,EAAQnyF,EAAM1B,OAASmzF,EAAOzxF,EAAM1B,MAC3C+uB,OAAO9tB,EAAAA,EAAAA,UAAS,YAChB0xH,QAAS,SAAA12H,GAAC,OAAI48F,EAAgB58F,EAAE6kH,cAAc9gH,KAAK,EACnD4yH,OAAQ,kBAAM/5B,EAAgB,KAAK,IACrC,KAId,yBAAKvY,UAAU,sBACX,kBAAC,EAAAuyC,WAAU,CACPvyC,UAAU,yBACVtgF,KAAK,WACL8f,SACQozF,EACO6U,EAAWvoG,EAAAA,WAAAA,MAAmBA,EAAAA,WAAAA,aAGlCA,EAAAA,WAAAA,MAEXszG,SAAU,kBAAMlgG,EAAc,YAAam1F,EAAS,GAEpD,kBAAC,EAAA8K,WAAA,KAAe,CACZ11H,GAAG,QACH4xB,MACI,kBAACgkG,GAAS,CACN/qH,MAAM/G,EAAAA,EAAAA,UAAS0a,EAAY,QAAU,eACrCqwC,KAAM,kBAAC,EAAA6F,KAAI,CAAC7F,KAAMrwC,EAAY,UAAY,eAAgBnf,KAAM,OAGxEiY,MAAO+K,EAAAA,WAAAA,QAEX,kBAAC,EAAAqzG,WAAA,KAAe,CACZ11H,GAAG,QACH4xB,MACI,kBAACgkG,GAAS,CACN/qH,KAAM,eACNgkD,KAAM,kBAAC,EAAA6F,KAAI,CAAC7F,KAAM,gBAAiBxvD,KAAM,KACzCw2H,uBAAwB9f,EACxB+I,eAAgBA,IAGxBxnG,MAAO+K,EAAAA,WAAAA,aACPmB,UAAWuyF,EACX5yB,UAAWyJ,KAAW,CAClB,iCAAkCmpB,SAMtD,yBACI5yB,UAAWyJ,KAAW,gBAAiB,CACnC,iCAAkCoI,KAGtC,kBAAC,EAAAxB,OAAM,CACH90F,KAAK,SACLykF,UAAU,wBACVt4E,MAAM/G,EAAAA,EAAAA,UAAS,UACf2vF,QAASg3B,EACT35D,WAAS,IAEb,kBAAC,EAAA0iC,OAAM,CACHrQ,UAAU,wBACVzkF,KAAK,SACLipF,WAA8B,IAAlB+tB,EACZogB,kBAAqC,IAAlBpgB,EACnB7qG,MAAM/G,EAAAA,EAAAA,UAAS,QACfitD,SAAO,MAM/B,GACK,EAEPglE,GAAY,SAAH,GAWT,IAVFriD,EAAQ,EAARA,SACAgiC,EAAa,EAAbA,cACAK,EAAa,EAAbA,cACAyU,EAAkB,EAAlBA,mBACAU,EAAa,EAAbA,cACApM,EAAc,EAAdA,eACA2L,EAAe,EAAfA,gBACAC,EAAe,EAAfA,gBACAhvB,EAAe,EAAfA,gBACA1G,EAA2B,EAA3BA,4BAEMx2E,GAAYwuE,EAAAA,EAAAA,YAClB,OAAOxuE,EACH,kBAAC,EAAAw3G,oBAAmB,CAChBC,cAAezL,EACfrnC,UAAU,sBACVoU,QAAQzzF,EAAAA,EAAAA,UAAS,YACjB0zF,aAAcizB,EACdyL,cAAc,OACdC,cAAY,GAEZ,kBAACf,GAAa,CACV1hD,SAAUA,EACVgiC,cAAeA,EACfK,cAAeA,EACfmV,cAAeA,EACfpM,eAAgBA,EAChB4L,gBAAiBA,EACjBD,gBAAiBA,EACjBjsG,UAAWA,EACXw2E,4BAA6BA,EAC7B0G,gBAAiBA,KAIzB,kBAAC,EAAA/D,MAAK,CACFhkB,OAAO7vE,EAAAA,EAAAA,UAAS,YAChBq/E,UAAU,cACV/6C,MAAM,QACNC,OAAO,QACPuvD,QAAS4yB,EACT1yB,YAAa2yB,GAEb,kBAAC2K,GAAa,CACV1hD,SAAUA,EACVgiC,cAAeA,EACfK,cAAeA,EACfmV,cAAeA,EACfpM,eAAgBA,EAChB4L,gBAAiBA,EACjBD,gBAAiBA,EACjB/uB,gBAAiBA,IAIjC,EAEMk6B,GAAY,SAAH,GAA+D,IAAzD/mE,EAAI,EAAJA,KAAMhkD,EAAI,EAAJA,KAAMgrH,EAAsB,EAAtBA,uBAAwB/W,EAAc,EAAdA,eAC/CsX,EAA0B,iBAATvrH,EAEvB,OACI,yBAAKs4E,UAAU,wBACX,yBAAKA,UAAU,oBACVt0B,GACGu7B,IAAAA,aAAmBv7B,EAAM,CACrBs0B,UAAWyJ,KACP,kBACA,CACI,0BAA2BwpC,GAAkBP,EAC7C,4BAA6BO,IAAmBP,GAEpDhnE,EAAKy5B,MAAMnF,aAGvB,kBAAC,EAAAr+B,KAAI,CACD6vC,GAAG,IACHv6D,MAAM,SACN/6B,KAAK,MACLkxF,MAAO6lC,IAAmBP,EAAyB,WAAa,YAChEjhC,YAAY,IACZzR,UAAU,0BAETr/E,EAAAA,EAAAA,UAAS+G,KAGjBurH,GACG,kBAAC,EAAAtxE,KAAI,CACD6vC,GAAG,IACHv6D,MAAM,SACN/6B,KAAK,KACLixF,OAAO,OACP2B,OAAQ,CAAE1B,MAAO,0BACjBpN,UAAU,0BACVsQ,QAASqrB,IAERh7G,EAAAA,EAAAA,UAAS+xH,GAAyB/xH,EAAAA,EAAAA,UAAS,eAAgBA,EAAAA,EAAAA,UAAS,aAKzF,EAEAiyH,GAAUh+B,UAAY,CAClB2d,cAAe1d,KAAAA,OACf+d,cAAe/d,KAAAA,KACfwyB,mBAAoBxyB,KAAAA,KACpBkzB,cAAelzB,KAAAA,KACf8mB,eAAgB9mB,KAAAA,KAChByyB,gBAAiBzyB,KAAAA,KACjBtkB,SAAUskB,KAAAA,OACV0D,gBAAiB1D,KAAAA,MAGrB,SAAev5D,GAAQ,gBAAG2pB,EAAU,EAAVA,WAAY22D,EAAY,EAAZA,aAActzB,EAAE,EAAFA,GAAE,MAAQ,CAC1DiqB,cAAettD,EAAWstD,cAC1BK,cAAegJ,EAAahJ,cAC5ByU,mBAAoBpiE,EAAWoiE,mBAC/Bx1B,4BAA6BvJ,EAAGuJ,4BAChCk2B,cAAe9iE,EAAW8iE,cAC1BpM,eAAgB12D,EAAW02D,eAC3B2L,gBAAiBriE,EAAWqiE,gBAC5BC,gBAAiBtiE,EAAWsiE,gBAC5Bh3C,SAAUtrB,EAAWsrB,SACrBgoB,gBAAiBjQ,EAAGiQ,gBACvB,GAXD,CAWIq6B,ICzPJ,6PCHA,knGAAAvwH,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,gYAgFA,SAAei5B,GAAQ,gBAAGypB,EAAO,EAAPA,QAASG,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAS,MAAQ,CAC5DqiD,eAAgBniD,EAAQmiD,eACxB2T,qBAAsB31D,EAAW21D,qBACjC4B,qBAAsBv3D,EAAWu3D,qBACjC9B,qBAAsBz1D,EAAWy1D,qBACjCqC,uBAAwB93D,EAAW83D,uBACnCpe,gBAAiB/5C,EAAU+5C,gBAC9B,GAPD,EA/DqB,SAAH,GAMG,IALjBic,EAAoB,EAApBA,qBACA4B,EAAoB,EAApBA,qBACA9B,EAAoB,EAApBA,qBACAqC,EAAsB,EAAtBA,uBACApe,EAAe,EAAfA,gBAEMs0B,EAAiB,eAxB3B,EAwB2B,GAxB3B,EAwB2B,WAAG,WAAOhiD,GAAmB,yFACvB51D,EAAAA,EAAAA,sBAAoB,QAAvC6S,EAAa,EAAH,MACLvxB,KAAI,SAACu2H,EAA+Dr+G,GACvEq+G,EAAwBt2H,KAAOq0E,IAC3Bp8D,GAAS,GACTqZ,EAAWkwC,OAAOvpD,EAAO,GAE7BkoG,EAAuB7uF,GACvBm0D,KAAAA,QAAoB,mBAAoBC,KAAAA,SAAkBrkF,KAAKC,UAAUgwB,KACzEsuF,GAAqB,GAE7B,IAAG,0CAnCX,iLAoCK,gBAZsB,sCAcjB2W,EAAiB,SAAC73H,EAAc4pE,GACrB,YAAT5pE,IACA23H,EAAkBvY,GAClB/b,EAAgB,UAAU,IAE9B6d,EAAqBt3C,EACzB,EAEA,OACI,6BACI,kBAAC,EAAA4sD,OAAM,CACHvhD,OAAO7vE,EAAAA,EAAAA,UAAS,cAChBszF,WAAY4mB,EACZwY,qBAAqB1yH,EAAAA,EAAAA,UAAS,eAC9B2hH,UAAW,WACP8Q,EAAe,WAAW,GAC1Bx0B,EAAgB,UAAU,EAC9B,EACA+mB,oBAAoBhlH,EAAAA,EAAAA,UAAS,MAC7B4hH,SAAU,WACN6Q,EAAe,UAAU,EAC7B,EACApB,sBAAsB,EACtBhyC,UAAW,qCACX0U,gBAAc,GAEd,6BACI,kBAAC,EAAA/yC,KAAI,CAACyrC,MAAM,YAAYqE,YAAY,IAAIv1F,KAAK,OACxCyE,EAAAA,EAAAA,UAAS,sDACV,iCAASA,EAAAA,EAAAA,UAAS,mBAG1B,6BACI,kBAAC,EAAAghD,KAAI,CAACyrC,MAAM,YAAYqE,YAAY,KAAKv1F,KAAK,OACzCyE,EAAAA,EAAAA,UAAS,0CAMlC,+GCzEO,ICJM2yH,GACH,OADGA,GAEH,OAFGA,GAGD,SAHCA,GAIA,UAJAA,GAKK,OAGLC,GAAe,CACxB,CACIh4H,KAAM+3H,GACN5nE,KAAM,UAEV,CACInwD,KAAM+3H,GACN5nE,KAAM,UAEV,CACInwD,KAAM+3H,GACN5nE,KAAM,aAID8nE,GAAsB,CAC/B,CACIj4H,KAAM+3H,GACN5nE,KAAM,YACNj9B,OAAO9tB,EAAAA,EAAAA,UAAS,YAEpB,CACIpF,KAAM+3H,GACN5nE,KAAM,SACNj9B,OAAO9tB,EAAAA,EAAAA,UAAS,SAEpB,CACIpF,KAAM+3H,GACN5nE,KAAM,SACNj9B,OAAO9tB,EAAAA,EAAAA,UAAS,SAEpB,CACIpF,KAAM+3H,GACN5nE,KAAM,WACNj9B,OAAO9tB,EAAAA,EAAAA,UAAS,YCqJxB,SAAe26B,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAWI,EAAU,EAAVA,WAAU,MAAmB,CAC1EskC,WAAY1kC,EAAU0kC,WACtBmxB,qBAAsBx1D,EAAWw1D,qBACjC6B,kBAAmBr3D,EAAWq3D,kBAC9BC,YAAat3D,EAAWs3D,YACxBzB,sBAAuB71D,EAAW61D,sBAClCQ,mBAAoBr2D,EAAWq2D,mBAC/BkB,qBAAsBv3D,EAAWu3D,qBACjC1T,sBAAuB7jD,EAAW6jD,sBAClC4R,qBAAsBz1D,EAAWy1D,qBACjCvY,aAAcv9C,EAAUu9C,aACxBqF,mBAAoB5iD,EAAU4iD,mBAC9B6f,gBAAiBriE,EAAWqiE,gBAC/B,GAbD,EAnKwB,SAAH,GAeG,IAdpB/9B,EAAU,EAAVA,WACAmxB,EAAoB,EAApBA,qBACA6B,EAAiB,EAAjBA,kBACAC,EAAW,EAAXA,YACA1nG,EAAK,EAALA,MACAymG,EAAkB,EAAlBA,mBACAkB,EAAoB,EAApBA,qBACA1T,EAAqB,EAArBA,sBACA4R,EAAoB,EAApBA,qBACAI,EAAqB,EAArBA,sBACA3Y,EAAY,EAAZA,aACAqF,EAAkB,EAAlBA,mBACA6f,EAAe,EAAfA,gBACArsG,EAAS,EAATA,UAEMw4G,EAAkBxsC,IAAAA,OAAsC,MACxD2G,EAAa3G,IAAAA,OAA6B,MAC1ClhB,EF1C4B,SAACsoB,GACnC,QAA0E,KAArBpH,IAAAA,UAAe,KAAM,s5BAAnEysC,EAAmB,KAAEC,EAAqB,KAE3CC,EAAqB,SAAC92G,GACQ,WAA5BA,EAAMthB,IAAI20C,eACVwjF,GAAsB,EAE9B,EAEME,EAAqB,SAAC/2G,GAAiB,MACpCuxE,SAAY,QAAT,EAAHA,EAAKjJ,eAAO,OAAZ,EAAcjhE,SAASrH,EAAMsH,SAC9BuvG,GAAsB,EAE9B,EAWA,OATA1sC,IAAAA,WAAgB,WAGZ,OAFAnrE,SAAS4C,iBAAiB,UAAWk1G,GAAoB,GACzD93G,SAAS4C,iBAAiB,QAASm1G,GAAoB,GAChD,WACH/3G,SAASmlF,oBAAoB,UAAW2yB,GAAoB,GAC5D93G,SAASmlF,oBAAoB,QAAS4yB,GAAoB,EAC9D,CACJ,GAAG,IAEI,CACHH,oBAAAA,EACAC,sBAAAA,EAER,CEcoBG,CAAuBlmC,GAC/B+lC,EAA+C5tD,EAA/C4tD,sBAAuBD,EAAwB3tD,EAAxB2tD,oBACzBr4G,GAAYwuE,EAAAA,EAAAA,YACZkqC,GAAa7pC,EAAAA,EAAAA,aAEnBjD,IAAAA,WAAgB,WACRyzB,GAAwBA,EAAqBl5G,QAAoB,IAAVsT,GACvD1G,YAAW,WAAM,MACbqlH,SAAwB,QAAT,EAAfA,EAAiBruC,eAAO,OAAxB,EAA0BqmB,OAC9B,GAAG,GAEX,GAAG,IAEH,IAKMuoB,EAAqB,SAACz4H,GAaxB,OAZI8f,GAAa9f,IAAS+3H,KACtB7rB,GAAmB,GACnBr5F,YAAW,WACP26F,EAAsB9tF,EAAUpe,GACpC,GAAG,KAEH89G,IAAyB1/F,EAAUpe,IAAsB,IAAf0sF,GAAoBhuF,IAAS+3H,KACvEllH,YAAW,WACP26F,EAAsB9tF,EAAUpe,GACpC,GAAG,GAGCtB,GACJ,IAAK,OACDggH,IACAnZ,EAAatZ,GAAUE,aACvB,MAEJ,IAAK,OACDs+B,IACA,MAEJ,IAAK,SACD7K,GAAqB,GAMjC,EAEMwX,EAAmBtZ,IAAyB1/F,EAAUpe,IAAM62H,EAElE,OACI,yBACI1zC,UAAW0O,KAAW,6BAA8B,CAChD,uCAAwCisB,IAAyB1/F,EAAUpe,GAC3E,qCAAsC69G,EACtC,0CAA2CA,UAAAA,EAAsBl5G,QAAWuyH,KAEhFv4H,IAAKyf,EAAUpe,GACfwxF,IAAKolC,EACLnjC,QAAS,SAAA30F,GACLA,EAAEkoB,kBACE6vG,GAAqBC,GAAsB,GAC/CK,EAAmBV,IACnBvY,EAAsB9/F,EAAUpe,GACpC,GAEA,yBAAKmjF,UAAU,mCACX,yBAAKA,UAAU,oCACX,kBAAC,EAAAr+B,KAAI,CAAC1qB,MAAM,OAAOu6D,GAAG,IAAIt1F,KAAM63H,EAAa,KAAO,MAAOtiC,YAAY,KAClEx2E,EAAUvb,QAIvB,yBAAKsgF,UAAU,mCACX,kBAAC,EAAAr+B,KAAI,CAAC1qB,MAAM,OAAOu6D,GAAG,IAAIt1F,KAAM63H,EAAa,KAAO,MAAOtiC,YAAY,MAClE/qE,EAAAA,EAAAA,WAAUzL,EAAU0L,aAG7B,yBAAKq5D,UAAU,uCACX,kBAAC,EAAAzuB,KAAI,CACD7F,KAAM6wD,EAAkBthG,EAAU8mE,WAClC/B,UAAW0O,KAAW,CAClB,qCAAsCzzE,EAAU8mE,YAAc7iE,GAAAA,EAAAA,iBAGtE,yBAAK8gE,UAAU,oCACX,kBAAC,EAAAr+B,KAAI,CAAC1qB,MAAM,OAAOu6D,GAAG,IAAIt1F,KAAM63H,EAAa,KAAO,MAAOtiC,YAAY,KAClE+qB,EAAYvhG,EAAU8mE,cAInC,kBAAC,EAAAwO,eAAc,KACX,yBAAKvQ,UAAU,sCACVuzC,GAAa32H,KAAI,SAAAugC,GAAI,OAClB,yBACI3hC,IAAK2hC,EAAK5hC,KACVykF,UAAU,qCACVsQ,QAAS,WACL0jC,EAAmB72F,EAAK5hC,KAC5B,GAEA,kBAAC,EAAAg2D,KAAI,CAAC7F,KAAMvuB,EAAKuuB,OACf,MAIlB,kBAAC,EAAA4oC,cAAa,KACV,yBAAKjG,IAAKT,EAAY0C,QAhGT,SAAC30F,GACtBA,EAAEmoB,iBACF6vG,GAAuBD,EAC3B,GA8FgB,kBAAC,EAAAniE,KAAI,CAAC7F,KAAK,gBAEf,yBACIs0B,UAAW0O,KAAW,qCAAsC,CACxD,6CAA8CulC,EAC9C,0CAA2CvZ,EAAqBl5G,QAAU,KAG7EgyH,GAAoB52H,KAAI,SAAAugC,GAAI,OACzB,yBACI3hC,IAAK2hC,EAAK5hC,KACVykF,UAAU,oCACVsQ,QAAS,WACL0jC,EAAmB72F,EAAK5hC,KAC5B,GAEA,6BACI,kBAAC,EAAAg2D,KAAI,CAAC7F,KAAMvuB,EAAKuuB,QAErB,kBAAC,EAAA/J,KAAI,CACDyrC,MAAM,YACNpN,UAAU,2CACVwR,GAAG,IACHt1F,KAAK,OAEJihC,EAAK1O,OAER,MAM9B,2PC9LA,knGAAApsB,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,gYAoBA,IAAM6xH,GAAU,CAAC,WAAY,gBAAiB,UA0DxCC,GAAS74F,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAS,MAAmB,CAC9D61D,qBAAsBx1D,EAAWw1D,qBACjCsC,uBAAwB93D,EAAW83D,uBACnCrV,oBAAqB9iD,EAAU8iD,oBAC/BL,mBAAoBziD,EAAUyiD,mBACjC,GALchsE,EAxDS,SAAH,GAKG,IAJpBo/E,EAAoB,EAApBA,qBACAsC,EAAsB,EAAtBA,uBACArV,EAAmB,EAAnBA,oBACAL,EAAkB,EAAlBA,mBAEArgB,IAAAA,WAAgB,WACZ0gB,EAAoB,IACpB,IAAMysB,EAAa,eA9B3B,EA8B2B,GA9B3B,EA8B2B,WAAG,sGACc94G,EAAAA,EAAAA,sBAAoB,OAA9Cm/F,EAAoB,EAAH,KACvBuC,EAAuBvC,GAAmB,0CAhCtD,iLAiCS,kBAHkB,mCAInB2Z,GAEJ,GAAG,CAAC9sB,IAEJ,IAAMjsF,GAAYwuE,EAAAA,EAAAA,YAElB,OAAK6wB,SAAAA,EAAsBl5G,OAEvB,yBAAKw+E,UAAU,iEACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,wBACX,kBAAC,EAAAr+B,KAAI,CAACzlD,KAAMmf,EAAY,KAAO,IAAK8xE,OAAO,QACvC,kBAAC,EAAAwB,SAAQ,CAACC,kBAAkB,gBAGpC,yBAAK5O,UAAU,sCACX,yBACIA,UAAWyJ,KAAW,gEAAiE,CACnF,mDAAoDpuE,KAGvD64G,GAAQt3H,KAAI,SAAA8+G,GACT,OACI,kBAAC,EAAA/5D,KAAI,CAACzlD,KAAK,KAAKixF,OAAO,OAAO3xF,IAAKkgH,GAC9BA,EAGb,KAEHhB,EAAqB99G,KAAI,SAACqe,EAAWnG,GAClC,OAAO,kBAAC,GAAe,CAACtZ,IAAKyf,EAAUpe,GAAIoe,UAAWA,EAAWnG,MAAOA,GAC5E,KAEJ,kBAAC,GAAY,CAACu/G,cAAerX,IAC7B,kBAAC,EAAA1oB,cAAa,KACV,kBAAC,GAAS,UA9BY,IAoC9C,IASA,uHC0FA,SAAeh5D,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAW+8C,EAAc,EAAdA,eAAc,MAAmB,CAC9EqpB,iBAAkBpmE,EAAUsjD,cAC5B3B,eAAgB3hD,EAAU2hD,eAC1B3qF,iBAAkBqpC,EAAWrpC,iBAC7BqrF,eAAgBriD,EAAUqiD,eAC1BsU,kBAAmBt2D,EAAWs2D,kBAC9BG,eAAgBz2D,EAAWy2D,eAC3BvZ,aAAcv9C,EAAUu9C,aACxB8F,cAAerjD,EAAUqjD,cACzB+S,mBAAoB/1D,EAAW+1D,mBAC/BjT,kBAAmBnjD,EAAUmjD,kBAC7BpJ,gBAAiB/5C,EAAU+5C,gBAC3B0J,gBAAiBzjD,EAAUyjD,gBAC3BzG,iBAAkBD,EAAeC,iBACpC,GAdD,EA7Ic,SAAH,GAcO,QAbdopB,EAAgB,EAAhBA,iBACAzkB,EAAc,EAAdA,eACA3qF,EAAgB,EAAhBA,iBACA+1G,EAAwB,EAAxBA,yBACA1qB,EAAc,EAAdA,eACA7rF,EAAS,EAATA,UACAmgG,EAAiB,EAAjBA,kBACApZ,EAAY,EAAZA,aACA8F,EAAa,EAAbA,cACAF,EAAiB,EAAjBA,kBACApJ,EAAe,EAAfA,gBACA0J,EAAe,EAAfA,gBACAzG,EAAgB,EAAhBA,iBAE6E,KAA7B5a,IAAAA,UAAwB,KAAK,s5BAAtEkgB,EAAiB,KAAEI,EAAkB,KACtCoqB,EAAiB1qC,IAAAA,OAAsC,MAYvDqtC,EAAwB,CAC1B,CACI5oE,KAAMrwC,EAAY,UAAY,eAC9ByhF,QAASzhF,GAAY1a,EAAAA,EAAAA,UAAS,UAAWA,EAAAA,EAAAA,UAAS,eAClDmH,OARe,WAAM,MACzB6pH,SAAuB,QAAT,EAAdA,EAAgBvsC,eAAO,OAAvB,EAAyBqmB,OAC7B,GAQI,CACI//C,KAAM,oBACNoxC,SAASn8F,EAAAA,EAAAA,UAAS,gBAClBmH,OAnBsB,WAC1BwgG,EAAgB,CACZ/sG,KAAM,UAEd,GAiBI,CACImwD,KAAM,eACNoxC,SAASn8F,EAAAA,EAAAA,UAAS,eAClBmH,OAAQ,kBAAMs6F,EAAatZ,GAAUE,YAAY,GAErD,CACIt9B,KAAM,kBACNoxC,SAASn8F,EAAAA,EAAAA,UAAS,kBAClBmH,OAAQ,WACJs6F,EAAatZ,GAAUE,aACvB6Y,GACJ,IAIR,OAAO5a,IAAAA,SACH,kBACI,yBACIjH,UAAWyJ,KAAW,wBAAyB,CAC3C,mCAAoCmoC,GAA4Bv2G,KAGpE,yBACI2kE,UAAWyJ,KAAW,+BAAgC,CAClD,0CAA2CmoC,GAA4Bv2G,IAE3Exe,GAAG,gCAEFy3H,EAAQ13H,KAAI,SAAAqqD,GACT,IAAQyE,EAA0BzE,EAA1ByE,KAAMoxC,EAAoB71C,EAApB61C,QAASh1F,EAAWm/C,EAAXn/C,OACvB,OACI,yBACItM,IAAKshG,EACL9c,UAAWyJ,KAAW,+BAAgC,CAClD,0CAA2CmoC,GAA4Bv2G,KAG3E,kBAAC,EAAAk2C,KAAI,CACDyuB,UAAWyJ,KAAW,gCAAiC,CACnD,2CAA4CmoC,IAEhD3sF,MAAM,OACNC,OAAO,OACPwmB,KAAMA,EACN7uD,GAAI6uD,EACJ4kC,QAASxoF,IAEb,kBAAC,EAAA65C,KAAI,CAACyrC,MAAM,YAAYlxF,KAAMmf,EAAY,MAAQ,MAC7CyhF,GAIjB,IACA,2BACIvhG,KAAK,OACL8yF,IAAKsjC,EACLG,OAAO,OACPyC,QAAM,EACN1nC,SAAU,SAAAlxF,GACN4rG,EAAmB1rF,EAAiBlgB,GAAG,IACvC6/G,IACAtT,GAAc,GACdtJ,EAAgB,SACpB,IAEJ,kBAAC,EAAArO,eAAc,KACX,kBAAC,EAAAwhC,OAAM,CACHvhD,MAAOg2B,EAAeh2B,MACtByjB,WAAYiT,EACZqb,SAAU0I,EACV+G,sBAAoB,EACpBhyC,UAAU,mCACV0U,gBAAc,GAEd,kBAAC,GAAW,QAGpB,kBAAC,EAAAJ,cAAa,KACV,kBAAC,EAAAu+B,oBAAmB,CAChBC,cAAe5rB,EACflnB,UAAU,yBACVoU,QAAQzzF,EAAAA,EAAAA,UAAS,iBACjB0zF,aAAc,WACV2T,GAAkB,GAClBijB,GACJ,EACA8H,cAAc,OACdC,cAAY,GAEZ,yBAAKvkG,MAAM,eAAeuxD,UAAU,sBAChC,kBAAC,GAAW,UAK5B,kBAAC,GAAM,CAACmnB,kBAAmBA,IACzB,GAEV,CAACD,EAAgB0qB,GAEzB,ICtKO,IAAM4C,GAAgC,CACzC,CACI/lG,OAAO9tB,EAAAA,EAAAA,UAAS,oBAChBm8F,QAAS,EACLn8F,EAAAA,EAAAA,UACI,sGAEJA,EAAAA,EAAAA,UAAS,2EAEbo/F,MAAM,GAEV,CACItxE,OAAO9tB,EAAAA,EAAAA,UAAS,SAChBm8F,QAAS,EAACn8F,EAAAA,EAAAA,UAAS,0CACnBo/F,MAAM,GAEV,CACItxE,OAAO9tB,EAAAA,EAAAA,UAAS,QAChBm8F,QAAS,EACLn8F,EAAAA,EAAAA,UAAS,kBACTA,EAAAA,EAAAA,UAAS,uCACTA,EAAAA,EAAAA,UAAS,+CAEbo/F,MAAM,ICqEd,SAAezkE,GAAQ,gBAAGupB,EAAS,EAATA,UAAS,MAAmB,CAClDw4C,4BAA6Bx4C,EAAUw4C,4BACvC7T,sBAAuB3kC,EAAU2kC,sBACjC4Y,aAAcv9C,EAAUu9C,aACxBgG,qBAAsBvjD,EAAUujD,qBAChCG,uBAAwB1jD,EAAU0jD,uBACrC,GAND,EAnFkB,SAAH,GAMG,IALdlL,EAA2B,EAA3BA,4BACA7T,EAAqB,EAArBA,sBACA4Y,EAAY,EAAZA,aACAgG,EAAoB,EAApBA,qBACAG,EAAsB,EAAtBA,uBAEMltF,GAAYwuE,EAAAA,EAAAA,YAUZ4qC,EAAc,WAChBlsB,GAAuB,GACvBnxB,aAAa6qB,QAAQ,wBAAyB/jG,KAAKC,UAAUwI,KAAKoX,OACtE,EAEM22G,EAAa,WAAH,OACZ,yBAAK10C,UAAU,iBACX,yBAAKA,UAAU,8BAA8BsQ,QAASmkC,GAClD,kBAAC,EAAAljE,KAAI,CAACtsB,MAAM,OAAOC,OAAO,OAAOwmB,KAAK,qBAGzC8oE,GAAc53H,KAAI,SAAA+3H,GACf,IAAQlmG,EAAyBkmG,EAAzBlmG,MAAOquE,EAAkB63B,EAAlB73B,QAASiD,EAAS40B,EAAT50B,KACxB,OACI,yBAAKvkG,IAAG,UAAKizB,EAAK,YAAIquE,IAClB,kBAAC,EAAAn7C,KAAI,CAACyrC,MAAM,YAAYqE,YAAY,MAAMv1F,KAAMmf,EAAY,IAAM,IAAK8xE,OAAO,OAAOqE,GAAG,MACnF/iE,GAEJquE,EAAQlgG,KAAI,SAAA8K,GAAI,OACb,kBAAC,EAAAi6C,KAAI,CACDnmD,IAAG,yBAAoBkM,GACvBs4E,UAAWyJ,KAAW,sBAAuB,CACzC,yBAA0BsW,IAE9B3S,MAAM,YACNqE,YAAY,KACZD,GAAG,IACHlB,QAAS,kBApCnB,SAACyP,EAAetxE,GAG9B,MAAO,CACHmmG,cAHkB70B,EAAOqC,EAAatZ,GAAUG,UAAY,KAI5D4rC,eAHuCzsB,EAAV,UAAV35E,EAAyC,EAA0B,GAK9F,CA6B2CqmG,CAAU/0B,EAAMtxE,EAAM,EACrCvyB,KAAMmf,EAAY,MAAQ,KAEzB3T,EACE,IAIvB,IACE,EAGV,OACI,oCACI,kBAAC,EAAA6oF,eAAc,MACT8M,GACE,yBACIrd,UAAWyJ,KAAW,6BAA8B,CAChD,qCAAsCD,KAGzCkrC,MAIb,kBAAC,EAAApgC,cAAa,KACV,kBAAC,EAAAE,MAAK,CACFxU,UAAU,8CACVyU,QAASjL,EACTmL,YAAa8/B,EACbxvF,MAAO,SAEP,kBAAC,EAAAuvD,MAAA,KAAU,KAAEkgC,OAKjC,IChEA,GAxBkB,SAAH,GAA2D,IAArDtyB,EAAY,EAAZA,aAAcgG,EAAoB,EAApBA,qBAC/B,OACI,yBAAKpoB,UAAU,mCACX,4BACI,cAAY,iBACZsQ,QAAS,WACL8R,EAAatZ,GAAUG,UACvBmf,EAAqB,EACzB,GAEA,kBAAC,EAAA72C,KAAI,CACDyuB,UAAU,wCACV/6C,MAAM,SACNC,OAAO,SACPwmB,KAAM,oBAEV,kBAAC,EAAA/J,KAAI,CAACyrC,MAAM,YAAYlxF,KAAK,KAAKu1F,YAAY,IAAIzR,UAAW,0CACxDr/E,EAAAA,EAAAA,UAAS,gBAK9B,ECVA,IAAMo0H,GAAiB,SAAH,OAAM15G,EAAS,EAATA,UAAWu2G,EAAwB,EAAxBA,yBAAwB,OACzD,yBACI5xC,UAAWyJ,KAAW,yBAA0B,CAC5C,sCAAuCmoC,GAA4Bv2G,KAGvE,kBAAC,EAAAsmC,KAAI,CAACyrC,MAAM,YAAYqE,YAAY,MAAMv1F,KAAMmf,EAAY,IAAM,IAAK8xE,OAAO,SACzExsF,EAAAA,EAAAA,UAAS,2BAEZ,EAGJq0H,GAAkB,SAAH,OAAMC,EAAe,EAAfA,gBAAe,OACtC,kBAAC,EAAA3gC,cAAa,KACV,6BACI,kBAAC,GAAK,CAAC2gC,gBAAiBA,KAEhB,EAGdC,GAAuB,SAAH,OAAM75G,EAAS,EAATA,UAAWu2G,EAAwB,EAAxBA,yBAAwB,OAC/D,yBACI5xC,UAAWyJ,KAAW,8BAA+B,CACjD,8CAA+CmoC,IAA6Bv2G,EAC5E,mDACKu2G,IAA8BA,GAA4Bv2G,KAGnE,kBAAC,EAAAsmC,KAAI,CAACyrC,MAAM,YAAYqE,YAAY,IAAIv1F,KAAMmf,EAAY,MAAQ,MAC7D1a,EAAAA,EAAAA,UACG,4GAGN,EAGJw0H,IAAqB91H,EAAAA,EAAAA,KAAS,YAA2C,IAAxC41H,EAAe,EAAfA,gBACnC,EAAkC1D,KAA1BrsE,EAAU,EAAVA,WAAYL,EAAS,EAATA,UACZ61D,EAAyBx1D,EAAzBw1D,qBACAtY,EAAoEv9C,EAApEu9C,aAAcgG,EAAsDvjD,EAAtDujD,qBAAsB/K,EAAgCx4C,EAAhCw4C,4BACtCu0B,IAA6BlX,UAAAA,EAAsBl5G,QACnD6Z,GAAYwuE,EAAAA,EAAAA,YAElB,OACI,kBAAC,aAAc,KACX,yBACI7J,UAAWyJ,KAAW,iBAAkB,CACpC,8BAA+B4T,KAGnC,yBAAKrd,UAAU,2BACX,yBACIA,UAAWyJ,KAAW,2BAA4B,CAC9C,oCAAqCpuE,GAAau2G,EAClD,wCAAyCA,MAG3CA,IAA6Bv2G,GAC3B,kBAAC05G,GAAc,CAAC15G,UAAWA,EAAWu2G,yBAA0BA,IAEpE,kBAAC,EAAArhC,eAAc,MACTqhC,GACE,kBAAC,GAAS,CAACxvB,aAAcA,EAAcgG,qBAAsBA,KAGrE,6BACI,yBACIpoB,UAAWyJ,KAAW,CAClB,mCAAoCpuE,EACpC,8CACIA,GAAau2G,KAGpBv2G,IAAcu2G,GACX,kBAACmD,GAAc,CACX15G,UAAWA,EACXu2G,yBAA0BA,MAG/Bv2G,GAAcA,GAAau2G,IAC1B,kBAACsD,GAAoB,CACjB75G,UAAWA,EACXu2G,yBAA0BA,IAGlC,kBAACoD,GAAe,CACZC,gBAAiBA,EACjBrD,yBAA0BA,KAGjCv2G,IAAcu2G,GACX,kBAACsD,GAAoB,CACjB75G,UAAWA,EACXu2G,yBAA0BA,KAItC,kBAAC,GAAK,CAACA,yBAA0BA,EAA0Bv2G,UAAWA,KAGzEu2G,IAA6Bv2G,GAC1B,yBAAK2kE,UAAU,2BACX,kBAAC,GAAK,CAACi1C,gBAAiBA,OAKxC,kBAAC,GAAS,MAGtB,IAEA,MCpIA,GDoIA,g+CElGA,SAhC4B,SAAH,GAAuE,IAAjEG,EAAK,EAALA,MAAOtmC,EAAM,EAANA,OAAW3J,oXAAK,OAClD,OACI,kBAAC,MAAY,IACTiwC,MAAOA,EACPC,YAAU,EACV/5H,SAAUupG,GACVU,OAAQ,CAAE+vB,KAAM,aACZnwC,EAAK,CACT2J,OAAM,IACFl0F,QAAS,CACL26H,WAAY,wBACZvoC,gBAAiB,wBACjBwoC,aAAc,yBACdC,UAAW,sBACXC,gBAAiB,+BAErBC,WAAY,CACRC,OAAQ,0CACRC,YAAa,OACbC,aAAc,SACd1oC,MAAO,sBACP2oC,QAAS,UAEbC,QAAS,CACL9wF,OAAQ,SAET4pD,KAInB,2qDCNA,IAAMmnC,GAAa,SAAH,GAA2D,IAArDxnG,EAAK,EAALA,MAAK,IAAElzB,KAAAA,OAAI,IAAG,YAAS,EAAK4pF,EAAK,SACnD,OACI,+BAAQnF,UAAWzkF,GAAU4pF,GACzB,kBAAC,EAAAxjC,KAAI,CAACyrC,MAAM,YAAYn2D,MAAM,SAASk2D,OAAO,OAAOqE,GAAG,OAAOC,YAAY,IAAIv1F,KAAK,MAC/EuyB,GAIjB,EAEMynG,GAAY,SAAH,GAAiE,IAA3DC,EAAY,EAAZA,aAAY,IAAEC,SAAAA,OAAQ,IAAG,GAAK,EAAKjxC,EAAK,SACN,KAAxB8B,IAAAA,SAAemvC,GAAS,GAA5C3hC,EAAO,KAAE4hC,EAAO,KACfv5B,EAAoBq5B,EAApBr5B,QAAS1I,EAAW+hC,EAAX/hC,OAEjB,OACI,4BAAKpU,UAAU,kBAAqBmF,GAChC,6BACI,yBAAKnF,UAAU,yBAAyBsQ,QAAS,kBAAM+lC,GAAS5hC,EAAQ,GACpE,yBAAKzU,UAAU,0BACX,kBAAC,EAAAr+B,KAAI,CAAC6vC,GAAG,OAAOt1F,KAAK,KAAKixF,OAAO,SAC5BxsF,EAAAA,EAAAA,UAASyzF,KAGlB,yBAAKpU,UAAU,wBACX,kBAAC,EAAAzuB,KAAI,CAAC7F,KAAM+oC,EAAU,oBAAsB,sBAGpD,yBACIzU,UAAWyJ,KAAW,0BAA2B,CAC7C,gCAAiCgL,KAGrC,kBAAC,EAAA9yC,KAAI,CAAC6vC,GAAG,OAAOt1F,KAAK,MAAMu1F,YAAY,IAAIrE,MAAM,uBAC5CzsF,EAAAA,EAAAA,UAASm8F,MAMlC,EAmKA,SAAexhE,GAAQ,gBAAGupB,EAAS,EAATA,UAAWK,EAAU,EAAVA,WAAU,MAAmB,CAC9DqkC,WAAY1kC,EAAU0kC,WACtBwd,6BAA8BliD,EAAUkiD,6BACxC1J,4BAA6Bx4C,EAAUw4C,4BACvCwG,YAAah/C,EAAUg/C,YACvBgF,UAAWhkD,EAAUgkD,UACrBzG,aAAcv9C,EAAUu9C,aACxBoF,kBAAmB3iD,EAAU2iD,kBAC7B8U,oBAAqBp3D,EAAWo3D,oBACnC,GATD,EAjKmB,SAAH,GAOG,IANfzY,EAAW,EAAXA,YACAgF,EAAS,EAATA,UACAxL,EAA2B,EAA3BA,4BACA0J,EAA4B,EAA5BA,6BACAS,EAAiB,EAAjBA,kBACA8U,EAAmB,EAAnBA,oBAEiD,KAAzBr1B,IAAAA,SAAuB,GAAE,GAA1CtjD,EAAI,KAAE2yF,EAAO,KACsD,KAArCrvC,IAAAA,SAAkC,IAAG,GAAnEsvC,EAAc,KAAEC,EAAU,KAC4B,KAA1BvvC,IAAAA,SAAuB,IAAG,GAAtDwvC,EAAa,KAAEC,EAAS,KAC0B,KAA1BzvC,IAAAA,SAAuB,IAAG,GAAlD0vC,EAAY,KAAEC,EAAM,KAC6B,KAAzB3vC,IAAAA,SAAuB,GAAE,GAAjDmf,EAAQ,KAAEywB,EAAU,KAE3B5vC,IAAAA,WAAgB,WACZugB,EAAkB7jE,GAClB5iC,OAAOrE,OAAQ2gG,EAAmD8I,GAArBD,IAA6CjpG,SAAQ,SAAAI,GAC1FA,EAAK7B,MAAQmoC,IACb6yF,EAAWn5H,aAAI,EAAJA,EAAMy/F,SACjB45B,EAAUr5H,aAAI,EAAJA,EAAM+2F,QAChBwiC,EAAOv5H,aAAI,EAAJA,EAAMkoE,KACbsxD,EAAWx5H,aAAI,EAAJA,EAAM+oG,UAEzB,IACA,IAAM3C,EAAS3nF,SAASy8C,cAAc,wCAClCwuC,GAAyC,IAATpjE,EAEhC8/D,SAAAA,EAAQpE,UAAU9gB,IAAI,mBAEtBklB,SAAAA,EAAQpE,UAAU1sB,OAAO,mBAGzB2pC,KADAvV,GAAyC,IAATpjE,GAGxC,GAAG,CAACA,IAEJ,IAAMkpD,EAAW5F,IAAAA,aACb,SAAC9hB,GACG,IAAM2xD,EAAez5B,EAAmD8I,GAArBD,GACrC,QAAV/gC,GAAmBxhC,EAAO5iC,OAAO2Z,KAAKo8G,GAAat1H,OAAQ80H,EAAQ3yF,EAAO,GAC3D,QAAVwhC,GAAmBxhC,EAAO,EAAG2yF,EAAQ3yF,EAAO,GAClC,SAAVwhC,GAAkB0+B,GAC/B,GACA,CAAClgE,IAGCwyF,EAAejwB,GAAmB57F,MAAK,YAAM,SAAH9O,MAAkBmoC,CAAI,IAChEozF,EAAc9vC,IAAAA,aAAkB,WAClC4F,EAAS,OACTgc,EAAUllE,EAAM05D,EACpB,GAAG,CAAC15D,IAEEqzF,EAAiB35B,GAAwC,IAAT15D,GAAkChjC,EAAAA,EAAAA,UAAS,SAA9BA,EAAAA,EAAAA,UAAS,UAEtEs2H,EAAmB55B,GAA4C,IAAb+I,GAAiBzlG,EAAAA,EAAAA,UAAS,SAAWq2H,EAE7F,OACI,oCACI,yBACIh3C,UAAWyJ,KAAW,cAAe,CACjC,iCAAkC4T,EAClC,sBAAuBA,GAAwC,IAAT15D,EACtD,6BAA8B05D,GAA4C,IAAb+I,KAGhE/I,GAA+Bo5B,GAA8B,IAAbrwB,GAC7C,yBAAKpmB,UAAU,uBACX,kBAAC,EAAAr+B,KAAI,CACDyrC,MAAM,iBACND,OAAO,iBACPsE,YAAY,IACZv1F,KAAK,OAAK,UACTkqG,EAAQ,OACb,kBAAC,EAAAzkD,KAAI,CACDyrC,MAAM,YACND,OAAO,wBACPsE,YAAY,IACZv1F,KAAK,MACLo0F,QAASuT,IAERljG,EAAAA,EAAAA,UAAS,eAKrB08F,GAA+Bo5B,GAC5B,kBAAC,EAAA90E,KAAI,CACDyrC,MAAM,YACND,OAAO,OACPl2D,MAAM,SACN+oD,UAAU,qBACVwR,GAAG,OACHC,YAAY,IACZv1F,KAAK,OAEJyE,EAAAA,EAAAA,UAAS81H,IAGjBp5B,GAA+Bs5B,GAC5B,yBAAK32C,UAAU,sBACX,yBAAK55D,IAAKuwG,KAGjBt5B,GAA+Bk5B,GAC5B,oCACKA,EAAe35H,KAAI,SAAAS,GAChB,OACI,kBAAC,EAAAskD,KAAI,CACDnmD,IAAK6B,EACL45B,MAAM,SACNm2D,MAAM,YACNpN,UAAU,uBACVwR,GAAG,MACHC,YAAY,IACZv1F,KAAK,QAEJyE,EAAAA,EAAAA,UAAStD,GAGtB,MAGNggG,GAA+B84B,GAAgB,kBAACD,GAAS,CAACC,aAAcA,EAAcC,UAAQ,IAChG,yBAAKp2C,UAAU,uBACX,yBAAKA,UAAU,+BACRqd,GAAgCA,GAAwC,IAAT15D,IAC9D,kBAAC,EAAAuzF,sBAAqB,CAClBvzF,KAAMA,EACNwzF,gBAAiBp2H,OAAO2Z,KACnB2iF,EAAmD8I,GAArBD,IAEnCowB,QAASA,KAIrB,yBAAKt2C,UAAU,6BACVqd,GAAwC,IAAT15D,GAC5B,kBAACsyF,GAAU,CACP3lC,QAAS,WACLzD,EAAS,OACb,EACAp+D,OAAO9tB,EAAAA,EAAAA,UAAS,WAGrBomG,GAAyC,IAATpjE,GAC9B05D,GAAwC,IAAT15D,GAAuB,IAATA,IAC9C,kBAACsyF,GAAU,CACP3lC,QAAS,WACLzD,EAAS,MACb,EACAp+D,OAAO9tB,EAAAA,EAAAA,UAAS,cAGxB,kBAACs1H,GAAU,CAAC16H,KAAK,SAAS+0F,QAASymC,EAAatoG,MAAOwoG,OAM/E,IC/CA,GAAe37F,GAAQ,gBAAGupB,EAAS,EAATA,UAAS,MAAmB,CAClD0kC,WAAY1kC,EAAU0kC,WACtByd,eAAgBniD,EAAUmiD,eAC1BK,uBAAwBxiD,EAAUwiD,uBAClCY,wBAAyBpjD,EAAUojD,wBACnCU,gBAAiB9jD,EAAU8jD,gBAC9B,GAND,EApK2B,SAAH,GAMG,IALvBpf,EAAU,EAAVA,WACAyd,EAAc,EAAdA,eACAK,EAAsB,EAAtBA,uBACAY,EAAuB,EAAvBA,wBACAU,EAAe,EAAfA,gBAEMttF,GAAYwuE,EAAAA,EAAAA,YAEZutC,EAAa,SAACjjH,EAAgB5Y,GACV,iBAAlBipG,GAAUhpG,KACG,cAATD,EACAotG,EAAgBpf,EAAYp1E,GAE5BowF,IAAgB,IAAI59F,MAAOE,UAAW,GAAF,OAAK29F,GAAUhpG,IAAG,WAE1DgpG,GAAUhpG,IAAM,gBACS,gBAAlBgpG,GAAUhpG,MACJ,cAATD,EACAotG,EAAgBpf,EAAYp1E,GAE5BowF,IAAgB,IAAI59F,MAAOE,UAAW,GAAF,OAAK29F,GAAUhpG,IAAG,WAE1DgpG,GAAUhpG,IAAM,eAEpBysG,GAAwB,EAC5B,EA2BMovB,EAAiB,SAAC97H,GACpB,OACI,oCACc,WAATA,IAbgC+7H,EAaoB/tC,EAAhByd,EARvB,IAAXswB,GAAqB32H,EAAAA,EAAAA,UAAS,oBAC7BA,EAAAA,EAAAA,UAAS,4BAHF,IAAX22H,GAAqB32H,EAAAA,EAAAA,UAAS0a,EAAY,oBAAsB,uBACxD1a,EAAAA,EAAAA,UAAS,wBAUP,YAATpF,GAAqC,IAAfguF,IA5B1Byd,EAUD,kBAAC,EAAArY,SAAQ,CAACnzF,IAAK,EAAGozF,kBAAmB,kCAAmCC,WAAY,CAAC,4BAAQrzF,IAAK,OAR9F,kBAAC,EAAAmzF,SAAQ,CACLnzF,IAAK,EACLozF,kBAAmB,iEACnBC,WAAY,CAAC,4BAAQrzF,IAAK,QAwBpB,YAATD,GACkB,IAAfguF,IACEyd,EAkCE,oCACI,yBAAKhnB,UAAU,yCACX,kBAAC,EAAA2O,SAAQ,CACLnzF,IAAK,EACLozF,kBACI,qEAIZ,yBAAK5O,UAAU,yCACX,kBAAC,EAAA2O,SAAQ,CACLnzF,IAAK,EACLozF,kBAAmB,oDACnBC,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,yBAAKwkF,UAAU,yCACX,kBAAC,EAAA2O,SAAQ,CACLnzF,IAAK,EACLozF,kBACI,sGAEJC,WAAY,CAAC,4BAAQrzF,IAAK,SAvDtC,oCACI,yBAAKwkF,UAAU,yCACX,kBAAC,EAAA2O,SAAQ,CACLnzF,IAAK,EACLozF,kBACIvzE,EACM,qDACA,uEAIlB,yBAAK2kE,UAAU,yCACX,kBAAC,EAAA2O,SAAQ,CACLnzF,IAAK,EACLozF,kBACIvzE,EACM,6IACA,gEAEVwzE,WAAY,CAAC,4BAAQrzF,IAAK,QAGlC,yBAAKwkF,UAAU,yCACX,kBAAC,EAAA2O,SAAQ,CACLnzF,IAAK,EACLozF,kBACI,qEAEJC,WAAY,CAAC,4BAAQrzF,IAAK,WA9CnC,IAAsB87H,CAgF7C,EAEMC,EAAgC,IAAfhuC,GAAmB5oF,EAAAA,EAAAA,UAAS,oBAAqBA,EAAAA,EAAAA,UAAS,MAE3E62H,EAAkBvwC,IAAAA,aAAkB,WACtC,IAAMz4E,EAAmC,aAA1Bm2F,GAAkBnpG,IAGjC,OAFA47H,GAAW5oH,IAAkBw4F,EAAgB,aAC7CrC,GAAkBnpG,IAAM,GACjBgT,EAASm2F,GAAkBnpG,IAAM,IAC5C,GAAG,CAACwrG,EAAgBzd,IAEpB,OACI,6BACI,kBAAC,EAAAwoC,OAAM,CACH99B,WAAYoT,EACZse,oBAAoBhlH,EAAAA,EAAAA,UAAS,QAC7B4hH,SAAU,kBAAM6U,GAAW,EAAO,WAAW,EAC7C/D,oBAAqBrsB,EAAiBuwB,GAAiB52H,EAAAA,EAAAA,UAAS,SAChE2hH,UAAWkV,EACXxF,sBAAoB,EACpBhyC,UAAWyJ,KAAW,YAAa,CAC/B,cAA8B,IAAfF,GAAmC,IAAfA,EACnC,oBAAoC,IAAfA,GAAmC,IAAfA,IAAqByd,IAElEtS,gBAAgB,GAEhB,yBAAK1U,UAAU,8BACX,kBAAC,EAAAr+B,KAAI,CAACwrC,OAAO,OAAOC,MAAM,YAAYlxF,KAAMmf,EAAY,KAAO,KAC1DgsF,GAA0BgwB,EAAe,YAGlD,yBAAKr3C,UAAU,mCACX,kBAAC,EAAAr+B,KAAI,CAACzlD,KAAMmf,EAAY,MAAQ,IAAK+xE,MAAM,aACtCia,GAA0BgwB,EAAe,cAMlE,oQChKA,IAAMI,GAAM,SAAH,GAA6C,IAAvCl8H,EAAI,EAAJA,KAAMuhG,EAAO,EAAPA,QAAS12E,EAAG,EAAHA,IAC1B,GAAa,UAAT7qB,EAAkB,OAAO,yBAAK6qB,IAAKA,IACvC,IAAM/K,GAAYwuE,EAAAA,EAAAA,YAElB,OACI,kBAAC,EAAAloC,KAAI,CACD6vC,GAAG,IACHt1F,KAAMmf,EAAY,KAAO,IACzBo2E,YAAap2E,EAAY,KAAO,MAChC2kE,UAAU,mBACVmN,OAAO,SACP3xF,IAAKshG,EACL46B,wBAAyB,CAAEC,OAAQ76B,IAG/C,EA6CA,SAAexhE,GAAQ,YAAY,MAAmB,CAClDmrE,iBAD+B,EAAT5hD,UACM4hD,iBAC/B,GAFD,EA3CmB,SAAH,GAAyE,IAAnEmxB,EAAQ,EAARA,SAAUnxB,EAAgB,EAAhBA,iBAAgB,IAAEoxB,YAAAA,OAAW,IAAG,GAAK,EAmBjE,OACI,6BACI,yBAAK73C,UAAU,iBACT63C,GACE,kBAAC,EAAAl2E,KAAI,CAAC6vC,GAAG,IAAIC,YAAY,KAAKzR,UAAU,uBAAuBmN,OAAO,SACjExsF,EAAAA,EAAAA,UAAS,QAGjBi3H,SAAAA,EAAUp2H,OACP,kBAAC,EAAA00H,UAAS,CAACl2C,UAAU,wBAAwBvjD,KA1BlDm7F,EAASh7H,KAAI,gBAAG4zE,EAAK,EAALA,MAAO9hD,EAAW,EAAXA,YAAW,MAAkB,CACvD0lE,OACI,kBAAC,EAAAzyC,KAAI,CACD6vC,GAAG,IACHC,YAAY,KACZzR,UAAU,aACVmN,OAAO,OACP3xF,IAAKg1E,EACLt0E,MAAM2tF,EAAAA,EAAAA,YAAa,KAAO,KAEzBrZ,GAGTssB,QAASpuE,EAAY9xB,KAAI,SAAAugC,GAAI,OAAI,kBAACs6F,GAAG,MAAKt6F,EAAI,CAAE3hC,IAAG,+BAA0B2hC,KAAU,IAC1F,IAYyE26F,WAAW,GAAGC,UAAU,KAEtF,yBAAK/3C,UAAU,0BACX,kBAAC,EAAAr+B,KAAI,CAAC6vC,GAAG,KAAKrE,OAAO,OAAOsE,YAAY,QACnC9wF,EAAAA,EAAAA,UAAS,4CAA6C,CACnD8lG,iBAAAA,OAQhC,IC2GA,GAAenrE,GAAQ,gBAAGupB,EAAS,EAATA,UAAWK,EAAU,EAAVA,WAAU,MAAmB,CAC9DshD,eAAgB3hD,EAAU2hD,eAC1BC,iBAAkB5hD,EAAU4hD,iBAC5BS,eAAgBriD,EAAUqiD,eAC1Bqe,gBAAiB1gE,EAAUsjD,cAC3B/F,aAAcv9C,EAAUu9C,aACxBwF,gBAAiB/iD,EAAU+iD,gBAC3BjE,uBAAwB9+C,EAAU8+C,uBAClCC,cAAe/+C,EAAU++C,cACzBqE,wBAAyBpjD,EAAUojD,wBACnCK,gBAAiBzjD,EAAUyjD,gBAC3B+T,gBAAiBn3D,EAAWm3D,gBAC/B,GAZD,EA/JqB,SAAH,GAYG,IAXjB7V,EAAc,EAAdA,eACAC,EAAgB,EAAhBA,iBACAuxB,EAAU,EAAVA,WACA9wB,EAAc,EAAdA,eACAqe,EAAe,EAAfA,gBACAnjB,EAAY,EAAZA,aACAwF,EAAe,EAAfA,gBACAjE,EAAsB,EAAtBA,uBACAC,EAAa,EAAbA,cACAqE,EAAuB,EAAvBA,wBACAK,EAAe,EAAfA,gBA+BMjtF,GAAYwuE,EAAAA,EAAAA,YAElB,OAAO5C,IAAAA,SACH,kBACI,yBAAKjH,UAAU,mBACVg4C,aAAU,EAAVA,EAAYx2H,QAAS,GAClB,kBAAC,EAAAmgD,KAAI,CAAC1qB,MAAM,SAASk2D,OAAO,OAAOC,MAAM,YAAYqE,YAAY,IAAIv1F,KAAMmf,EAAY,MAAQ,KAAI,uBAIvG,yBAAK2kE,UAAU,yBACVg4C,GACGA,EAAWp7H,KAAI,YAAyC,IAAtCC,EAAE,EAAFA,GAAIigG,EAAO,EAAPA,QAAS12E,EAAG,EAAHA,IAAK7qB,EAAI,EAAJA,KAAM08H,EAAO,EAAPA,QACtC,MACa,SAAT18H,GACI,yBACIykF,UAAU,oDACVxkF,IAAKqB,EACLyzF,QAAS,kBA/CzB,SAAC/0F,GAAiB,MAC5B2qF,EAAUhoF,KAAKiB,MAAkB,QAAb,EAACi4E,oBAAY,aAAZ,EAAc8gD,eAC5B,YAAT38H,GACI2qF,EAAQiyC,qBACRj2B,GAAe,sBACfA,GAAe,uBACfA,GAAe,uBAEnBsC,GAAUhpG,IAAM,eAChBosG,GAAgB,GACZvsF,GACAuoF,GAAc,GACdD,GAAuB,IAEvBsE,GAAwB,GAE5B7F,EAAatZ,GAAUC,aAEnB7C,EAAQkyC,oBACRl2B,GAAe,qBACfA,GAAe,sBACfA,GAAe,wBAEnBsC,GAAUhpG,IAAM,cAChBosG,GAAgB,GAChBK,GAAwB,GACxB7F,EAAatZ,GAAUE,aAE/B,CAmBmDqvC,CAAYJ,EAAQ,GAEnC,yBACIj4C,UAAWyJ,KAAW,qCAAsC,CACxD,yCAA0CrjE,IAE9CrrB,MAAO,CACHu9H,gBAAiB,OAAF,OAASlyG,EAAG,QAGnC,kBAAC,EAAAu7B,KAAI,CACD1qB,MAAM,SACNm2D,MAAM,YACNqE,YAAY,IACZv1F,KAAMmf,EAAY,MAAQ,KAEzByhF,GAKrB,MAEPk7B,aAAU,EAAVA,EAAYx2H,QAAS,GAClB,kBAAC,EAAAmgD,KAAI,CAAC1qB,MAAM,SAASk2D,OAAO,OAAOC,MAAM,YAAYqE,YAAY,IAAIv1F,KAAMmf,EAAY,MAAQ,KAAI,kBAIvG,yBAAK2kE,UAAU,yBACVg4C,GACGA,EAAWp7H,KAAI,YAAqC,IAAlCC,EAAE,EAAFA,GAAIigG,EAAO,EAAPA,QAASn1F,EAAG,EAAHA,IAAKpM,EAAI,EAAJA,KAAM6qB,EAAG,EAAHA,IACtC,MACa,SAAT7qB,GACI,yBAAKykF,UAAU,2DAA2DxkF,IAAKqB,GAC3E,yBACImjF,UAAWyJ,KAAW,8BAA+B,CACjD,yCAA0C9hF,IAE9C5M,MAAO,CACHu9H,gBAAiB,OAAF,OAASlyG,EAAG,OAG/B,yBAAK45D,UAAU,6CACX,kBAAC,EAAAzuB,KAAI,CACDyuB,UAAU,kDACV/6C,MAAM,OACNC,OAAO,OACPwmB,KAAM,gBACN4kC,QAAS,kBACLgY,EAAgB,CACZ/sG,KAAM,MACNoM,IAAAA,GACF,MAKlB,kBAAC,EAAAg6C,KAAI,CACD1qB,MAAM,SACNm2D,MAAM,YACNqE,YAAY,IACZv1F,KAAMmf,EAAY,MAAQ,KAEzByhF,GAKrB,KACFk7B,EAAWx2H,QACT,yBAAKw+E,UAAU,mCACX,kBAAC,EAAAr+B,KAAI,CAAC6vC,GAAG,KAAKrE,OAAO,OAAOsE,YAAY,QACnC9wF,EAAAA,EAAAA,UAAS,4CAA6C,CACnD8lG,iBAAAA,OAMpB,kBAAC,EAAAsrB,OAAM,CACHvhD,MAAOg2B,EAAeh2B,MACtByjB,WAAYiT,EACZye,oBAAoBhlH,EAAAA,EAAAA,UAAS,UAC7B4hH,SAAUgD,EACV8N,qBAAqB1yH,EAAAA,EAAAA,UAAS,MAC9B2hH,UAAWiD,EACXyM,sBAAoB,EACpBhyC,UAAW,YACX0U,gBAAc,EACd6jC,QAAShT,GAET,4BAAQtgF,MAAM,OAAOC,OAAO,OAAO9e,IAAKogF,EAAe7+F,IAAK6wH,YAAY,IAAIC,iBAAe,KAE7F,GAEV,CAACT,EAAY9wB,GAErB,ICjKO,IAAMwxB,GAA0C,CACnD,CACI77H,GAAI,EACJtB,KAAM,OACN08H,QAAS,UACTn7B,SAASn8F,EAAAA,EAAAA,UAAS,uBAClBylB,IAAK49D,EAAiB,qBAE1B,CACInnF,GAAI,EACJtB,KAAM,OACN08H,QAAS,aACTn7B,SAASn8F,EAAAA,EAAAA,UAAS,sBAClBylB,IAAK49D,EAAiB,sBAIjB20C,GAAiC,CAC1C,CACI97H,GAAI,EACJtB,KAAM,YACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,yCAClBgH,IAAK,4CACLye,IAAK49D,EAAiB,qBAIjB40C,GAA6B,CACtC,CACIpoD,OAAO7vE,EAAAA,EAAAA,UAAS,iBAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,yKAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,sCAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,wBAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,2CAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,sLAGR,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,oBAE1B,CACIzoF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,8FAGR,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,2BAE1B,CACIzoF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,sMAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,8CAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,gGAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,8BAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,2FAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,mIAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,iEAI9B,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,gDAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,wVAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,6BAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,qKAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,4CAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,+EAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,wCAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,kEAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,sIAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,kIAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,8BAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,mPAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,iDAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,2QAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,+CAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,iHAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,2DAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,4CAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,mDAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,wHAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,6DAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,8CAI9B,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,iCAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,+KAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,sCAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,gEAEtB,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,8BAE1B,CACIzoF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,2CAEtB,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,wCAIlC,CACIxT,OAAO7vE,EAAAA,EAAAA,UAAS,yCAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,6IAGR,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,qBAE1B,CACIzoF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,uCAEtB,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,mKAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,kLAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,8JAGR,CACIpF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,sJAGR,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,sCAE1B,CACIzoF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,0MAGR,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,yCAE1B,CACIzoF,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,0KAGR,CACIpF,KAAM,QACN6qB,IAAK49D,EAAiB,gDAIlC,CACIxT,OAAO7vE,EAAAA,EAAAA,UAAS,sDAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,gXAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,yCAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,mDAI9B,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,6BAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,wHAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,yCAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,+KAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,yDAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UAAS,kEAI9B,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,+DAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,oLAKhB,CACI6vE,OAAO7vE,EAAAA,EAAAA,UAAS,iCAChB+tB,YAAa,CACT,CACInzB,KAAM,OACNuhG,SAASn8F,EAAAA,EAAAA,UACL,wsDCvRpB,SAAe26B,GAAQ,gBAAGupB,EAAS,EAATA,UAAS,MAAmB,CAClDyhD,qBAAsBzhD,EAAUyhD,qBAChC/c,WAAY1kC,EAAU0kC,WACtBkd,iBAAkB5hD,EAAU4hD,iBAC5B2B,qBAAsBvjD,EAAUujD,qBAChCC,kBAAmBxjD,EAAUwjD,kBAChC,GAND,EA3GgB,SAAH,GAMQ,IALjB/B,EAAoB,EAApBA,qBACA/c,EAAU,EAAVA,WACAkd,EAAgB,EAAhBA,iBACA2B,EAAoB,EAApBA,qBACAC,EAAiB,EAAjBA,kBAEMwwB,EAAoB,GAAH,UAAOH,IAAkB,GAAKC,KACkC,KAAjC1xC,IAAAA,SAAe4xC,GAAkB,GAAhFC,EAAoB,KAAEC,EAAqB,KACqB,KAA3B9xC,IAAAA,SAAe2xC,IAAY,GAAhEI,EAAe,KAAEC,EAAgB,KAClCC,EAAejyC,IAAAA,OAAsC,MACrDkyC,EAAa,CACf,CACI1qG,OAAO9tB,EAAAA,EAAAA,UAAS,SAChBm8F,QAAS,kBAAC,GAAY,CAACk7B,WAAYc,KAEvC,CACIrqG,OAAO9tB,EAAAA,EAAAA,UAAS,OAChBm8F,QAAS,kBAAC,GAAU,CAAC86B,SAAUoB,EAAiBnB,aAAahuC,EAAAA,EAAAA,gBAG/DuvC,GAAeD,aAAU,EAAVA,EAAa7yB,KAAyB,CAAC,EAE5Drf,IAAAA,WAAgB,WAAM,MACdiyC,SAAqB,QAAT,EAAZA,EAAc9zC,eAAO,OAArB,EAAuBjxE,QACvB+kH,EAAa9zC,QAAQjxE,MAAQ,GAC7B8kH,EAAiB,KAGrBF,EAAsBF,GACtBI,EAAiBL,GACrB,GAAG,CAACtyB,EAAsB/c,IAE1BtC,IAAAA,WAAgB,WACZ,IAAMoyC,EAAwC,IAAzB/yB,EAA6BuyB,EAAoBD,GAChEU,EAAgBD,EAAaxpH,QAAO,SAAAxS,GACtC,OAAOg8H,IAAiBR,EAClBx7H,EAAKy/F,QAAQtoE,cAAc3Z,SAAS4rF,GACpCppG,EAAKmzE,MAAMh8C,cAAc3Z,SAAS4rF,EAC5C,IACA,OAAgC,IAAzBH,EAA6ByyB,EAAsBO,GAAiBL,EAAiBK,EAChG,GAAG,CAAC7yB,IAEJ,IAOM8yB,EAAiBtyC,IAAAA,aACnB,YAAqD,IAAlD7iE,EAAM,EAANA,OACCgkF,EAAqB+wB,EAAWnlH,WAAU,SAAA3R,GAAC,OAAIA,EAAEosB,QAAUrK,EAAOjQ,KAAK,IAC3E,GACA,CAACmyF,IAGL,OACI,oCACI,kBAAC,EAAA/V,eAAc,KACX,yBAAKvQ,UAAU,oBACX,yBAAKA,UAAU,2BACX,kBAAC,EAAAzuB,KAAI,CAAC,cAAY,iBAAiBtsB,MAAM,SAASC,OAAO,SAASwmB,KAAM,aACxE,2BACI,cAAY,iBACZ2iC,IAAK6qC,EACL39H,KAAK,OACL62H,aAAazxH,EAAAA,EAAAA,UAAS,UACtBq/E,UAAU,wCACV6M,SA1BP,SAAC/vE,GACd,IAAM3I,EAAQ2I,EAAMsH,OAAOjQ,MAC3BqlH,MAAS,WACLnxB,EAAkBl0F,EACtB,GAAG,IAFHqlH,EAGJ,KAwBgB,kBAAC,EAAA17B,KAAI,CACD9d,UAAU,YACV4d,aAAc0I,EACdvI,eAAgBqK,EAChBhmC,KAAG,GAEF+2D,EAAWv8H,KAAI,gBAAG6xB,EAAK,EAALA,MAAOquE,EAAO,EAAPA,QAAO,OAC7B,yBAAKruE,MAAOA,EAAOjzB,IAAKizB,GACnBquE,EACC,OAKtB,kBAAC,EAAAxI,cAAa,KACV,yBAAKtU,UAAU,oBACX,yBAAKA,UAAU,4BACX,kBAAC,EAAAy5C,aAAY,CACT,cAAY,iBACZ/a,WAAYya,EAAWv8H,KAAI,WAAY8gD,GAAG,IAAZjvB,EAAK,EAALA,MAAK,MAAa,CAAE5xB,GAAI6gD,EAAKvpC,MAAOsa,EAAO/mB,KAAM+mB,EAAO,IACtFta,MAAOilH,EAAa3qG,MACpBA,MAAO,GACPirG,0BAA0B,EAC1B7sC,SAAU0sC,KAGlB,yBAAKv5C,UAAWyJ,KAAW,CAAE,0BAAoD,IAAzB6c,KACnD8yB,EAAat8B,WAMtC,IC1HA,MC2QA,GAAexhE,GAAQ,gBAAGupB,EAAS,EAATA,UAAWskC,EAAS,EAATA,UAAWjkC,EAAU,EAAVA,WAAY08C,EAAc,EAAdA,eAAc,MAAmB,CACzFrY,WAAY1kC,EAAU0kC,WACtBqd,gBAAiB/hD,EAAU+hD,gBAC3BK,iBAAkBpiD,EAAUoiD,iBAC5BrD,cAAe/+C,EAAU++C,cACzBvG,4BAA6Bx4C,EAAUw4C,4BACvCsG,uBAAwB9+C,EAAU8+C,uBAClCoE,uBAAwBljD,EAAUkjD,uBAClC8T,UAAW32D,EAAW22D,UACtB5T,wBAAyBpjD,EAAUojD,wBACnCL,gBAAiB/iD,EAAU+iD,gBAC3BV,eAAgB/d,EAAU+d,eAC1B9d,eAAgBD,EAAUC,eAC1B2d,6BAA8BliD,EAAUkiD,6BACxCM,uBAAwBxiD,EAAUwiD,uBAClCb,eAAgBrd,EAAUqd,eAC1Bgf,oBAAqBr8B,EAAUq8B,oBAC/Brd,cAAehf,EAAUgf,cACzBod,gBAAiBp8B,EAAUo8B,gBAC3BnjB,aAAcv9C,EAAUu9C,aACxByF,wBAAyBhjD,EAAUgjD,wBACnCC,wBAAyBjjD,EAAUijD,wBACnCd,eAAgBniD,EAAUmiD,eAC1BiX,uBAAwBrc,EAAeqc,uBAC1C,GAxBD,EAnNkB,SAAH,GAuBG,MAMV0b,EA5BJpwC,EAAU,EAAVA,WACAH,EAAc,EAAdA,eACAod,EAAc,EAAdA,eACAI,EAAe,EAAfA,gBACAK,EAAgB,EAAhBA,iBACA5J,EAA2B,EAA3BA,4BACA0J,EAA4B,EAA5BA,6BACAG,EAAc,EAAdA,eACAG,EAAsB,EAAtBA,uBACA4W,EAAsB,EAAtBA,uBACAuH,EAAmB,EAAnBA,oBACArd,EAAa,EAAbA,cACA0T,EAAS,EAATA,UACA0J,EAAe,EAAfA,gBACAnjB,EAAY,EAAZA,aACAyF,EAAuB,EAAvBA,wBACAE,EAAsB,EAAtBA,uBACAD,EAAuB,EAAvBA,wBACAnE,EAAsB,EAAtBA,uBACAC,EAAa,EAAbA,cACAqE,EAAuB,EAAvBA,wBACAL,EAAe,EAAfA,gBAEQ7e,EAAkCD,GAAAA,UAAvBE,EAAuBF,GAAAA,YAAVD,EAAUC,GAAAA,MACpC8wC,EAAmB3yC,IAAAA,QAAa,GAClC4yC,EAAkC,GAClC1B,EAAsC,GACtCjyC,EAAU,GAER7qE,GAAYwuE,EAAAA,EAAAA,YAEZiwC,EAAgB,SAACtrH,GACnB,GAAIA,EAAQ,CACR,IAAQxC,EAAWwC,EAAXxC,OACQ,CAAC,OAAQ,SAEb6O,SAAS7O,KACK,gBAAlBw4F,GAAUhpG,IACVusG,GAAuB,GAEvBpE,GAAuB,GAE3BC,GAAc,GAEtB,CACJ,EAEA3c,IAAAA,WAAgB,WACRsC,IAAeP,IrI5GC,WAA8B,IAA7B+wC,EAAS,UAAH,6CAAG,GAAI70F,EAAS,UAAH,6CAAG,GAM/C17B,QAAQwwH,SAASj0E,UAAUk0E,eAA0B,EAATF,EAAa70F,EAOzD17B,QAAQwwH,SAASj0E,UAAUm0E,aAAeH,EAM1CvwH,QAAQwwH,SAASj0E,UAAU0lD,MAAQ,WAAa,EAEhDzrG,OAAOwe,cAAc,IAAIC,MAAM,UACnC,CqIwFgB07G,CADA/wC,EACa,IAEA,IAEjBh7E,YAAW,WACPpO,OAAOwe,cAAc,IAAIC,MAAM,UACnC,GAAG,MAEH8qE,IAAeR,GAAa6d,GAC5BiV,IAEAtyB,IAAeR,IACf2b,GAAY,gBACZyzB,EAAqB1zB,GAAgB,SACrCqD,EAAwBqwB,IAExB5uC,IAAeP,GAAgBqU,IAC/BqH,GAAY,eACZm1B,EAAiBp1B,GAAgB,SACjCoD,EAAwBgyB,IAGvBxyB,GACDrnG,OAAOihG,oBAAoB,UAAWm5B,GAE1CT,EAAcl1B,GAAgB,uBAC9Bq1B,EAAcH,EAClB,GAAG,CAACpwC,EAAYH,EAAgBiU,EAA6BsH,GAAmB0C,IAEhF,IAkB+C,EAlBzC+yB,EAAoB,SAApBA,IACFT,EAAcl1B,GAAgB,sBACA,aAA1BE,GAAkBnpG,KAAuB6f,IACzC4sF,GAAwB,GACxBL,GAAgB,GAChBgyB,EAAiBx0C,SAAU,EAC3BplF,OAAOihG,oBAAoB,UAAWm5B,IAE1CN,EAAcH,GACdE,EAAiBp1B,GAAgB,SACd,IAAflb,GAAqBrD,EAAQkyC,mBAAsB/6B,GACnDkH,IAAgB,IAAI59F,MAAOE,UAAW,GAAF,OAAK29F,GAAUhpG,IAAG,UAE9D,EACKq+H,GAAmBx+G,GAAcgiF,GAClCr9F,OAAO0e,iBAAiB,UAAW07G,QAGHx7H,KAApB,QAAZ,EAAAw4E,oBAAY,aAAZ,EAAc8gD,iBACdhyC,EAAUhoF,KAAKiB,MAAkB,QAAb,EAACi4E,oBAAY,aAAZ,EAAc8gD,gBAGvCjxC,IAAAA,WAAgB,WACZ,IAAMixC,EAAgBh6H,KAAKiB,MAAMi4E,aAAaC,QAAQ,kBAChDgjD,EAAwB9wC,IAAeR,KAAcmvC,SAAAA,EAAeC,oBACpEmC,EAA4B/wC,IAAeP,KAAgBkvC,SAAAA,EAAeE,mBAC1EmC,EAA4BhxC,IAAeR,IAAc1tE,GAAckuE,IAAeP,EACtFwxC,EAA0BjxC,IAAeR,GAAa1tE,GACxDi/G,GAA6BD,KACzBh/G,GAAagiF,GACbuG,GAAc,GACdD,GAAuB,KAEvBiE,GAAgB,GACZ4yB,GAA2BD,EAC3BtyB,GAAwB,IAExBrE,GAAc,GACdD,GAAuB,MAI/BoD,GAAgCxd,IAAeP,GAAe3tE,IAC9DuoF,GAAc,GACdmE,GAAuB,GACvBxD,IAAgB,IAAI59F,MAAOE,UAAW,GAAF,OAAK29F,GAAUhpG,IAAG,WAE9D,GAAG,CAAC+tF,IAEJ,IAAM0rC,EAAkBhuC,IAAAA,aACpB,SAACwzC,GACGr4B,EAAaq4B,GACb,IAAMC,EAAQxxC,GAAQuxC,GACtB,GAAIC,EAAO,CACP,IAAMC,EAAS7+G,SAASC,eAAe2+G,GACvCC,SAAAA,EAAQC,eAAe,CACnBC,SAAU,SACVtxH,MAAO,SACPuxH,OAAQ,UAEhB,CACJ,GACA,CAACvxC,IAGL,OACI,kBAAC,aAAc,KACX,yBAAKvJ,UAAU,mBACX,yBACIA,UAAWyJ,KAAW,uBAAwB,CAC1C,+BAAgCwd,GAAoB1d,IAAeR,GAAa1tE,KAGpF,kBAAC,GAAkB,MAClB4rF,GACG1d,IAAeR,IACd1tE,EACG,kBAAC,GAAU,MAEX,kBAAC,GAAmB,CAAC+5G,MAAOhwB,GAAiBJ,iBAAe,EAAC+1B,iBAAe,KAEpF,kBAAC,EAAAj9B,KAAI,CACDF,aAAcrU,EACdvJ,UAAU,kBACVg7C,gBAAiBnf,EACjB9d,eAAgBk3B,EAChB7yD,KAAG,GAEH,yBAAK1W,KAAK,0BAA0Bj9B,OAAO9tB,EAAAA,EAAAA,UAAS,aAAc9D,GAAG,qBACjE,kBAAC,GAAkB,CAACo4H,gBAAiBA,KAEzC,yBAAKvpE,KAAK,sBAAsBj9B,OAAO9tB,EAAAA,EAAAA,UAAS,eAAgB9D,GAAG,mBACnE,yBAAK6uD,KAAK,kBAAkBj9B,OAAO9tB,EAAAA,EAAAA,UAAS,UAAW9D,GAAG,aACtD,kBAAC,GAAK,OAEV,yBAAK6uD,KAAK,kBAAkBj9B,OAAO9tB,EAAAA,EAAAA,UAAS,aAAc9D,GAAG,gBACzD,yBAAKmjF,UAAU,qBACX,kBAAC,GAAQ,WAM7B,kBAAC,EAAAuQ,eAAc,KACX,yBAAKvQ,UAAW,mCACZ,kBAAC,GAAW,OACV,CAACgJ,EAAaH,GAAOhuE,SAAS0uE,IAAe8T,KAC1C0J,GAAgC,kBAAC,GAAQ,QAGtD,kBAAC,EAAAzS,cAAa,MAAG2pB,GAA0B,kBAAC,GAAQ,OACpD,kBAAC,EAAA8T,OAAM,CACHpM,mBAAoBnf,EAAemf,qBAAsBhlH,EAAAA,EAAAA,UAAS,UAClEq/E,UAAW,4BACXqzC,oBAAqB7sB,EAAekf,iBAAkB/kH,EAAAA,EAAAA,UAAS,MAC/D+zF,gBAAc,EACds9B,sBAAsB,EACtB/9B,WAAYiT,EACZqb,SAAUiD,EACV+S,QAASpwB,EACTma,UAAWiD,GAAmBpd,EAC9B8yB,kBAAkB,aAClBzqD,MAAOg2B,EAAeh2B,OAErBg2B,EAAe7mG,SAEpB,kBAAC,GAAe,MAG5B,ICzQA,otCCCA,IAAMu7H,GAAyB,SAAC/1C,GAC5B,IACIn0C,EAwBAm0C,EAxBAn0C,gBACA6sE,EAuBA14B,EAvBA04B,oBACAjgB,EAsBAzY,EAtBAyY,aACAlvE,EAqBAy2D,EArBAz2D,YACAovF,EAoBA34B,EApBA24B,uBACAF,EAmBAz4B,EAnBAy4B,0BACA9rB,EAkBA3M,EAlBA2M,eACAD,EAiBA1M,EAjBA0M,4BACAd,EAgBA5L,EAhBA4L,uBACAx9C,EAeA4xC,EAfA5xC,gBACAG,EAcAyxC,EAdAzxC,oBACA0pE,EAaAj4B,EAbAi4B,uBACAD,EAYAh4B,EAZAg4B,uBACA1lC,EAWA0N,EAXA1N,WACAsmC,EAUA54B,EAVA44B,wBACAC,EASA74B,EATA64B,wBACA6B,EAQA16B,EARA06B,eACA1B,EAOAh5B,EAPAg5B,YACAuB,EAMAv6B,EANAu6B,qBACAC,EAKAx6B,EALAw6B,mBACAC,EAIAz6B,EAJAy6B,mBACA1B,EAGA/4B,EAHA+4B,yBACA3lB,EAEApT,EAFAoT,gBACA2mB,EACA/5B,EADA+5B,oBAGEic,EAA0Bl0C,IAAAA,SAC5B,kBACIj2C,EACKp0C,KAAI,SAAC/B,GAAmB,WACrBugI,UAAW,kBAAC,GAAY,CAAC5/H,IAAKX,EAAO6M,KAAM7M,OAAQA,KAChDA,EAAM,IAGZgV,QAAO,SAAAolB,GAAM,MAAqB,qBAAjBA,EAAOgD,KAA4B,IACpDpoB,QACG,SAAAolB,GAAM,MAAoB,8BAAhBA,EAAOvtB,MAAwD,8BAAhButB,EAAOvtB,IAAoC,GACvG,GACT,CAACspC,IAGCqqF,EAA8Bp0C,IAAAA,SAChC,kBACI42B,EAAoBjhH,KAAI,SAAA4pC,GAAU,WAC9B40F,UAAW,kBAAC,GAAe,CAAC5/H,IAAKgrC,EAAW9+B,KAAM8+B,WAAYA,KAC3DA,EAAU,GACd,GACP,CAACq3E,IAGL,OACI,kBAAC,GAAiB,CACdjgB,aAAcA,EACdlvE,YAAaA,EACbovF,uBAAwBA,EACxBF,0BAA2BA,EAC3B9rB,eAAgBA,EAChBD,4BAA6BA,EAC7Bd,uBAAwBA,EACxB//C,gBAAiBmqF,EACjBtd,oBAAqBwd,EACrB9nF,gBAAiBA,EACjBG,oBAAqBA,EACrB0pE,uBAAwBA,EACxBD,uBAAwBA,EACxBgB,YAAaA,EACb0B,eAAgBA,EAChBH,qBAAsBA,EACtBC,mBAAoBA,EACpBC,mBAAoBA,EACpB1B,yBAA0BA,EAC1B3lB,gBAAiBA,EACjB2mB,oBAAqBA,EACrBznC,WAAYA,EACZsmC,wBAAyBA,EACzBC,wBAAyBA,GAGrC,EAEA,SAAe/2B,IAAAA,KAAWi0C,IC1E1B,GALoE,CAChEl7C,UAAW,wBACXiI,OAAQ8S,GAAeC,8tCCL3B,IAAMsgC,GAAa,SAAC/6E,GAAgB,wDAAgDA,EAAQ,0BAyF5F,SA1EgD,CAC5C,CACI1jD,GAAI,gBACJouE,WAAY,gCACZ+U,UAAW,GACXu7C,aAAc,gBACd9sG,MAAO,IAEX,CACI5xB,GAAI,SACJouE,WAAY,yBACZ+U,UAAW,mDACXu7C,aAAc,SACd9sG,MAAO,SAEX,CACI5xB,GAAI,aACJouE,WAAY,6BACZ+U,UAAW,mDACXu7C,aAAc,aACd9sG,MAAO,cAEX,CACI5xB,GAAI,gBACJouE,WAAY,gCACZ+U,UAAW,GACXu7C,aAAc,gBACd9sG,MAAO,gBACP+sG,kBAAkB,GACrB,IAEG3+H,GAAI,iBACJouE,WAAY,iCACZjuC,YAAa,uBACbvO,MAAO,iBACP2jG,YAAa,IACbqJ,sBAAuB,gDACpBC,IAAwB,IAG3B7+H,GAAI,QACJouE,WAAY,wBACZjuC,YAAa,cACbvO,MAAO,gBACP2jG,YAAa,KACbqJ,sBAAuB,6CACpBC,IAAwB,IAG3B7+H,GAAI,OACJouE,WAAY,uBACZjuC,YAAa,aACbvO,MAAO,iBACP2jG,YAAa,OACbqJ,sBAAuBH,GAAW,SAC/BI,IAEP,CACI7+H,GAAI,gBACJ8+H,wBAAwB,EACxBltG,MAAO,GACPw8C,WAAY,IACf,IAEGpuE,GAAI,SACJouE,WAAY,yBACZjuC,YAAa,eACbvO,MAAO,mBACP2jG,YAAa,OACbqJ,sBAAuBH,GAAW,WAC/BI,mtCCpFX,IAAME,GAAuB,IAAI3e,GAAmBgU,IA4CpD,SA9B2D,CAAC,IAEpDp0H,GAAI,kBACJouE,WAAY,kBACZjuC,YAAa,wBACbvO,MAAO,OACP2jG,YAAa,IACbqJ,sBAAuBG,GAAqBzd,YAAY,IACrDud,IAAwB,IAG3B7+H,GAAI,gBACJouE,WAAY,gBACZjuC,YAAa,sBACbvO,MAAO,QACP2jG,YAAa,IACbqJ,sBAAuBG,GAAqBzd,YAAY,IACrDud,IAAwB,IAG3B7+H,GAAI,aACJouE,WAAY,aACZjuC,YAAa,mBACbvO,MAAO,QACP2jG,YAAa,IACbqJ,sBAAuBG,GAAqBzd,YAAY,IACrDud,KCpCX,IAAMG,GAAc,SAAH,OAAMh/H,EAAE,EAAFA,GAAI6xB,EAAW,EAAXA,YAAW,OAClC,kBAAC,aAAc,KACH,kBAAP7xB,GACG,yBAAKrB,IAAI,cAAcwkF,UAAU,wBAC7B,kBAAC,EAAAr+B,KAAI,CAACzlD,MAAM2tF,EAAAA,EAAAA,YAAa,MAAQ,IAAK5yD,MAAM,WACvCvI,IAIA,EAGrBmtG,GAAYh0C,YAAc,cAE1B,SAAeZ,IAAAA,KAAW40C,IChB1B,IAAMC,GAAiB,SAAH,GAgBG,IAfnBj/H,EAAE,EAAFA,GACAouE,EAAU,EAAVA,WACA8wD,EAAa,EAAbA,cACAC,EAAc,EAAdA,eACAvtG,EAAK,EAALA,MACA8sG,EAAY,EAAZA,aACAv7C,EAAS,EAATA,UACAw7C,EAAgB,EAAhBA,iBACA9+H,EAAM,EAANA,OACAg3C,EAAmB,EAAnBA,oBACAH,EAAe,EAAfA,gBACAjhB,EAAa,EAAbA,cACAotF,EAAoB,EAApBA,qBACAE,EAAkB,EAAlBA,mBACA1B,EAAwB,EAAxBA,yBAEM7iG,GAAYwuE,EAAAA,EAAAA,YAClB,MAAc,kBAAPhtF,EACH,yBACImjF,UAAWyJ,KAAW,2BAA4B,CAC9C,sCAAuCpuE,KAG3C,kBAAC,GAAW,CACR4vD,WAAYA,EACZpuE,GAAIA,EACJwe,UAAWA,EACX0gH,cAAeA,EACfC,eAAgBA,EAChBvtG,MAAOA,EACP8sG,aAAcA,EACdjpG,cAAeA,EACf0tD,UAAWA,EACXw7C,iBAAkBA,EAClB9+H,OAAQA,EACRgjH,qBAAsBA,EACtBE,mBAAoBA,EACpB1B,yBAA0BA,EAC1BxqE,oBAAqBA,EACrBH,gBAAiBA,KAIzB,oCAER,EAEA,SAAe0zC,IAAAA,KAAW60C,IClD1B,IAAMG,GAAsBh1C,IAAAA,MACxB,YAmB4B,IAlBxB22B,EAAyB,EAAzBA,0BACA5sE,EAAe,EAAfA,gBACA6sE,EAAmB,EAAnBA,oBACAC,EAAsB,EAAtBA,uBACAX,EAAsB,EAAtBA,uBACAzpE,EAAmB,EAAnBA,oBACAH,EAAe,EAAfA,gBACA6pE,EAAsB,EAAtBA,uBACAsC,EAAoB,EAApBA,qBACAE,EAAkB,EAAlBA,mBACAttF,EAAa,EAAbA,cACA4rF,EAAwB,EAAxBA,yBACAzqB,EAAY,EAAZA,aACAksB,EAAkB,EAAlBA,mBACApnB,EAAe,EAAfA,gBACA77F,EAAM,EAANA,OACAgyB,EAAW,EAAXA,YACAmkE,EAAM,EAANA,OAEMqpC,EAAsBj1C,IAAAA,SACxB,kBAAMk1C,GAAAA,QAA2B,SAACC,EAAOtnH,GAAK,OAAKA,IAAUqoG,EAAuBroG,KAAK,IAAE,EAAE,GAC7F,CAACqoG,IAGCkf,EAAiC,CACnCxhI,OAAQm2C,EACR,aAAc6sE,EACd,gBAAiBC,EACjB,gBAAiBF,GAGf0e,EAAmC,CACrCzhI,OAAQ04C,EACR,aAAcG,EACd,gBAAiB0pE,EACjB,gBAAiBD,GAGf5+C,EAAS0oB,IAAAA,SACX,WACI,OAAOs1C,GAAAA,KAAgB,SAACp/F,EAAMugB,GAC1B,IACI7gD,EAUAsgC,EAVAtgC,GACAouE,EASA9tC,EATA8tC,WACA+U,EAQA7iD,EARA6iD,UACAhjD,EAOAG,EAPAH,YACAu+F,EAMAp+F,EANAo+F,aACA9sG,EAKA0O,EALA1O,MACA2jG,EAIAj1F,EAJAi1F,YACAqJ,EAGAt+F,EAHAs+F,sBACAxzC,EAEA9qD,EAFA8qD,OACAuzC,EACAr+F,EADAq+F,iBAGEG,EAAyBx+F,aAAI,EAAJA,EAAMw+F,uBAC/Ba,EAAiBb,KAA4B3+F,EAC7Cy/F,IAAoBlB,EAEpBQ,EAA6BJ,EAE7B,GADAU,EAAex/H,GAGfm/H,EAAkDL,EAElD,CAAC,EADDW,EAAgBz/H,GAGtB,OACI,kBAAC,aAAc,CAACrB,IAAKqB,GACT,kBAAPA,GACG,kBAAC,GAAc,CACXA,GAAIA,EACJouE,WAAYA,EACZvtB,IAAKA,EACLq+E,cAAeA,EACfC,eAAgBA,EAChBvtG,MAAOA,EACP8sG,aAAcA,EACdjpG,cAAeA,EACf0tD,UAAWA,EACXw7C,iBAAkBA,EAClB9+H,OAAQA,EACRgjH,qBAAsBA,EACtBE,mBAAoBA,EACpB1B,yBAA0BA,EAC1BxqE,oBAAqBA,EACrBH,gBAAiBA,EACjBkgD,aAAcA,EACdksB,mBAAoBA,EACpBpnB,gBAAiBA,EACjB1F,OAAQA,IAGf2pC,GACG,kBAAC,GAAM,CACH9+E,IAAKA,EACL+1C,aAAcA,EACdksB,mBAAoBA,EACpBpnB,gBAAiBA,EACjBttB,WAAYA,EACZpuE,GAAIA,EACJmjF,UAAWA,EACXvxD,MAAOA,EACPuO,YAAaA,EACbo1F,YAAaA,EACbuJ,uBAAwBA,EACxBF,sBAAuBA,EACvBxzC,OAAQA,EACRi0C,oBAAqBA,EACrBrpC,OAAQA,EACR2pC,eAAgBA,IAGvBC,GAA0B,kBAAP5/H,GAChB,kBAAC,GAAO,CACJouE,WAAYA,EACZpuE,GAAIA,EACJk/H,cAAeA,EACfC,eAAgBA,EAChBvtG,MAAOA,EACP8sG,aAAcA,EACdjpG,cAAeA,EACf0tD,UAAWA,EACXw7C,iBAAkBA,EAClB9+H,OAAQA,EACRgjH,qBAAsBA,EACtBE,mBAAoBA,EACpB1B,yBAA0BA,EAC1BxqE,oBAAqBA,EACrBH,gBAAiBA,EACjBipF,eAAgBA,IAGxB,kBAAC,GAAW,CAAChhI,IAAKkzB,EAAa7xB,GAAIA,EAAI6xB,YAAaA,IAGhE,GACJ,GAEA,CACIkvF,EACA5sE,EACA6sE,EACAC,EACAX,EACAzpE,EACAH,EACA6pE,EACAvqB,IAIR,OAAO,yBAAK7S,UAAU,0BAA0BzhB,EACpD,IACA,SAACm+D,EAAWC,GAAS,OACjBD,EAAUhgI,SAAWigI,EAAUjgI,QAC/BggI,EAAU7pC,SAAW8pC,EAAU9pC,QAC/B6pC,EAAU5e,yBAA2B6e,EAAU7e,sBAAsB,IAG7Eme,GAAoBp0C,YAAc,sBAElC,mQCvKA,knGAAAxlF,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,skBAKA,IAAMu6H,GAAsB,SAAH,GAMG,IALxBC,EAAiB,EAAjBA,kBACAplD,EAAU,EAAVA,WACAnlD,EAAa,EAAbA,cACAq7F,EAAU,EAAVA,WACAzO,EAAmB,EAAnBA,oBAEM4d,EAAmB71C,IAAAA,aAAkB,WACvC30D,EAAc,SAAU,QACxBq7F,GACJ,GAAG,CAACkP,IAEEE,EAAY91C,IAAAA,YAAiB,cAAC,mFAC5BxP,EAAY,CAAF,+BACJ/8E,QAAQC,QAAQ23B,EAAc,SAAU,SACzCh0B,MAAK,kBAAMqvH,GAAY,IACvBrvH,MAAK,kBAAM4gH,GAAqB,IAAC,6BAEtC5sF,EAAc,SAAU,OACxBq7F,IAAa,2CAElB,CAACkP,IAEJ,OACI,yBAAK78C,UAAW,+BACZ,kBAAC,EAAAqQ,OAAA,MAAY,MACRnG,EAAAA,EAAAA,cACG,kBAAC,EAAAmG,OAAM,CACH90F,KAAK,SACLsB,GAAG,iCACH6K,MAAM/G,EAAAA,EAAAA,UAAS,QACf+hB,aAAcm6G,EACdlvE,WAAS,EACTkmC,OAAK,EACLvD,QAASwsC,IAGjB,kBAAC,EAAAzsC,OAAM,CACH90F,KAAK,SACLsB,GAAG,gCACH6K,MAAM/G,EAAAA,EAAAA,UAAS,OACf+hB,aAAcm6G,EACdjvE,SAAO,EACPimC,OAAK,EACLvD,QAASysC,KAK7B,EAEA,SAAe91C,IAAAA,KAAW21C,mBC9CpBI,GAAoB,SAAH,GAuBG,IAtBtBlf,EAAsB,EAAtBA,uBACAF,EAAyB,EAAzBA,0BACA9rB,EAAc,EAAdA,eACAD,EAA2B,EAA3BA,4BACAd,EAAsB,EAAtBA,uBACA//C,EAAe,EAAfA,gBACA6sE,EAAmB,EAAnBA,oBACAtqE,EAAe,EAAfA,gBACAG,EAAmB,EAAnBA,oBACA0pE,EAAsB,EAAtBA,uBACAD,EAAsB,EAAtBA,uBACAzuF,EAAW,EAAXA,YACAqvF,EAAuB,EAAvBA,wBACAC,EAAuB,EAAvBA,wBACAvmC,EAAU,EAAVA,WACAooC,EAAc,EAAdA,eACAH,EAAoB,EAApBA,qBACAC,EAAkB,EAAlBA,mBACAC,EAAkB,EAAlBA,mBACA1B,EAAwB,EAAxBA,yBACA3lB,EAAe,EAAfA,gBACA2mB,EAAmB,EAAnBA,oBAEQxxF,EAAa0vF,EAAb1vF,IAAK0pB,EAAQgmE,EAARhmE,IAEP6lF,EAA6B,WAAH,OAC5BC,GAAAA,KACKC,WAAUx8H,EAAAA,EAAAA,UAAS,qBACnBusH,MAAM,QACNx/F,IAAI,GAAG/sB,EAAAA,EAAAA,UAAS,kCAAkC,EAErDy8H,EAAeF,GAAAA,KAAa31E,MAAM,CACpC,iCAAkC21E,GAAAA,KAC7BC,WAAUx8H,EAAAA,EAAAA,UAAS,qBACnB08H,UAAS18H,EAAAA,EAAAA,UAAS,0BAClB+sB,IAAIA,GAAK/sB,EAAAA,EAAAA,UAAS,8BAA+B,CAAE+sB,IAAAA,KACnD0pB,IAAIA,GAAKz2C,EAAAA,EAAAA,UAAS,8BAA+B,CAAEy2C,IAAAA,KACxD,wBAAyB6lF,IACzB,uBAAwBA,IACxB,kBAAmBC,GAAAA,KACdC,WAAUx8H,EAAAA,EAAAA,UAAS,qBACnBusH,MAAM,SACNx/F,IAAI,GAAG/sB,EAAAA,EAAAA,UAAS,kDACrB,gBAAiBs8H,IACjB,aAAcA,IACd,yBAA0BA,MAE9B,OACI,kBAAC,GAAAvqC,OAAM,CACHC,cAAeb,EACfwrC,iBAAkBF,EAClB9pC,SAAUusB,EACV0d,oBAAoB,EACpBC,iBAAiB,IAEhB,YAO4C,IANzC3qC,EAAM,EAANA,OACAY,EAAY,EAAZA,aACA/2F,EAAM,EAANA,OACA+gI,EAAY,EAAZA,aACAnrG,EAAa,EAAbA,cACAq7F,EAAU,EAAVA,WAEMzE,EAC6B,IAA/BnoH,OAAO2Z,KAAKm4E,GAAQrxF,SAAiBT,OAAOrE,OAAOA,GAAQwX,MAAK,SAAAwpH,GAAI,MAAyB,KAApBA,CAAsB,IAC7Fb,GAAqBY,GAAgBvU,EACrC7tG,GAAYwuE,EAAAA,EAAAA,YAElB,OACI,kBAAC,GAAA6J,KAAI,CACD1T,UAAWyJ,KAAW,uBAAwB,CAC1C,wCAAyCoI,KAG7C,kBAAC,EAAAuH,iBAAgB,CAAC+4B,UAAQ,EAACwL,YAAatiH,EAAW2kE,UAAU,kCACzD,yBACIA,UAAWyJ,KAAW,+BAAgC,CAClD,gDAAiDoI,EACjD,4CAA4CozB,EAAAA,EAAAA,eAGhD,yBAAKjlC,UAAWyJ,KAAW,uBAAwB,iCAC/C,kBAAC,EAAA9nC,KAAI,CAACwrC,OAAO,SAASjxF,KAAMmf,EAAY,MAAQ,MAC3C1a,EAAAA,EAAAA,UAAS,sDAIlB,kBAAC,GAAmB,CAChBi9G,0BAA2BA,EAC3B5sE,gBAAiBA,EACjB6sE,oBAAqBA,EACrBC,uBAAwBA,EACxBX,uBAAwBA,EACxBzpE,oBAAqBA,EACrBH,gBAAiBA,EACjB6pE,uBAAwBA,EACxBsC,qBAAsBA,EACtBE,mBAAoBA,EACpBttF,cAAeA,EACf4rF,yBAA0BA,EAC1BzqB,aAAcA,EACdksB,mBAAoBA,EACpBpnB,gBAAiBA,EACjB77F,OAAQA,EACRgyB,YAAaA,EACbmkE,OAAQA,MAIpB,kBAAC,GAAmB,CAChBgqC,kBAAmBA,EACnB9rC,uBAAwBA,EACxBz+D,cAAeA,EACfq7F,WAAYA,EACZl2C,WAAYA,EACZsmC,wBAAyBA,EACzBmB,oBAAqBA,EACrBlB,wBAAyBA,IAIzC,GAGZ,EAEA,SAAe/2B,IAAAA,KAAW+1C,2OChI1B,IAAMY,GAAa,SAAH,GAiBQ,IAhBpBlgF,EAAG,EAAHA,IACA+1C,EAAY,EAAZA,aACAksB,EAAkB,EAAlBA,mBACApnB,EAAe,EAAfA,gBACAl9E,EAAS,EAATA,UACA4vD,EAAU,EAAVA,WACApuE,EAAE,EAAFA,GACAmjF,EAAS,EAATA,UACAvxD,EAAK,EAALA,MACAuO,EAAW,EAAXA,YACAo1F,EAAW,EAAXA,YACAuJ,EAAsB,EAAtBA,uBACAF,EAAqB,EAArBA,sBACAxzC,EAAM,EAANA,OACAi0C,EAAmB,EAAnBA,oBACArpC,EAAM,EAANA,OASA,GANQ8oC,EACOO,EAEJx+E,EAAM6+E,GAAY7+E,GAAO,CAAC,IAYgB,CAAC,EARtCmgF,EAAc,EAA1B5yD,WACI6yD,EAAM,EAAVjhI,GACWkhI,EAAa,EAAxB/9C,UACOg+C,EAAS,EAAhBvvG,MACawvG,EAAe,EAA5BjhG,YACakhG,EAAe,EAA5B9L,YACuB+L,EAAyB,EAAhD1C,sBACQ2C,EAAU,EAAlBn2C,OAGJ,OACI,kBAAC,GAAAx5B,MAAK,CAAC/uD,KAAMurE,GAAc4yD,EAAgBriI,IAAKqB,GAAMihI,EAAQjhI,GAAIA,GAAMihI,IACnE,YAAgD,IAA7C18H,EAAK,EAALA,MACA,OACI,kBAAC,EAAAuyF,MAAK,MACEvyF,EAAK,CACT4+E,UAAWA,GAAa+9C,EACxBxiI,KAAK,OACLuW,MAAO+gF,EAAQzxF,EAAM1B,MAAiCm+H,GACtDpvG,OAAO9tB,EAAAA,EAAAA,UAAS8tB,GAASuvG,GACzBnxC,SAAU,SAAClxF,GACP83F,EAAa93F,GACbgkH,EACI3iF,GAEOihG,EACPtiI,EAER,EACA02H,QAAS,SAAC12H,GAAqC,OAAK48F,EAAgB58F,EAAE6kH,cAAc9gH,KAAK,EACzF4yH,OAAQ,kBAAM/5B,EAAgB,KAAK,EACnC65B,YAAaA,GAAe8L,EAC5BG,cACI,kBAAC,EAAAt2C,QAAO,CACJC,UAAW3sE,EAAY,MAAQ,SAC/B1b,SAASgB,EAAAA,EAAAA,UAAS86H,GAAyB0C,GAC3Cl2C,OAAQA,GAAUm2C,GAElB,kBAAC,EAAA7sE,KAAI,CAAC7F,KAAK,qBAK/B,GAGZ,EAEA,SAAeu7B,IAAAA,KAAW22C,IC7E1B,IAAMU,GAAS,SAAH,GAiBG,IAhBX5gF,EAAG,EAAHA,IACAutB,EAAU,EAAVA,WACApuE,EAAE,EAAFA,GACAmjF,EAAS,EAATA,UACAvxD,EAAK,EAALA,MACAuO,EAAW,EAAXA,YACAo1F,EAAW,EAAXA,YACAuJ,EAAsB,EAAtBA,uBACAF,EAAqB,EAArBA,sBACAxzC,EAAM,EAANA,OACAi0C,EAAmB,EAAnBA,oBACArpC,EAAM,EAANA,OACA2pC,EAAc,EAAdA,eACA/oC,EAAY,EAAZA,aACAksB,EAAkB,EAAlBA,mBACApnB,EAAe,EAAfA,gBAEMl9E,GAAYwuE,EAAAA,EAAAA,YAClB,OAAO2yC,EACH,yBACIx8C,UAAWyJ,KAAW,2BAA4B,CAC9C,sCAAuCpuE,KAG3C,kBAAC,GAAU,CACPqiC,IAAKA,EACL+1C,aAAcA,EACdksB,mBAAoBA,EACpBpnB,gBAAiBA,EACjBl9E,UAAWA,EACX4vD,WAAYA,EACZpuE,GAAIA,EACJmjF,UAAWA,EACXvxD,MAAOA,EACPuO,YAAaA,EACbo1F,YAAaA,EACbuJ,uBAAwBA,EACxBF,sBAAuBA,EACvBxzC,OAAQA,EACRi0C,oBAAqBA,EACrBrpC,OAAQA,KAIhB,oCAER,EAEAyrC,GAAOz2C,YAAc,SAErB,SAAeZ,IAAAA,KAAWq3C,ICtD1B,IAAMC,GAAe,SAAH,OAAM1jI,EAAM,EAANA,OAAM,OAC1B,yBAAKW,IAAKX,EAAOsZ,MAAO6rE,UAAU,0BAC9B,kBAAC,EAAAzuB,KAAI,CAAC7F,KAAI,sBAAiB7wD,EAAOsZ,OAASjY,KAAM,KACjD,kBAAC,EAAAylD,KAAI,CAACq+B,UAAU,yBAAyB9jF,KAAK,KAAKkxF,MAAM,aACpDvyF,EAAO6M,MAEV,EAGV,SAAeu/E,IAAAA,KAAWs3C,2OCN1B,IAAMC,GAAcv3C,IAAAA,MAChB,gBACIhc,EAAU,EAAVA,WACApuE,EAAE,EAAFA,GACAwe,EAAS,EAATA,UACA0gH,EAAa,EAAbA,cACAC,EAAc,EAAdA,eACAvtG,EAAK,EAALA,MACA8sG,EAAY,EAAZA,aACAjpG,EAAa,EAAbA,cACA0tD,EAAS,EAATA,UACAw7C,EAAgB,EAAhBA,iBACA9+H,EAAM,EAANA,OACAgjH,EAAoB,EAApBA,qBACAE,EAAkB,EAAlBA,mBACA1B,EAAwB,EAAxBA,yBACAxqE,EAAmB,EAAnBA,oBACAH,EAAe,EAAfA,gBAAe,OAEf,kBAAC,GAAAkb,MAAK,CAAC/uD,KAAMurE,EAAYzvE,IAAKqB,EAAIA,GAAIA,IACjC,gBAAGuE,EAAK,EAALA,MAAK,OACL,oCACKia,EACG,kBAAC,EAAAo+G,aAAY,CACT/a,WAAYqd,EACZ5nH,MAAiC,iBAAnB6nH,EAA8BA,EAAiBA,EAAe7nH,MAC5Esa,OAAO9tB,EAAAA,EAAAA,UAAS8tB,GAChBirG,0BAA0B,EAC1B7sC,SAAU,SAAClxF,GACP+jH,EAAqB6b,EAAc5/H,EAAEyoB,OAAOjQ,MAAOme,EACvD,IAGJ,kBAAC,EAAAmsG,aAAY,MACLr9H,EAAK,CACTs9H,aAAa,MACb1+C,UAAWA,EACXzkF,KAAK,OACLkzB,OAAO9tB,EAAAA,EAAAA,UAAS8tB,GAChBiwF,WAAYqd,EACZ17G,SAAUm7G,GAA8C,KAA1BO,aAAa,EAAbA,EAAev6H,QAC7Co+G,mBAAoB,WAChBA,EACI2b,EACA7+H,EAAO0E,EAAM1B,MACb4yB,EAER,EACAqsG,gBAAiB,YAAkC,IAA/BxqH,EAAK,EAALA,MAChBurG,EAAqB6b,EAAcpnH,EAAOme,EAC9C,EACAssG,aAAc,kBAAM1gB,EAAyBqd,EAAa,EAC1DsD,aACsB,eAAjBtD,IAAiC7nF,aAAmB,EAAnBA,EAAqBgY,OACnD,kBAAC,EAAA/J,KAAI,KACD,kBAAC,EAAAu6C,eAAc,CAAC3gG,KAAMm4C,aAAmB,EAAnBA,EAAqBgY,KAAK,KAChD,kBAAC,EAAAwwC,eAAc,CAAC3gG,KAAMm4C,aAAmB,EAAnBA,EAAqBgY,KAAK,OAGtC,WAAjB6vE,IAA8BhoF,aAAe,EAAfA,EAAiBp/B,QAC5C,kBAAC,EAAAo9C,KAAI,CAAC7F,KAAI,sBAAiBnY,aAAe,EAAfA,EAAiBp/B,OAASjY,KAAM,QAK5E,GAEH,IAEZ,SAACwgI,EAAWC,GACR,OACID,EAAUX,gBAAkBY,EAAUZ,eAAiBW,EAAUV,iBAAmBW,EAAUX,cAEtG,IAEJwC,GAAY32C,YAAc,cAE1B,YC9EA,IAAMi3C,GAAU,SAAH,OACT7zD,EAAU,EAAVA,WACApuE,EAAE,EAAFA,GACAk/H,EAAa,EAAbA,cACAC,EAAc,EAAdA,eACAvtG,EAAK,EAALA,MACA8sG,EAAY,EAAZA,aACAjpG,EAAa,EAAbA,cACA0tD,EAAS,EAATA,UACAw7C,EAAgB,EAAhBA,iBACA9+H,EAAM,EAANA,OACAgjH,EAAoB,EAApBA,qBACAE,EAAkB,EAAlBA,mBACA1B,EAAwB,EAAxBA,yBACAxqE,EAAmB,EAAnBA,oBACAH,EAAe,EAAfA,gBACc,SAAdipF,gBAE0B,kBAAP3/H,EAsBf,qCArBA,yBAAKmjF,UAAU,4BACX,kBAAC,GAAW,CACR/U,WAAYA,EACZpuE,GAAIA,EACJwe,WAAWwuE,EAAAA,EAAAA,YACXkyC,cAAeA,EACfC,eAAgBA,EAChBvtG,MAAOA,EACP8sG,aAAcA,EACdjpG,cAAeA,EACf0tD,UAAWA,EACXw7C,iBAAkBA,EAClB9+H,OAAQA,EACRgjH,qBAAsBA,EACtBE,mBAAoBA,EACpB1B,yBAA0BA,EAC1BxqE,oBAAqBA,EACrBH,gBAAiBA,IAK5B,EAELurF,GAAQj3C,YAAc,UAEtB,SAAeZ,IAAAA,KAAW63C,IC/C1B,IAAMC,GAAkB,SAAH,OAAMv4F,EAAU,EAAVA,WAAU,OACjC,yBAAKhrC,IAAKgrC,EAAWryB,MAAO6rE,UAAU,0BAClC,kBAAC,EAAAkc,eAAc,CAAC3gG,KAAMirC,EAAWklB,KAAK,GAAIs0B,UAAU,yBACpD,kBAAC,EAAAkc,eAAc,CAAC3gG,KAAMirC,EAAWklB,KAAK,GAAIs0B,UAAU,yBACpD,kBAAC,EAAAr+B,KAAI,CAACq+B,UAAU,yBAAyB9jF,KAAK,KAAKkxF,MAAM,aACpD5mD,EAAW9+B,MAEd,EAGV,SAAeu/E,IAAAA,KAAW83C,IC4B1B,GAAezjG,GAAQ,gBAAG6tD,EAAS,EAATA,UAAWyY,EAAc,EAAdA,eAAgBtZ,EAAE,EAAFA,GAAE,MAAmB,CACtEsV,aAAcgE,EAAehE,aAC7BlvE,YAAakzE,EAAelzE,YAC5BmxF,eAAgBje,EAAeie,eAC/B/B,uBAAwBlc,EAAekc,uBACvCF,0BAA2Bhc,EAAegc,0BAC1CO,YAAavc,EAAeuc,YAC5BrsB,eAAgB8P,EAAe9P,eAC/BD,4BAA6BvJ,EAAGuJ,4BAChCd,uBAAwB5H,EAAU4H,uBAClC2uB,qBAAsB9d,EAAe8d,qBACrCC,mBAAoB/d,EAAe+d,mBACnCC,mBAAoBhe,EAAege,mBACnC1B,yBAA0Btc,EAAesc,yBACzC3qE,gBAAiBquD,EAAeruD,gBAChCG,oBAAqBkuD,EAAeluD,oBACpC0pE,uBAAwBxb,EAAewb,uBACvCD,uBAAwBvb,EAAeub,uBACvCnsE,gBAAiB4wD,EAAe5wD,gBAChC6wD,iBAAkBD,EAAeC,iBACjCgc,oBAAqBjc,EAAeic,oBACpCI,uBAAwBrc,EAAeqc,uBACvC1lB,gBAAiBjQ,EAAGiQ,gBACpB2mB,oBAAqBtd,EAAesd,oBACpCznC,WAAY0R,EAAU1R,WACtBsmC,wBAAyBnc,EAAemc,wBACxCC,wBAAyBpc,EAAeoc,wBAC3C,GA3BD,EAjCsB,SAAC74B,GACnB,IAAM9pE,GAAYwuE,EAAAA,EAAAA,YACVo0B,EAA6C94B,EAA7C84B,uBAAwBpc,EAAqB1c,EAArB0c,iBAEhC,OACI,oCACKxmF,EACG,kBAAC,EAAAw3G,oBAAmB,CAChBC,cAAe7U,EACfj+B,UAAU,0BACVoU,QAAQzzF,EAAAA,EAAAA,UAAS,kBACjB0zF,aAAcwN,EACdkxB,cAAc,QAEd,kBAAC,GAA2B5tC,IAGhC,kBAAC,EAAAqP,MAAK,CACFhkB,OAAO7vE,EAAAA,EAAAA,UAAS,kBAChBq/E,UAAU,kBACVyU,QAASwpB,EACTtpB,YAAakN,EACb58D,MAAO,SAEP,yBAAK+6C,UAAU,kBACX,kBAAC,GAA2BmF,KAMpD,ICrCA,MCEA,IAAM65C,GAAc,SAAH,GAA0F,IAApF/tB,EAAkB,EAAlBA,mBAAoB59C,EAAU,EAAVA,WAAY4rE,EAAmB,EAAnBA,oBAAqBC,EAAwB,EAAxBA,yBACpEptB,EAAqB7qB,IAAAA,SAOzB,OALAA,IAAAA,WAAgB,WACZgqB,EAAmBa,EAAoBz+C,EAAY4rE,EAEvD,GAAG,IAGC,yBACI5wC,IAAK,SAAAvb,GAAE,OAAKg/B,EAAqBh/B,CAAE,EACnCkN,UAAWyJ,KAAW,CAClB,kCAAmCy1C,EACnC,gCAAiCA,KAIjD,EAEAF,GAAYpqC,UAAY,CACpBvhC,WAAYwhC,KAAAA,IACZoc,mBAAoBpc,KAAAA,KACpBoqC,oBAAqBpqC,KAAAA,KACrBqqC,yBAA0BrqC,KAAAA,MAG9B,SAAev5D,GAAQ,YAAS,MAAQ,CACpC21E,mBAD4B,EAANnsD,OACKmsD,mBAC9B,GAFD,CAEI+tB,IC1BJ,IAAMG,GAAmB,SAAH,GAAyE,IAAnEC,EAAW,EAAXA,YAAa/rE,EAAU,EAAVA,WAAY0iB,EAAS,EAATA,UAAWmpD,EAAwB,EAAxBA,yBACtD1qE,EAAanB,EAAW3+B,aAAa,QACrC09B,EAAa5oD,QAAQgnB,OAAOgkC,GAAYxiC,OACxCqtG,EAAkC,kBAAf7qE,EACnB8qE,EAAkC,kBAAf9qE,EACjBviC,EAA8BmgC,EAA9BngC,aAAcvD,EAAgB0jC,EAAhB1jC,YAEhB6wG,EAAY,WAAH,OACX,yBAAKv/C,UAAU,wBACX,kBAAC,EAAAqQ,OAAM,CACHxzF,GAAE,0BAAqB23D,GACvBwrB,UAAU,8CACVwa,YAAU,EACVglC,SAAO,EACPlvC,QAAS,kBAAM9mF,QAAQC,eAAeg2D,aAAapM,EAAW,EAC9D93D,KAAK,WAEP,EAGV,OACI,oCACK+jI,GAAoB,yBAAKt/C,UAAU,eACpC,yBAAKA,UAAWyJ,KAAW,eAAgB,CAAE,uBAAwB1T,MAC/DmpD,GACE,oCACI,yBAAKl/C,UAAU,uBACX,kBAAC,EAAAr+B,KAAI,CACDzlD,KAAMmjI,EAAmB,KAAO,MAChC5tC,YAAa4tC,OAAmBzgI,EAAY,KAC5CuuF,OAAQkyC,OAAmBzgI,EAAY,QAEtCqzB,IAEHotG,GAAoB,kBAACE,EAAS,OAEpC,yBAAKv/C,UAAU,4BACVtxD,EACA0wG,GACG,uBACIviI,GAAIo1B,EAAa5rB,QAAQ,OAAQ,KACjC25E,UAAU,oBACVsQ,QAAS8uC,GAET,kBAAC,EAAAzwC,SAAQ,CAACC,kBAAkB,kBAMhD,yBAAK5O,UAAU,mCACX,kBAAC,GAAW,CAACi/C,qBAAmB,EAAC5rE,WAAYA,EAAY6rE,0BAAwB,IAChFG,GAAoB,kBAACE,EAAS,QAKnD,EAEAJ,GAAiBvqC,UAAY,CACzBrnB,YAAasnB,GAAAA,UAAAA,MACbuqC,YAAavqC,GAAAA,UAAAA,MAGjB,YCpEA,IAAM4qC,GAAc,SAAAt6C,GAChB,IAAQlgD,EAAekgD,EAAflgD,MAAOt9B,EAAQw9E,EAARx9E,IACT5M,EAAQ,CAAEkqC,MAAAA,GAEhB,OACI,yBAAK+6C,UAAU,gBACX,yBAAK55D,IAAKze,EAAKq4E,UAAU,gBAAgBjlF,MAAOA,IAG5D,EAEA0kI,GAAY7qC,UAAY,CACpBjtF,IAAKktF,GAAAA,UAAAA,QAGT,YCdA,IAAM6qC,GAAa,SAAAv6C,GACf,IAAQz9E,EAASy9E,EAATz9E,KAER,OACI,kBAAC,EAAAi6C,KAAI,CAAC6vC,GAAG,IAAIt1F,KAAK,KAAK4yF,OAAQ,CAAE6wC,WAAY,UACxCj4H,EAGb,EAEAg4H,GAAW9qC,UAAY,CACnBltF,KAAMmtF,GAAAA,UAAAA,UAAoBA,GAAAA,UAAAA,OAAkBA,GAAAA,UAAAA,SAGhD,YCfA,IAAM+qC,GAAc,SAAAz6C,GAChB,OACI,yBAAKnF,UAAU,gBACX,4BACIA,UAAU,gBACV55D,IAAK++D,EAAMx9E,IACX6wH,YAAY,IACZqH,MAAM,gEACNpH,iBAAe,EACfxzF,MAAO,SAIvB,EAEA26F,GAAYhrC,UAAY,CACpBjtF,IAAKktF,GAAAA,UAAAA,QAGT,YCXA,IAAMirC,GAAW,SAAH,GAWR,IAVFzsE,EAAU,EAAVA,WACAmB,EAAU,EAAVA,WACAq4C,EAAQ,EAARA,SACAC,EAAW,EAAXA,YACAY,EAAgB,EAAhBA,iBACAa,EAAW,EAAXA,YACAC,EAAe,EAAfA,gBACAzB,EAAmB,EAAnBA,oBACAC,EAAuB,EAAvBA,wBACAx8B,EAAK,EAALA,MAEMuvD,EAAuBjzB,GAAeX,GAAoB3wF,EAAAA,GAAyBg5C,GACrFwrE,EAAa,EAEjB,OACI,kBAAC,aAAc,KACX,yBAAKhgD,UAAU,uBACX,4BAAQA,UAAU,6BAA6BsQ,QAASie,GACpD,kBAAC,EAAAh9C,KAAI,CAAC7F,KAAK,iBAEf,kBAAC,EAAA/J,KAAI,CAACwrC,OAAO,OAAOnN,UAAU,sBACzBxP,GAEL,yBAAKwP,UAAU,wBACX,kBAAC,EAAAqQ,OAAM,CACHrQ,UAAU,qBACVwa,YAAU,EACV39F,GAAE,+BAA0B23D,GAC5B87B,QAAS,kBAAM9mF,QAAQC,eAAeg2D,aAAapM,EAAW,EAC9DzF,SAAO,EACPlmD,MAAM/G,EAAAA,EAAAA,UAAS,OACfpF,KAAK,aAIjB,yBAAKykF,UAAU,wBACV+/C,GACGA,EAAqBnjI,KAAI,SAACw+H,EAAWtmH,GACjC,IAAQvZ,EAAiC6/H,EAAjC7/H,KAAM0pC,EAA2Bm2F,EAA3Bn2F,MAAOt9B,EAAoByzH,EAApBzzH,IAAKykG,EAAegvB,EAAfhvB,WAClB1kG,EAASolG,EAATplG,KACFu4H,EAAepzB,EAASviG,MAAK,SAAA+iG,GAAO,OAAIA,EAAQxwG,KAAOuvG,CAAU,IACvE,OAAQ7wG,GACJ,KAAKwwG,GACD,OAAIi0B,EAAat4H,EAAKlG,OACX,kBAAC,GAAU,CAAChG,IAAG,UAAKg5D,EAAU,YAAI1/C,GAASpN,KAAMA,EAAKs4H,OAE1D,KACX,IpHzDjB,QoH0DqB,OAAO,kBAAC,GAAW,CAACxkI,IAAG,UAAKg5D,EAAU,YAAI1/C,GAASnN,IAAKA,IAC5D,KAAKokG,GACD,OAAO,kBAAC,GAAW,CAACvwG,IAAG,UAAKg5D,EAAU,YAAI1/C,GAASmwB,MAAOA,EAAOt9B,IAAKA,IAC1E,KAAKokG,GACD,OACI,kBAAC,GAAW,CACRvwG,IAAG,UAAKg5D,EAAU,YAAI1/C,GACtBmqH,qBAAqB,EACrB5rE,WAAYA,IAIxB,KAAK04C,GACD,OAAIk0B,EAEI,kBAAC,GAAW,CACRzkI,IAAG,UAAKg5D,EAAU,YAAI1/C,GACtBmqH,qBAAqB,EACrB5rE,WAAY4sE,EAAa5rG,WAAW,KAIzC,KACX,QACI,OAAO,KAEnB,MAENq5E,KAAsBV,GAA2BD,IAC/C,yBAAK/sB,UAAU,uBACX,kBAAC,EAAAqQ,OAAM,CACHrQ,UAAU,0BACVryB,WAAS,EACT2iC,QAAS,kBAAMke,GAAgB,EAAM,EACrC9mG,MAAM/G,EAAAA,EAAAA,UAAS,YACfpF,KAAK,SACLmnB,YAAasqF,EACbkzB,WAAY,SAAAx4H,GAAI,OACZslG,GACI,kBAAC,EAAArrD,KAAI,CAACzlD,KAAK,KAAKixF,OAAO,OAAOl2D,MAAM,SAASm2D,MAAM,YAC9C1lF,EAER,IAGT,kBAAC,EAAA2oF,OAAM,CACHrQ,UAAU,sBACVryB,WAAS,EACT2iC,QAAS,kBAAMke,GAAgB,EAAK,EACpC9mG,MAAM/G,EAAAA,EAAAA,UAAS,QACfpF,KAAK,SACLmnB,YAAaqqF,EACbmzB,WAAY,SAAAx4H,GAAI,OACZqlG,GACI,kBAAC,EAAAprD,KAAI,CAACzlD,KAAK,KAAKixF,OAAO,OAAOl2D,MAAM,SAASm2D,MAAM,YAC9C1lF,EAER,KAO7B,EAEAo4H,GAASlrC,UAAY,CACjBvhC,WAAYwhC,KAAAA,OACZrgC,WAAYqgC,KAAAA,OACZgY,SAAUhY,KAAAA,MACViY,YAAajY,KAAAA,OACb6Y,iBAAkB7Y,KAAAA,KAClB0Z,YAAa1Z,KAAAA,KACb2Z,gBAAiB3Z,KAAAA,KACjBkY,oBAAqBlY,KAAAA,KACrBmY,wBAAyBnY,KAAAA,KACzBrkB,MAAOqkB,KAAAA,QAGX,SAAev5D,GAAQ,gBAAGwpB,EAAM,EAANA,OAAQosE,EAAW,EAAXA,YAAW,MAAQ,CACjD79D,WAAY69D,EAAY79D,WACxBmB,WAAY08D,EAAY18D,WACxBq4C,SAAUqkB,EAAYrkB,SACtBC,YAAaokB,EAAYpkB,YACzBY,iBAAkB5oD,EAAO4oD,iBACzBa,YAAa2iB,EAAY3iB,YACzBC,gBAAiB0iB,EAAY1iB,gBAC7BzB,oBAAqBmkB,EAAYnkB,oBACjCC,wBAAyBkkB,EAAYlkB,wBACrCx8B,MAAO0gD,EAAY1gD,MACtB,GAXD,CAWIsvD,ICpJJ,6OCSA,IAAMK,GAAe,SAAH,OAAMpvB,EAAW,EAAXA,YAAaqvB,EAAY,EAAZA,aAAY,OAC7C,yBAAKpgD,UAAU,yBACX,kBAAC,EAAAr+B,KAAI,CAACwrC,OAAO,OAAOnN,UAAU,+BACzBr/E,EAAAA,EAAAA,UAAS,kCAAmC,CACzCowG,YAAAA,EACAhiB,cAAe,CAAEC,aAAa,MAGtC,kBAAC,EAAArtC,KAAI,CAACwrC,OAAO,OAAOC,MAAM,iBAAiBpN,UAAU,8BAA4B,UACzEogD,EAAY,YAAIA,EAAe,GAAIz/H,EAAAA,EAAAA,UAAS,YAAaA,EAAAA,EAAAA,UAAS,YAExE,EAGJ0/H,GAAgB,SAAAl7C,GAClB,IAAMm7C,EAAar5C,IAAAA,SAEf4pB,EAQA1rB,EARA0rB,eACA5D,EAOA9nB,EAPA8nB,cACAC,EAMA/nB,EANA+nB,eACAuB,EAKAtpB,EALAspB,eACA8xB,EAIAp7C,EAJAo7C,SACA7yB,EAGAvoB,EAHAuoB,iBACA8B,EAEArqB,EAFAqqB,kBACA+B,EACApsB,EADAosB,+BAGJ,OACI,yBACIljB,IAAKiyC,EACLtgD,UAAWyJ,KAAW,kBAAmB,CAAE,0BAA2BikB,KAEtE,kBAAC,EAAAtU,iBAAgB,CAACpZ,UAAU,6BACmB,gBAA1CwvB,aAAiB,EAAjBA,EAAmB96E,aAAa,QAC7B,yBAAKsrD,UAAU,8BACX,0BAAMA,UAAU,mCACZ,kBAAC,EAAAzuB,KAAI,CACD7F,KAAK,iBACL8lE,aAAa,UACbxxC,UAAU,8CAGlB,0BAAMA,UAAU,oCACXr/E,EAAAA,EAAAA,UACG,4IACA,CAAE6/H,oBAAoBC,EAAAA,EAAAA,qBAAoB,QAAQ/gI,SAKjE6gI,EACG,yBAAKvgD,UAAU,wBACX,kBAAC,EAAAr+B,KAAI,CAAC6vC,GAAG,KAAKrE,OAAO,OAAOsE,YAAY,QACnC9wF,EAAAA,EAAAA,UAAS,sBAIlBkwG,EAAej0G,KAAI,SAACmzG,EAAMj7F,GAGtB,OAFiBi7F,EAAK7sC,QAAQ/yB,eAG1B,KAAK3mC,QAAQ0U,IAAIgqD,WACb,IAAM1T,EAAau7C,EAAKr7E,aAAa,QAErC,OACI,kBAAC,GAAgB,CACbl5B,IAAG,UAAKu0G,EAAKr7E,aAAa,SAAO,OAAGlrB,QAAQ+T,MAAMC,UAClD3gB,GAAE,kCAA6BiY,GAC/Bu+C,WAAY08C,EACZmvB,yBACmB,kBAAf1qE,GACM1/C,IAAUy8F,EAGpB6tB,YACIjzB,GAAoB3wF,EAAAA,GAAyBg5C,KAC5Ck5C,EACK,kBAAMR,EAAe6C,EAAK,EAC1B,kBAAMtB,EAAesB,EAAMv7C,EAAW,GAEhDuhB,UAAWk3B,IAAkBz4C,IAIzC,KAAKhrD,QAAQ0U,IAAIkqD,WACb,OACI,yBACI5sE,IAAG,UAAKu0G,EAAKr7E,aAAa,SAAO,OAAG5f,GACpCkrE,UAAU,2BAET+vB,EAAKr7E,aAAa,SAI/B,KAAKlrB,QAAQ0U,IAAIoqD,WACb,OACI,kBAAC,EAAAqrB,MAAK,CACFn4F,IAAG,UAAKu0G,EAAKr7E,aAAa,SAAO,OAAG5f,GACpCkrE,UAAS,UAAK+vB,EAAKr7E,aAAa,cAChCn5B,KAAI,UAAKw0G,EAAKr7E,aAAa,SAC3Bh1B,KAAI,UAAKqwG,EAAKr7E,aAAa,SAC3B09F,YAAW,UAAKriB,EAAKr7E,aAAa,gBAClCgqG,aAAa,QAIzB,KAAKl1H,QAAQ0U,IAAIiqD,YACb,IAAMjQ,EAAe63C,EAAKr7E,aAAa,eACjCgsG,EAAc3wB,EAAKr7E,aAAa,MAEtC,OACI,4BACI73B,GAAI6jI,EACJllI,IAAG,UAAK08D,GAAY,OAAGpjD,GACvBkrE,UAAWyJ,KACP,SACA,gBACA,kBAAiB,UACdsmB,EAAKr7E,aAAa,eAEzB47D,QAAS,SAAAj4B,GACL,IAAMp9C,EAAYzR,QAAQC,eAEpBnO,EADY2f,EAAU0lH,kBAAkBzoE,IACf,WAAO,EAItCG,EAAOnH,iBAAmBj2C,EAC1Bo9C,EAAOG,mBAAqB,WAExB,OAAOH,EAAOnH,gBAClB,EAEA51D,EAAS+8D,EACb,GAEC03C,EAAKr7E,aAAa,SAI/B,QACI,OAAO,KAEnB,KAKpB,EAEMqlC,GAAS,SAAAorB,GACX,IACI0rB,EASA1rB,EATA0rB,eACAC,EAQA3rB,EARA2rB,aACAtD,EAOAroB,EAPAqoB,gBACAE,EAMAvoB,EANAuoB,iBACAzZ,EAKA9O,EALA8O,WACAwI,EAIAtX,EAJAsX,QACAC,EAGAvX,EAHAuX,UACA4P,EAEAnnB,EAFAmnB,cACAyE,EACA5rB,EADA4rB,YAGJ9pB,IAAAA,WAAgB,WAEZ,OADAwV,IACO,kBAAMC,GAAW,CAC5B,GAAG,CAACD,EAASC,IAETzI,GAAcyZ,GACdpB,EAAc,CAAExvF,MAAO,sBAAuB3I,OAAO,IAGzD,IAAMisH,EAAer/H,OAAO2Z,KAAKm2F,GAAgBrvG,OAC3C++H,EAA4B,IAAjBH,EAEjB,OACInsC,GACI,yBACIp3F,GAAG,qBACHmjF,UAAWyJ,KAAW,SAAU,CAC5Bm3C,eAAgBlzB,EAChBmzB,aAAcrzB,EACdszB,gBAAiBtzB,IAAoBE,IAEzC3yG,MAAO,CAAEkqC,MAAO,GAAF,OAAK6rE,EAAY,QAE9BpD,IAAqBF,GAClB,kBAAC2yB,GAAY,CAACpvB,YAAaA,EAAaqvB,aAAcA,IAEzD5yB,EAAkB,kBAAC,GAAQ,MAAM,kBAAC6yB,GAAa,IAACE,SAAUA,GAAcp7C,IAIzF,EAEAprB,GAAO66B,UAAY,CACfqY,cAAepY,KAAAA,OACfgc,eAAgBhc,KAAAA,IAChBic,aAAcjc,KAAAA,OACd4Z,eAAgB5Z,KAAAA,KAChB2Y,gBAAiB3Y,KAAAA,KACjB6Y,iBAAkB7Y,KAAAA,KAClBZ,WAAYY,KAAAA,KACZ4H,QAAS5H,KAAAA,KACT6H,UAAW7H,KAAAA,KACXyZ,gBAAiBzZ,KAAAA,KACjBkc,YAAalc,KAAAA,OACbqY,eAAgBrY,KAAAA,KAChB2a,kBAAmB3a,KAAAA,OACnB0c,+BAAgC1c,KAAAA,QAGpC,SAAev5D,GAAQ,gBAAGwpB,EAAM,EAANA,OAAQosE,EAAW,EAAXA,YAAa1gB,EAAG,EAAHA,IAAG,MAAQ,CACtDvD,cAAeikB,EAAYjkB,cAC3BX,cAAekE,EAAIlE,cACnBuE,eAAgB/rD,EAAO+rD,eACvBC,aAAchsD,EAAOgsD,aACrBrC,eAAgByiB,EAAYziB,eAC5BjB,gBAAiB1oD,EAAO0oD,gBACxBE,iBAAkB5oD,EAAO4oD,iBACzBzZ,WAAYnvC,EAAOmvC,WACnBwI,QAAS33C,EAAO23C,QAChBC,UAAW53C,EAAO43C,UAClB4R,gBAAiB4iB,EAAY5iB,gBAC7ByC,YAAajsD,EAAOisD,YACpB7D,eAAgBgkB,EAAYhkB,eAC5BsC,kBAAmB1qD,EAAO0qD,kBAC1B+B,+BAAgCzsD,EAAOysD,+BAC1C,GAhBD,CAgBIx3C,IC5OJ,MC8CA,GAAez+B,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAS,MAAmB,CAC9D01D,uBAAwBr1D,EAAWq1D,uBACnCiB,kBAAmBt2D,EAAWs2D,kBAC9BP,mBAAoB/1D,EAAW+1D,mBAC/Brc,gBAAiB/5C,EAAU+5C,gBAC3BoJ,kBAAmBnjD,EAAUmjD,kBAC7BqU,gBAAiBn3D,EAAWm3D,gBAC/B,GAPD,EAjCoB,SAAH,GAOQ,IANrB9B,EAAsB,EAAtBA,uBACAiB,EAAiB,EAAjBA,kBACAP,EAAkB,EAAlBA,mBACArc,EAAe,EAAfA,gBACAoJ,EAAiB,EAAjBA,kBACAqU,EAAe,EAAfA,gBAEMhhG,GAAYwuE,EAAAA,EAAAA,YACZk3C,EAAU1lH,EAAYg1E,EAAAA,OAAAA,MAAepJ,IAAAA,SAE3C,OACI,kBAAC85C,EAAO,KACH1lH,GACG,kBAAC,EAAAg1E,OAAM,CAAC3oF,MAAM/G,EAAAA,EAAAA,UAAS,UAAW2vF,QAAS,kBAAM2qB,EAAmB,KAAK,EAAEzgB,YAAU,EAAC7sC,WAAS,EAACkmC,OAAK,IAEzG,kBAAC,EAAAxD,OAAM,CACH3oF,MAAM/G,EAAAA,EAAAA,UAAS,QACf2vF,QAAS,WACLkrB,IACAa,IACArU,GAAkB,GAClBpJ,EAAgB,SACpB,EACApa,WAAY+1B,EACZ/f,YAAU,EACV5sC,SAAO,EACPimC,OAAK,IAIrB,ICvBA,GAAev4D,GAAQ,YAAY,MAAmB,CAClDktE,iBAD+B,EAAT3jD,UACM2jD,iBAC/B,GAFD,EAfyB,SAAH,OAAMA,EAAgB,EAAhBA,iBAAgB,OACxC,yBAAKxoB,UAAU,6CACX,kBAAC,EAAAzuB,KAAI,CACD7F,KAAM,eACNs0B,UAAU,wCACVsQ,QAAS,kBAAMkY,GAAiB,EAAK,IAEzC,kBAAC,EAAAj3C,KAAI,CACD7F,KAAM,iBACNs0B,UAAU,wCACVsQ,QAAS,kBAAMkY,GAAiB,EAAM,IAExC,+GCCV,IAsFMkpB,GAAQp2F,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAS,MAAmB,CAC7D0kC,WAAY1kC,EAAU0kC,WACtBwd,6BAA8BliD,EAAUkiD,6BACxClrF,iBAAkBqpC,EAAWrpC,iBAC7B0+F,uBAAwBr1D,EAAWq1D,uBACnCC,kBAAmBt1D,EAAWs1D,kBAC9BS,mBAAoB/1D,EAAW+1D,mBAClC,GAPa3/E,EAtFS,SAAH,GAMQ,QALxBiuD,EAAU,EAAVA,WACAwd,EAA4B,EAA5BA,6BACAlrF,EAAgB,EAAhBA,iBACA2+F,EAAiB,EAAjBA,kBACAS,EAAkB,EAAlBA,mBAEM0W,EAAiB1qC,IAAAA,OAAa,MACgC,KAApBA,IAAAA,UAAe,KAAK,s5BAA7DkgB,EAAiB,KAAEI,EAAkB,KACtClsF,GAAYwuE,EAAAA,EAAAA,YAElB,OAAI2wB,GAAqBrT,EAEjB,yBAAKnnB,UAAU,iEACX,yBACIA,UAAWyJ,KAAW,+BAAgC,CAClD,uCAAuD,IAAfF,GAAoBwd,KAGhE,yBAAK/mB,UAAU,wBACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,aAEhC,yBAAK5O,UAAU,oCACX,yBAAKnjF,GAAG,mCAAmC9B,MAAO,CAAEmqC,OAAQ,SACxD,yBAAK86C,UAAU,sCACX,kBAAC,EAAAzuB,KAAI,CAAC7F,KAAK,UAAU4kC,QAAS,kBAAM2qB,EAAmB,KAAK,KAEhE,kBAAC,GAAgB,SAI5B5/F,GACG,yBAAK2kE,UAAU,+BACX,kBAAC,GAAW,QAQ5B,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,iCACX,2BACIzkF,KAAK,OACL8yF,IAAKsjC,EACLG,OAAO,OACP/2H,MAAO,CAAEyyB,QAAS,QAClBq/D,SAAU,SAAAlxF,GAAC,OAAI4rG,EAAmB1rF,EAAiBlgB,GAAG,GAAO,IAEjE,yBACIqkF,UAAU,qCACVghD,OAAQ,SAAArlI,GACJkgB,EAAiBlgB,GAAG,EACxB,GAEC0f,EACG,kBAAC,EAAAk2C,KAAI,CAAC7F,KAAK,UAAUs0B,UAAU,4BAA4B9jF,KAAMmf,EAAY,GAAK,MAElF,kBAAC,aAAc,KACX,kBAAC,EAAAk2C,KAAI,CAAC7F,KAAK,OAAOs0B,UAAU,4BAA4B9jF,KAAMmf,EAAY,GAAK,MAC/E,yBAAK2kE,UAAU,8BACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,6BAEhC,yBAAK5O,UAAU,oCACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,2BAIxC,kBAAC,EAAAyB,OAAM,CACH3oF,KACIy/F,GACMxmG,EAAAA,EAAAA,UAAS,wCACTA,EAAAA,EAAAA,UAAS,6BAEnB2vF,QAAS,kBAAMqhC,EAAevsC,QAAQqmB,OAAO,EAC7CjR,YAAU,EACV5sC,SAAO,EACPimC,OAAK,MAM7B,IAWA,YCrEA,GAAev4D,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAU,MAAmB,CACnDq3D,kBAAmBr3D,EAAWq3D,kBAC9BC,YAAat3D,EAAWs3D,YACxBzT,sBAAuB7jD,EAAW6jD,sBAClC4R,qBAAsBz1D,EAAWy1D,qBACpC,GALD,EAhCwB,SAAH,GAMQ,IALzB4B,EAAiB,EAAjBA,kBACAC,EAAW,EAAXA,YACAzT,EAAqB,EAArBA,sBACA4R,EAAoB,EAApBA,qBACA1/F,EAAS,EAATA,UAEA,OACI,yBACI+kE,UAAW0O,KAAW,yCAA0C,CAC5D,uCAAwCisB,IAAyB1/F,EAAUpe,KAE/ErB,IAAKyf,EAAUpe,GACfyzF,QAASqqB,IAAyB1/F,EAAUpe,QAAK+B,EAAY,kBAAMmqG,EAAsB9tF,EAAUpe,GAAG,GAEtG,yBAAKmjF,UAAU,+CACX,yBAAKA,UAAU,oCAAoC/kE,EAAUvb,MAC7D,yBAAKsgF,UAAU,oCAAmCt5D,EAAAA,EAAAA,WAAUzL,EAAU0L,aAE1E,yBAAKq5D,UAAU,mDACX,kBAAC,EAAAzuB,KAAI,CACD7F,KAAM6wD,EAAkBthG,EAAU8mE,WAClC/B,UAAW0O,KAAW,CAClB,qCAAsCzzE,EAAU8mE,YAAc7iE,GAAAA,EAAAA,iBAGtE,yBAAK8gE,UAAU,oCAAoCw8B,EAAYvhG,EAAU8mE,aAIzF,IC/BA,IAwEMoyC,GAAS74F,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAU,MAAmB,CACnDo1D,sBAAuBp1D,EAAWo1D,sBAClCG,kBAAmBv1D,EAAWu1D,kBAC9B2B,wBAAyBl3D,EAAWk3D,wBACvC,GAJc9gF,EAxES,SAAH,GAIQ,IAHzBg/E,EAAqB,EAArBA,sBACAG,EAAiB,EAAjBA,kBACA2B,EAAuB,EAAvBA,wBAEA,OAAI3B,EAAkBj5G,OAEd,yBAAKw+E,UAAU,iEACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,+BACX,yBAAKA,UAAU,wBACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,YAEhC,yBAAK5O,UAAU,oCACVy6B,EAAkB79G,KAAI,SAAAqe,GAAS,OAC5B,kBAAC,GAAe,CAACzf,IAAKyf,EAAUpe,GAAIoe,UAAWA,GAAa,MAIxE,yBAAK+kE,UAAU,iCACX,yBAAKA,UAAU,4DACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,aAEhC,yBAAK5O,UAAU,oCACX,yBAAKnjF,GAAG,mCAAmC9B,MAAO,CAAEmqC,OAAQ,SACxD,kBAAC,GAAgB,WAUzC,yBAAK86C,UAAU,4BACX,yBAAKA,UAAU,+BACX,kBAAC,EAAAzuB,KAAI,CAAC7F,KAAK,gBAAgBs0B,UAAU,mCAAmC9jF,KAAM,MAC9E,yBAAK8jF,UAAU,qCACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,qCAEhC,yBAAK5O,UAAU,2CACX,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,qEAEhC,yBAAK5O,UAAU,qCAAqCsQ,QAAS8rB,GACzD,kBAAC,EAAAztB,SAAQ,CAACC,kBAAkB,qCAEhC,yBACI5O,UAAW0O,KAAW,0CAA2C,CAC7D,gDAAiD4rB,KAGrD,6BACI,kBAAC,EAAA3rB,SAAQ,CAACC,kBAAkB,0FAEhC,wBAAI5O,UAAU,gDACV,4BACI,kBAAC,EAAA2O,SAAQ,CAACC,kBAAkB,0CAEhC,4BACI,kBAAC,EAAAD,SAAQ,CAACC,kBAAkB,2CAEhC,4BACI,kBAAC,EAAAD,SAAQ,CAACC,kBAAkB,sCAOxD,IAQA,YC1DA,GAAetzD,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAS,MAAmB,CAC9D01D,uBAAwBr1D,EAAWq1D,uBACnCgB,mBAAoBr2D,EAAWq2D,mBAC/B3c,gBAAiB/5C,EAAU+5C,gBAC3Byd,gBAAiBn3D,EAAWm3D,gBAC/B,GALD,EAtBqB,SAAH,GAKQ,IAJtB9B,EAAsB,EAAtBA,uBACAgB,EAAkB,EAAlBA,mBACA3c,EAAe,EAAfA,gBACAyd,EAAe,EAAfA,gBAEA,OACI,kBAAC,EAAAhsB,OAAM,CACH3oF,MAAM/G,EAAAA,EAAAA,UAAS,QACf2vF,QAAS,WACLirB,IACAc,IACAzd,EAAgB,SACpB,EACApa,WAAY+1B,EACZ/f,YAAU,EACV5sC,SAAO,EACPimC,OAAK,GAGjB,ICuEA,GAAev4D,GAAQ,gBAAG4pB,EAAU,EAAVA,WAAYL,EAAS,EAATA,UAAS,MAAmB,CAC9D+4C,aAAc14C,EAAW04C,aACzByc,mBAAoBn1D,EAAWm1D,mBAC/BG,kBAAmBt1D,EAAWs1D,kBAC9BqB,UAAW32D,EAAW22D,UACtBpB,kBAAmBv1D,EAAWu1D,kBAC9B5c,kBAAmB34C,EAAW24C,kBAC9B6d,SAAUx2D,EAAWw2D,SACrBW,gBAAiBn3D,EAAWm3D,gBAC5BrU,kBAAmBnjD,EAAUmjD,kBAChC,GAVD,EA/EkB,SAAH,GAUQ,IATnBpK,EAAY,EAAZA,aACAyc,EAAkB,EAAlBA,mBACAG,EAAiB,EAAjBA,kBACAqB,EAAS,EAATA,UACApB,EAAiB,EAAjBA,kBACA5c,EAAiB,EAAjBA,kBACAmK,EAAiB,EAAjBA,kBACA0T,EAAQ,EAARA,SACAW,EAAe,EAAfA,gBAEM4kB,GAActgI,EAAAA,EAAAA,UAAS,iBAE7B,IAAIkpF,EAAAA,EAAAA,YACA,OACI,kBAAC,EAAAgpC,oBAAmB,CAChBC,cAAezY,EACfr6B,UAAU,yBACVoU,QAAQzzF,EAAAA,EAAAA,UAAS,iBACjB0zF,aAAc,WACV2T,GAAkB,GAClBqU,GACJ,EACA0W,cAAc,OACdC,cAAY,GAEZ,kBAAC,EAAAl1B,KAAI,CAACF,aAAcA,EAAcG,eAAgBF,EAAmBz7B,KAAG,GACpE,yBAAK3zC,OAAO9tB,EAAAA,EAAAA,UAAS,UACjB,kBAAC,GAAK,OAEV,yBAAK8tB,MAAM,gBACP,kBAAC,GAAW,SAOhC,IAAMyyG,EAAkB1mB,GAAqBkB,IAAa/yB,GAAAA,UACpDw4C,EAAwB1mB,EAAkBj5G,OAAS,GAAKk6G,IAAa/yB,GAAAA,WAE3E,OACI,kBAAC,EAAA6L,MAAK,CACFhkB,MAAOywD,EACPjhD,UAAU,gBACV/6C,MAAM,SACNC,OAAO,OACPuvD,QAAS4lB,EACT1lB,YAAa0nB,EACbR,UAAWA,EACXulB,mBAAoB,CAACtlH,SAASy8C,cAAc,mBAE5C,kBAAC,EAAAi8B,MAAA,KAAU,KACP,kBAAC,EAAAsJ,KAAI,CAACF,aAAcA,EAAcG,eAAgBF,EAAmBz7B,KAAG,EAACi/D,oBAAkB,GACvF,yBAAK5yG,OAAO9tB,EAAAA,EAAAA,UAAS,WACjB,kBAAC,GAAM,OAEX,yBAAK8tB,OAAO9tB,EAAAA,EAAAA,UAAS,UACjB,kBAAC,GAAK,OAEV,yBAAK8tB,MAAM,gBACP,kBAAC,GAAW,SAIvB0yG,GACG,kBAAC,EAAA3sC,MAAA,OAAY,CAAC8sC,eAAa,GACvB,kBAAC,GAAY,OAGpBJ,GACG,kBAAC,EAAA1sC,MAAA,OAAY,CAAC8sC,eAAa,GACvB,kBAAC,GAAW,OAKhC,ICnGA,iHCWA,IAAMC,GAA0B,SAAH,GAAuC,QAAjC/yH,EAAM,EAANA,OAAQgzH,EAAS,EAATA,UAAW7hI,EAAO,EAAPA,QACA,KAArBsnF,IAAAA,UAAe,KAAM,s5BAA3CwN,EAAO,KAAEgtC,EAAS,KAEzB,OAAK3lH,SAASC,eAAeylH,IAAe7hI,GAEvC80F,GAAsB,WAAXjmF,EAELimF,GAAsB,WAAXjmF,GAClBJ,YAAW,WACPqzH,GAAU,EACd,GAAG,MAJHA,GAAU,GAOP3iC,KAAAA,aACH,kBAAC,EAAAxK,cAAa,KACV,kBAAC,EAAAyK,MAAK,CACF/e,UAAWyJ,KAAW,CAClB,oBAAgC,YAAXj7E,IAEzBimF,QAASA,EACT95E,QAAS,EACTpf,KAAK,SAEJoE,IAGTmc,SAASC,eAAeylH,KAvBgC,IAyBhE,EAEAD,GAAwB3sC,UAAY,CAChC4sC,UAAW3sC,KAAAA,OACXrmF,OAAQqmF,KAAAA,OACRl1F,QAASk1F,KAAAA,QAGb,MChDA,GDgDev5D,GAAQ,YAAS,MAAQ,CACpComG,eAD4B,EAANj3C,OACCi3C,eAC1B,GAFD,EAEI,gBAAGA,EAAc,EAAdA,eAAc,OACjB,kBAACH,GAAuB,CAACC,UAAU,aAAa7hI,QAAS+hI,EAAe9vG,QAASpjB,OAAQkzH,EAAc,OAAU,IElDrH,IAAMC,GAAU,SAAApmI,GACZ,OAAQA,GACJ,IAAK,QACD,MAAO,gBACX,IAAK,OAIL,QACI,MAAO,iBAHX,IAAK,OACD,MAAO,cAInB,EAEam8G,GAAoB,SAAH,OAAMnmB,EAAS,EAATA,UAAWh2F,EAAI,EAAJA,KAAMoE,EAAO,EAAPA,QAASg4G,EAAQ,EAARA,SAAUrnB,EAAO,EAAPA,QAAO,OAC3E,oCACI,yBAAK90F,IAAG,UAAK+1F,EAAS,YAAYvR,UAAU,0BACxC,kBAAC,EAAAzuB,KAAI,CAAC/1D,IAAG,UAAK+1F,EAAS,SAAS7lC,KAAMi2E,GAAQpmI,GAAOW,KAAK,OAC1D,yBAAKV,IAAG,UAAK+1F,EAAS,SAASvR,UAAU,wBACpCrgF,IAGT,kBAAC,EAAA0wF,OAAM,CACH70F,IAAG,UAAK+1F,EAAS,QACjBvR,UAAU,sBACVt4E,KAAMiwG,EACNrnB,QAASA,EACTkK,YAAU,EACV7sC,WAAS,IAEd,EAWM6rD,GAAiB,SAAAD,GAAW,OAAI,SAAAnqB,GAAO,OAAI,kBAAC,EAAAwyC,eAAc,CAACjiI,QAAS45G,EAAasoB,SAAUzyC,GAAW,GCJnH,MCrCA,GDqCe9zD,GAAQ,gBAAGspF,EAAmB,EAAnBA,oBAAmB,MAAmB,CAC5DpC,cAAeoC,EAAoBpC,cACnCN,YAAa0C,EAAoB1C,YACjCC,aAAcyC,EAAoBzC,aAClCC,cAAewC,EAAoBxC,cACnCG,SAAUqC,EAAoBrC,SAC9BD,UAAWsC,EAAoBtC,UAClC,GAPD,EAxB0B,SAAH,GAOG,IANtBE,EAAa,EAAbA,cACAL,EAAY,EAAZA,aACAC,EAAa,EAAbA,cACAF,EAAW,EAAXA,YACAK,EAAQ,EAARA,SACAD,EAAS,EAATA,UAIA,OAFAr7B,IAAAA,UAAgBu7B,EAAe,CAACL,EAAcC,EAAeI,IAGzD,kBAAC,EAAAuP,OAAM,CACHvhD,OAAO7vE,EAAAA,EAAAA,UAAS,oBAChB0yH,qBAAqB1yH,EAAAA,EAAAA,UAAS,6BAC9BglH,oBAAoBhlH,EAAAA,EAAAA,UAAS,iBAC7B2hH,UAAWA,EACXC,SAAUA,EACVtuB,WAAYiuB,GAEZ,kBAAC,EAAAvzB,SAAQ,CAACC,kBAAkB,uGAGxC,IE2CA,GAjE4B,SAAH,GAQG,IAPxBnX,EAAU,EAAVA,WACA0gB,EAAa,EAAbA,cACA4lB,EAAuB,EAAvBA,wBACAC,EAAuB,EAAvBA,wBACAwG,EAAuB,EAAvBA,wBACAe,EAAe,EAAfA,gBACArG,EAAmB,EAAnBA,oBAEMmU,EAAsB57C,GAAc0gB,GAAgBx3F,EAAAA,EAAAA,UAAS,qBAAsBA,EAAAA,EAAAA,UAAS,eAC5FglH,EAAqBluC,GAAc0gB,GAAgBx3F,EAAAA,EAAAA,UAAS,sBAAuBA,EAAAA,EAAAA,UAAS,QAC5FmhI,EACFrqD,GAAc0gB,GAAgBx3F,EAAAA,EAAAA,UAAS,gCAAiCA,EAAAA,EAAAA,UAAS,0BAC/EohI,EAAwBtqD,GAAc0gB,EAAgBqsB,EAA0BtF,EAEtF,OACI,kBAAC,aAAc,KACX,kBAAC,EAAA6S,OAAM,CACHkJ,kBAAkB,aAClBzqD,MAAOsxD,EACP7tC,WAAYxc,EAAaumC,EAA0BD,EACnDsV,oBAAqBA,EACrB/Q,UAAWiD,EACXI,mBAAoBA,EACpBpD,SAAUwf,EACV/P,sBAAsB,EACtBhyC,UAAW,kBACX0U,gBAAc,GAEbjd,GAAc0gB,EACX,oCACI,kBAAC,EAAAx2C,KAAI,CAAC6vC,GAAG,IAAIC,YAAY,IAAIv1F,KAAK,KAAK4yF,OAAQ,CAAEkzC,cAAe,OAAQC,WAAY,UAC/EthI,EAAAA,EAAAA,UACG,0HAEJ,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,OAAOC,YAAY,IAAIv1F,KAAK,MACjC,iCAASyE,EAAAA,EAAAA,UAAS,cAErBA,EAAAA,EAAAA,UAAS,WAEd,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIC,YAAY,IAAIv1F,KAAK,OAC7ByE,EAAAA,EAAAA,UAAS,0EAIlB,oCACI,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIC,YAAY,IAAIv1F,KAAK,KAAK4yF,OAAQ,CAAEkzC,cAAe,OAAQC,WAAY,UAC/EthI,EAAAA,EAAAA,UACG,6FAGR,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,IAAIC,YAAY,IAAIv1F,KAAK,OAC7ByE,EAAAA,EAAAA,UAAS,6CACV,kBAAC,EAAAghD,KAAI,CAAC6vC,GAAG,OAAOC,YAAY,IAAIv1F,KAAK,MACjC,iCAASyE,EAAAA,EAAAA,UAAS,cAErBA,EAAAA,EAAAA,UAAS,aAOtC,EC/CA,GAAe26B,GAAQ,gBAAG6tD,EAAS,EAATA,UAAWyY,EAAc,EAAdA,eAAgB/J,EAAY,EAAZA,aAAY,MAAmB,CAChFqP,eAAgBtF,EAAesF,eAC/BzvB,WAAY0R,EAAU1R,WACtB0gB,cAAeN,EAAaM,cAC5B4lB,wBAAyBnc,EAAemc,wBACxCC,wBAAyBpc,EAAeoc,wBACxCwG,wBAAyBr7B,EAAUq7B,wBACnCe,gBAAiBp8B,EAAUo8B,gBAC3BhB,UAAWp7B,EAAUo7B,UACrBrF,oBAAqBtd,EAAesd,oBACpCjB,uBAAwBrc,EAAeqc,uBAC1C,GAXD,EAtBqB,SAAH,OACdxmC,EAAU,EAAVA,WACAsmC,EAAuB,EAAvBA,wBACAC,EAAuB,EAAvBA,wBACA7lB,EAAa,EAAbA,cACA+O,EAAc,EAAdA,eACAsd,EAAuB,EAAvBA,wBACAD,EAAS,EAATA,UACArF,EAAmB,EAAnBA,oBAAmB,OAEnB,kBAAC,GAAmB,CAChBznC,WAAYA,EACZ8tC,gBAAiBhB,EACjBxG,wBAAyBA,EACzBC,wBAAyBA,EACzB7lB,cAAeA,EACfqsB,wBAAyBA,EACzBtd,eAAgBA,EAChBgY,oBAAqBA,GACvB,ICDN,GAfsB,SAAH,OACfhvB,EAAe,EAAfA,gBACAgyC,EAAS,EAATA,UACAC,EAAgB,EAAhBA,iBACAC,EAAa,EAAbA,cACA12E,EAAI,EAAJA,KACAuM,EAAW,EAAXA,YAAW,OAEX,kBAAC,EAAA8vB,QAAO,CAACC,UAAU,SAASroF,QAASuwF,EAAiBmyC,+BAA6B,GAC/E,kBAAC,EAAAhyC,OAAM,CAACxzF,GAAIqlI,EAAWliD,UAAWmiD,EAAkB3nC,YAAU,EAAClK,QAAS8xC,EAAe12E,KAAMA,EAAM+uC,OAAK,GACnGxiC,GAEC,yOCgBd,SA3BoB,SAAH,GAA6E,IAAvEi4B,EAAe,EAAfA,gBAAiBxkC,EAAI,EAAJA,KAAM42E,EAAO,EAAPA,QAASC,EAAU,EAAVA,WAAYv2H,EAAM,EAANA,OACzDwlD,EAAa,WAAH,OACZ,kBAAC,EAAAD,KAAI,IACD7F,KAAMA,EACN7uD,GAAIylI,EACJtiD,UAAU,gBACVsQ,QAAStkF,GACJu2H,GAAc,CAAEn1C,MAAOm1C,IAC9B,EAGN,OAAI14C,EAAAA,EAAAA,YACOr4B,IAIP,kBAAC,EAAAu2B,QAAO,CACJC,UAAU,SACVroF,QAASuwF,EACTjI,OAAQ8S,GAAeE,QACvBonC,+BAA6B,GAE5B7wE,IAGb,ECiDA,GAAel2B,GAAQ,YAAY,MAAmB,CAClD0sE,kBAD+B,EAATnjD,UACOmjD,kBAChC,GAFD,EArEuB,SAAH,OAChB+iB,EAAc,EAAdA,eACAD,EAAc,EAAdA,eACAE,EAAY,EAAZA,aACAG,EAAW,EAAXA,YACAC,EAAW,EAAXA,YACA5iB,EAAgB,EAAhBA,iBACAR,EAAiB,EAAjBA,kBACAqU,EAAe,EAAfA,gBACAiL,EAAe,EAAfA,gBAAe,OAEf,yBAAKtnC,UAAU,qCACX,kBAAC,GAAW,CACRkQ,iBAAiBvvF,EAAAA,EAAAA,UAAS,SAC1B+qD,KAAK,UACL42E,QAAQ,2BACRt2H,OAAQg/G,IAEZ,kBAAC,GAAW,CACR96B,iBAAiBvvF,EAAAA,EAAAA,UAAS,UAC1B+qD,KAAK,eACL42E,QAAQ,4BACRt2H,OAAQ,WACJg8F,GAAkB,GAClBqU,GACJ,IAEJ,kBAAC,GAAW,CACRnsB,iBAAiBvvF,EAAAA,EAAAA,UAAS,QAC1B+qD,KAAK,SACL42E,QAAQ,0BACRt2H,OAAQs7G,IAEZ,yBAAKtnC,UAAU,qBACf,kBAAC,GAAW,CACRkQ,iBAAiBvvF,EAAAA,EAAAA,UAAS,QAC1B+qD,KAAK,SACL42E,QAAQ,0BACRC,WAAYzX,OAAiBlsH,EAAY,WACzCoN,OAAQ,kBAAMo/G,GAAuB,EAAM,IAE/C,kBAAC,GAAW,CACRl7B,iBAAiBvvF,EAAAA,EAAAA,UAAS,QAC1B+qD,KAAK,SACL42E,QAAQ,0BACRC,WAAYxX,OAAiBnsH,EAAY,WACzCoN,OAAQ,kBAAMo/G,GAAuB,EAAK,IAE9C,kBAAC,GAAW,CACRl7B,iBAAiBvvF,EAAAA,EAAAA,UAAS,QAC1B+qD,KAAK,SACL42E,QAAQ,0BACRt2H,OAAQm/G,IAEZ,kBAAC,GAAW,CACRj7B,iBAAiBvvF,EAAAA,EAAAA,UAAS,WAC1B+qD,KAAK,WACL42E,QAAQ,6BACRt2H,OAAQ,kBAAMw8F,GAA0B,EAAK,IAEjD,kBAAC,GAAW,CACRtY,iBAAiBvvF,EAAAA,EAAAA,UAAS,YAC1B+qD,KAAK,YACL42E,QAAQ,uBACRt2H,OAAQ,kBAAMw8F,GAA0B,EAAM,IAEhD,ICAV,GAAeltE,GAAQ,gBAAGklE,EAAa,EAAbA,cAAerX,EAAS,EAATA,UAAWlkC,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAAYH,EAAO,EAAPA,QAAS68C,EAAc,EAAdA,eAAc,MAAmB,CAClHrY,WAAYiX,EAAcjX,WAC1B5rE,UAAWonC,EAAQpnC,UACnBotG,eAAgBhmE,EAAQgmE,eACxBD,eAAgB/lE,EAAQ+lE,eACxB5jB,eAAgBniD,EAAQmiD,eACxB9d,eAAgBD,EAAUC,eAC1B3R,WAAY0R,EAAU1R,WACtBoiB,wBAAyB1Q,EAAU0Q,wBACnC9I,uBAAwB5H,EAAU4H,uBAClCk6B,iBAAkBlmE,EAAQkmE,iBAC1B1F,gBAAiBxgE,EAAQmmE,qBACzBF,aAAcjmE,EAAQimE,aACtBh5B,iBAAkB7I,EAAU6I,iBAC5Bm5B,YAAapmE,EAAQomE,YACrBC,YAAarmE,EAAQqmE,YACrB5iB,iBAAkBzjD,EAAQyjD,iBAC1B6T,gBAAiBn3D,EAAWm3D,gBAC5BiL,gBAAiBriE,EAAWqiE,gBAC5BzlB,iBAAkBD,EAAeC,iBACpC,GApBD,EApDgB,SAAC1c,GACb,IAAQ1N,EAAkE0N,EAAlE1N,WAAYyvB,EAAsD/hB,EAAtD+hB,eAAgBqe,EAAsCpgC,EAAtCogC,gBAAiB0F,EAAqB9lC,EAArB8lC,iBAC/CoI,EAAsB57C,GAAa92E,EAAAA,EAAAA,UAAS,QAASA,EAAAA,EAAAA,UAAS,MAC9DglH,EAAqBluC,GAAa92E,EAAAA,EAAAA,UAAS,OAAQA,EAAAA,EAAAA,UAAS,UAElE,OACI,kBAAC,aAAc,KACX,yBAAKq/E,UAAU,6BAA6B,cAAY,sBACpD,yBAAKA,UAAU,qBACV6J,EAAAA,EAAAA,aACG,kBAAC,GAAa,CACVqG,iBAAiBvvF,EAAAA,EAAAA,UAAS,2CAC1BuhI,UAAU,iCACVC,iBAAiB,sDACjBC,cAAej9C,EAAM0c,iBACrB5pC,aAAat3D,EAAAA,EAAAA,UAAS,oBAG9B,kBAAC,GAAmBwkF,KAG5B,kBAAC,EAAA4sC,OAAM,CACHkJ,kBAAkB,aAClBzqD,OAAO7vE,EAAAA,EAAAA,UAAS,iBAChBszF,WAAYiT,EACZmsB,oBAAqBA,EACrB/Q,UAAWiD,EACXI,mBAAoBA,EACpBpD,SAAU0I,EACV+G,sBAAsB,EACtBhyC,UAAW,kBACX0U,gBAAc,GAEbjd,EACG,kBAAC,EAAAkX,SAAQ,CACLC,kBAAkB,2MAClBC,WAAY,CACR,yBACIrzF,IAAK,EACLwkF,UAAU,+BACV,cAAY,qCAKxBr/E,EAAAA,EAAAA,UAAS,sCAK7B,IC/EA,MCYA,GANmB,SAAH,GAA4D,IAAtDwqD,EAAM,EAANA,OAAQwgE,EAAiB,EAAjBA,kBAAmBr7B,EAAO,EAAPA,QAC7C,OAAKnlC,EACDwgE,EAA0B,yBAAK3rC,UAAU,WACtC,kBAAC,EAAAzuB,KAAI,CAAC7F,KAAK,gBAAgB4kC,QAASA,EAASlD,MAAM,cAFtC,kBAAC,EAAA77B,KAAI,CAAC7F,KAAK,YAGnC,yOCmCA,MC9CA,GDckB,SAAH,OAAMigE,EAAiB,EAAjBA,kBAAmBhd,EAAQ,EAARA,SAAUyd,EAAY,EAAZA,aAAcC,EAAa,EAAbA,cAAeC,EAAa,EAAbA,cAAa,OACxF,yBAAKtsC,UAAU,sBACX,kBAAC,GAAA0S,OAAM,CAACC,cAAe,CAAExnC,OAAQ,IAAMmoC,SAAUqb,IAC5C,gBAAGgf,EAAU,EAAVA,WAAsBxiE,EAAM,EAAhBzuD,OAAUyuD,OAAU74B,EAAa,EAAbA,cAAa,OAC7C,kBAAC,GAAAohE,KAAI,KACD,kBAAC,SAAS,CAACh0F,KAAK,WACX,gBAAG0B,EAAK,EAALA,MAAK,OACL,kBAAC,EAAAuyF,MAAK,MACEvyF,EAAK,CACT4+E,UAAU,2BACVzkF,KAAK,OACLmE,KAAK,SACL0yH,aAAazxH,EAAAA,EAAAA,UAAS,UACtB6hI,QAAS,kBAAMlW,EAAcqB,EAAW,EACxC0E,QAAS1E,EACT2E,OAAQlG,EACRyS,aACI,kBAAC,GAAU,CACP1zE,OAAQA,EACRwgE,kBAAmBA,EACnBr7B,QAAS,kBAAM+7B,EAAc/5F,EAAc,MAGrD,IAGP,IAGb,gTEzCV,IAAMmwG,GAAM,SAAH,GAAqB,IAAZt9C,EAAK,iBACnB,OAAO8B,IAAAA,cAAoB,MAAO9B,EACtC,EAEMlzB,GAAQ,SAAH,GAAqB,IAAZkzB,EAAK,iBACrB,OAAO8B,IAAAA,cAAoB,QAAS9B,EACxC,EAEMu9C,GAAW,SAAH,GAAqB,IAAZv9C,EAAK,iBACxB,OAAO8B,IAAAA,cAAoB,WAAY9B,EAC3C,EAEMw9C,GAAU,SAAH,GAAqB,IAAZx9C,EAAK,iBACvB,OAAO8B,IAAAA,cAAoB,UAAW9B,EAC1C,EAEMy9C,GAAW,SAAH,GAAqB,IAAZz9C,EAAK,iBACxB,OAAO8B,IAAAA,cAAoB,WAAY9B,EAC3C,EAEM12B,GAAQ,SAAH,GAAqB,IAAZ02B,EAAK,iBACrB,OAAO8B,IAAAA,cAAoB,QAAS9B,EACxC,EAEM09C,GAAW,SAAH,GAAqB,IAAZ19C,EAAK,iBACxB,OAAO8B,IAAAA,cAAoB,WAAY9B,EAC3C,EAEM29C,GAAO,SAAH,GAAqB,IAAZ39C,EAAK,iBACpB,OAAO8B,IAAAA,cAAoB,OAAQ9B,EACvC,EAEM49C,GAAS,SAAH,GAAqB,IAAZ59C,EAAK,iBACtB,OAAO8B,IAAAA,cAAoB,SAAU9B,EACzC,EAEM69C,GAAY,SAAH,GAAqB,IAAZ79C,EAAK,iBACzB,OAAO8B,IAAAA,cAAoB,YAAa9B,EAC5C,EAEM89C,GAAQ,SAAH,GAAqB,IAAZ99C,EAAK,iBACrB,OAAO8B,IAAAA,cAAoB,QAAS9B,EACxC,EAEMjnE,GAAM,SAAH,GAAqB,IAAZinE,EAAK,iBACnB,OAAO8B,IAAAA,cAAoB,MAAO9B,EACtC,EAEa+9C,WAAeC,qBACxB,kBAACjlH,GAAG,CAACklH,MAAM,+BAA+BvmI,GAAG,WACzC,kBAAC6lI,GAAQ,CAAC7lI,GAAG,mBAAmB6C,MAAMiB,EAAAA,EAAAA,UAAS,sBAC3C,kBAACsxD,GAAK,CAAC12D,KAAK,oBACR,kBAACynI,GAAS,CAACtjI,KAAK,iBACZ,kBAACuyD,GAAK,CAAC12D,KAAK,0BAA0B8nI,UAAU,QAAQC,QAAQ,SAC5D,kBAAC70E,GAAK,CAAC/uD,KAAK,gBACZ,kBAAC+uD,GAAK,CAAC/uD,KAAK,mBACZ,kBAAC+uD,GAAK,CAAC/uD,KAAK,gBACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,6BAA6B8nI,UAAU,QAAQC,QAAQ,SAC/D,kBAAC70E,GAAK,CAAC/uD,KAAK,sBACZ,kBAAC+uD,GAAK,CAAC/uD,KAAK,mBACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,gCAAgC8nI,UAAU,QAAQC,QAAQ,SAClE,kBAAC70E,GAAK,CAAC/uD,KAAK,cACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CACF12D,KAAK,kCACL8nI,UAAU,QACVC,QAAQ,SAER,kBAAC70E,GAAK,CAAC/uD,KAAK,uBAAqB,MACjC,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CACF12D,KAAK,kCACL8nI,UAAU,QACVC,QAAQ,SAER,kBAAC70E,GAAK,CAAC/uD,KAAK,wBAAsB,SAClC,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CACF12D,KAAK,kCACL8nI,UAAU,QACVC,QAAQ,SAER,kBAAC70E,GAAK,CAAC/uD,KAAK,kBAAgB,qBAchF,kBAACuyD,GAAK,CAAC12D,KAAK,iCACR,kBAACsnI,GAAQ,CAACjrF,kBAAkB,QAAQC,mBAAmB,QAAQC,eAAe,UAC9E,kBAAC2W,GAAK,CAAC/uD,KAAK,sBACZ,kBAAC+uD,GAAK,CAAC/uD,KAAK,iBAAe,OAC3B,kBAACujI,GAAK,CAACvjI,KAAK,YACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACujI,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAAC+uD,GAAK,CAAC/uD,KAAK,mBAEhB,kBAACuyD,GAAK,CAAC12D,KAAK,+BACR,kBAACkzD,GAAK,CAAC/uD,KAAK,wBACZ,kBAAC+uD,GAAK,CAAC/uD,KAAK,iBAAe,OAC3B,kBAACujI,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAAC+uD,GAAK,CAAC/uD,KAAK,mBAEhB,kBAACuyD,GAAK,CAAC12D,KAAK,0BACR,kBAAC0nI,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,wBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,SAKjC,kBAACgjI,GAAQ,CAAC7lI,GAAG,sBAAsB6C,MAAMiB,EAAAA,EAAAA,UAAS,sBAC9C,kBAACsxD,GAAK,CAAC12D,KAAK,oBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,cAEhB,kBAACmnI,GAAQ,CAAC7lI,GAAG,kBAAkB6C,MAAMiB,EAAAA,EAAAA,UAAS,6BAC1C,kBAACsxD,GAAK,CAAC12D,KAAK,oBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,oBAEhB,kBAACmnI,GAAQ,CAAC7lI,GAAG,gBAAgB6C,MAAMiB,EAAAA,EAAAA,UAAS,gBACxC,kBAACsxD,GAAK,CAAC12D,KAAK,mBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,iBAGhB,kBAACmnI,GAAQ,CAAC7lI,GAAG,WAAW6C,MAAMiB,EAAAA,EAAAA,UAAS,aACnC,kBAAC+hI,GAAQ,CAAC7lI,GAAG,aAAa6C,MAAMiB,EAAAA,EAAAA,UAAS,eACrC,kBAACsxD,GAAK,CAAC12D,KAAK,iBACR,kBAACynI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aAQ7C,kBAACuyD,GAAK,CAAC12D,KAAK,kBACR,kBAACynI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aAQ7C,kBAACuyD,GAAK,CAAC12D,KAAK,gBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,iBAAe,KAC3B,kBAACsjI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,wBAAwB8nI,UAAU,QAAQC,QAAQ,SAC1D,kBAACL,GAAK,CAACvjI,KAAK,gBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,2BACR,kBAAC0nI,GAAK,CAACvjI,KAAK,kBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,gBAY7D,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,iBAAe,KAC3B,kBAACsjI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,wBAAwB8nI,UAAU,QAAQC,QAAQ,SAC1D,kBAACL,GAAK,CAACvjI,KAAK,gBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,2BACR,kBAAC0nI,GAAK,CAACvjI,KAAK,kBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,gBAY7D,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACynI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aAQ7C,kBAACuyD,GAAK,CAAC12D,KAAK,kBACR,kBAACynI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aAQ7C,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACynI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACR,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aAQ7C,kBAACuyD,GAAK,CAAC12D,KAAK,kBACR,kBAACynI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aAQ7C,kBAACuyD,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,mBAAiB,KAC7B,kBAACsjI,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,eACZ,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,kBAAkB8nI,UAAU,QAAQC,QAAQ,SACpD,kBAACL,GAAK,CAACvjI,KAAK,mBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,kBAAkB8nI,UAAU,QAAQC,QAAQ,SACpD,kBAACL,GAAK,CAACvjI,KAAK,mBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,oBAAoB8nI,UAAU,QAAQC,QAAQ,SACtD,kBAACL,GAAK,CAACvjI,KAAK,qBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,iBAcjE,kBAACgjI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,4BAA6B9D,GAAG,iBACrD,kBAACo1D,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,SACZ,kBAAC02D,GAAK,CAAC12D,KAAK,eACZ,kBAAC02D,GAAK,CAAC12D,KAAK,UACZ,kBAAC02D,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,oBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,oBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,aACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAAC+uD,GAAK,CAAC/uD,KAAK,uBAAqB,WACjC,kBAACujI,GAAK,CAACvjI,KAAK,eACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,gBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,wBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,YACR,kBAACkzD,GAAK,CAAC/uD,KAAK,uBAAqB,WACjC,kBAACujI,GAAK,CAACvjI,KAAK,eACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,UAGhB,kBAACmnI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,YAAa9D,GAAG,oBACrC,kBAACo1D,GAAK,CAAC12D,KAAK,0BACZ,kBAAC02D,GAAK,CAAC12D,KAAK,iBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,eACZ,kBAAC02D,GAAK,CAAC12D,KAAK,eACZ,kBAAC02D,GAAK,CAAC12D,KAAK,WACZ,kBAAC02D,GAAK,CAAC12D,KAAK,eAGhB,kBAACmnI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,SAAU9D,GAAG,SAClC,kBAACo1D,GAAK,CAAC12D,KAAK,YACZ,kBAAC02D,GAAK,CAAC12D,KAAK,iBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,iBAIpB,kBAACmnI,GAAQ,CAAC7lI,GAAG,UAAU6C,MAAMiB,EAAAA,EAAAA,UAAS,YAClC,kBAAC+hI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,oBAAqB9D,GAAG,mBAAmB0wH,QAAQ,cAE5E,kBAACmV,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,aAAc9D,GAAG,YAAY0wH,QAAQ,aAE9D,kBAACmV,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,iBAAkB9D,GAAG,iBAC1C,kBAACo1D,GAAK,CAAC12D,KAAK,cACR,kBAAC0nI,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAClB,kBAACujI,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,mBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,yBACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,WAGpB,kBAACujI,GAAK,CAACvjI,KAAK,oBACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,WAGpB,kBAACujI,GAAK,CAACvjI,KAAK,oBACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,WAMlC,kBAACgjI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,QAAS9D,GAAG,QACjC,kBAACo1D,GAAK,CAAC12D,KAAK,UACZ,kBAAC02D,GAAK,CAAC12D,KAAK,YACZ,kBAAC02D,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,YACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,0BAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,cACR,kBAAC0nI,GAAK,CAACvjI,KAAK,aACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,SAMjC,kBAACgjI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,QAAS9D,GAAG,QACjC,kBAACo1D,GAAK,CAAC12D,KAAK,gBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,OAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,QAChB,kBAACujI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,aACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,OAChB,kBAACujI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,SAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,wBACR,kBAACsnI,GAAQ,CAACU,cAAc,UACxB,kBAAC90E,GAAK,CAAC/uD,KAAK,YAAU,QACtB,kBAACujI,GAAK,CAACvjI,KAAK,mBACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,QAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,iBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,cACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,SAChB,kBAACujI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,UAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,YACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,SAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,kBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,SACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACujI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACujI,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,UAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,mBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACujI,GAAK,CAACvjI,KAAK,MACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,UAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,uBAGhB,kBAACmnI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,QAAS9D,GAAG,QACjC,kBAACo1D,GAAK,CAAC12D,KAAK,QACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAEtB,kBAACuyD,GAAK,CAAC12D,KAAK,aACR,kBAACkzD,GAAK,CAAC/uD,KAAK,WAAW8jI,aAAa,IAAE,QAGtC,kBAACR,GAAS,CAACtjI,KAAK,SACZ,kBAACuyD,GAAK,CAAC12D,KAAK,iBAAiB+nI,QAAQ,SACjC,kBAACL,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,YAMtC,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,QAGjC,kBAACP,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,SACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,gBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,SACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,YAIxB,kBAACuyD,GAAK,CAAC12D,KAAK,gBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,SACjB,kBAACujI,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,UAKzC,kBAACP,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACsnI,GAAQ,CAAChkG,GAAG,SACb,kBAAC4vB,GAAK,CAAC/uD,KAAK,SAAO,cACnB,kBAACujI,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,UAKzC,kBAACP,GAAK,CAACvjI,KAAK,MACR,kBAACqjI,GAAM,CAACxnI,KAAK,wBACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,qBACR,kBAACsnI,GAAQ,CAACljG,IAAI,OAAOC,IAAI,SACzB,kBAAC6uB,GAAK,CAAC/uD,KAAK,UAAQ,cACpB,kBAAC+uD,GAAK,CAAC/uD,KAAK,UAAQ,cACpB,kBAACujI,GAAK,CAACvjI,KAAK,UACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,UAKzC,kBAACP,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,wBACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACujI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,wBACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,aAClB,kBAACujI,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,aACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAClB,kBAACujI,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,WAMlC,kBAACgjI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,SAAU9D,GAAG,SAClC,kBAACo1D,GAAK,CAAC12D,KAAK,gBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,oBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,iBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,eACZ,kBAAC02D,GAAK,CAAC12D,KAAK,mBAGhB,kBAACmnI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,SAAU9D,GAAG,SAClC,kBAACo1D,GAAK,CAAC12D,KAAK,qBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,WAAW8jI,aAAa,IAAE,QAGtC,kBAACR,GAAS,CAACtjI,KAAK,SACZ,kBAACuyD,GAAK,CAAC12D,KAAK,kBAAkB+nI,QAAQ,SAClC,kBAACR,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,kBAAkB+nI,QAAQ,cAKtD,kBAACrxE,GAAK,CAAC12D,KAAK,gBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAI7B,kBAACuyD,GAAK,CAAC12D,KAAK,iBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,kBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,mBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,mBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,qBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,eACR,kBAACsnI,GAAQ,CAAC96H,KAAK,UACf,kBAAC0mD,GAAK,CAAC/uD,KAAK,QAAM,SAClB,kBAACujI,GAAK,CAACvjI,KAAK,SACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAI9B,kBAACuyD,GAAK,CAAC12D,KAAK,gBAGhB,kBAACmnI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,SAAU9D,GAAG,SAClC,kBAACo1D,GAAK,CAAC12D,KAAK,oBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,wBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,wBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,iBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,qBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,8BAGhB,kBAACmnI,GAAQ,CAAChjI,MAAMiB,EAAAA,EAAAA,UAAS,iBAAkB9D,GAAG,QAC1C,kBAACo1D,GAAK,CAAC12D,KAAK,WACZ,kBAAC02D,GAAK,CAAC12D,KAAK,iBACZ,kBAAC02D,GAAK,CAAC12D,KAAK,WACR,kBAAC0nI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,YAOtC,kBAACkjI,GAAQ,CAAC/lI,GAAG,YACT,kBAAC8lI,GAAO,CAAC9lI,GAAG,kBACR,kBAACo1D,GAAK,CAAC12D,KAAK,mBACR,kBAACynI,GAAS,CAACtjI,KAAK,yBACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,gBAEhB,kBAACynI,GAAS,CAACtjI,KAAK,OACZ,kBAACuyD,GAAK,CAAC12D,KAAK,wBAMhC,kBAAConI,GAAO,CAAC9lI,GAAG,eACR,kBAACo1D,GAAK,CAAC12D,KAAK,kBACR,kBAACynI,GAAS,CAACtjI,KAAK,uBACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,MAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,kBAEhB,kBAAC0nI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,yBAWjE,kBAACb,GAAO,CAAC9lI,GAAG,qBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,WAAW8jI,aAAa,IAAE,OAGtC,kBAACR,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,cACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAAC+uD,GAAK,CAAC/uD,KAAK,uBAAqB,aAGzC,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,cASjD,kBAACijI,GAAO,CAAC9lI,GAAG,aACR,kBAACo1D,GAAK,CAAC12D,KAAK,kBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,WAAW8jI,aAAa,IAAE,QAGtC,kBAACR,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACR,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,cASjD,kBAACijI,GAAO,CAAC9lI,GAAG,uBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,WAAW8jI,aAAa,IAAE,OAGtC,kBAACR,GAAS,CAACtjI,KAAK,aACZ,kBAACuyD,GAAK,CAAC12D,KAAK,aAAa8nI,UAAU,QAAQC,QAAQ,SAC/C,kBAACL,GAAK,CAACvjI,KAAK,cACR,kBAACuyD,GAAK,CAAC12D,KAAK,WAEhB,kBAACunI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,SAAS8nI,UAAU,QAAQC,QAAQ,SAC3C,kBAACL,GAAK,CAACvjI,KAAK,UACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,cASjD,kBAACijI,GAAO,CAAC9lI,GAAG,uBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,MAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,aACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAAC+uD,GAAK,CAAC/uD,KAAK,uBAAqB,WACjC,kBAACujI,GAAK,CAACvjI,KAAK,eACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,WAOzC,kBAACijI,GAAO,CAAC9lI,GAAG,qBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,MAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACuyD,GAAK,CAAC12D,KAAK,aACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAAC+uD,GAAK,CAAC/uD,KAAK,uBAAqB,WACjC,kBAACujI,GAAK,CAACvjI,KAAK,eACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aASjD,kBAACijI,GAAO,CAAC9lI,GAAG,eACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,eAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAAC+uD,GAAK,CAAC/uD,KAAK,uBAAqB,eAKjD,kBAACijI,GAAO,CAAC9lI,GAAG,iBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,MAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,uBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAACujI,GAAK,CAACvjI,KAAK,YACR,kBAACuyD,GAAK,CAAC12D,KAAK,QACR,kBAACkzD,GAAK,CAAC/uD,KAAK,uBAAqB,iBAOzD,kBAACijI,GAAO,CAAC9lI,GAAG,cACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,qBAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,SAC5B,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACuyD,GAAK,CAAC12D,KAAK,YACR,kBAACkzD,GAAK,CAAC/uD,KAAK,uBAAqB,WACjC,kBAACujI,GAAK,CAACvjI,KAAK,eACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,aASjD,kBAACijI,GAAO,CAAC9lI,GAAG,gBACR,kBAACo1D,GAAK,CAAC12D,KAAK,kBACR,kBAACynI,GAAS,CAACtjI,KAAK,uBACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,yBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,gBAAc,SAGlC,kBAACsjI,GAAS,CAACtjI,KAAK,OACZ,kBAACuyD,GAAK,CAAC12D,KAAK,qBAMhC,kBAAConI,GAAO,CAAC9lI,GAAG,WACR,kBAACo1D,GAAK,CAAC12D,KAAK,mBACR,kBAACynI,GAAS,CAACtjI,KAAK,yBACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,gBAEhB,kBAACynI,GAAS,CAACtjI,KAAK,OACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,MAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,gBAEhB,kBAAC0nI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,aAOjD,kBAACR,GAAS,CAACtjI,KAAK,OACZ,kBAACuyD,GAAK,CAAC12D,KAAK,0BAQxC,kBAAConI,GAAO,CAAC9lI,GAAG,aACR,kBAACo1D,GAAK,CAAC12D,KAAK,wBACR,kBAACsnI,GAAQ,KACL,kBAACJ,GAAG,CAAC/iI,KAAK,OAEd,kBAAC+uD,GAAK,CAAC/uD,KAAK,QAAM,gBAClB,kBAACsjI,GAAS,CAACtjI,KAAK,SACZ,kBAACuyD,GAAK,CAAC12D,KAAK,uBACR,kBAACsnI,GAAQ,CAAC1uH,MAAM,MAChB,kBAAC8uH,GAAK,CAACvjI,KAAK,aACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,MAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,OAKzC,kBAACP,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,SAOjD,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,QACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,kCAKlC,kBAACujI,GAAK,CAACvjI,KAAK,UACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,QAChB,kBAACujI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,MAErB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,WASzD,kBAACb,GAAO,CAAC9lI,GAAG,mBACR,kBAACo1D,GAAK,CAAC12D,KAAK,mBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,yBACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,UAEhB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,kBAKzC,kBAACP,GAAK,CAACvjI,KAAK,oBACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,UAEhB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,aAKzC,kBAACP,GAAK,CAACvjI,KAAK,oBACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,cAKlC,kBAACijI,GAAO,CAAC9lI,GAAG,SACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,UAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,aACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,QAC5B,kBAAC+uD,GAAK,CAAC/uD,KAAK,uBAAqB,WACjC,kBAACujI,GAAK,CAACvjI,KAAK,eACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,SAKjC,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,aAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,kBAAgB,SAC5B,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,cAOjD,kBAACV,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,aAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,SAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,MAErB,kBAACuyD,GAAK,CAAC12D,KAAK,WAEhB,kBAAC0nI,GAAK,CAACvjI,KAAK,KACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,MAErB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,iBAOjD,kBAACV,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,OAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,8BAKzC,kBAACP,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,kBAajE,kBAACijI,GAAO,CAAC9lI,GAAG,eACR,kBAACo1D,GAAK,CAAC12D,KAAK,mBACR,kBAACynI,GAAS,CAACtjI,KAAK,wBACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,MAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,WAEhB,kBAAC0nI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,YACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,6BAO1C,kBAACsjI,GAAS,CAACtjI,KAAK,OACZ,kBAACuyD,GAAK,CAAC12D,KAAK,YACR,kBAACkzD,GAAK,CAAC/uD,KAAK,iBAAe,cAOnD,kBAACijI,GAAO,CAAC9lI,GAAG,cACR,kBAACo1D,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAAC+uD,GAAK,CAAC/uD,KAAK,sBAAoB,UAChC,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAEtB,kBAACuyD,GAAK,CAAC12D,KAAK,cACR,kBAAC0nI,GAAK,CAACvjI,KAAK,aACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,MAErB,kBAACuyD,GAAK,CAAC12D,KAAK,eAMhC,kBAAConI,GAAO,CAAC9lI,GAAG,aACR,kBAACo1D,GAAK,CAAC12D,KAAK,kBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACujI,GAAK,CAACvjI,KAAK,OACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACujI,GAAK,CAACvjI,KAAK,QACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,UAKjC,kBAACijI,GAAO,CAAC9lI,GAAG,eACR,kBAACo1D,GAAK,CAAC12D,KAAK,eACR,kBAACsnI,GAAQ,CAACY,OAAO,IAAIC,KAAK,MAC1B,kBAACT,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,MAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,UAKzC,kBAACP,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,YAOjD,kBAACP,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,MAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,UAKzC,kBAACP,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,cASzD,kBAACb,GAAO,CAAC9lI,GAAG,iBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,QAGxB,kBAACijI,GAAO,CAAC9lI,GAAG,mBACR,kBAACo1D,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,SAGxB,kBAACijI,GAAO,CAAC9lI,GAAG,gBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,uBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,SAClB,kBAACujI,GAAK,CAACvjI,KAAK,QACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,OAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,OAKzC,kBAACP,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,UAKjC,kBAACsjI,GAAS,CAACtjI,KAAK,MACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAAC+uD,GAAK,CAAC/uD,KAAK,sBAAoB,UAChC,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAEtB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,eAazE,kBAACb,GAAO,CAAC9lI,GAAG,gBACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,uBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,SAClB,kBAACujI,GAAK,CAACvjI,KAAK,QACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAI,MAChB,kBAACujI,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,OAKzC,kBAACP,GAAK,CAACvjI,KAAK,KACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,UAKjC,kBAACsjI,GAAS,CAACtjI,KAAK,MACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACqjI,GAAM,CAACxnI,KAAK,eACT,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAAC+uD,GAAK,CAAC/uD,KAAK,sBAAoB,UAChC,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAEtB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,eAazE,kBAACb,GAAO,CAAC9lI,GAAG,gBACR,kBAACo1D,GAAK,CAAC12D,KAAK,gBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,QACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACujI,GAAK,CAACvjI,KAAK,MACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,QAGzB,kBAACujI,GAAK,CAACvjI,KAAK,MACR,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAACkzD,GAAK,CAAC/uD,KAAK,OAAK,OAGzB,kBAACsjI,GAAS,CAACtjI,KAAK,MACZ,kBAACuyD,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAAC+uD,GAAK,CAAC/uD,KAAK,sBAAoB,UAChC,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAEtB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,WASzD,kBAACb,GAAO,CAAC9lI,GAAG,oBACR,kBAACo1D,GAAK,CAAC12D,KAAK,qBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,YAAU,QACtB,kBAACsjI,GAAS,CAACtjI,KAAK,SACZ,kBAACuyD,GAAK,CAAC12D,KAAK,mBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,WAKzC,kBAACV,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,mBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,WAKzC,kBAACV,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,mBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,iBAWjE,kBAACV,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,oBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,QACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,UAKzC,kBAACR,GAAS,CAACtjI,KAAK,MACZ,kBAACuyD,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAAC+uD,GAAK,CAAC/uD,KAAK,sBAAoB,UAChC,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,QAEtB,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,aAWjE,kBAACb,GAAO,CAAC9lI,GAAG,aACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAG1B,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,SAAO,MACnB,kBAACsjI,GAAS,CAACtjI,KAAK,MACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,gBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,QACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,SAOjD,kBAACR,GAAS,CAACtjI,KAAK,OACZ,kBAACuyD,GAAK,CAAC12D,KAAK,4BACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,WAG1B,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAAC+uD,GAAK,CAAC/uD,KAAK,sBAAoB,UAChC,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,iBAW1D,kBAACijI,GAAO,CAAC9lI,GAAG,YACR,kBAACo1D,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,WAG1B,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,mBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,SAAO,MACnB,kBAACsjI,GAAS,CAACtjI,KAAK,MACZ,kBAACuyD,GAAK,CAAC12D,KAAK,eACR,kBAAC0nI,GAAK,CAACvjI,KAAK,OACR,kBAACuyD,GAAK,CAAC12D,KAAK,gBACR,kBAAC0nI,GAAK,CAACvjI,KAAK,QACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,SAOjD,kBAACR,GAAS,CAACtjI,KAAK,OACZ,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,MAAM8jI,aAAa,IAAE,KAGjC,kBAACP,GAAK,CAACvjI,KAAK,SACR,kBAACuyD,GAAK,CAAC12D,KAAK,iBACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,UAG1B,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,4BACR,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,gBAKlC,kBAACojI,GAAI,KACD,kBAAC7wE,GAAK,CAAC12D,KAAK,UACR,kBAACkzD,GAAK,CAAC/uD,KAAK,qBAAmB,WAC/B,kBAAC+uD,GAAK,CAAC/uD,KAAK,sBAAoB,UAChC,kBAACujI,GAAK,CAACvjI,KAAK,WACR,kBAACqjI,GAAM,CAACxnI,KAAK,QACT,kBAACkzD,GAAK,CAAC/uD,KAAK,QAAM,+HCj7CtE,SAAe47B,GAAQ,gBAAG0pB,EAAO,EAAPA,QAASF,EAAM,EAANA,OAAQ88C,EAAc,EAAdA,eAAc,MAAmB,CACxEuqB,eAAgBnnE,EAAQmnE,eACxBR,kBAAmB3mE,EAAQ2mE,kBAC3BD,gBAAiB1mE,EAAQ0mE,gBACzBjvB,QAASz3C,EAAQy3C,QACjBkS,SAAU3pD,EAAQ2pD,SAClByd,aAAcpnE,EAAQonE,aACtBC,cAAernE,EAAQqnE,cACvBC,cAAetnE,EAAQsnE,cACvBN,mBAAoBhnE,EAAQgnE,mBAC5BC,oBAAqBjnE,EAAQinE,oBAC7BvvB,UAAW13C,EAAQ03C,UACnBr0C,cAAevD,EAAOuD,cACtBujE,mBAAoB5mE,EAAQ4mE,mBAC5BvtB,aAAcr5C,EAAQq5C,aACtBwtB,YAAa7mE,EAAQ6mE,YACrBhqB,iBAAkBD,EAAeC,iBACpC,GAjBD,EA1IgB,SAAH,GAeG,QAdZsqB,EAAc,EAAdA,eACAR,EAAiB,EAAjBA,kBACAlvB,EAAO,EAAPA,QACAkS,EAAQ,EAARA,SACAyd,EAAY,EAAZA,aACAC,EAAa,EAAbA,cACAC,EAAa,EAAbA,cACAN,EAAkB,EAAlBA,mBACAC,EAAmB,EAAnBA,oBACAvvB,EAAS,EAATA,UACAr0C,EAAa,EAAbA,cACAujE,EAAkB,EAAlBA,mBACAC,EAAW,EAAXA,YACAhqB,EAAgB,EAAhBA,iBAEM2qB,EAAcvlC,IAAAA,OAAai8C,IACc,KAApBj8C,IAAAA,UAAe,KAAK,s5BAAxCwN,EAAO,KAAE4hC,EAAO,KAOvB,OALApvC,IAAAA,WAAgB,WAEZ,OADAwV,EAAQ+vB,GACD,kBAAM9vB,GAAW,CAC5B,GAAG,KAEE7S,EAAAA,EAAAA,YA+GE,KA7GC,yBAAK7J,UAAU,qBAAqB,cAAY,sBAC5C,kBAAC,GAAa,CACVkQ,iBAAiBvvF,EAAAA,EAAAA,UAAS,2CAC1BuhI,UAAU,iCACVC,iBAAiB,sDACjBC,cAAevgC,EACf5pC,aAAat3D,EAAAA,EAAAA,UAAS,oBAE1B,yBAAK9D,GAAG,cAAcmjF,UAAU,uBAC5B,yBAAKA,UAAU,sBACX,yBACIA,UAAU,oBACV,cAAY,oBACZsQ,QAAS,WACL+lC,GAAS5hC,GACTpsC,GAAc,EAClB,IAEC1nD,EAAAA,EAAAA,UAAS,eACV,0BACIq/E,UAAWyJ,KAAW,6BAA8B,CAChD,qCAAsCgL,KAG1C,kBAAC,EAAAljC,KAAI,CAAC7F,KAAK,yBAIvB,yBACIs0B,UAAWyJ,KAAW,8BAA+B,CAAEk6C,OAAQlvC,IAC/D,cAAY,+BAEZ,kBAAC,GAAS,CACNk3B,kBAAmBA,EACnBhd,SAAUA,EACVyd,aAAcA,EACdC,cAAeA,EACfC,cAAeA,IAEnB,yBAAKtsC,UAAU,6BACV6rC,GACIrvH,MAAMC,KAAKovH,EAAYx3F,YAA8Bz3B,KAAI,SAACi1B,EAAU/c,GACjE,GAAuC,aAAnC+c,EAASqxC,QAAQ/yB,cAA8B,CAC/C,IAAMyzF,EAAmBzX,EAAet6F,EAAS06B,UAC3Cs3E,EAAuBjY,EAAmB/wG,SAAS/F,GACzD,OACI,yBACItZ,IAAG,2BAAsBq2B,EAAS6C,aAAa,OAC/CsrD,UAAU,mBAEV,yBACIA,UAAU,mBACVsQ,QAAS,WAELszC,EACM3X,EAAoBn3G,GACpBk3G,EAAmBn6F,EAC7B,GAEA,yBAAKmuD,UAAU,6BACX,yBAAKA,UAAU,sBACVr/E,EAAAA,EAAAA,UAASkxB,EAAS6C,aAAa,UAEnCkvG,GACG,yBACI5jD,UAAWyJ,KAAW,6BAA8B,CAChD,qCACIo6C,KAGR,kBAAC,EAAAtyE,KAAI,CAAC7F,KAAK,yBAK1Bk4E,GACGC,GACCrnI,MAAMC,KAAKo1B,EAASwC,YAA8Bz3B,KAC/C,SAAA8wH,GACI,OACI,yBACIlyH,IAAG,wCAAmCkyH,EAAYh5F,aAC9C,OAEJsrD,UAAU,+BACVsQ,QAAS,WACL07B,EAAmB0B,EACvB,GAEA,kBAAC,EAAA/rE,KAAI,CAACzlD,KAAK,QACNyE,EAAAA,EAAAA,UACG+sH,EAAYh5F,aAAa,UAK7C,IAIpB,CACA,OAAO,IACX,OAQhC,ICnKA,MCmCA,GAAe4G,GAAQ,gBAAGklE,EAAa,EAAbA,cAAa,MAAmB,CACtD/D,QAAS+D,EAAc/D,QACvBC,UAAW8D,EAAc9D,UACzBlY,WAAYgc,EAAchc,WAC7B,GAJD,EAvByB,SAAH,GAA8D,MAAxDiY,EAAO,EAAPA,QAASC,EAAS,EAATA,UAAWlY,EAAU,EAAVA,WAQ5C,OAPAyC,IAAAA,WAAgB,WAEZ,OADAwV,IACO,WACHC,GACJ,CACJ,GAAG,IAEClY,EAAmB,KAEZ,QAAX,EAAIh7E,eAAO,OAAP,EAASC,eAEL,kBAAC,aAAc,KACX,kBAAC,GAAO,MACR,kBAAC,GAAO,MACR,kBAAC,GAAM,MACP,kBAAC,GAAY,OAIlB,IACX,+GC2DA,SAAe6xB,GAAQ,gBAAG4tE,EAAG,EAAHA,IAAKrkD,EAAS,EAATA,UAAS,MAAmB,CACvDqkD,IAAAA,EACA3f,WAAY1kC,EAAU0kC,WACtB8T,4BAA6Bx4C,EAAUw4C,4BACvC0J,6BAA8BliD,EAAUkiD,6BACxCK,oBAAqBviD,EAAUuiD,oBAC/BzD,uBAAwB9+C,EAAU8+C,uBACrC,GAPD,EApEmB,SAAH,GAMG,QALfuF,EAAG,EAAHA,IACA3f,EAAU,EAAVA,WACA8T,EAA2B,EAA3BA,4BACA0J,EAA4B,EAA5BA,6BACAK,EAAmB,EAAnBA,oBAEO08B,KAAmB78C,IAAAA,UAAwB,KAAK,s5BAAjC,GACdwV,EAAuByM,EAAvBzM,QAASC,EAAcwM,EAAdxM,UACX+G,EAASxc,IAAAA,OAAsC,MAOrD,OALAA,IAAAA,WAAgB,WAEZ,OADAwV,IACO,kBAAMC,GAAW,CAC5B,GAAG,IAGC,oCACI,yBACI1c,UAAWyJ,KAAW,cAAe,CACjC,sBAAsC,IAAfF,IAAqB6d,EAC5C,wBAAyBA,EACzB,2BAA4BL,KAG/BK,EAAsB,KACnB,yBACIvqG,GAAG,cACHwxF,IAAKoV,EACL1oG,MAAO,CACHkqC,MAAO,uBACPC,OAAQ,8BAGZ,kBAAC,GAAgB,QAI5B6hE,GAA+C,IAAfxd,IAAqB8T,GAClD,oCACI,kBAAC,EAAA/I,cAAa,KACV,kBAAC,GAAU,OAEf,kBAAC,EAAA/D,eAAc,KACX,kBAAC,GAAmB,CAChB6kC,MAAOnvB,GACPxtF,IAAKqrH,EACL/+B,cAAY,EACZjW,OAAQ,CACJl0F,QAAS,CACL26H,WAAY,cACZvoC,gBAAiB,wBACjBwoC,aAAc,yBACdC,UAAW,4BAQnC,kBAAC,GAAS,MACV,kBAAC,GAAS,MACV,kBAAC,GAAa,MAG1B,IC1FA,MCAA,GCgBen6F,GAAQ,YAAgB,MAAmB,CACtDkpD,WADmC,EAAbgc,cACIhc,WAC7B,GAFD,EAVuB,SAAH,OAAMA,EAAU,EAAVA,WAAU,OAChC,oCACKA,GACG,yBAAKxE,UAAU,gBACX,kBAAC,EAAAokB,QAAO,OAGjB,6zCCGP,IAAM2/B,IAAa1kI,EAAAA,EAAAA,KAAS,WACxB,QAAuD,KAApB4nF,IAAAA,UAAe,KAAK,s5BAAhDzC,EAAU,KAAEC,EAAY,KACzBwsC,EAAY1rC,IAEdkF,EAGAwmC,EAHAxmC,OACAn7E,EAEA2hH,EAFA3hH,OACMs1C,EACNqsE,EADA3oC,GAAM1jC,gBAEJo/E,EAAazS,KACXroB,EAAQ86B,EAAR96B,IACA5J,EAAuC4J,EAAvC5J,mCAGF2kC,EAAgB,SAAKD,GAAU,IAAE58C,KAAM,MAAK6pC,KAyDlD,OAtDAhqC,IAAAA,WAAgB,YACZ1/D,EAAAA,EAAAA,WAAUq9B,EACd,GAAG,CAACA,IAEJqiC,IAAAA,WAAgB,YAIZ,SAAWi9C,EAAG/8H,EAAGlI,EAAG29C,GAEhBsnF,EAAEC,GACED,EAAEC,IACF,YACKD,EAAEC,GAAGt/H,EAAIq/H,EAAEC,GAAGt/H,GAAK,IAAIiP,KAAK4c,UACjC,EAEJwzG,EAAEE,YAAc,CAAEC,KAAM,QAASC,KAAM,GACvC,IAAM3iI,EAAIwF,EAAEmqE,qBAAqB,QAAQ,GACnCxyE,EAAIqI,EAAEgf,cAAc,UAC1BrnB,EAAEunB,MAAQ,EACVvnB,EAAEsnB,IAEe,sCAFL89G,EAAEE,YAAYC,KAE8B,UAFnBH,EAAEE,YAAYE,KACnD3iI,EAAE8kB,YAAY3nB,EACjB,CAdD,CAcGkB,OAAQ8b,SACf,GAAG,IAEHmrE,IAAAA,WAAgB,WACZqY,EAAmChwF,EAAQm7E,EAE/C,GAAG,CAACn7E,EAAOswF,mBAAoBtwF,EAAOoyF,iBAAiBC,eAEvD1a,IAAAA,WAAgB,WACZipB,GAAAA,KAAS+zB,GACTrhC,EAAAA,WAAAA,KAAgBnY,GAChBye,EAAI5I,oBAAoB2jC,GACxBxoH,EAAAA,WAAAA,YAAuBytF,EAAI9tF,mBAC3B,IAAQy1B,EAAmBp1B,EAAAA,WAAAA,SAAAA,eAC3BgpE,GAAa,GACb5zC,EAAe0wD,uBAAsB,GAAMjjG,MAAK,WAC5CmmF,GAAa,EACjB,GAEJ,GAAG,IAEHwC,IAAAA,WAAgB,WACZ,IAAMs9C,EAA0B,WAC5B9/C,GAAa,EACjB,EAEA,OADAzkF,OAAO0e,iBAAiB,UAAW6lH,GAC5B,WACHvkI,OAAOihG,oBAAoB,UAAWsjC,EAC1C,CAEJ,GAAG,IAEI//C,EACH,kBAAC,EAAA4f,QAAO,MAGR,kBAACld,EAAmB,CAACp6E,MAAOm3H,GACxB,kBAAC,GAAc,MACf,yBAAKjkD,UAAU,qBACX,kBAAC,EAAK,MACN,kBAAC,GAAmB,MACpB,kBAAC,GAAuB,MACxB,kBAAC,GAAS,MACV,kBAAC,GAAiB,MAClB,kBAAC,GAAU,MACX,kBAAC,GAAiB,OAIlC,IAEA,YC/FA,GARsB,SAAH,GAAgG,IAA1FzzB,EAAQ,EAARA,SAAUz/C,EAAK,EAALA,MAAOk4E,EAAE,EAAFA,GACtC,OACI,kBAAC,EAAa,CAACl4E,MAAOA,GAClB,kBAACukH,GAAiB,CAAC18D,GAAIqwB,GAAKz4B,GAGxC,ECqCA,GAnCY,SAAH,GAAmC,IAA7Bx4C,EAAW,EAAXA,YACHkrF,EAAmBlrF,EAAnBkrF,WAAYja,EAAOjxE,EAAPixE,GA2BpB,OAzBAiC,IAAAA,WAAgB,WAiBZ,OAhBsB,WAClB,GAAInrE,SAASC,eAAe,kBAA5B,CACI,IAAMyoH,EAAgB1oH,SAASC,eAAe,uBAAoBnd,EAC9D4lI,IACAA,EAAczpI,MAAMyyB,QAAU,QAGtC,KANA,CAOA,IAAMtH,EAASpK,SAASqK,cAAc,UACtCD,EAAOrpB,GAAK,iBACZqpB,EAAOG,OAAQ,EACfH,EAAOE,IAAM,0FACbtK,SAAS7T,KAAKwe,YAAYP,EAL1B,CAMJ,CAEAu+G,GACO,WACH,IAAMD,EAAgB1oH,SAASC,eAAe,uBAAoBnd,EAC9D4lI,IACAA,EAAczpI,MAAMyyB,QAAU,OAEtC,CACJ,GAAG,IAGC,kBAAC,GAAa,CAAC1gB,MAAOmyF,EAAYja,GAAIA,GAClC,kBAAC,GAAU,MAGvB,kBC9CA,IAAIpoF,EAAM,CACT,kBAAmB,CAClB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,qBAAsB,CACrB,KACA,MAGF,SAAS8nI,EAAoBliC,GAC5B,IAAImiC,EAAoBx9H,EAAEvK,EAAK4lG,GAC9B,OAAO9nG,QAAQC,UAAU2D,MAAK,KAC7B,IAAI3C,EAAI,IAAIiE,MAAM,uBAAyB4iG,EAAM,KAEjD,MADA7mG,EAAEkE,KAAO,mBACHlE,CAAC,IAIT,IAAIg8B,EAAM/6B,EAAI4lG,GAAM3lG,EAAK86B,EAAI,GAC7B,OAAOgtG,EAAoBhpI,EAAEg8B,EAAI,IAAIr5B,MAAK,IAClCqmI,EAAoB9nI,IAE7B,CACA6nI,EAAoBhqH,KAAO,IAAO3Z,OAAO2Z,KAAK9d,GAC9C8nI,EAAoB7nI,GAAK,KACzB+nI,EAAOC,QAAUH","sources":["webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/xml/main.xml","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/ticks_service.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/cliTools.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/error.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/sanitize.js","webpack://@deriv/bot-web-ui/../indicators/src/utils/math.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/simple-moving-average.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/bollinger-bands.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/exponential-moving-average.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/macd.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/relative-strength-index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/IndicatorsInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/ToolsInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/CandleInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/MiscInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/TicksInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/BotInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Balance.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/constants.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/actions/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/reducers/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Ticks.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Total.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Sell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/OpenContract.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Proposal.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/interpreter.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/dbot.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/server_time.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/network_monitor.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/contract.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/html-helper.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/date-time-helper.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/colours.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/config.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/messages.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/save-type.ts","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blockly.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/images.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_defnoreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_defreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_callnoreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_callreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_ifreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_create_with.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_repeat.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_length.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_isEmpty.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_indexOf.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_getIndex.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_setIndex.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_getSublist.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_split.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_sort.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_repeat_ext.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_repeat.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_whileUntil.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_for.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_forEach.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_flow_statements.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Variable/variables_get.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Variable/variables_set.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/after_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/check_result.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/read_details.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/trade_again.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/before_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/ask_price.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/payout.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/during_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/sell_at_market.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/check_sell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/sell_price.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/bb_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/bba_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/ema_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/emaa_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/rsi_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/rsia_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/sma_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/smaa_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/macda_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/input_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_up.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_down.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/fast_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/slow_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/signal_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/tick.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ticks.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ohlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ohlc_values.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/readOhlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/get_ohlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/check_direction.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/tick_analysis.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/last_digit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/lastDigitList.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/is_candle_black.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/ohlc_values_in_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/read_ohlc_obj.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/balance.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/barrier_offset.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/block_holder.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/loader.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/notify.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/notify_telegram.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/total_profit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/total_runs.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/useless_block.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/console.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/epoch.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/timeout.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/todatetime.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/totimestamp.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_market.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_tradetype.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_contracttype.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_candleinterval.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_restartbuysell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_restartonerror.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_tradeoptions.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_multiplier.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/multiplier_stop_loss.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/multiplier_take_profit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_compare.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/controls_if.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_boolean.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_operation.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_null.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_ternary.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_negate.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_change.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_constant.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_constrain.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_modulo.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number_positive.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number_property.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_on_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_random_float.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_random_int.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_round.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_arithmetic.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_single.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_trig.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_join.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_append.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_length.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_isEmpty.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_indexOf.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_charAt.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_getSubstring.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_changeCase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_trim.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_print.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_prompt_ext.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/dbot-store.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block_render_svg_vertical.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block_svg.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/connection.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/constant.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/css.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_image.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_textinput.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/gesture.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/icon.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/contextmenu.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/data_category.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_dropdown.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/flyout_base.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/procedures.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace_svg.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/tooltip.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/inject.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/scratch_block_comment.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/utils.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/variable_map.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/variables.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace_audio.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/xml.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/shared.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/backward-compatibility.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/utils/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/active-symbols.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/appId.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-base.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/account-limits.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-helpers.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/contracts-for.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/trading-times.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/broadcast.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/helpers.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/local-storage.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/observer.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/pending-promise.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/workspace.js","webpack://@deriv/bot-web-ui/./src/public-path.ts","webpack://@deriv/bot-web-ui/../stores/src/storeContext.ts","webpack://@deriv/bot-web-ui/../api/src/APIProvider.tsx","webpack://@deriv/bot-web-ui/../api/src/useSubscription.ts","webpack://@deriv/bot-web-ui/../stores/src/useStore.ts","webpack://@deriv/bot-web-ui/../stores/src/providers/ExchangeRatesProvider.tsx","webpack://@deriv/bot-web-ui/../stores/src/stores/BaseStore.ts","webpack://@deriv/bot-web-ui/../stores/src/stores/ExchangeRatesStore.ts","webpack://@deriv/bot-web-ui/../stores/src/stores/FeatureFlagsStore.ts","webpack://@deriv/bot-web-ui/../stores/src/storeProvider.tsx","webpack://@deriv/bot-web-ui/./src/components/audio/index.ts","webpack://@deriv/bot-web-ui/./src/components/audio/audio.tsx","webpack://@deriv/bot-web-ui/./src/stores/connect.js","webpack://@deriv/bot-web-ui/./src/components/bot-footer-extensions/security-and-privacy.tsx","webpack://@deriv/bot-web-ui/./src/components/bot-footer-extensions/index.ts","webpack://@deriv/bot-web-ui/./src/components/bot-footer-extensions/bot-footer-extensions.tsx","webpack://@deriv/bot-web-ui/./src/constants/bot-contents.ts","webpack://@deriv/bot-web-ui/./src/components/bot-notification-messages/bot-notification-messages.tsx","webpack://@deriv/bot-web-ui/./src/components/bot-notification-messages/index.ts","webpack://@deriv/bot-web-ui/./src/components/chart/toolbar-widgets.tsx","webpack://@deriv/bot-web-ui/./src/components/chart/chart.tsx","webpack://@deriv/bot-web-ui/./src/components/chart/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-card-loading/contract-card-loading.tsx","webpack://@deriv/bot-web-ui/./src/components/contract-card-loading/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-result-overlay/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-result-overlay/contract-result-overlay.tsx","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/trashcan.js","webpack://@deriv/bot-web-ui/./src/constants/contract-stage.js","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/date-item.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/filter-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/filters.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/format-message.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-item.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-loader.tsx","webpack://@deriv/bot-web-ui/./src/components/download/download.tsx","webpack://@deriv/bot-web-ui/./src/components/download/index.ts","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-tools.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/index.ts","webpack://@deriv/bot-web-ui/./src/components/self-exclusion/self-exclusion.jsx","webpack://@deriv/bot-web-ui/./src/components/self-exclusion/index.js","webpack://@deriv/bot-web-ui/./src/utils/multiplier.js","webpack://@deriv/bot-web-ui/./src/constants/contract.js","webpack://@deriv/bot-web-ui/./src/components/summary/summary-card.tsx","webpack://@deriv/bot-web-ui/./src/components/summary/summary.tsx","webpack://@deriv/bot-web-ui/./src/components/summary/index.ts","webpack://@deriv/bot-web-ui/./src/components/trade-animation/trade-animation.jsx","webpack://@deriv/bot-web-ui/./src/components/trade-animation/index.js","webpack://@deriv/bot-web-ui/./src/constants/transactions.js","webpack://@deriv/bot-web-ui/./src/constants/z-indexes.js","webpack://@deriv/bot-web-ui/./src/components/transactions/transaction.jsx","webpack://@deriv/bot-web-ui/./src/components/transactions/transactions.jsx","webpack://@deriv/bot-web-ui/./src/components/transactions/index.js","webpack://@deriv/bot-web-ui/./src/components/run-panel/run-panel.jsx","webpack://@deriv/bot-web-ui/./src/components/run-panel/index.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/run-strategy.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-notification.tsx","webpack://@deriv/bot-web-ui/./src/stores/app-store.js","webpack://@deriv/bot-web-ui/./src/utils/settings.js","webpack://@deriv/bot-web-ui/./src/stores/blockly-store.ts","webpack://@deriv/bot-web-ui/./src/stores/chart-store.js","webpack://@deriv/bot-web-ui/./src/constants/load-modal.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/tour-guide.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/joyride-config.tsx","webpack://@deriv/bot-web-ui/./src/stores/dashboard-store.ts","webpack://@deriv/bot-web-ui/./src/stores/data-collection-store.js","webpack://@deriv/bot-web-ui/./src/stores/download-store.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-content.config.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/after_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/balance.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/before_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/check_direction.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/console.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/contract_check_result.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_flow_statements.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_for.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_forEach.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_if.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_whileUntil.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/during_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/epoch.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/get_ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/is_candle_black.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/last_digit.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/logic_operation.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_arithmetic.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_constrain.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_single.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/notify_telegram.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc_values.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc_values_in_list.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/procedures_ifreturn.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_details.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_ohlc_obj.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sell_at_market.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sell_price.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sma_statement.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/text_print.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/text_prompt_ext.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/tick_analysis.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/todatetime.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/totimestamp.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_again.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition_multiplier.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition_tradeoptions.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/variables_set.js","webpack://@deriv/bot-web-ui/./src/stores/flyout-help-store.js","webpack://@deriv/bot-web-ui/./src/utils/gtm.js","webpack://@deriv/bot-web-ui/./src/stores/flyout-store.js","webpack://@deriv/bot-web-ui/./src/constants/button-status.js","webpack://@deriv/bot-web-ui/./src/stores/google-drive-store.js","webpack://@deriv/bot-web-ui/./src/utils/journal-notifications.js","webpack://@deriv/bot-web-ui/./src/utils/session-storage.js","webpack://@deriv/bot-web-ui/./src/stores/journal-store.js","webpack://@deriv/bot-web-ui/./src/stores/load-modal-store.ts","webpack://@deriv/bot-web-ui/./src/stores/quick-strategy-store.ts","webpack://@deriv/bot-web-ui/./src/stores/route-prompt-dialog-store.js","webpack://@deriv/bot-web-ui/./src/constants/run-panel.js","webpack://@deriv/bot-web-ui/./src/utils/bot-notifications.js","webpack://@deriv/bot-web-ui/./src/stores/run-panel-store.js","webpack://@deriv/bot-web-ui/./src/stores/save-modal-store.ts","webpack://@deriv/bot-web-ui/./src/stores/self-exclusion-store.js","webpack://@deriv/bot-web-ui/./src/utils/validator/errors.js","webpack://@deriv/bot-web-ui/./src/utils/validator/validator.js","webpack://@deriv/bot-web-ui/./src/stores/summary-card-store.js","webpack://@deriv/bot-web-ui/./src/stores/summary-store.js","webpack://@deriv/bot-web-ui/./src/stores/toolbar-store.ts","webpack://@deriv/bot-web-ui/./src/stores/toolbox-store.js","webpack://@deriv/bot-web-ui/./src/stores/transactions-store.js","webpack://@deriv/bot-web-ui/./src/stores/root-store.ts","webpack://@deriv/bot-web-ui/./src/stores/useDBotStore.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/workspace-control.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/bot-preview.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/local.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/google-drive.tsx","webpack://@deriv/bot-web-ui/./src/components/save-modal/save-modal.jsx","webpack://@deriv/bot-web-ui/./src/components/save-modal/index.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/delete-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/hooks/useComponentVisibility.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/recent-workspace.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/recent.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/cards.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/info-panel.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/user-guide.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/dashboard-component.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/react-joyride-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tour-slider.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tour-trigger-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/faq-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/guide-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/tutorial-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/sidebar.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/container.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/data/common-input-properties.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/data/data-fields.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/data/data-uniq-input-obj.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/description.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/duration-fields.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/fields.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/footer.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/form.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/input-field.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/inputs.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/market-option.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/select-field.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/selects.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/trade-type-option.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/index.ts","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout-block.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout-block-group.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-img.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-text.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-video.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-help-base.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/index.js","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/index.js","webpack://@deriv/bot-web-ui/./src/components/load-modal/local-footer.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/workspace-control.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/local.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent-workspace.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent-footer.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/load-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/index.ts","webpack://@deriv/bot-web-ui/./src/components/network-toast-popup/network-toast-popup.jsx","webpack://@deriv/bot-web-ui/./src/components/network-toast-popup/index.js","webpack://@deriv/bot-web-ui/./src/components/notify-item/notify-item.jsx","webpack://@deriv/bot-web-ui/./src/components/route-prompt-dialog/route-prompt-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/route-prompt-dialog/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/stop-bot-modal-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/stop-bot-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar-button.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar-icon.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/workspace-group.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/search-icon.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/search-box.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/toolbox-items.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/toolbox.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/workspace-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/bot-builder.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/index.ts","webpack://@deriv/bot-web-ui/./src/components/blockly-loading/index.ts","webpack://@deriv/bot-web-ui/./src/components/blockly-loading/blockly-loading.tsx","webpack://@deriv/bot-web-ui/./src/app/app-content.jsx","webpack://@deriv/bot-web-ui/./src/app/dbot-providers.tsx","webpack://@deriv/bot-web-ui/./src/app/app.tsx","webpack://@deriv/bot-web-ui/./src/xml/ lazy ^\\.\\/.*\\.xml$ chunkName: [request] namespace object"],"sourcesContent":["export default \"<xml xmlns=\\\"http://www.w3.org/1999/xhtml\\\" collection=\\\"false\\\" is_dbot=\\\"true\\\">\\n  <variables></variables>\\n  <block type=\\\"trade_definition\\\" x=\\\"0\\\" y=\\\"0\\\">\\n    <statement name=\\\"TRADE_OPTIONS\\\">\\n      <block type=\\\"trade_definition_market\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n        <field name=\\\"MARKET_LIST\\\"></field>\\n        <field name=\\\"SUBMARKET_LIST\\\"></field>\\n        <field name=\\\"SYMBOL_LIST\\\"></field>\\n        <next>\\n          <block type=\\\"trade_definition_tradetype\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n            <field name=\\\"TRADETYPECAT_LIST\\\"></field>\\n            <field name=\\\"TRADETYPE_LIST\\\"></field>\\n            <next>\\n              <block type=\\\"trade_definition_contracttype\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                <field name=\\\"TYPE_LIST\\\"></field>\\n                <next>\\n                  <block type=\\\"trade_definition_candleinterval\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                    <field name=\\\"CANDLEINTERVAL_LIST\\\">60</field>\\n                    <next>\\n                      <block type=\\\"trade_definition_restartbuysell\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                        <field name=\\\"TIME_MACHINE_ENABLED\\\">FALSE</field>\\n                        <next>\\n                          <block type=\\\"trade_definition_restartonerror\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                            <field name=\\\"RESTARTONERROR\\\">TRUE</field>\\n                          </block>\\n                        </next>\\n                      </block>\\n                    </next>\\n                  </block>\\n                </next>\\n              </block>\\n            </next>\\n          </block>\\n        </next>\\n      </block>\\n    </statement>\\n    <statement name=\\\"SUBMARKET\\\">\\n      <block type=\\\"trade_definition_tradeoptions\\\">\\n        <mutation has_first_barrier=\\\"false\\\" has_second_barrier=\\\"false\\\" has_prediction=\\\"false\\\"></mutation>\\n        <field name=\\\"DURATIONTYPE_LIST\\\"></field>\\n        <field name=\\\"CURRENCY_LIST\\\">USD</field>\\n        <value name=\\\"DURATION\\\">\\n          <shadow type=\\\"math_number_positive\\\">\\n            <field name=\\\"NUM\\\">5</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"AMOUNT\\\">\\n          <shadow type=\\\"math_number_positive\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n        <field name=\\\"AMOUNT_LIMITS\\\"></field>\\n      </block>\\n    </statement>\\n  </block>\\n  <block type=\\\"during_purchase\\\" x=\\\"720\\\" y=\\\"0\\\">\\n    <statement name=\\\"DURING_PURCHASE_STACK\\\">\\n      <block type=\\\"controls_if\\\">\\n        <value name=\\\"IF0\\\">\\n          <block type=\\\"check_sell\\\"></block>\\n        </value>\\n      </block>\\n    </statement>\\n  </block>\\n  <block type=\\\"after_purchase\\\" x=\\\"720\\\" y=\\\"248\\\">\\n    <statement name=\\\"AFTERPURCHASE_STACK\\\">\\n      <block type=\\\"trade_again\\\"></block>\\n    </statement>\\n  </block>\\n  <block type=\\\"before_purchase\\\" x=\\\"0\\\" y=\\\"576\\\">\\n    <statement name=\\\"BEFOREPURCHASE_STACK\\\">\\n      <block type=\\\"purchase\\\">\\n        <field name=\\\"PURCHASE_LIST\\\"></field>\\n      </block>\\n    </statement>\\n  </block>\\n</xml>\";","import { Map } from 'immutable';\nimport { historyToTicks, getLast } from 'binary-utils';\nimport { doUntilDone, getUUID } from '../tradeEngine/utils/helpers';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { api_base } from './api-base';\n\nconst parseTick = tick => ({\n    epoch: +tick.epoch,\n    quote: +tick.quote,\n});\n\nconst parseOhlc = ohlc => ({\n    open: +ohlc.open,\n    high: +ohlc.high,\n    low: +ohlc.low,\n    close: +ohlc.close,\n    epoch: +(ohlc.open_time || ohlc.epoch),\n});\n\nconst parseCandles = candles => candles.map(t => parseOhlc(t));\n\nconst updateTicks = (ticks, newTick) => (getLast(ticks).epoch >= newTick.epoch ? ticks : [...ticks.slice(1), newTick]);\n\nconst updateCandles = (candles, ohlc) => {\n    const lastCandle = getLast(candles);\n    if (\n        (lastCandle.open === ohlc.open &&\n            lastCandle.high === ohlc.high &&\n            lastCandle.low === ohlc.low &&\n            lastCandle.close === ohlc.close &&\n            lastCandle.epoch === ohlc.epoch) ||\n        lastCandle.epoch > ohlc.epoch\n    ) {\n        return candles;\n    }\n    const prevCandles = lastCandle.epoch === ohlc.epoch ? candles.slice(0, -1) : candles.slice(1);\n    return [...prevCandles, ohlc];\n};\n\nconst getType = isCandle => (isCandle ? 'candles' : 'ticks');\n\nexport default class TicksService {\n    constructor() {\n        this.ticks = new Map();\n        this.candles = new Map();\n        this.tickListeners = new Map();\n        this.ohlcListeners = new Map();\n        this.subscriptions = new Map();\n        this.ticks_history_promise = null;\n        this.active_symbols_promise = null;\n        this.candles_promise = null;\n\n        this.observe();\n    }\n\n    requestPipSizes() {\n        if (this.pipSizes) {\n            return Promise.resolve(this.pipSizes);\n        }\n\n        if (!this.active_symbols_promise) {\n            this.active_symbols_promise = new Promise(resolve => {\n                this.pipSizes = api_base.pip_sizes;\n                resolve(this.pipSizes);\n            });\n        }\n        return this.active_symbols_promise;\n    }\n\n    request(options) {\n        const { symbol, granularity } = options;\n\n        const style = getType(granularity);\n\n        if (style === 'ticks' && this.ticks.has(symbol)) {\n            return Promise.resolve(this.ticks.get(symbol));\n        }\n\n        if (style === 'candles' && this.candles.hasIn([symbol, Number(granularity)])) {\n            return Promise.resolve(this.candles.getIn([symbol, Number(granularity)]));\n        }\n        return this.requestStream({ ...options, style });\n    }\n\n    monitor(options) {\n        const { symbol, granularity, callback } = options;\n\n        const type = getType(granularity);\n\n        const key = getUUID();\n\n        this.request(options).catch(e => {\n            globalObserver.emit('Error', e);\n        });\n\n        if (type === 'ticks') {\n            this.tickListeners = this.tickListeners.setIn([symbol, key], callback);\n        } else {\n            this.ohlcListeners = this.ohlcListeners.setIn([symbol, Number(granularity), key], callback);\n        }\n\n        return key;\n    }\n\n    stopMonitor(options) {\n        const { symbol, granularity, key } = options;\n        const type = getType(granularity);\n\n        if (type === 'ticks' && this.tickListeners.hasIn([symbol, key])) {\n            this.tickListeners = this.tickListeners.deleteIn([symbol, key]);\n        }\n\n        if (type === 'candles' && this.ohlcListeners.hasIn([symbol, Number(granularity), key])) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity), key]);\n        }\n\n        this.unsubscribeIfEmptyListeners(options);\n    }\n\n    unsubscribeIfEmptyListeners(options) {\n        const { symbol, granularity } = options;\n\n        let needToUnsubscribe = false;\n\n        const tickListener = this.tickListeners.get(symbol);\n\n        if (tickListener && !tickListener.size) {\n            this.tickListeners = this.tickListeners.delete(symbol);\n            this.ticks = this.ticks.delete(symbol);\n            needToUnsubscribe = true;\n        }\n\n        const ohlcListener = this.ohlcListeners.getIn([symbol, Number(granularity)]);\n\n        if (ohlcListener && !ohlcListener.size) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity)]);\n            this.candles = this.candles.deleteIn([symbol, Number(granularity)]);\n            needToUnsubscribe = true;\n        }\n\n        if (needToUnsubscribe) {\n            this.unsubscribeAllAndSubscribeListeners(symbol);\n        }\n    }\n\n    unsubscribeAllAndSubscribeListeners(symbol) {\n        const ohlcSubscriptions = this.subscriptions.getIn(['ohlc', symbol]);\n        const tickSubscription = this.subscriptions.getIn(['tick', symbol]);\n\n        const subscription = [\n            ...(ohlcSubscriptions ? Array.from(ohlcSubscriptions.values()) : []),\n            ...(tickSubscription || []),\n        ];\n\n        Promise.all(subscription.map(id => doUntilDone(() => api_base.api.forget(id))));\n\n        this.subscriptions = new Map();\n    }\n\n    updateTicksAndCallListeners(symbol, ticks) {\n        if (this.ticks.get(symbol) === ticks) {\n            return;\n        }\n        this.ticks = this.ticks.set(symbol, ticks);\n\n        const listeners = this.tickListeners.get(symbol);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.ticks.get(symbol)));\n        }\n    }\n\n    updateCandlesAndCallListeners(address, candles) {\n        if (this.ticks.getIn(address) === candles) {\n            return;\n        }\n        this.candles = this.candles.setIn(address, candles);\n\n        const listeners = this.ohlcListeners.getIn(address);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.candles.getIn(address)));\n        }\n    }\n\n    observe() {\n        const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n            if (data.msg_type === 'tick') {\n                const { tick } = data;\n                const { symbol, id } = tick;\n                if (this.ticks.has(symbol)) {\n                    this.subscriptions = this.subscriptions.setIn(['tick', symbol], id);\n                    this.updateTicksAndCallListeners(symbol, updateTicks(this.ticks.get(symbol), parseTick(tick)));\n                }\n            }\n\n            if (data.msg_type === 'ohlc') {\n                const { ohlc } = data;\n                const { symbol, granularity, id } = ohlc;\n                if (this.candles.hasIn([symbol, Number(granularity)])) {\n                    this.subscriptions = this.subscriptions.setIn(['ohlc', symbol, Number(granularity)], id);\n                    const address = [symbol, Number(granularity)];\n                    this.updateCandlesAndCallListeners(\n                        address,\n                        updateCandles(this.candles.getIn(address), parseOhlc(ohlc))\n                    );\n                }\n            }\n        });\n        api_base.pushSubscription(subscription);\n    }\n\n    requestStream(options) {\n        const { style } = options;\n        const stringified_options = JSON.stringify(options);\n\n        if (style === 'ticks') {\n            if (!this.ticks_history_promise || this.ticks_history_promise.stringified_options !== stringified_options) {\n                this.ticks_history_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.ticks_history_promise.promise;\n        }\n\n        if (style === 'candles') {\n            if (!this.candles_promise || this.candles_promise.stringified_options !== stringified_options) {\n                this.candles_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.candles_promise.promise;\n        }\n\n        return [];\n    }\n\n    requestTicks(options) {\n        const { symbol, granularity, style } = options;\n        const request_object = {\n            ticks_history: symbol,\n            subscribe: 1,\n            end: 'latest',\n            count: 1000,\n            granularity: granularity ? Number(granularity) : undefined,\n            style,\n        };\n        return new Promise((resolve, reject) => {\n            doUntilDone(() => api_base.api.send(request_object), [], api_base)\n                .then(r => {\n                    if (style === 'ticks') {\n                        const ticks = historyToTicks(r.history);\n\n                        this.updateTicksAndCallListeners(symbol, ticks);\n                        resolve(ticks);\n                    } else {\n                        const candles = parseCandles(r.candles);\n\n                        this.updateCandlesAndCallListeners([symbol, Number(granularity)], candles);\n\n                        resolve(candles);\n                    }\n                })\n                .catch(reject);\n        });\n    }\n\n    forget = subscription_id => {\n        if (subscription_id) {\n            api_base.api.forget(subscription_id);\n        }\n    };\n\n    unsubscribeFromTicksService() {\n        if (this.ticks_history_promise) {\n            const { stringified_options } = this.ticks_history_promise;\n            const { symbol = '' } = JSON.parse(stringified_options);\n            if (symbol) {\n                this.forget(this.subscriptions.getIn(['tick', symbol]));\n            }\n        }\n        if (this.candles_promise) {\n            const { stringified_options } = this.candles_promise;\n            const { symbol = '' } = JSON.parse(stringified_options);\n            if (symbol) {\n                this.forget(this.subscriptions.getIn(['candle', symbol]));\n            }\n        }\n    }\n}\n","import TicksService from '../../api/ticks_service';\nimport Observer from '../../../utils/observer';\n\nexport const createScope = () => {\n    const observer = new Observer();\n    const ticksService = new TicksService();\n    const stopped = false;\n    return { observer, ticksService, stopped };\n};\n","import { observer as globalObserver } from './observer';\n\nexport const createError = (name, message) => {\n    const e = new Error(message);\n    e.name = name;\n    e.code = name;\n    return e;\n};\n\nexport const trackAndEmitError = (message, object = {}) => {\n    globalObserver.emit('ui.log.error', message);\n    if (window.trackJs) {\n        trackJs.track(`${message} - Error: ${JSON.stringify(object)}`);\n    }\n};\n","import { localize } from '@deriv/translations';\nimport { createError } from '../../../utils/error';\n\nconst isPositiveNumber = num => Number.isFinite(num) && num > 0;\n\nconst isPositiveInteger = num => isPositiveNumber(num) && Number.isInteger(num);\n\nexport const expectPositiveInteger = (num, msg) => {\n    if (!isPositiveInteger(num)) {\n        throw createError('PositiveIntegerExpected', msg);\n    }\n    return num;\n};\n\nconst expectOptions = options => {\n    const { symbol, contractTypes } = options;\n\n    if (!symbol) {\n        throw createError('OptionError', localize('Underlying market is not selected'));\n    }\n\n    if (!contractTypes[0]) {\n        throw createError('OptionError', localize('Contract type is not selected'));\n    }\n};\n\nexport const expectInitArg = args => {\n    const [token, options] = args;\n\n    if (!token) {\n        throw createError('LoginError', localize('Please login'));\n    }\n\n    expectOptions(options);\n\n    return args;\n};\n\nconst isCandle = candle =>\n    candle instanceof Object &&\n    ['open', 'high', 'low', 'close'].every(key => isPositiveNumber(candle[key])) &&\n    isPositiveInteger(candle.epoch);\n\nexport const expectCandle = candle => {\n    if (!isCandle(candle)) {\n        throw createError('CandleExpected', localize('Given candle is not valid'));\n    }\n    return candle;\n};\n\nexport const expectCandles = candles => {\n    if (!(candles instanceof Array) || !candles.every(c => isCandle(c))) {\n        throw createError('CandleListExpected', localize('Given candle list is not valid'));\n    }\n    return candles;\n};\n","export const takeField = (arr, field) => arr.map(x => (field ? x[field] : x));\n\nexport const takeLast = (arr, n, field) => takeField(arr.slice(n > arr.length ? 0 : arr.length - n, arr.length), field);\n\nexport const sum = data => data.reduce((acc, x) => acc + x);\n\nexport const mean = data => data.reduce((a, b) => a + b, 0) / data.length;\n\nexport const stddev = data => {\n    const data_mean = mean(data);\n    const sq_diff = data.map(n => Math.pow(n - data_mean, 2));\n    const avg_sq_diff = mean(sq_diff);\n    return Math.sqrt(avg_sq_diff);\n};\n","import { sequence } from '@deriv/shared';\nimport { sum, takeLast } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverage = (data, config) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const vals = takeLast(data, periods, field);\n\n    return sum(vals) / periods;\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverageArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    return sequence(data.length - periods + 1).map(\n        (x, i) => +simpleMovingAverage(data.slice(i, i + periods), config).toFixed(pipSize)\n    );\n};\n","import { sequence } from '@deriv/shared';\nimport { simpleMovingAverage } from './simple-moving-average';\nimport { stddev, takeLast } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBands = (data, config) => {\n    const { periods = 20, field, stdDevUp = 2, stdDevDown = 2, pipSize = 2 } = config;\n    const vals = takeLast(data, periods, field);\n    const middle = simpleMovingAverage(vals, { periods });\n    const std_dev = stddev(vals);\n    const upper = middle + std_dev * stdDevUp;\n    const lower = middle - std_dev * stdDevDown;\n\n    return [+middle.toFixed(pipSize), +upper.toFixed(pipSize), +lower.toFixed(pipSize)];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBandsArray = (data, config) => {\n    const { periods } = config;\n    return sequence(data.length - periods + 1).map((x, i) => bollingerBands(data.slice(i, i + periods), config));\n};\n","import { takeField, mean } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {Number} init_val\n */\nexport const exponentialMovingAverage = (data, config, init_val) => {\n    const { periods, field, pipSize = 2 } = config;\n\n    const weighting_multiplier = 2 / (periods + 1);\n\n    const vals = takeField(data, field);\n\n    if (init_val) {\n        return (vals[0] - init_val) * weighting_multiplier + init_val;\n    }\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const mean_val = mean(takeField(data.slice(0, periods), field));\n\n    return +vals\n        .slice(periods)\n        .reduce((prev, e) => (e - prev) * weighting_multiplier + prev, mean_val)\n        .toFixed(pipSize);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const exponentialMovingAverageArray = (data, config) => {\n    const { periods } = config;\n\n    let init_val = exponentialMovingAverage(data.slice(0, periods), config);\n\n    return data\n        .slice(periods - 1)\n        .map((x, i) => (!i ? init_val : (init_val = exponentialMovingAverage([x], config, init_val))));\n};\n","import { exponentialMovingAverageArray } from './exponential-moving-average';\nimport { takeField } from '../utils/math';\n\nconst paddingLeft = (data, length) => {\n    const arr = [];\n    arr.length = length - data.length;\n    arr.fill(0);\n    return [...arr, ...data];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  fastEmaPeriod: number,\n *  slowEmaPeriod: number,\n *  signalEmaPeriod: number\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const macdArray = (data, config) => {\n    const { field, fastEmaPeriod = 12, slowEmaPeriod = 26, signalEmaPeriod = 9, pipSize = 2 } = config;\n\n    const vals = takeField(data, field);\n\n    const length = vals.length;\n\n    const fast_ema_array = paddingLeft(\n        exponentialMovingAverageArray(\n            vals,\n            { periods: fastEmaPeriod, pipSize: 20, field }\n            // -------------------------- ^ set pipSize to 20 to prevent rounding\n        ),\n        length\n    );\n    const slow_ema_array = paddingLeft(\n        exponentialMovingAverageArray(vals, { periods: slowEmaPeriod, pipSize: 20, field }),\n        length\n    );\n\n    const macd_calc_array = paddingLeft(\n        slow_ema_array.map((x, i) => +(fast_ema_array[i] - x).toFixed(pipSize)),\n        length\n    );\n\n    const signal_ema_array = paddingLeft(\n        exponentialMovingAverageArray(macd_calc_array.slice(slowEmaPeriod - 1), {\n            periods: signalEmaPeriod,\n            pipSize: 20,\n            field,\n        }),\n        length\n    );\n\n    return macd_calc_array\n        .map((x, i) => [+(x - signal_ema_array[i]).toFixed(pipSize), x, +signal_ema_array[i].toFixed(pipSize)])\n        .slice(slowEmaPeriod + signalEmaPeriod - 2);\n};\n","import { sequence } from '@deriv/shared';\nimport { takeField } from '../utils/math';\n\nconst calcGain = (q1, q2) => (q2 > q1 ? q2 - q1 : 0);\nconst calcLoss = (q1, q2) => (q2 < q1 ? q1 - q2 : 0);\n\nconst calcFirstAvgDiff = (vals, comp, periods) => {\n    let prev;\n    return (\n        vals.reduce((r, q, i) => {\n            if (i === 1) {\n                prev = r;\n            }\n            const diff = comp(prev, q);\n            prev = q;\n            return diff + (i === 1 ? 0 : r);\n        }) / periods\n    );\n};\n\nconst calcSecondAvgDiff = (vals, comp, periods, init_avg) => {\n    let prev;\n    if (vals.length === 1) {\n        // There is no data to calc avg\n        return init_avg;\n    }\n    return vals.reduce((r, q, i) => {\n        if (i === 1) {\n            prev = r;\n        }\n        const diff = comp(prev, q);\n        prev = q;\n        const prev_avg = i === 1 ? init_avg : r;\n        return (prev_avg * (periods - 1) + diff) / periods;\n    });\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {any} memoized_diff\n */\nexport const relativeStrengthIndex = (data, config, memoized_diff) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    if (data.length === periods) {\n        return 0;\n    }\n\n    const vals = takeField(data.slice(0, periods + 1), field);\n\n    let rest_seq, init_avg_gain, init_avg_loss;\n\n    if (memoized_diff && 'gain' in memoized_diff) {\n        rest_seq = takeField(data.slice(-2), field);\n\n        init_avg_gain = memoized_diff.gain;\n        init_avg_loss = memoized_diff.loss;\n    } else {\n        // include last element from above to calc diff\n        rest_seq = takeField(data.slice(periods, data.length), field);\n\n        init_avg_gain = calcFirstAvgDiff(vals, calcGain, periods);\n        init_avg_loss = calcFirstAvgDiff(vals, calcLoss, periods);\n    }\n\n    const avg_gain = calcSecondAvgDiff(rest_seq, calcGain, periods, init_avg_gain);\n    const avg_loss = calcSecondAvgDiff(rest_seq, calcLoss, periods, init_avg_loss);\n\n    if (memoized_diff) {\n        memoized_diff.gain = avg_gain;\n        memoized_diff.loss = avg_loss;\n    }\n\n    if (avg_gain === 0) {\n        return 0;\n    } else if (avg_loss === 0) {\n        return 100;\n    }\n\n    const RS = avg_gain / avg_loss;\n\n    return 100 - 100 / (1 + RS);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const relativeStrengthIndexArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    const memoized_diff = {};\n    return sequence(data.length - periods).map(\n        (x, i) => +relativeStrengthIndex(data.slice(0, i + periods + 1), config, memoized_diff).toFixed(pipSize)\n    );\n};\n","import {\n    simpleMovingAverage as sma,\n    simpleMovingAverageArray as smaa,\n    bollingerBands as bb,\n    bollingerBandsArray as bba,\n    exponentialMovingAverage as ema,\n    exponentialMovingAverageArray as emaa,\n    relativeStrengthIndex as rsi,\n    relativeStrengthIndexArray as rsia,\n    macdArray as macda,\n} from '@deriv/indicators';\n\nconst decorate = (f, input, tradeEngine, config, ...args) => {\n    const pipSize = tradeEngine.getPipSize();\n    return f(input, { pipSize, ...config }, ...args);\n};\n\nconst getIndicatorsInterface = tradeEngine => {\n    return {\n        sma: (input, periods) => decorate(sma, input, tradeEngine, { periods }),\n        smaa: (input, periods) => decorate(smaa, input, tradeEngine, { periods }),\n        ema: (input, periods) => decorate(ema, input, tradeEngine, { periods }),\n        emaa: (input, periods) => decorate(emaa, input, tradeEngine, { periods }),\n        rsi: (input, periods) => decorate(rsi, input, tradeEngine, { periods }),\n        rsia: (input, periods) => decorate(rsia, input, tradeEngine, { periods }),\n        bb: (input, config, field) => decorate(bb, input, tradeEngine, config)[field],\n        bba: (input, config, field) => decorate(bba, input, tradeEngine, config).map(r => r[field]),\n        macda: (input, config, field) => decorate(macda, input, tradeEngine, config).map(r => r[field]),\n    };\n};\n\nexport default getIndicatorsInterface;\n","import { localize } from '@deriv/translations';\nimport getCandleInterface from './CandleInterface';\nimport getIndicatorsInterface from './IndicatorsInterface';\nimport getMiscInterface from './MiscInterface';\n\nconst getToolsInterface = tradeEngine => {\n    return {\n        dateTimeStringToTimestamp: datetime_string => {\n            const invalid_msg = localize('Invalid date/time: {{ datetime_string }}', { datetime_string });\n\n            if (typeof datetime_string !== 'string') {\n                return invalid_msg;\n            }\n\n            const date_time = datetime_string\n                .replace(/[^0-9.:-\\s]/g, '')\n                .replace(/\\s+/g, ' ')\n                .trim()\n                .split(' ');\n\n            const d = /^[12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\n            const t = /^(0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])(:([0-5][0-9])?)?$/;\n\n            let validated_datetime;\n\n            if (date_time.length >= 2) {\n                validated_datetime =\n                    d.test(date_time[0]) && t.test(date_time[1]) ? `${date_time[0]}T${date_time[1]}` : null;\n            } else if (date_time.length === 1) {\n                validated_datetime = d.test(date_time[0]) ? date_time[0] : null;\n            } else {\n                validated_datetime = null;\n            }\n\n            if (validated_datetime) {\n                const date_obj = new Date(validated_datetime);\n                // eslint-disable-next-line no-restricted-globals\n                if (date_obj instanceof Date && !isNaN(date_obj)) {\n                    return date_obj.getTime() / 1000;\n                }\n            }\n\n            return invalid_msg;\n        },\n        getTime: () => parseInt(new Date().getTime() / 1000),\n        ...getCandleInterface(),\n        ...getMiscInterface(tradeEngine),\n        ...getIndicatorsInterface(tradeEngine),\n\n        // Highlight the block that is being executed\n        highlightBlock: block_id => {\n            const block = Blockly.derivWorkspace.getBlockById(block_id);\n\n            if (block) {\n                block.highlightExecutedBlock(block);\n            }\n        },\n    };\n};\n\nexport default getToolsInterface;\n","import { expectCandle, expectCandles } from '../utils/sanitize';\n\nconst getCandleInterface = () => {\n    return {\n        isCandleBlack: candle => expectCandle(candle) && candle.close < candle.open,\n        candleValues: (ohlc, field) => expectCandles(ohlc).map(o => o[field]),\n        candleField: (candle, field) => expectCandle(candle)[field],\n    };\n};\n\nexport default getCandleInterface;\n","import { localize } from '@deriv/translations';\nimport { notify } from '../utils/broadcast';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nconst getMiscInterface = tradeEngine => {\n    return {\n        notify: args => globalObserver.emit('ui.log.notify', args),\n        console: ({ type, message }) => console[type](message), // eslint-disable-line no-console\n        notifyTelegram: (access_token, chat_id, text) => {\n            const url = `https://api.telegram.org/bot${access_token}/sendMessage`;\n            const onError = () => notify('warn', localize('The Telegram notification could not be sent'));\n\n            fetch(url, {\n                method: 'POST',\n                mode: 'cors',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ chat_id, text }),\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        onError();\n                    }\n                })\n                .catch(onError);\n        },\n        getTotalRuns: () => tradeEngine.getTotalRuns(),\n        getBalance: type => tradeEngine.getBalance(type),\n        getTotalProfit: toString => tradeEngine.getTotalProfit(toString, tradeEngine.tradeOptions.currency),\n    };\n};\n\nexport default getMiscInterface;\n","const getTicksInterface = tradeEngine => {\n    return {\n        getLastTick: (...args) => tradeEngine.getLastTick(...args),\n        getLastDigit: (...args) => tradeEngine.getLastDigit(...args),\n        getTicks: (...args) => tradeEngine.getTicks(...args),\n        checkDirection: (...args) => tradeEngine.checkDirection(...args),\n        getOhlcFromEnd: (...args) => tradeEngine.getOhlcFromEnd(...args),\n        getOhlc: (...args) => tradeEngine.getOhlc(...args),\n        getLastDigitList: (...args) => tradeEngine.getLastDigitList(...args),\n    };\n};\n\nexport default getTicksInterface;\n","import { observer as globalObserver } from '../../../utils/observer';\nimport { createDetails } from '../utils/helpers';\n\nconst getBotInterface = tradeEngine => {\n    const getDetail = i => createDetails(tradeEngine.data.contract)[i];\n\n    return {\n        init: (...args) => tradeEngine.init(...args),\n        start: (...args) => tradeEngine.start(...args),\n        stop: (...args) => tradeEngine.stop(...args),\n        purchase: contract_type => tradeEngine.purchase(contract_type),\n        getAskPrice: contract_type => Number(getProposal(contract_type, tradeEngine).ask_price),\n        getPayout: contract_type => Number(getProposal(contract_type, tradeEngine).payout),\n        getPurchaseReference: () => tradeEngine.getPurchaseReference(),\n        isSellAvailable: () => tradeEngine.isSellAtMarketAvailable(),\n        sellAtMarket: () => tradeEngine.sellAtMarket(),\n        getSellPrice: () => getSellPrice(tradeEngine),\n        isResult: result => getDetail(10) === result,\n        isTradeAgain: result => globalObserver.emit('bot.trade_again', result),\n        readDetails: i => getDetail(i - 1),\n    };\n};\n\nconst getProposal = (contract_type, tradeEngine) => {\n    return tradeEngine.data.proposals.find(\n        proposal =>\n            proposal.contract_type === contract_type &&\n            proposal.purchase_reference === tradeEngine.getPurchaseReference()\n    );\n};\n\nconst getSellPrice = tradeEngine => {\n    return tradeEngine.getSellPrice();\n};\n\nexport default getBotInterface;\n","import { getFormattedText } from '@deriv/shared';\nimport { info } from '../utils/broadcast';\nimport DBotStore from '../../../scratch/dbot-store';\nimport { api_base } from '../../api/api-base';\n\nlet balance_string = '';\n\nexport default Engine =>\n    class Balance extends Engine {\n        observeBalance() {\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'balance') {\n                    const {\n                        balance: { balance: b, currency },\n                    } = data;\n\n                    balance_string = getFormattedText(b, currency);\n\n                    info({ accountID: this.accountInfo.loginid, balance: balance_string });\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        // eslint-disable-next-line class-methods-use-this\n        getBalance(type) {\n            const { client } = DBotStore.instance;\n            const balance = (client && client.balance) || 0;\n\n            balance_string = getFormattedText(balance, client.currency, false);\n            return type === 'STR' ? balance_string : balance;\n        }\n    };\n","export const BEFORE_PURCHASE = 'BEFORE_PURCHASE';\nexport const DURING_PURCHASE = 'DURING_PURCHASE';\nexport const PROPOSALS_READY = 'PROPOSALS_READY';\nexport const CLEAR_PROPOSALS = 'CLEAR_PROPOSALS';\nexport const PURCHASE_SUCCESSFUL = 'PURCHASE_SUCCESSFUL';\nexport const OPEN_CONTRACT = 'OPEN_CONTRACT';\nexport const INVALID_ACTION = 'INVALID_ACTION';\nexport const SELL = 'SELL';\nexport const START = 'START';\nexport const STOP = 'STOP';\nexport const NEW_TICK = 'NEW_TICK';\n","import * as constants from '../constants';\n\nconst dispatchIfScopeIs = ({ dispatch, getState, data, scope }) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === scope) {\n        dispatch(data);\n    }\n};\n\nconst dispatchIfScopeIsBeforePurchase = args => dispatchIfScopeIs({ ...args, scope: constants.BEFORE_PURCHASE });\n\nexport const start = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.START }, scope: constants.STOP });\n\nexport const proposalsReady = () => ({ type: constants.PROPOSALS_READY });\n\nexport const clearProposals = () => ({ type: constants.CLEAR_PROPOSALS });\n\nconst dispatchIfBeforePurchaseReady = args => {\n    const { getState } = args;\n    const { proposalsReady: beforePurchaseReady } = getState();\n    if (beforePurchaseReady) {\n        dispatchIfScopeIsBeforePurchase(args);\n    }\n};\nexport const purchaseSuccessful = () => (dispatch, getState) =>\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.PURCHASE_SUCCESSFUL } });\n\nexport const openContractReceived = () => (dispatch, getState) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === constants.DURING_PURCHASE) {\n        dispatch({ type: constants.OPEN_CONTRACT });\n    }\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.OPEN_CONTRACT } });\n};\n\nexport const sell = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.SELL }, scope: constants.DURING_PURCHASE });\n","import { purchaseSuccessful } from './state/actions';\nimport { BEFORE_PURCHASE } from './state/constants';\nimport { contractStatus, info, log } from '../utils/broadcast';\nimport { getUUID, recoverFromError, doUntilDone } from '../utils/helpers';\nimport { log_types } from '../../../constants/messages';\nimport { api_base } from '../../api/api-base';\n\nlet delayIndex = 0;\nlet purchase_reference;\n\nexport default Engine =>\n    class Purchase extends Engine {\n        purchase(contract_type) {\n            // Prevent calling purchase twice\n            if (this.store.getState().scope !== BEFORE_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            const { id, askPrice } = this.selectProposal(contract_type);\n\n            const onSuccess = response => {\n                // Don't unnecessarily send a forget request for a purchased contract.\n                this.data.proposals = this.data.proposals.filter(p => p.id !== response.echo_req.buy);\n                const { buy } = response;\n\n                contractStatus({\n                    id: 'contract.purchase_received',\n                    data: buy.transaction_id,\n                    buy,\n                });\n\n                this.contractId = buy.contract_id;\n                this.store.dispatch(purchaseSuccessful());\n                this.renewProposalsOnPurchase();\n                delayIndex = 0;\n                log(log_types.PURCHASE, { longcode: buy.longcode, transaction_id: buy.transaction_id });\n                info({\n                    accountID: this.accountInfo.loginid,\n                    totalRuns: this.updateAndReturnTotalRuns(),\n                    transaction_ids: { buy: buy.transaction_id },\n                    contract_type,\n                    buy_price: buy.buy_price,\n                });\n            };\n            const action = () => api_base.api.send({ buy: id, price: askPrice });\n            this.isSold = false;\n            contractStatus({\n                id: 'contract.purchase_sent',\n                data: askPrice,\n            });\n\n            if (!this.options.timeMachineEnabled) {\n                return doUntilDone(action).then(onSuccess);\n            }\n            return recoverFromError(\n                action,\n                (errorCode, makeDelay) => {\n                    // if disconnected no need to resubscription (handled by live-api)\n                    if (errorCode !== 'DisconnectError') {\n                        this.renewProposalsOnPurchase();\n                    } else {\n                        this.clearProposals();\n                    }\n\n                    const unsubscribe = this.store.subscribe(() => {\n                        const { scope, proposalsReady } = this.store.getState();\n                        if (scope === BEFORE_PURCHASE && proposalsReady) {\n                            makeDelay().then(() => this.observer.emit('REVERT', 'before'));\n                            unsubscribe();\n                        }\n                    });\n                },\n                ['PriceMoved', 'InvalidContractProposal'],\n                delayIndex++\n            ).then(onSuccess);\n        }\n        getPurchaseReference = () => purchase_reference;\n        regeneratePurchaseReference = () => {\n            purchase_reference = getUUID();\n        };\n    };\n","import * as constants from '../constants';\n\nconst initialState = {\n    scope: constants.STOP,\n    proposalsReady: false,\n};\n\nconst signal = (state = initialState, action) => {\n    switch (action.type) {\n        case constants.START:\n            return {\n                scope: constants.BEFORE_PURCHASE,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.PROPOSALS_READY:\n            return {\n                ...state,\n                proposalsReady: true,\n            };\n        case constants.CLEAR_PROPOSALS:\n            return {\n                ...state,\n                proposalsReady: false,\n            };\n        case constants.PURCHASE_SUCCESSFUL:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: false,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.OPEN_CONTRACT:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: true,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.SELL:\n            return {\n                scope: constants.STOP,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.NEW_TICK:\n            return {\n                ...state,\n                newTick: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default signal;\n","import { getLast } from 'binary-utils';\nimport { localize } from '@deriv/translations';\nimport * as constants from './state/constants';\nimport { getDirection, getLastDigit } from '../utils/helpers';\nimport { expectPositiveInteger } from '../utils/sanitize';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nlet tickListenerKey;\n\nexport default Engine =>\n    class Ticks extends Engine {\n        watchTicks(symbol) {\n            if (symbol && this.symbol !== symbol) {\n                const { ticksService } = this.$scope;\n\n                ticksService.stopMonitor({\n                    symbol,\n                    key: tickListenerKey,\n                });\n\n                const callback = ticks => {\n                    this.checkProposalReady();\n                    const lastTick = ticks.slice(-1)[0];\n                    const { epoch } = lastTick;\n                    this.store.dispatch({ type: constants.NEW_TICK, payload: epoch });\n                };\n\n                const key = ticksService.monitor({ symbol, callback });\n\n                this.symbol = symbol;\n\n                tickListenerKey = key;\n            }\n        }\n\n        getTicks(toString = false) {\n            return new Promise(resolve => {\n                this.$scope.ticksService.request({ symbol: this.symbol }).then(ticks => {\n                    const ticks_list = ticks.map(tick => {\n                        if (toString) {\n                            return tick.quote.toFixed(this.getPipSize());\n                        }\n                        return tick.quote;\n                    });\n\n                    resolve(ticks_list);\n                });\n            });\n        }\n\n        getLastTick(raw, toString = false) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => {\n                        let last_tick = raw ? getLast(ticks) : getLast(ticks).quote;\n                        if (!raw && toString) {\n                            last_tick = last_tick.toFixed(this.getPipSize());\n                        }\n                        resolve(last_tick);\n                    })\n                    .catch(e => {\n                        if (e.code === 'MarketIsClosed') {\n                            globalObserver.emit('Error', e);\n                            resolve(e.code);\n                        }\n                    })\n            );\n        }\n\n        getLastDigit() {\n            return new Promise(resolve => this.getLastTick(false, true).then(tick => resolve(getLastDigit(tick))));\n        }\n\n        getLastDigitList() {\n            return new Promise(resolve => this.getTicks().then(ticks => resolve(this.getLastDigitsFromList(ticks))));\n        }\n        getLastDigitsFromList(ticks) {\n            const digits = ticks.map(tick => {\n                return getLastDigit(tick.toFixed(this.getPipSize()));\n            });\n            return digits;\n        }\n\n        checkDirection(dir) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => resolve(getDirection(ticks) === dir))\n            );\n        }\n\n        getOhlc(args) {\n            const { granularity = this.options.candleInterval || 60, field } = args || {};\n\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol, granularity })\n                    .then(ohlc => resolve(field ? ohlc.map(o => o[field]) : ohlc))\n            );\n        }\n\n        getOhlcFromEnd(args) {\n            const { index: i = 1 } = args || {};\n\n            const index = expectPositiveInteger(Number(i), localize('Index must be a positive integer'));\n\n            return new Promise(resolve => this.getOhlc(args).then(ohlc => resolve(ohlc.slice(-index)[0])));\n        }\n\n        getPipSize() {\n            return this.$scope.ticksService.pipSizes[this.symbol];\n        }\n    };\n","import { getRoundedNumber } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { info, log } from '../utils/broadcast';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { log_types } from '../../../constants/messages';\n\nconst skeleton = {\n    totalProfit: 0,\n    totalWins: 0,\n    totalLosses: 0,\n    totalStake: 0,\n    totalPayout: 0,\n    totalRuns: 0,\n};\n\nconst globalStat = {};\n\nexport default Engine =>\n    class Total extends Engine {\n        constructor() {\n            super();\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n\n            globalObserver.register('statistics.clear', this.clearStatistics.bind(this));\n        }\n\n        clearStatistics() {\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n            if (!this.accountInfo) return;\n            const { loginid: accountID } = this.accountInfo;\n            globalStat[accountID] = { ...skeleton };\n        }\n\n        updateTotals(contract) {\n            const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n\n            const profit = getRoundedNumber(Number(sellPrice) - Number(buyPrice), currency);\n\n            const win = profit > 0;\n\n            const accountStat = this.getAccountStat();\n\n            accountStat.totalWins += win ? 1 : 0;\n\n            accountStat.totalLosses += !win ? 1 : 0;\n\n            this.sessionProfit = getRoundedNumber(Number(this.sessionProfit) + Number(profit), currency);\n\n            accountStat.totalProfit = getRoundedNumber(Number(accountStat.totalProfit) + Number(profit), currency);\n\n            accountStat.totalStake = getRoundedNumber(Number(accountStat.totalStake) + Number(buyPrice), currency);\n\n            accountStat.totalPayout = getRoundedNumber(Number(accountStat.totalPayout) + Number(sellPrice), currency);\n\n            info({\n                profit,\n                contract,\n                accountID: this.accountInfo.loginid,\n                totalProfit: accountStat.totalProfit,\n                totalWins: accountStat.totalWins,\n                totalLosses: accountStat.totalLosses,\n                totalStake: accountStat.totalStake,\n                totalPayout: accountStat.totalPayout,\n            });\n\n            log(win ? log_types.PROFIT : log_types.LOST, { currency, profit });\n        }\n\n        updateAndReturnTotalRuns() {\n            this.sessionRuns++;\n            const accountStat = this.getAccountStat();\n\n            return ++accountStat.totalRuns;\n        }\n\n        /* eslint-disable class-methods-use-this */\n        getTotalRuns() {\n            const accountStat = this.getAccountStat();\n            return accountStat.totalRuns;\n        }\n\n        getTotalProfit(toString, currency) {\n            const accountStat = this.getAccountStat();\n\n            return toString && accountStat.totalProfit !== 0\n                ? getRoundedNumber(+accountStat.totalProfit, currency)\n                : +accountStat.totalProfit;\n        }\n\n        /* eslint-enable */\n        checkLimits(tradeOption) {\n            if (!tradeOption.limitations) {\n                return;\n            }\n\n            const {\n                limitations: { maxLoss, maxTrades },\n            } = tradeOption;\n\n            if (maxLoss && maxTrades) {\n                if (this.sessionRuns >= maxTrades) {\n                    throw createError('CustomLimitsReached', localize('Maximum number of trades reached'));\n                }\n                if (this.sessionProfit <= -maxLoss) {\n                    throw createError('CustomLimitsReached', localize('Maximum loss amount reached'));\n                }\n            }\n        }\n\n        getAccountStat() {\n            const { loginid: accountID } = this.accountInfo;\n\n            if (!(accountID in globalStat)) {\n                globalStat[accountID] = { ...skeleton };\n            }\n\n            return globalStat[accountID];\n        }\n    };\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { localize } from '@deriv/translations';\nimport Balance from './Balance';\nimport OpenContract from './OpenContract';\nimport Proposal from './Proposal';\nimport Purchase from './Purchase';\nimport Sell from './Sell';\nimport { start } from './state/actions';\nimport * as constants from './state/constants';\nimport rootReducer from './state/reducers';\nimport Ticks from './Ticks';\nimport Total from './Total';\nimport { doUntilDone } from '../utils/helpers';\nimport { expectInitArg } from '../utils/sanitize';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nconst watchBefore = store =>\n    watchScope({\n        store,\n        stopScope: constants.DURING_PURCHASE,\n        passScope: constants.BEFORE_PURCHASE,\n        passFlag: 'proposalsReady',\n    });\n\nconst watchDuring = store =>\n    watchScope({\n        store,\n        stopScope: constants.STOP,\n        passScope: constants.DURING_PURCHASE,\n        passFlag: 'openContract',\n    });\n\n/* The watchScope function is called randomly and resets the prevTick\n * which leads to the same problem we try to solve. So prevTick is isolated\n */\nlet prevTick;\nconst watchScope = ({ store, stopScope, passScope, passFlag }) => {\n    // in case watch is called after stop is fired\n    if (store.getState().scope === stopScope) {\n        return Promise.resolve(false);\n    }\n    return new Promise(resolve => {\n        const unsubscribe = store.subscribe(() => {\n            const newState = store.getState();\n\n            if (newState.newTick === prevTick) return;\n            prevTick = newState.newTick;\n\n            if (newState.scope === passScope && newState[passFlag]) {\n                unsubscribe();\n                resolve(true);\n            }\n\n            if (newState.scope === stopScope) {\n                unsubscribe();\n                resolve(false);\n            }\n        });\n    });\n};\n\nexport default class TradeEngine extends Balance(Purchase(Sell(OpenContract(Proposal(Ticks(Total(class {}))))))) {\n    constructor($scope) {\n        super();\n        this.observer = $scope.observer;\n        this.$scope = $scope;\n        this.observe();\n        this.data = {\n            contract: {},\n            proposals: [],\n        };\n        this.store = createStore(rootReducer, applyMiddleware(thunk));\n    }\n\n    init(...args) {\n        const [token, options] = expectInitArg(args);\n        const { symbol } = options;\n\n        this.initArgs = args;\n        this.options = options;\n        this.startPromise = this.loginAndGetBalance(token);\n\n        this.watchTicks(symbol);\n    }\n\n    start(tradeOptions) {\n        if (!this.options) {\n            throw createError('NotInitialized', localize('Bot.init is not called'));\n        }\n\n        globalObserver.emit('bot.running');\n\n        this.tradeOptions = tradeOptions;\n        this.store.dispatch(start());\n        this.checkLimits(tradeOptions);\n        this.makeProposals({ ...this.options, ...tradeOptions });\n        this.checkProposalReady();\n    }\n\n    loginAndGetBalance(token) {\n        if (this.token === token) {\n            return Promise.resolve();\n        }\n        return new Promise(resolve => {\n            // Try to recover from a situation where API doesn't give us a correct response on\n            // \"proposal_open_contract\" which would make the bot run forever. When there's a \"sell\"\n            // event, wait a couple seconds for the API to give us the correct \"proposal_open_contract\"\n            // response, if there's none after x seconds. Send an explicit request, which _should_\n            // solve the issue. This is a backup!\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'transaction' && data.transaction.action === 'sell') {\n                    this.transaction_recovery_timeout = setTimeout(() => {\n                        const { contract } = this.data;\n                        const is_same_contract = contract.contract_id === data.transaction.contract_id;\n                        const is_open_contract = contract.status === 'open';\n                        if (is_same_contract && is_open_contract) {\n                            doUntilDone(() => {\n                                api_base.api.send({ proposal_open_contract: 1, contract_id: contract.contract_id });\n                            }, ['PriceMoved']);\n                        }\n                    }, 1500);\n                }\n                this.accountInfo = api_base.account_info;\n                this.token = api_base.token;\n                resolve();\n            });\n            api_base.pushSubscription(subscription);\n        });\n    }\n\n    observe() {\n        this.observeOpenContract();\n        this.observeBalance();\n        this.observeProposals();\n    }\n\n    watch(watchName) {\n        if (watchName === 'before') {\n            return watchBefore(this.store);\n        }\n        return watchDuring(this.store);\n    }\n}\n","import { DURING_PURCHASE } from './state/constants';\nimport { contractStatus, log } from '../utils/broadcast';\nimport { recoverFromError, doUntilDone } from '../utils/helpers';\nimport { log_types } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class Sell extends Engine {\n        isSellAtMarketAvailable() {\n            return this.contractId && !this.isSold && this.isSellAvailable && !this.isExpired;\n        }\n\n        sellAtMarket() {\n            globalObserver.emit('bot.sell');\n\n            // Prevent calling sell twice\n            if (this.store.getState().scope !== DURING_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            if (!this.isSellAtMarketAvailable()) {\n                log(log_types.NOT_OFFERED);\n                return Promise.resolve();\n            }\n\n            let delay_index = 1;\n\n            return new Promise(resolve => {\n                const onContractSold = sell_response => {\n                    delay_index = 1;\n\n                    if (sell_response) {\n                        const { sold_for } = sell_response.sell;\n                        log(log_types.SELL, { sold_for });\n                    }\n\n                    contractStatus('purchase.sold');\n                    this.waitForAfter();\n                    resolve();\n                };\n\n                const contract_id = this.contractId;\n\n                const sellContractAndGetContractInfo = () => {\n                    return doUntilDone(() => api_base.api.send({ sell: contract_id, price: 0 }))\n                        .then(sell_response => {\n                            doUntilDone(() => api_base.api.send({ proposal_open_contract: 1, contract_id })).then(\n                                () => sell_response\n                            );\n                        })\n                        .catch(e => {\n                            const error = e.error;\n                            if (error.code === 'InvalidOfferings') {\n                                // \"InvalidOfferings\" may occur when user tries to sell the contract too close\n                                // to the expiry time. We shouldn't interrupt the bot but instead let the contract\n                                // finish.\n                                return Promise.resolve();\n                            }\n\n                            const sell_error = {\n                                name: error.code,\n                                message: error.message,\n                                msg_type: e.msg_type,\n                                error: { ...error.error },\n                            };\n\n                            if (error.code === 'RateLimit') {\n                                return Promise.reject(sell_error);\n                            }\n\n                            // For every other error, check whether the contract is not actually already sold.\n                            return doUntilDone(() =>\n                                api_base.api.send({\n                                    proposal_open_contract: 1,\n                                    contract_id,\n                                })\n                            ).then(proposal_open_contract_response => {\n                                const { proposal_open_contract } = proposal_open_contract_response;\n\n                                if (proposal_open_contract.status !== 'sold') {\n                                    return Promise.reject(sell_error);\n                                }\n\n                                // If the contract is sold at this point it means there was a race condition.\n                                // Pretend this sell request was successful and mislead the trade engine into\n                                // moving onto the next scope.\n                                return Promise.resolve({\n                                    sell: {\n                                        sold_for: proposal_open_contract.sell_price,\n                                    },\n                                });\n                            });\n                        });\n                };\n\n                const errors_to_ignore = ['NoOpenPosition', 'InvalidSellContractProposal', 'UnrecognisedRequest'];\n\n                // Restart buy/sell on error is enabled, don't recover from sell error.\n                if (!this.options.timeMachineEnabled) {\n                    return doUntilDone(sellContractAndGetContractInfo, errors_to_ignore).then(sell_response =>\n                        onContractSold(sell_response)\n                    );\n                }\n\n                // If above checkbox not checked, try to recover from sell error.\n                const recoverFn = (error_code, makeDelay) => {\n                    return makeDelay().then(() => this.observer.emit('REVERT', 'during'));\n                };\n                return recoverFromError(\n                    sellContractAndGetContractInfo,\n                    recoverFn,\n                    errors_to_ignore,\n                    delay_index++\n                ).then(sell_response => onContractSold(sell_response));\n            });\n        }\n    };\n","import { getRoundedNumber } from '@deriv/shared';\nimport { sell, openContractReceived } from './state/actions';\nimport { contractStatus, contract as broadcastContract } from '../utils/broadcast';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class OpenContract extends Engine {\n        observeOpenContract() {\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'proposal_open_contract') {\n                    const contract = data.proposal_open_contract;\n\n                    if (!contract || !this.expectedContractId(contract?.contract_id)) {\n                        return;\n                    }\n\n                    this.setContractFlags(contract);\n\n                    this.data.contract = contract;\n\n                    broadcastContract({ accountID: api_base.account_info.loginid, ...contract });\n\n                    if (this.isSold) {\n                        this.contractId = '';\n                        clearTimeout(this.transaction_recovery_timeout);\n                        this.updateTotals(contract);\n                        contractStatus({\n                            id: 'contract.sold',\n                            data: contract.transaction_ids.sell,\n                            contract,\n                        });\n\n                        if (this.afterPromise) {\n                            this.afterPromise();\n                        }\n\n                        this.store.dispatch(sell());\n                    } else {\n                        this.store.dispatch(openContractReceived());\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        waitForAfter() {\n            return new Promise(resolve => {\n                this.afterPromise = resolve;\n            });\n        }\n\n        setContractFlags(contract) {\n            const { is_expired, is_valid_to_sell, is_sold, entry_tick } = contract;\n\n            this.isSold = Boolean(is_sold);\n            this.isSellAvailable = !this.isSold && Boolean(is_valid_to_sell);\n            this.isExpired = Boolean(is_expired);\n            this.hasEntryTick = Boolean(entry_tick);\n        }\n\n        expectedContractId(contractId) {\n            return this.contractId && contractId === this.contractId;\n        }\n\n        getSellPrice() {\n            const { bid_price: bidPrice, buy_price: buyPrice, currency } = this.data.contract;\n            return getRoundedNumber(Number(bidPrice) - Number(buyPrice), currency);\n        }\n    };\n","import { localize } from '@deriv/translations';\nimport { proposalsReady, clearProposals } from './state/actions';\nimport { tradeOptionToProposal, doUntilDone } from '../utils/helpers';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class Proposal extends Engine {\n        makeProposals(trade_option) {\n            if (!this.isNewTradeOption(trade_option)) {\n                return;\n            }\n\n            // Generate a purchase reference when trade options are different from previous trade options.\n            // This will ensure the bot doesn't mistakenly purchase the wrong proposal.\n            this.regeneratePurchaseReference();\n            this.trade_option = trade_option;\n            this.proposal_templates = tradeOptionToProposal(trade_option, this.getPurchaseReference());\n            this.renewProposalsOnPurchase();\n        }\n\n        selectProposal(contract_type) {\n            const { proposals } = this.data;\n\n            if (proposals.length === 0) {\n                throw Error(localize('Proposals are not ready'));\n            }\n\n            const to_buy = proposals.find(proposal => {\n                if (\n                    proposal.contract_type === contract_type &&\n                    proposal.purchase_reference === this.getPurchaseReference()\n                ) {\n                    // Below happens when a user has had one of the proposals return\n                    // with a ContractBuyValidationError. We allow the logic to continue\n                    // to here cause the opposite proposal may still be valid. Only once\n                    // they attempt to purchase the errored proposal we will intervene.\n                    if (proposal.error) {\n                        throw proposal.error;\n                    }\n\n                    return proposal;\n                }\n\n                return false;\n            });\n\n            if (!to_buy) {\n                throw new Error(localize('Selected proposal does not exist'));\n            }\n\n            return {\n                id: to_buy.id,\n                askPrice: to_buy.ask_price,\n            };\n        }\n\n        renewProposalsOnPurchase() {\n            this.data.proposals = [];\n            this.store.dispatch(clearProposals());\n            this.requestProposals();\n        }\n\n        requestProposals() {\n            // Since there are two proposals (in most cases), an error may be logged twice, to avoid this\n            // flip this boolean on error.\n            let has_informed_error = false;\n\n            Promise.all(\n                this.proposal_templates.map(proposal => {\n                    doUntilDone(() => api_base.api.send(proposal)).catch(error => {\n                        // We intercept ContractBuyValidationError as user may have specified\n                        // e.g. a DIGITUNDER 0 or DIGITOVER 9, while one proposal may be invalid\n                        // the other is valid. We will error on Purchase rather than here.\n\n                        if (error.error.code === 'ContractBuyValidationError') {\n                            this.data.proposals.push({\n                                ...error.error.echo_req,\n                                ...error.echo_req.passthrough,\n                                error,\n                            });\n\n                            return null;\n                        }\n                        if (!has_informed_error) {\n                            has_informed_error = true;\n                            this.$scope.observer.emit('Error', error.error);\n                        }\n                        return null;\n                    });\n                })\n            );\n        }\n\n        observeProposals() {\n            const subscription = api_base.api.onMessage().subscribe(response => {\n                if (response.data.msg_type === 'proposal') {\n                    const { passthrough, proposal } = response.data;\n                    if (proposal && this.data.proposals.findIndex(p => p.id === proposal.id) === -1) {\n                        // Add proposals based on the ID returned by the API.\n                        this.data.proposals.push({ ...proposal, ...passthrough });\n                        this.checkProposalReady();\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        checkProposalReady() {\n            // Proposals are considered ready when the proposals in our memory match the ones\n            // we've requested from the API, we determine this by checking the passthrough of the response.\n            const { proposals } = this.data;\n\n            if (proposals.length > 0) {\n                const has_equal_proposals = this.proposal_templates.every(template => {\n                    return (\n                        proposals.findIndex(proposal => {\n                            return (\n                                proposal.purchase_reference === template.passthrough.purchase_reference &&\n                                proposal.contract_type === template.contract_type\n                            );\n                        }) !== -1\n                    );\n                });\n\n                if (has_equal_proposals) {\n                    this.startPromise.then(() => this.store.dispatch(proposalsReady()));\n                }\n            }\n        }\n\n        isNewTradeOption(trade_option) {\n            if (!this.trade_option) {\n                this.trade_option = trade_option;\n                return true;\n            }\n\n            // Compare incoming \"trade_option\" argument with \"this.trade_option\", if any\n            // of the values is different, this is a new tradeOption and new proposals\n            // should be generated.\n            return [\n                'amount',\n                'barrierOffset',\n                'basis',\n                'duration',\n                'duration_unit',\n                'prediction',\n                'secondBarrierOffset',\n                'symbol',\n            ].some(value => this.trade_option[value] !== trade_option[value]);\n        }\n    };\n","import getToolsInterface from './ToolsInterface';\nimport getTicksInterface from './TicksInterface';\nimport getBotInterface from './BotInterface';\nimport TradeEngine from '../trade';\n\nconst sleep = (observer, arg = 1) => {\n    return new Promise(\n        r =>\n            setTimeout(() => {\n                r();\n                setTimeout(() => observer.emit('CONTINUE'), 0);\n            }, arg * 1000),\n        () => {}\n    );\n};\n\nconst Interface = $scope => {\n    const tradeEngine = new TradeEngine($scope);\n    const { observer } = $scope;\n    const getInterface = () => {\n        return {\n            ...getBotInterface(tradeEngine),\n            ...getToolsInterface(tradeEngine),\n            getTicksInterface: getTicksInterface(tradeEngine),\n            watch: (...args) => tradeEngine.watch(...args),\n            sleep: (...args) => sleep(observer, ...args),\n            alert: (...args) => alert(...args), // eslint-disable-line no-alert\n            prompt: (...args) => prompt(...args), // eslint-disable-line no-alert\n            console: {\n                log(...args) {\n                    // eslint-disable-next-line no-console\n                    console.log(new Date().toLocaleTimeString(), ...args);\n                },\n            },\n        };\n    };\n    return { tradeEngine, observer, getInterface };\n};\n\nexport default Interface;\n","import { cloneThorough } from '@deriv/shared';\nimport JSInterpreter from '@deriv/js-interpreter';\nimport { createScope } from './cliTools';\nimport Interface from '../Interface';\nimport { unrecoverable_errors } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nJSInterpreter.prototype.takeStateSnapshot = function () {\n    const newStateStack = cloneThorough(this.stateStack, undefined, undefined, undefined, true);\n    return newStateStack;\n};\n\nJSInterpreter.prototype.restoreStateSnapshot = function (snapshot) {\n    this.stateStack = cloneThorough(snapshot, undefined, undefined, undefined, true);\n    this.global = this.stateStack[0].scope.object || this.stateStack[0].scope;\n    this.initFunc_(this, this.global);\n};\n\nconst botInitialized = bot => bot && bot.tradeEngine.options;\nconst botStarted = bot => botInitialized(bot) && bot.tradeEngine.tradeOptions;\nconst shouldRestartOnError = (bot, errorName = '') =>\n    !unrecoverable_errors.includes(errorName) && botInitialized(bot) && bot.tradeEngine.options.shouldRestartOnError;\n\nconst shouldStopOnError = (bot, errorName = '') => {\n    const stopErrors = ['SellNotAvailableCustom', 'ContractCreationFailure'];\n    if (stopErrors.includes(errorName) && botInitialized(bot)) {\n        return true;\n    }\n    return false;\n};\n\nconst timeMachineEnabled = bot => botInitialized(bot) && bot.tradeEngine.options.timeMachineEnabled;\n\n// TODO chek beforState & duringState & startState\nconst Interpreter = () => {\n    let $scope = createScope();\n    let bot = Interface($scope);\n    let interpreter = {};\n    let onFinish;\n\n    $scope.observer.register('REVERT', watchName =>\n        revert(watchName === 'before' ? $scope.beforeState : $scope.duringState)\n    );\n\n    function init() {\n        $scope = createScope();\n        bot = Interface($scope);\n        interpreter = {};\n        onFinish = () => {};\n    }\n\n    function revert(state) {\n        interpreter.restoreStateSnapshot(state);\n        interpreter.paused_ = false;\n        loop();\n    }\n\n    function loop() {\n        if ($scope.stopped || !interpreter.run()) {\n            onFinish(interpreter.pseudoToNative(interpreter.value));\n        }\n    }\n\n    function createAsync(js_interpreter, func) {\n        const asyncFunc = (...args) => {\n            const callback = args.pop();\n\n            // Workaround for unknown number of args\n            const reversed_args = args.slice().reverse();\n            const first_defined_arg_idx = reversed_args.findIndex(arg => arg !== undefined);\n\n            // Remove extra undefined args from end of the args\n            const function_args = first_defined_arg_idx < 0 ? [] : reversed_args.slice(first_defined_arg_idx).reverse();\n            // End of workaround\n\n            func(...function_args.map(arg => js_interpreter.pseudoToNative(arg)))\n                .then(rv => {\n                    callback(js_interpreter.nativeToPseudo(rv));\n                    loop();\n                })\n                .catch(e => {\n                    // e.error for errors get from API, e for code errors\n                    $scope.observer.emit('Error', e.error || e);\n                });\n        };\n\n        // TODO: This is a workaround, create issue on original repo, once fixed\n        // remove this. We don't know how many args are going to be passed, so we\n        // assume a max of 100.\n        const MAX_ACCEPTABLE_FUNC_ARGS = 100;\n        Object.defineProperty(asyncFunc, 'length', { value: MAX_ACCEPTABLE_FUNC_ARGS + 1 });\n        return js_interpreter.createAsyncFunction(asyncFunc);\n    }\n\n    function initFunc(js_interpreter, scope) {\n        const bot_interface = bot.getInterface();\n        const { getTicksInterface, alert, prompt, sleep, console: custom_console } = bot_interface;\n        const ticks_interface = getTicksInterface;\n\n        js_interpreter.setProperty(scope, 'console', js_interpreter.nativeToPseudo(custom_console));\n        js_interpreter.setProperty(scope, 'alert', js_interpreter.nativeToPseudo(alert));\n        js_interpreter.setProperty(scope, 'prompt', js_interpreter.nativeToPseudo(prompt));\n        js_interpreter.setProperty(\n            scope,\n            'getPurchaseReference',\n            js_interpreter.nativeToPseudo(bot_interface.getPurchaseReference)\n        );\n\n        const pseudo_bot_interface = js_interpreter.nativeToPseudo(bot_interface);\n\n        Object.entries(ticks_interface).forEach(([name, f]) =>\n            js_interpreter.setProperty(pseudo_bot_interface, name, createAsync(js_interpreter, f))\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'start',\n            js_interpreter.nativeToPseudo((...args) => {\n                const { start } = bot_interface;\n                if (shouldRestartOnError(bot)) {\n                    $scope.startState = js_interpreter.takeStateSnapshot();\n                }\n                start(...args);\n            })\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'purchase',\n            createAsync(js_interpreter, bot_interface.purchase)\n        );\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'sellAtMarket',\n            createAsync(js_interpreter, bot_interface.sellAtMarket)\n        );\n        js_interpreter.setProperty(scope, 'Bot', pseudo_bot_interface);\n        js_interpreter.setProperty(\n            scope,\n            'watch',\n            createAsync(js_interpreter, watchName => {\n                const { watch } = bot.getInterface();\n\n                if (timeMachineEnabled(bot)) {\n                    const snapshot = interpreter.takeStateSnapshot();\n                    if (watchName === 'before') {\n                        $scope.beforeState = snapshot;\n                    } else {\n                        $scope.duringState = snapshot;\n                    }\n                }\n\n                return watch(watchName);\n            })\n        );\n\n        js_interpreter.setProperty(scope, 'sleep', createAsync(js_interpreter, sleep));\n    }\n\n    function stop() {\n        const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n        const is_timeouts_cancellable = Object.keys(global_timeouts).every(\n            timeout => global_timeouts[timeout].is_cancellable\n        );\n\n        if (!bot.tradeEngine.contractId && is_timeouts_cancellable) {\n            // When user is rate limited, allow them to stop the bot immediately\n            // granted there is no active contract.\n            global_timeouts.forEach(timeout => clearTimeout(global_timeouts[timeout]));\n            terminateSession();\n        } else if (bot.tradeEngine.isSold === false && !$scope.is_error_triggered) {\n            globalObserver.register('contract.status', contractStatus => {\n                if (contractStatus.id === 'contract.sold') {\n                    terminateSession();\n                }\n            });\n        } else {\n            terminateSession();\n        }\n    }\n\n    function terminateSession() {\n        $scope.stopped = true;\n        $scope.is_error_triggered = false;\n        globalObserver.emit('bot.stop');\n        const { ticksService } = $scope;\n        // Unsubscribe previous ticks_history subscription\n        ticksService.unsubscribeFromTicksService();\n        // Unsubscribe the subscriptions from Proposal, Balance and OpenContract\n        api_base.clearSubscriptions();\n    }\n\n    function run(code) {\n        return new Promise((resolve, reject) => {\n            const onError = e => {\n                if ($scope.stopped) {\n                    return;\n                }\n                // DBot handles 'InvalidToken' internally\n                if (e.code === 'InvalidToken') {\n                    globalObserver.emit('client.invalid_token');\n                    return;\n                }\n                if (shouldStopOnError(bot, e?.code)) {\n                    globalObserver.emit('ui.log.error', e.message);\n                    globalObserver.emit('bot.click_stop');\n                    return;\n                }\n\n                $scope.is_error_triggered = true;\n                if (!shouldRestartOnError(bot, e.code) || !botStarted(bot)) {\n                    reject(e);\n                    return;\n                }\n\n                globalObserver.emit('Error', e);\n                const { initArgs, tradeOptions } = bot.tradeEngine;\n                terminateSession();\n                init();\n                $scope.observer.register('Error', onError);\n                bot.tradeEngine.init(...initArgs);\n                bot.tradeEngine.start(tradeOptions);\n                revert($scope.startState);\n            };\n\n            $scope.observer.register('Error', onError);\n\n            interpreter = new JSInterpreter(code, initFunc);\n            onFinish = resolve;\n\n            loop();\n        });\n    }\n\n    return { stop, run, terminateSession, bot };\n};\nexport default Interpreter;\n\nexport const createInterpreter = () => new Interpreter();\n","import { localize } from '@deriv/translations';\nimport './blockly';\nimport { hasAllRequiredBlocks, isAllRequiredBlocksEnabled, updateDisabledBlocks } from './utils';\nimport main_xml from './xml/main.xml';\nimport DBotStore from './dbot-store';\nimport { save_types } from '../constants';\nimport { config } from '../constants/config';\nimport { getSavedWorkspaces, saveWorkspaceToRecent } from '../utils/local-storage';\nimport { observer as globalObserver } from '../utils/observer';\nimport ApiHelpers from '../services/api/api-helpers';\nimport Interpreter from '../services/tradeEngine/utils/interpreter';\nimport { api_base } from '../services/api/api-base';\n\nclass DBot {\n    constructor() {\n        this.interpreter = null;\n        this.workspace = null;\n        this.before_run_funcs = [];\n    }\n\n    /**\n     * Initialises the workspace and mounts it to a container element (app_contents).\n     */\n    async initWorkspace(public_path, store, api_helpers_store, is_mobile) {\n        const recent_files = await getSavedWorkspaces();\n\n        return new Promise((resolve, reject) => {\n            __webpack_public_path__ = public_path; // eslint-disable-line no-global-assign\n            ApiHelpers.setInstance(api_helpers_store);\n            DBotStore.setInstance(store);\n            const window_width = window.innerWidth;\n            try {\n                let workspaceScale = 0.8;\n\n                const { handleFileChange } = DBotStore.instance;\n                if (window_width < 1640) {\n                    if (is_mobile) {\n                        workspaceScale = 0.7;\n                    } else {\n                        const scratch_div_width = document.getElementById('scratch_div')?.offsetWidth;\n                        const zoom_scale = scratch_div_width / window_width / 1.5;\n                        workspaceScale = zoom_scale;\n                    }\n                }\n                const el_scratch_div = document.getElementById('scratch_div');\n                if (!el_scratch_div) {\n                    return;\n                }\n                this.workspace = Blockly.inject(el_scratch_div, {\n                    media: `${__webpack_public_path__}media/`,\n                    trashcan: !is_mobile,\n                    zoom: { wheel: true, startScale: workspaceScale },\n                    scrollbars: true,\n                });\n\n                this.workspace.cached_xml = { main: main_xml };\n\n                this.workspace.addChangeListener(this.valueInputLimitationsListener.bind(this));\n                this.workspace.addChangeListener(event => updateDisabledBlocks(this.workspace, event));\n                this.workspace.addChangeListener(event => this.workspace.dispatchBlockEventEffects(event));\n\n                Blockly.derivWorkspace = this.workspace;\n\n                this.addBeforeRunFunction(this.unselectBlocks.bind(this));\n                this.addBeforeRunFunction(this.disableStrayBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForErroredBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForRequiredBlocks.bind(this));\n\n                // Push main.xml to workspace and reset the undo stack.\n                this.workspace.current_strategy_id = Blockly.utils.genUid();\n                Blockly.derivWorkspace.strategy_to_load = main_xml;\n                Blockly.mainWorkspace.strategy_to_load = main_xml;\n                let file_name = config.default_file_name;\n                if (recent_files && recent_files.length) {\n                    const latest_file = recent_files[0];\n                    Blockly.derivWorkspace.strategy_to_load = latest_file.xml;\n                    Blockly.mainWorkspace.strategy_to_load = latest_file.xml;\n                    file_name = latest_file.name;\n                    Blockly.derivWorkspace.current_strategy_id = latest_file.id;\n                    Blockly.mainWorkspace.current_strategy_id = latest_file.id;\n                }\n\n                const event_group = `dbot-load${Date.now()}`;\n                Blockly.Events.setGroup(event_group);\n                Blockly.Xml.domToWorkspace(\n                    Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                    this.workspace\n                );\n                const { save_modal } = DBotStore.instance;\n\n                save_modal.updateBotName(file_name);\n                this.workspace.cleanUp();\n                this.workspace.clearUndo();\n\n                window.dispatchEvent(new Event('resize'));\n                window.addEventListener('dragover', DBot.handleDragOver);\n                window.addEventListener('drop', e => DBot.handleDropOver(e, handleFileChange));\n                api_base.init();\n                // disable overflow\n                el_scratch_div.parentNode.style.overflow = 'hidden';\n                resolve();\n            } catch (error) {\n                // TODO: Handle error.\n                reject(error);\n                throw error;\n            }\n        });\n    }\n\n    async saveRecentWorkspace() {\n        await saveWorkspaceToRecent(Blockly.Xml.workspaceToDom(this.workspace), save_types.UNSAVED);\n    }\n\n    /**\n     * Allows you to add a function that needs to be executed before running the bot. Each\n     * function needs to return true in order for the bot to run.\n     * @param {Function} func Function to execute which returns true/false.\n     */\n    addBeforeRunFunction(func) {\n        this.before_run_funcs.push(func);\n    }\n\n    shouldRunBot() {\n        return this.before_run_funcs.every(func => !!func());\n    }\n\n    /**\n     * Runs the bot. Does a sanity check before attempting to generate the\n     * JavaScript code that's fed to the interpreter.\n     */\n    runBot() {\n        try {\n            const code = this.generateCode();\n            if (this.interpreter !== null) {\n                this.interpreter = null;\n            }\n\n            this.interpreter = Interpreter();\n            api_base.setIsRunning(true);\n            this.interpreter.run(code).catch(error => {\n                globalObserver.emit('Error', error);\n                this.stopBot();\n            });\n        } catch (error) {\n            globalObserver.emit('Error', error);\n\n            if (this.interpreter) {\n                this.stopBot();\n            }\n        }\n    }\n\n    /**\n     * Generates the code that is passed to the interpreter.\n     * @param {Object} limitations Optional limitations (legacy argument)\n     */\n    generateCode(limitations = {}) {\n        return `\n            var BinaryBotPrivateInit;\n            var BinaryBotPrivateStart;\n            var BinaryBotPrivateBeforePurchase; \n            var BinaryBotPrivateDuringPurchase;\n            var BinaryBotPrivateAfterPurchase;\n            var BinaryBotPrivateLastTickTime;\n            var BinaryBotPrivateTickAnalysisList = [];\n            var BinaryBotPrivateHasCalledTradeOptions = false;\n\n           \n            function recursiveList(list, final_list){\n                for(var i=0; i < list.length; i++){\n                    if(typeof(list[i]) === 'object'){\n                        recursiveList(list[i], final_list);\n                    }\n                    if(typeof(list[i]) == 'number'){\n                        final_list.push(list[i]);   \n                                  \t\n                    }\n                }\n                return final_list;\n            }\n\n            function BinaryBotPrivateRun(f, arg) {\n                if (f) return f(arg);\n                return false;\n            }\n            function BinaryBotPrivateTickAnalysis() {\n                var currentTickTime = Bot.getLastTick(true);\n                while (currentTickTime === 'MarketIsClosed') {\n                    sleep(5);\n                    currentTickTime = Bot.getLastTick(true);\n                }\n                currentTickTime = currentTickTime.epoch;\n                if (currentTickTime === BinaryBotPrivateLastTickTime) {\n                    return;\n                }\n                BinaryBotPrivateLastTickTime = currentTickTime;\n                for (var BinaryBotPrivateI = 0; BinaryBotPrivateI < BinaryBotPrivateTickAnalysisList.length; BinaryBotPrivateI++) {\n                    BinaryBotPrivateRun(BinaryBotPrivateTickAnalysisList[BinaryBotPrivateI]);\n                }\n            }\n            var BinaryBotPrivateLimitations = ${JSON.stringify(limitations)};\n            ${Blockly.JavaScript.workspaceToCode(this.workspace)}\n            BinaryBotPrivateRun(BinaryBotPrivateInit);\n            while (true) {\n                BinaryBotPrivateTickAnalysis();\n                BinaryBotPrivateRun(BinaryBotPrivateStart);\n                if (!BinaryBotPrivateHasCalledTradeOptions) {\n                    sleep(1);\n                    continue;\n                }\n                while (watch('before')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateBeforePurchase);\n                }\n                while (watch('during')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateDuringPurchase);\n                }\n                BinaryBotPrivateTickAnalysis();\n                if (!BinaryBotPrivateRun(BinaryBotPrivateAfterPurchase)) {\n                    break;\n                }\n            }`;\n    }\n\n    /**\n     * Instructs the interpreter to stop the bot. If there is an active trade\n     * that trade will be completed first to reflect correct contract status in UI.\n     */\n    stopBot() {\n        api_base.setIsRunning(false);\n        if (this.interpreter) {\n            this.interpreter.stop();\n        }\n    }\n\n    /**\n     * Immediately instructs the interpreter to terminate the WS connection and bot.\n     */\n    terminateBot() {\n        if (this.interpreter) {\n            this.interpreter.terminateSession();\n            this.interpreter = null;\n        }\n    }\n\n    terminateConnection = () => {\n        api_base.terminate();\n    };\n\n    /**\n     * Unselects any selected block before running the bot.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    unselectBlocks() {\n        if (Blockly.selected) {\n            Blockly.selected.unselect();\n        }\n        return true;\n    }\n\n    /**\n     * Disable blocks outside of any main or independent blocks.\n     */\n    disableStrayBlocks() {\n        const top_blocks = this.workspace.getTopBlocks();\n\n        top_blocks.forEach(block => {\n            if (!block.isMainBlock() && !block.isIndependentBlock()) {\n                this.disableBlocksRecursively(block);\n            }\n        });\n\n        return true;\n    }\n\n    /**\n     * Disable blocks and their optional children.\n     */\n    disableBlocksRecursively(block) {\n        block.setDisabled(true);\n        if (block.nextConnection?.targetConnection) {\n            this.disableBlocksRecursively(block.nextConnection.targetConnection.sourceBlock_);\n        }\n    }\n\n    /**\n     * Check if there are any blocks highlighted for errors.\n     */\n    checkForErroredBlocks() {\n        // Force a check on value inputs.\n        this.valueInputLimitationsListener({}, true);\n\n        const all_blocks = this.workspace.getAllBlocks(true);\n        const error_blocks = all_blocks\n            .filter(block => block.is_error_highlighted && !block.disabled)\n            // filter out duplicated error message\n            .filter((block, index, self) => index === self.findIndex(b => b.error_message === block.error_message));\n\n        if (!error_blocks.length) {\n            return true;\n        }\n\n        this.workspace.centerOnBlock(error_blocks[0].id);\n        error_blocks.forEach(block => {\n            globalObserver.emit('ui.log.error', block.error_message);\n        });\n\n        return false;\n    }\n\n    centerAndHighlightBlock(block_id, should_animate = false) {\n        const block_to_highlight = this.workspace.getBlockById(block_id);\n\n        if (!block_to_highlight) {\n            return;\n        }\n\n        const all_blocks = this.workspace.getAllBlocks();\n\n        all_blocks.forEach(block => block.setErrorHighlighted(false));\n        if (should_animate) {\n            block_to_highlight.blink();\n        }\n        block_to_highlight.setErrorHighlighted(true);\n\n        this.workspace.centerOnBlock(block_to_highlight.id);\n    }\n\n    unHighlightAllBlocks() {\n        this.workspace?.getAllBlocks().forEach(block => block.setErrorHighlighted(false));\n    }\n\n    /**\n     * Checks whether the workspace contains all required blocks before running the strategy.\n     */\n    checkForRequiredBlocks() {\n        let error;\n\n        if (!hasAllRequiredBlocks(this.workspace)) {\n            error = new Error(\n                localize(\n                    'One or more mandatory blocks are missing from your workspace. Please add the required block(s) and then try again.'\n                )\n            );\n        } else if (!isAllRequiredBlocksEnabled(this.workspace)) {\n            error = new Error(\n                localize(\n                    'One or more mandatory blocks are disabled in your workspace. Please enable the required block(s) and then try again.'\n                )\n            );\n        }\n\n        if (error) {\n            globalObserver.emit('Error', error);\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Checks all blocks in the workspace to see if they need to be highlighted\n     * in case one of their inputs is not populated, returns an empty value, or doesn't\n     * pass the custom validator.\n     * Note: The value passed to the custom validator is always a string value\n     * @param {Blockly.Event} event Workspace event\n     */\n    valueInputLimitationsListener(event, force_check = false) {\n        if (!force_check && (!this.workspace || this.workspace.isDragging())) {\n            return;\n        }\n\n        Blockly.JavaScript.init(this.workspace);\n\n        if (force_check) {\n            Blockly.hideChaff(false);\n        }\n\n        const isGlobalEndDragEvent = () => event.type === Blockly.Events.END_DRAG;\n        const isGlobalDeleteEvent = () => event.type === Blockly.Events.BLOCK_DELETE;\n        const isGlobalCreateEvent = () => event.type === Blockly.Events.BLOCK_CREATE;\n        const isClickEvent = () =>\n            event.type === Blockly.Events.UI && (event.element === 'click' || event.element === 'selected');\n        const isChangeEvent = b => event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === b.id;\n        const isChangeInMyInputs = b => {\n            if (event.type === Blockly.Events.BLOCK_CHANGE) {\n                return b.inputList.some(input => {\n                    if (input.connection) {\n                        const target_block = input.connection.targetBlock();\n                        return target_block && event.blockId === target_block.id;\n                    }\n                    return false;\n                });\n            }\n            return false;\n        };\n        const isParentEnabledEvent = b => {\n            if (event.type === Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n                let parent_block = b.getParent();\n\n                while (parent_block !== null) {\n                    if (parent_block.id === event.blockId) {\n                        return true;\n                    }\n\n                    parent_block = parent_block.getParent();\n                }\n            }\n            return false;\n        };\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            if (\n                force_check ||\n                isGlobalEndDragEvent() ||\n                isGlobalDeleteEvent() ||\n                isGlobalCreateEvent() ||\n                isClickEvent() ||\n                isChangeEvent(block) ||\n                isChangeInMyInputs(block) ||\n                isParentEnabledEvent(block)\n            ) {\n                // Unhighlight disabled blocks and their optional children.\n                if (block.disabled) {\n                    const unhighlightRecursively = child_blocks => {\n                        child_blocks.forEach(child_block => {\n                            child_block.setErrorHighlighted(false);\n                            unhighlightRecursively(child_block.getChildren());\n                        });\n                    };\n\n                    unhighlightRecursively([block]);\n                    return;\n                }\n\n                // No required inputs, ignore this block.\n                if (!block.getRequiredValueInputs) {\n                    return;\n                }\n\n                const required_inputs_object = block.getRequiredValueInputs();\n                const required_input_names = Object.keys(required_inputs_object);\n                const should_highlight = required_input_names.some(input_name => {\n                    const is_selected = Blockly.selected === block; // Don't highlight selected blocks.\n                    const is_disabled = block.disabled || block.getInheritedDisabled(); // Don't highlight disabled blocks.\n\n                    if (is_selected || is_disabled) {\n                        return false;\n                    }\n\n                    // Don't unhighlight collapsed blocks with highlighted descendants.\n                    if (block.isCollapsed() && block.hasErrorHighlightedDescendant()) {\n                        return true;\n                    }\n\n                    const input = block.getInput(input_name);\n\n                    if (!input && !block.domToMutation) {\n                        // eslint-disable-next-line no-console\n                        console.warn('Detected a non-existent required input.', {\n                            input_name,\n                            type: block.type,\n                        });\n                    } else if (input.connection) {\n                        const order = Blockly.JavaScript.ORDER_ATOMIC;\n                        const value = Blockly.JavaScript.valueToCode(block, input_name, order);\n                        const inputValidatorFn = required_inputs_object[input_name];\n\n                        // If a custom validator was supplied, use this to determine whether\n                        // the block should be highlighted.\n                        if (typeof inputValidatorFn === 'function') {\n                            return !!inputValidatorFn(value);\n                        }\n\n                        // If there's no custom validator, only check if input was populated and\n                        // doesn't return an empty value.\n                        return !value;\n                    }\n\n                    return true;\n                });\n\n                if (should_highlight) {\n                    // Remove select highlight in favour of error highlight.\n                    block.removeSelect();\n                }\n\n                block.setErrorHighlighted(should_highlight, block.error_message || undefined);\n\n                // Automatically expand blocks that have been highlighted.\n                if (force_check && (block.is_error_highlighted || block.hasErrorHighlightedDescendant())) {\n                    let current_collapsed_block = block;\n                    while (current_collapsed_block) {\n                        current_collapsed_block.setCollapsed(false);\n                        current_collapsed_block = current_collapsed_block.getParent();\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * Checks whether the workspace contains non-silent notification blocks. Returns array of names for audio files to be played.\n     */\n    getStrategySounds() {\n        const all_blocks = this.workspace.getAllBlocks();\n        const notify_blocks = all_blocks.filter(block => block.type === 'notify');\n        const strategy_sounds = [];\n\n        notify_blocks.forEach(block => {\n            const selected_sound = block.inputList[0].fieldRow[3].value_;\n\n            if (selected_sound !== 'silent') {\n                strategy_sounds.push(selected_sound);\n            }\n        });\n\n        return strategy_sounds;\n    }\n\n    static handleDragOver(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n    }\n\n    static handleDropOver(event, handleFileChange) {\n        const main_workspace_dom = document.getElementById('scratch_div');\n        const local_drag_zone = document.getElementById('load-strategy__local-dropzone-area');\n\n        if (main_workspace_dom.contains(event.target)) {\n            handleFileChange(event);\n        } else if (local_drag_zone && local_drag_zone.contains(event.target)) {\n            handleFileChange(event, false);\n        } else {\n            event.stopPropagation();\n            event.preventDefault();\n            event.dataTransfer.effectAllowed = 'none';\n            event.dataTransfer.dropEffect = 'none';\n        }\n    }\n}\n\nexport default new DBot();\n","import PendingPromise from '../../utils/pending-promise';\n\nconst ServerTime = (() => {\n    let clock_started = false;\n    const pending = new PendingPromise();\n    let common_store;\n\n    const init = store => {\n        if (!clock_started) {\n            common_store = store;\n            pending.resolve(common_store.server_time);\n            clock_started = true;\n        }\n    };\n\n    const get = () => (clock_started && common_store.server_time ? common_store.server_time.clone() : undefined);\n\n    return {\n        init,\n        get,\n        timePromise: () => (clock_started ? Promise.resolve(common_store.server_time) : pending.promise),\n    };\n})();\n\nexport default ServerTime;\n","export default class NetworkMonitor {\n    constructor(apiInstance, parentElement) {\n        this.api = apiInstance;\n        this.parentElement = parentElement;\n        this.addEvents();\n    }\n\n    addEvents() {\n        if ('onLine' in navigator) {\n            window.addEventListener('online', () => this.setStatus());\n            window.addEventListener('offline', () => this.setStatus());\n        } else {\n            navigator.onLine = true;\n            setInterval(() => this.setStatus(), 10000);\n        }\n        this.setStatus();\n    }\n\n    setStatus() {\n        if (navigator.onLine) {\n            this.parentElement.html(\"<span class='connecting'></span>\");\n            this.api.send({ ping: '1' }).then(() => {\n                this.parentElement.html(\"<span class='online'></span>\");\n            });\n        } else {\n            this.parentElement.html(\"<span class='offline'></span>\");\n        }\n    }\n}\n","import { localize } from '@deriv/translations';\nimport { config } from '../constants/config';\n\n// TODO: use-shared-functions - These functions are duplicates of trader ones, export and use these instead.\nexport const getContractTypeName = contract => {\n    const { opposites } = config;\n    let name = localize('Unknown');\n\n    Object.keys(opposites).forEach(opposites_name => {\n        const contract_type_objs = opposites[opposites_name];\n\n        contract_type_objs.forEach(contract_type_obj => {\n            const contract_type_names = Object.entries(contract_type_obj)[0]; // ['CALL', 'Rise']\n\n            if (contract_type_names[0] === contract.contract_type) {\n                // Extra check for CALL & PUT types to distinguish Rise/Fall & Higher/Lower.\n                if (['CALL', 'PUT'].includes(contract_type_names[0])) {\n                    const shortcode_suffix = contract.shortcode.split('_').slice(-2)[0];\n                    const is_risefall = /^S0P$/.test(shortcode_suffix);\n                    const req_opposite_name = is_risefall ? 'CALLPUT' : 'HIGHERLOWER';\n\n                    if (opposites_name !== req_opposite_name) {\n                        return;\n                    }\n                }\n\n                name = contract_type_names[1];\n            }\n        });\n    });\n\n    return name;\n};\n","export const importExternal = url => {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = url;\n        script.async = true;\n        script.onload = () => resolve(window.external_global_component);\n        script.onerror = reject;\n\n        document.body.appendChild(script);\n    });\n};\n","import { localize } from '@deriv/translations';\n\nexport const timeSince = timestamp => {\n    const now = new Date();\n    const secondPast = (now.getTime() - timestamp) / 1000;\n\n    if (secondPast < 60) {\n        return localize('{{secondPast}}s ago', { secondPast: parseInt(secondPast) });\n    }\n    if (secondPast < 3600) {\n        return localize('{{minutePast}}m ago', { minutePast: parseInt(secondPast / 60) });\n    }\n    if (secondPast <= 86400) {\n        return localize('{{hourPast}}h ago', { hourPast: parseInt(secondPast / 3600) });\n    }\n\n    const timestampDate = new Date(timestamp);\n    const day = timestampDate.getDate();\n    const month = timestampDate\n        .toDateString()\n        .match(/ [a-zA-Z]*/)[0]\n        .replace(' ', '');\n    const year = `${timestampDate.getFullYear() === now.getFullYear() ? '' : ' '}${timestampDate.getFullYear()}`;\n    return `${day} ${month}${year}`;\n};\n","const darkMode = () => {\n    const workspace = Blockly;\n    workspace.Colours.RootBlock = {\n        colour: '#183046',\n        colourSecondary: '#F2F3F5',\n        colourTertiary: '#151717',\n    };\n    workspace.Colours.Base = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#0e0e0e',\n    };\n\n    workspace.Colours.Special1 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special2 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#D27954',\n    };\n\n    workspace.Colours.Special3 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#D27954',\n    };\n};\n\nconst lightMode = () => {\n    const workspace = Blockly;\n    workspace.Colours.RootBlock = {\n        colour: '#064e72',\n        colourSecondary: '#064e72',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Base = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special1 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special2 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special3 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n};\nexport const setColors = is_dark_mode => (is_dark_mode ? darkMode() : lightMode());\n","import { localize } from '@deriv/translations';\n\nconst CRYPTO_CURRENCIES = ['BTC', 'ETH', 'LTC', 'BCH', 'UST'];\n\nexport const config = {\n    lists: {\n        PAYOUTTYPE: [\n            // [localize('Payout'), 'payout'],\n            [localize('Stake'), 'stake'],\n        ],\n        CRYPTO_CURRENCIES,\n        DETAILS: [\n            [localize('deal reference id'), '1'],\n            [localize('purchase price'), '2'],\n            [localize('payout'), '3'],\n            [localize('profit'), '4'],\n            [localize('contract type'), '5'],\n            [localize('entry spot time'), '6'],\n            [localize('entry spot price'), '7'],\n            [localize('exit spot time'), '8'],\n            [localize('exit spot price'), '9'],\n            [localize('barrier'), '10'],\n            [localize('result'), '11'],\n        ],\n        CHECK_RESULT: [\n            [localize('Win'), 'win'],\n            [localize('Loss'), 'loss'],\n        ],\n        CHECK_DIRECTION: [\n            [localize('Rise'), 'rise'],\n            [localize('Fall'), 'fall'],\n            [localize('No Change'), ''],\n        ],\n        BALANCE_TYPE: [\n            [localize('string'), 'STR'],\n            [localize('number'), 'NUM'],\n        ],\n        NOTIFICATION_TYPE: [\n            [localize('green'), 'success'],\n            [localize('blue'), 'info'],\n            [localize('yellow'), 'warn'],\n            [localize('red'), 'error'],\n        ],\n        NOTIFICATION_SOUND: [\n            [localize('Silent'), 'silent'],\n            [localize('Announcement'), 'announcement'],\n            [localize('Earned money'), 'earned-money'],\n            [localize('Job done'), 'job-done'],\n            [localize('Error'), 'error'],\n            [localize('Severe error'), 'severe-error'],\n        ],\n        CURRENCY: ['USD', 'EUR', 'GBP', 'AUD', ...CRYPTO_CURRENCIES],\n    },\n    opposites: {\n        MULTIPLIER: [\n            {\n                MULTUP: localize('Up'),\n            },\n            {\n                MULTDOWN: localize('Down'),\n            },\n        ],\n        CALLPUT: [\n            {\n                CALL: localize('Rise'),\n            },\n            {\n                PUT: localize('Fall'),\n            },\n        ],\n        CALLPUTEQUAL: [\n            {\n                CALLE: localize('Rise Equals'),\n            },\n            {\n                PUTE: localize('Fall Equals'),\n            },\n        ],\n        HIGHERLOWER: [\n            {\n                CALL: localize('Higher'),\n            },\n            {\n                PUT: localize('Lower'),\n            },\n        ],\n        TOUCHNOTOUCH: [\n            {\n                ONETOUCH: localize('Touch'),\n            },\n            {\n                NOTOUCH: localize('No Touch'),\n            },\n        ],\n        ENDSINOUT: [\n            {\n                EXPIRYRANGE: localize('Ends Between'),\n            },\n            {\n                EXPIRYMISS: localize('Ends Outside'),\n            },\n        ],\n        STAYSINOUT: [\n            {\n                RANGE: localize('Stays Between'),\n            },\n            {\n                UPORDOWN: localize('Goes Outside'),\n            },\n        ],\n        ASIANS: [\n            {\n                ASIANU: localize('Asian Up'),\n            },\n            {\n                ASIAND: localize('Asian Down'),\n            },\n        ],\n        MATCHESDIFFERS: [\n            {\n                DIGITMATCH: localize('Matches'),\n            },\n            {\n                DIGITDIFF: localize('Differs'),\n            },\n        ],\n        EVENODD: [\n            {\n                DIGITEVEN: localize('Even'),\n            },\n            {\n                DIGITODD: localize('Odd'),\n            },\n        ],\n        OVERUNDER: [\n            {\n                DIGITOVER: localize('Over'),\n            },\n            {\n                DIGITUNDER: localize('Under'),\n            },\n        ],\n        HIGHLOWTICKS: [\n            {\n                TICKHIGH: localize('High Tick'),\n            },\n            {\n                TICKLOW: localize('Low Tick'),\n            },\n        ],\n        RESET: [\n            {\n                RESETCALL: localize('Reset Call'),\n            },\n            {\n                RESETPUT: localize('Reset Put'),\n            },\n        ],\n        RUNS: [\n            {\n                RUNHIGH: localize('Only Ups'),\n            },\n            {\n                RUNLOW: localize('Only Downs'),\n            },\n        ],\n        CALLPUTSPREAD: [\n            {\n                CALLSPREAD: localize('Call Spread'),\n            },\n            {\n                PUTSPREAD: localize('Put Spread'),\n            },\n        ],\n    },\n    BARRIER_TYPES: [\n        ['Offset +', '+'],\n        ['Offset -', '-'],\n    ],\n    ohlcFields: [\n        [localize('Open'), 'open'],\n        [localize('High'), 'high'],\n        [localize('Low'), 'low'],\n        [localize('Close'), 'close'],\n        [localize('Open Time'), 'epoch'],\n    ],\n    candleIntervals: [\n        [localize('Default'), 'default'],\n        [localize('1 minute'), '60'],\n        [localize('2 minutes'), '120'],\n        [localize('3 minutes'), '180'],\n        [localize('5 minutes'), '300'],\n        [localize('10 minutes'), '600'],\n        [localize('15 minutes'), '900'],\n        [localize('30 minutes'), '1800'],\n        [localize('1 hour'), '3600'],\n        [localize('2 hours'), '7200'],\n        [localize('4 hours'), '14400'],\n        [localize('8 hours'), '28800'],\n        [localize('1 day'), '86400'],\n    ],\n    mainBlocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    mandatoryMainBlocks: ['trade_definition', 'purchase', 'before_purchase'],\n    procedureDefinitionBlocks: ['procedures_defnoreturn', 'procedures_defreturn'],\n    single_instance_blocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING: {\n        callput: ['callput', 'higherlower'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n    },\n    TRADE_TYPE_CATEGORIES: {\n        multiplier: ['multiplier'],\n        callput: ['callput', 'callputequal', 'higherlower'],\n        touchnotouch: ['touchnotouch'],\n        inout: ['endsinout', 'staysinout'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n        reset: ['reset'],\n        callputspread: ['callputspread'],\n        highlowticks: ['highlowticks'],\n        runs: ['runs'],\n    },\n    TRADE_TYPE_CATEGORY_NAMES: {\n        callput: localize('Up/Down'),\n        touchnotouch: localize('Touch/No Touch'),\n        inout: localize('In/Out'),\n        asian: localize('Asians'),\n        digits: localize('Digits'),\n        reset: localize('Reset Call/Reset Put'),\n        callputspread: localize('Call Spread/Put Spread'),\n        highlowticks: localize('High/Low Ticks'),\n        runs: localize('Only Ups/Only Downs'),\n        multiplier: localize('Multipliers'),\n    },\n    BARRIER_CATEGORIES: {\n        euro_atm: ['callput', 'callputequal'],\n        euro_non_atm: ['endsinout', 'higherlower', 'callputspread'],\n        american: ['staysinout', 'touchnotouch', 'highlowticks', 'runs', 'multiplier'],\n        non_financial: ['digits', 'overunder', 'evenodd', 'matchesdiffers'],\n        asian: ['asians'],\n        reset: ['reset'],\n        lookback: ['lookback'],\n    },\n    DEFAULT_DURATION_DROPDOWN_OPTIONS: [\n        [localize('Ticks'), 't'],\n        [localize('Seconds'), 's'],\n        [localize('Minutes'), 'm'],\n        [localize('Hours'), 'h'],\n        [localize('Days'), 'd'],\n    ],\n    BARRIER_LABELS: [localize('High barrier'), localize('Low barrier')],\n    ABSOLUTE_BARRIER_DROPDOWN_OPTION: [[localize('Absolute'), 'absolute']],\n    NOT_AVAILABLE_DROPDOWN_OPTIONS: [[localize('Not available'), 'na']],\n    NOT_AVAILABLE_DURATIONS: [{ display: localize('Not available'), unit: 'na', min: 0 }],\n    BARRIER_TRADE_TYPES: ['higherlower', 'touchnotouch', 'endsinout', 'staysinout', 'callputspread'],\n    PREDICTION_TRADE_TYPES: ['matchesdiffers', 'overunder', 'highlowticks'],\n    DIGIT_CATEGORIES: ['digits', 'highlowticks'],\n    INDEPEDENT_BLOCKS: ['block_holder', 'tick_analysis', 'loader', 'procedures_defreturn', 'procedures_defnoreturn'],\n    bbResult: [\n        [localize('upper'), '1'],\n        [localize('middle'), '0'],\n        [localize('lower'), '2'],\n    ],\n    macdFields: [\n        [localize('Histogram'), '0'],\n        [localize('MACD'), '1'],\n        [localize('Signal'), '2'],\n    ],\n    gd: {\n        scope: 'https://www.googleapis.com/auth/drive.file',\n        discovery_docs: 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n    },\n    workspaces: {\n        flyoutWorkspacesStartScale: 0.7,\n        mainWorkspaceStartScale: 0.9,\n        previewWorkspaceStartScale: 0.6,\n    },\n    strategies: {\n        martingale: {\n            index: 0,\n            label: localize('Martingale'),\n            description: localize(\n                'The Martingale Strategy is a classic trading technique that has been used for more than a hundred years, popularised by the French mathematician Paul Pierre Levy in the 18th century.'\n            ),\n        },\n        dalembert: {\n            index: 1,\n            label: localize(\"D'Alembert\"),\n            description: localize(\n                'The concept of the DAlembert Strategy is said to be similar to the Martingale Strategy where you will increase your contract size after a loss. With the DAlembert Strategy, you will also decrease your contract size after a successful trade.'\n            ),\n        },\n        oscars_grind: {\n            index: 2,\n            label: localize(\"Oscar's Grind\"),\n            description: localize(\n                \"The Oscar's Grind Strategy is a low-risk positive progression strategy that first appeared in 1965. By using this strategy, the size of your contract will increase after successful trades, but remains unchanged after unsuccessful trades.\"\n            ),\n        },\n    },\n    default_file_name: localize('Untitled Bot'),\n};\n","export const unrecoverable_errors = [\n    'InsufficientBalance',\n    'CustomLimitsReached',\n    'OfferingsValidationError',\n    'InvalidCurrency',\n    'ContractBuyValidationError',\n    'NotDefaultCurrency',\n    'PleaseAuthenticate',\n    'FinancialAssessmentRequired',\n    'PositiveIntegerExpected',\n    'OptionError',\n    'IncorrectPayoutDecimals',\n    'IncorrectStakeDecimals',\n    'NoMFProfessionalClient',\n    'AuthorizationRequired',\n    'InvalidToken',\n    'DailyLossLimitExceeded',\n    'InputValidationFailed',\n    'ClientUnwelcome',\n    'PriceMoved',\n];\n\nexport const message_types = Object.freeze({\n    ERROR: 'error',\n    NOTIFY: 'notify',\n    SUCCESS: 'success',\n});\n\nexport const error_types = Object.freeze({\n    RECOVERABLE_ERRORS: 'recoverable_errors',\n    UNRECOVERABLE_ERRORS: 'unrecoverable_errors',\n});\n\nexport const log_types = Object.freeze({\n    LOAD_BLOCK: 'load_block',\n    PURCHASE: 'purchase',\n    SELL: 'sell',\n    NOT_OFFERED: 'not_offered',\n    PROFIT: 'profit',\n    LOST: 'lost',\n    WELCOME_BACK: 'welcome_back',\n});\n","export const save_types = Object.freeze({\n    UNSAVED: 'unsaved',\n    LOCAL: 'local',\n    GOOGLE_DRIVE: 'google drive',\n});\n","/* eslint import/no-webpack-loader-syntax: 0 */\nconst {\n    goog,\n    Blockly,\n} = require('imports-loader?this=>window!exports-loader?goog&Blockly!scratch-blocks/blockly_compressed_vertical');\n\nBlockly.JavaScript = require('blockly/javascript');\n\nwindow.goog = goog;\nwindow.Blockly = Blockly;\n\nrequire('imports-loader!scratch-blocks/msg/messages');\nrequire('./blocks');\nrequire('./hooks');\n","export const defineContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAMzMzMzMzaARWNQAAAAN0Uk5TAID/7PezGAAAACFJREFUeJxjYEAFUqtWLQFSCgwMHDipplXUF0ShoI5ABgDTPwulgF1l+wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAAAK9JREFUSA3tVUkOgCAMROP/f4PfU4iOaWQKLYmBg71AOksXTAyhGkeKKuECjTSDUwcFxVdNawNgQ10omJNKROqiJbMJsKJZgKgEouuESRYVFVxO35JTnxGDvk9aWQ5GCXfSPbRbsLHysr0lBeMESaKE3hkmbKk230SY9Ulky5rG/SVJU8udPrMU5s7w9bEugUlN886MWiJN86/o2dywFQ17g10b+dlJefH9X0t9X+YETM6gfmoeI+MAAAAASUVORK5CYII=';\n\nexport const blueInfo =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABOUlEQVQ4EaVTu07DQBDcOVuUpEaEUEETiY9IYYnHLyAaGlq+IF9AF9HQIEV8AQjJBR+BlAYqQhA1lCj2smPrEMFrIsQVPt3uzO6sbw7yY/WOXvs6L45FNFNFj2lAp/bNkSYX08u1yXcK4qE/1JX3x9mZCk5ENcT4wg6UED1f3eqeTob4YK4qQPLbw8utdR0sEFoPuOtsr++ySNWJnT1yksh+EnDQrKODmmMKOHM5L+492SwgChSlXjeK2DghTXbS6oe1zFwUcmPKGtwqYBxybQTNPAS7z6424I8QGZqFeFUxFPe6u8jTuGsq/EWuf10+3o2G2iRubmmQXFOAfCmyFYA80J7m1bIV05agK40b6G3a08NtHj7vMe7dBDk11wD/tjI9TW8DMvp1HMo2THwHVPf1Gnng+utz/gS/LY1YxBZd7wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWBJREFUOI2dk81KQmEQhp/5zgHRjhtz0apMXBUSdAcVLWrnxhswsHARSLcRhYm00CvIRbugrCtIaJHtIqlFQUsPBeY50yINM7WfZzV8M+/MOzCfMED8wE2q0Q0VVgSJASjaNEJNoHy7Fb7ur5dekChooGO7ewJZwAw27uIBh6Gok2+kpf3ZIFHQgG+7JwpLI4RfULiYiDprjbS0DYBvu/u/FXenLr88u7sAEj9wk2rp1TDb1VQQXyF9/Dp0HctnwajRjWFiAF9BRxuxOpZmJF5qNRTmfmt/gGujMD0qW00FOUoFxzWYsRnjcnHK+smBGoGHn6rGcG8Qzv6v11MjUObjwr5Rf/K4fByaAvA8IxUBmC21ikDub8Mp3OXC2wYgFHXyCOd/kNcitrMD3QNqpKUdmnTWUYqMWKdnG6UQsZz1elbeoO839kgUW/MdSzOisgrEus9N0FPPSOV+M3zTX/8O8E9xAaZDaSsAAAAASUVORK5CYII=';\n\nexport const purchase =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAIRQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzxeXsBQAAACx0Uk5TAAG7tbYCR//Y2a15rhj7+hmse95G391Iehd4tNIy0bJSsZJykXFRMRLxEbk1pp94AAAA7UlEQVR4nO2R2RaCMAxEi1VHQXBfAUXcQP7//xSOgC2J1Vd1Htq0J7dJOkL89auyWrIM263OG0AXvTLso/sGYMMpQwcDc77reW4VD72REXBg14cxJqZ8a/rc9wxz09j3FOsJX2BpAMZYqQ0axl5rY+rnhjb6i/zYEi8lPwV8okaAkC4eYkve7xDRQIQ9eR/jQAMHHJn7mAZinJjKu2KXUlnyXs8kECIodkBZ8t+4kECClAZSXOleUyQUUD7U1MMIHeBsqIyQvrKwNrBGcDawRnA21EY0OqVtqI3QxNmQ/x8jxgYhMjo/4/L/+mbdAKHBEAKASOAzAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAvlJREFUaAXtmU1u00AUxxPEGoluKMcgJ8gCARsW9CZ0ReEU5BwFiYpWqtgYiQuQFSygJ2CRLV2E39+ZZ42dGc84XxIwT3p9X//34VfbsZPRaGNaQkpGPNu4yGESGfHUOtnYte0b6G8NdABJu7NoG4KXmi1GwUTACwtYomzp5r9ripP3/KB8zj7q4P4t0z9o9PfJowM0NhD6D9NN+sFm1xb05Rjybe171nKkDBLqfw6yt1Oqjjo3F4XArbli1dfmT7YpgOQGWPanLgjfFXyn6x9sU+QMfhdKxL/1OfSAGreh4vIR643H8pQ4hydRQCAAPv9owJ7AF1YH/bKr+z7FsPMbdBP8ZNNNOuwE+6v0bPILpJLAXsAvUrgSLxsoG4hsgAtoDDe3CoPhW7uFW8yXOffzcxK++ElOfxzwDXcxafAmhvscfjO8opdBgSfwjedqVPxaXbB5A0op5P+GH8ZwqXgwj6RtaO1kiDYJBiJOJop+HuScRZGyLfcUq2p5nJHVgAnrQzepXF/HnMIVnEckt84Os02qSkdfYN/Pq75KnpPQPFVYMZOBBq2B/EaxFVWApga0x2WT8vu64UIyq0EoMdfXeuC3JFZxhP7L7ByZe0Q5tQqmbKBsoGygbOCv2wAfHU/1SQp9Sw0P5nuNJCeFPUicYY7hW8fHqaYOr4dR5UQfSFN1dhJnAD1a/4RF2RsFq8d10Q0ce+LYyYy9RWiulw/R615gIEiOvuASpb/IDeRv7aLxq7r9FgOQbwvY7g2s72ho0vurgjuIfYmPfbMNijGhvsoSnQxKHABW7brDcvkhN23IBVS5otPc4hvgrHa1QW5/CpvR26loHkKuQuuvc/L7+BDO4sT0tiZ6ZL6dSgrr/VGkd54WrdzpYUM4FVJNF1u0CieM7g90CfjoM4Dn8BTu3v6u8LW2jZ3rA1rXlKz0Zy/Ehk7dlma7bkDdmav9cte1m3o0mLgmweugAW6gUHfuau/n/LeZaHLtGu1DXFufIssGygb+kw38ARimnBqQbBHiAAAAAElFTkSuQmCC';\n\nexport const sellContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAMZQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzsMQO9wAAAEJ0Uk5TAEnj/xnzWcgSZVrxvQFt9AlD34If9dBpcPij0X7mSLyziAyl7H1k3dYbAu2qn6eA1LGN6G66uPucBP23ERPXJIPGaDxgqAAAAQdJREFUeJztlFlvwjAQhBeP4yQlKVfvg7acvQ+g90H5/3+qViWSjQ2RLfGYebC0q/k2sTw2UaVKG1RNwEGilgFOfk1kAKAXiWDdHwSQSxcDFMJ1QAhlA5FAzDxbdVbEEJEBSCWQpMyz3WjmRZpAKFkAtBKZO1ptoNHJB8jk38KAIIzZ/J1d1PeAffaNOAzMTTMd4DCiIxwXuyXACU5T6p6dOwNd4KJHpkoA6gODoYmUATQaA5dXHgBdqxvcOgN39zqYDxg4A494IppgWgIUD24GPL+84i3vWAdXjMb75EM3Pr+yhh0NM3zf/Z85m2+Hz4r374IVK+JN/hfI64p6PwLez0ylShvQHzxCDnS9VqsZAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAA45JREFUaAXtWDFrFUEQzoU0QhpjFVRs/Cc2Sf6AxD4BQSF/QBFtbPwDYici2ImFIqaVlBEEK7FICBaxCFEQRM/v29vZzO7O3dv3uGCEXdg3M998M7O7d7e37+bmZmpt2y4xEPLITABHazpOC0wLwt5wtVKHDGBeFJEg7og+okTaVY5hUgslSQwGFJhb2tZ6mARI3XQ77x/YbzQR9mlMTpc4u3rDoWEFomXtGe5+0zSXg28oCL69IT8r/kwJYocLF0p1yi2ITwl2YiL6+MTq5iQZiUNvtO24GaAywLc+5FfUqp7tFdCXUeulo0bMMfoy+WY8QdUcMU0O/xfPuZ/6fOJtyZH56chABcC94oMXFWyqOlffs2YFXge4hi3gu05gEU3Mj24ZklvDtkUCfgHdfMiBu+cXMnos3QbGZHDsQVyyEs+CYaYh9yzxNaauQF2BWVaATzL6WG01GwMzE4TgfhSdGzKyAUi8z5HvzEKA5Ez08TOkA34jGInCeDT5H2EX6Di9O+k17+d2nW1kwDjz0JL6Pa85xfKRS5BP0T8oV6aSWwYqFoPQHiqoVyUxc5pgwgLnM3loFxNXZJIQATRMULHgf+5596AfKlemmrkIou2gZxfQJ6b/Lfov9CdZVgDAN9B5fLFnANy9TyH7ijyD72pPch5ZeIu7uynjwOGqQrDI1H+zJJ6Jtb6gK2mH1jVnSFcx+0O86qsrUFegrkBdgboC/9MKZK91vPBG/ac88mLEnxmt5Hxjs2kfTDnHTH3M0HlKdNTioYxtXfM7KB6X9gddiJA8OHHgPESx8UCVXbEQaCjg30bnMf+c4TYh1kCX702szTFwLK6ZQRoUIiSPllwNHjOLBw7uFfQf6GxH6LtO635u6lpDOuicCGtzDO6YCxndGWY8SWymswBE6F2XoG0PIN3EIVfQ36G/KkhhUhDrmunUYDFRByU6cvBsL+0Qyh30iV8QkzSRKcki0DKKiVZwgiHXPDrv4W8+74uEUmz6+Ml3RjGxpzTiP/ocL4UC+5HHvgo2rfTx5ROQAC+5K5hfsNOBgLeAzgH/RtftNYzzKd+yweOuIzuRzlE+AUmMaH6QkK3U/Owi3FQi7gH6+xQfssHnzsPGmu5zDfkOwc9QrPNZRGCyD0/9YWpiwYSAWrJlRlfcGhdDo//dPtca5GMGeFuLxR5cc8bSuQ3rXPwvv6mBqtcVqCtQV+Dfr8BfZ6VurZP8obgAAAAASUVORK5CYII=';\n\nexport const finishSign =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABJQTFRFAAAAMzMzMzMzMzMzMzMzMzMzbxxq5QAAAAZ0Uk5TALX/40m0LpdrJAAAADpJREFUeJxjYBi0QBCXhBJOCTRggktCGVkCQiE4g0ACWRTZwwMrMTjDCl/UYk8MDDjAyJUQxSUx6AAAWjIi1ZSdqFYAAAAASUVORK5CYII=';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAa5JREFUaAXtV1tywzAIdDq5Rg/Ui/SGzYl8j1brzqYYidHDYWw60g/iIWABKc6yGOsG+XdaSr/uFLe0dkZkNC25Wt6U7zq7C05zJMH9FofBd0IymZIKR4qYWAyh95LfbCgAxYLwd/e3h+yJm0YQWiurk2V4cXkzaALO5owKAJV7E7gsr9zzQBaBiirVXaV3KYeTbtDVyNOgUIFU9q+CeFj0bBs9sL/k5fhJnSXHOakbnzxmUKH3kl5m0JK1ZQ/fxQBHncqk3Uskg217mX2mHBC4I3APMAB6HglfgXQPXvqaZgXBRTu4PqTT+M+1+00uPtfW+94rRy/cEbgHKJYIY8pRGykLz/7jEkmIslwt8mSzSrtsbznMDBsF7lM0A1Q74V6iagbTYFZgVsC7Ani7sbzjjPrPPhu1o4skv6YPj3edG/jDAOQXjQxgAe+1p0/rXPhfgvAAih+9bJukVgtfNSq9/plb+A6EB9A8QmePCkdG0/AdCA+geYR068hbo0W9pr326Tz+p35qP+SbAVjPHB2dRcOP0ARw1ugwbvgOtFziR0J72T807MSkswKDFfgBlTxsE+QpCHoAAAAASUVORK5CYII=';\n\nexport const caution = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABsklEQV\nRoQ+1YS07DMBB9VlG2tJuWZVDYU04CN6BHKCfAnACOADcoJyHsiZRtu0m7rYiMItIFldqZ2ONaEc7Wo5d5n7ETK/T8UT3vH5FAaA\ndZDlQ6TbcYPBtgqqBSn00bmFIBeYL6YaTLknoXSaBt/gNQQwpMdt2sE9Q3FAmSwPIxW0CpW9nmmGjGvE+eirtj1TQBnVWnV/+35S\nZOF7q4dCRwZZh6eSmb6K+jIjMc+KcE9pVbajshgjkQCbQTFR2Qyq4Uzv5W520XijMQZ6BVQCq7UjhxBrgfPHGIQw8x1ymqLthJTD\nXGXY8EbLc/rsJUXTAH4i4UeheKDoR2gBpO7rr7EPf9Yqu9WswBdc5VTabObBLUU+erxaaZlU6nBmevAK5lmiNRPhW+Z2Nd5lQl+U\nu5A6h0Otxi8AKoewrUbd28JajnI12uOThsAjuwlc5mBmiICEfKbBQwH+uicZr9dCbgKVLsyHT+IzskhVykukVGjIB7pOwiI07AMl\nLWkfFCoAHlR8otMt4I0JGSiYx3AgciJRaZkxD4Gymgy8HEPgDaQqtzoOtLfNZHAj7V5WD33oEfb0MpQATTN7IAAAAASUVORK5CYI\nI=`;\n\nexport const plusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const plusIconLight =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const minusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC6ElEQVR4Ae2bA6weURCFp7bd4NnaOyeo3Qa1zaiKXpzUbazajJ3UjVXbtm1rGqO6u/sv5uXf74t91nfvHEpISEhISAgO5PAwU4nlvANHcBmP8Z0/8xNcwRHegeWmkochhzRS0hDjsBF3IHb5Nm8yYwoakRZMBVbjA8Sb/I7XooziBbXMGD4I8S8fNGNRi+KgrBnm8hNIAD7EvLJmFCnVeCpeQAL0mZlG1SgauAhHICF4hIsofHgYPkJC8iMPoFCpjsWQcOUloV1KmXV5JyR8eWdmXQqekuZ8DBKNfKykOQVLWTauQyL0elk2BQfa4S4kYu+a9sFdPFchMXilsEUgty5OQmLyVEltShVeAYnR5ZQapg8kZvuRfwpb4FncAfgpWpJfsA2iwG3kD9MRokOnE/mgJi5DlHjZx6IHMyCKnOH5+PNtTQH4FtUkL/AUiDInkxdwWV2AK+Qe0w2iT9NN//M/mPdBeQP+rDLAp/IG5AYzHKJTM1z796dFXkFuwDmIUs+5Wn9B9OpisW96aw5gepMNzIQodqY9wDLVAZaRDd6nOQDvIxs4C3EjBYzLCGfJBt/WHIBv2wO8VB3gpT3AT9UBftgDfFEd4AvZwHPNAfCcbPAtzQH4Vho8RnW/yPaSDSyv6p8SszUH4FlkA/00B3D6ko2CRqoXNA3JDp+B6JTPkAXtt/Hy9PitUt4AnyD65M/lDcgd2KoywBZyC3dVGaBrGvxeV7zBwVO8bjE9UBXgIdUkb/Bs7d9AFlBL0zYr1STvOJ20BDAd03PUgAgt+SkkZp9Zhj20rw5Mnyo98MQrghg5OxFbgBOBTJAWtsAV7UN/Fkx7/WOXFpzMqAdfncxk9Pgvw987IOHLOzLrhtfcWKJ//N6CMxgftBcgLHARHwjl2B/gouhKQFOCLwFFX8Oap7+GZV/0jONDqRXheDxqxV5F5LX8XnkV0f5P24xVXAZ1j5P3Rx33Cz/BFT4aRh03ISEhISHhF9FSCRjypNzcAAAAAElFTkSuQmCC';\n\nexport const lockIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAACxklEQVR4Ae2aA4wdURSGT223Udf7Gizn/ieo2zg1Yqe23aC2jag2Yie7QW3bto2pMfehO53duTPJ+f54+A0vDgmCUPzkJamuWMM32P6Z61iruuYlUfBRqbyQz7EdJ+d4gUqloJJWEVPwlu3EwVuelFaRgge34etsFzHXrdZBu/Zr2HYXrAnMfcithQNsuw8O5NYi82SXxx62/y/YHalApon38OAT9mAjz/6a9diDT3EkVpNZVLeYJ3+V+3Bdxytel/vgVKx1VTcyh1WTn7Ot5QOmxHswrA58l20tzw2+CVjMtpaHVuOEL3wGburbYDGZgevinXYyd6y0f26Vwnc0gXeqHpkAU7TTf428Im2Xx6+192AqGaA0P9Su5EgqIjxIU39ApclvVCP96XfxZy2DC86tVSPyGx6jXf/xrrYeqOmPIb/BNucp5OWQC6wGmsBW8hs+6TiBG+QSre16gvxGe4ULyCUodL5B5Df47DiBDa633+hsOZHfaK/wCtcCK517CLaACIiACIiACOQkYwQK+SnbJZynKMSInGQqTrKr8k58Ztu/4DPvzK5KxUOkAo6x7X9wzMOokf60mglWkncQwSdjAp8QIa/wNLYNZhp5BUdNCuAYeYXfmBTgV94FbLMJpYAIiIAIiIAIiIAIiMB1zFItrJpf0xKz+HqoBPACnamUYzel0BkvQiKAtyqfYmBZeBsKAdWb4oBeYRC4lmDKtDSuBl4AYykBGBt4AQYlIF8FXiBSnRIQqV7SAiKQrygBlhV4gcRFAzwmDJ/RshSPsnwt1D8y1TskTQlGzD0Bb0PTmOOOemOOO+JFyJrTPFs157pc11xzWnpkIiACIiACIiACIiACz40KPJdSA8wwKjCDvKJSTZbbcAp5BytCWPCklZwdDV/JmVb0hx1+F/1hh9eiPw1O4eH+lF1yAQ8v2rMvCIIgCF8Av9j925HZ5hYAAAAASUVORK5CYII=';\n","import { localize } from '@deriv/translations';\nimport { plusIconLight } from '../../images';\n\nBlockly.Blocks.procedures_defnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        this.jsonInit(this.definition());\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(Blockly.Procedures.rename);\n\n        // Render a -icon for adding parameters\n        const fieldImage = new Blockly.FieldImage(plusIconLight, 24, 24, '+', () => this.onAddClick());\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }}', {\n                function_name: '%1',\n                function_params: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function with no return value'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function'),\n            description: localize(\n                'This block creates a function, which is a group of instructions that can be executed at any time. Place other blocks in here to perform any kind of action that you need in your strategy. When all the instructions in a function have been carried out, your bot will continue with the remaining blocks in your strategy. Click the do something field to give it a name of your choice. Click the plus icon to send a value (as a named variable) to your function.'\n            ),\n        };\n    },\n    /**\n     * Sets the block colour and updates this procedure's caller blocks\n     * to reflect the same name on a change.\n     * @param {!Blockly.Events.Abstract} event Change event.\n     * @this Blockly.Block\n     */\n    onchange(event) {\n        const allowedEvents = [Blockly.Events.BLOCK_DELETE, Blockly.Events.BLOCK_CREATE, Blockly.Events.BLOCK_CHANGE];\n        if (!this.workspace || this.workspace.isFlyout || !allowedEvents.includes(event.type)) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            // Sync names between definition- and execution-block\n            if (event.blockId === this.id && event.name === 'NAME') {\n                this.getProcedureCallers().forEach(block => {\n                    block.setFieldValue(event.newValue, 'NAME');\n                });\n            }\n        }\n    },\n    /**\n     * Prompt the user for parameter name\n     * @this Blockly.Block\n     */\n    onAddClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        // Wrap in setTimeout so block doesn't stick to mouse (Blockly.Events.END_DRAG event isn't blocked).\n        setTimeout(() => {\n            const promptMessage = localize('Specify a parameter name:');\n            Blockly.prompt(promptMessage, '', paramName => {\n                if (paramName) {\n                    const variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, paramName, '');\n                    if (variable) {\n                        this.arguments.push(paramName);\n                        this.argument_var_models.push(variable);\n\n                        const paramField = this.getField('PARAMS');\n                        paramField.setText(`${localize('with: ')} ${this.arguments.join(', ')}`);\n\n                        this.getProcedureCallers().forEach(block => {\n                            block.setProcedureParameters(this.arguments);\n                            block.initSvg();\n                            block.render(false);\n                        });\n                    }\n                }\n            });\n        }, 200);\n    },\n    /**\n     * Add or remove the statement block from this function definition.\n     * @param {boolean} hasStatements True if a statement block is needed.\n     * @this Blockly.Block\n     */\n    setStatements(hasStatements) {\n        if (this.hasStatements === hasStatements) {\n            return;\n        }\n\n        if (hasStatements) {\n            this.appendStatementInput('STACK').appendField('');\n            if (this.getInput('RETURN')) {\n                this.moveInputBefore('STACK', 'RETURN');\n            }\n        } else {\n            this.removeInput('STACK', true);\n        }\n\n        this.hasStatements = hasStatements;\n    },\n    /**\n     * Update the display of parameters for this procedure definition block.\n     * @private\n     * @this Blockly.Block\n     */\n    updateParams() {\n        let paramString = '';\n\n        if (this.arguments.length) {\n            paramString = `${localize('with:')} ${this.arguments.join(', ')}`;\n        }\n\n        // The params field is deterministic based on the mutation,\n        // no need to fire a change event.\n        Blockly.Events.disable();\n        try {\n            this.setFieldValue(paramString, 'PARAMS');\n        } finally {\n            Blockly.Events.enable();\n        }\n    },\n    /**\n     * Create XML to represent the argument inputs.\n     * @param {boolean=} optParamIds If true include the IDs of the parameter\n     *     quarks.  Used by Blockly.Procedures.mutateCallers for reconnection.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom(optParamIds) {\n        const container = document.createElement('mutation');\n\n        if (optParamIds) {\n            container.setAttribute('name', this.getFieldValue('NAME'));\n        }\n\n        this.argument_var_models.forEach((arg, i) => {\n            const parameter = document.createElement('arg');\n\n            parameter.setAttribute('name', arg.name);\n            parameter.setAttribute('varid', arg.getId());\n\n            if (optParamIds && this.paramIds) {\n                parameter.setAttribute('paramId', this.paramIds[i]);\n            }\n            container.appendChild(parameter);\n        });\n\n        // Save whether the statement input is visible.\n        if (!this.hasStatements) {\n            container.setAttribute('statements', 'false');\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the argument inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                const var_name = childNode.getAttribute('name');\n                const var_id = childNode.getAttribute('varid') || childNode.getAttribute('varId');\n                const variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, var_id, var_name, '');\n\n                this.arguments.push(var_name);\n\n                if (variable !== null) {\n                    this.argument_var_models.push(variable);\n                } else {\n                    // eslint-disable-next-line no-console\n                    console.log(`Failed to create a variable with name ${var_name}, ignoring.`);\n                }\n            }\n        });\n\n        this.updateParams();\n\n        // Show or hide the statement input.\n        this.setStatements(xmlElement.getAttribute('statements') !== 'false');\n    },\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES NOT have a return value.\n     * @this Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, false];\n    },\n    /**\n     * Return all procedure callers related to this block.\n     * @return {!Array.<Blockly.Block>} List of procedure caller blocks\n     * @this Blockly.Block\n     */\n    getProcedureCallers() {\n        return this.workspace\n            .getAllBlocks(false)\n            .filter(block => block.type === this.callType && block.data === this.id);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<string>} List of variable names.\n     * @this Blockly.Block\n     */\n    getVars() {\n        return this.arguments;\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!Blockly.VariableModel>} List of variable models.\n     * @this Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add custom menu options to this block's context menu.\n     * @param {!Array} options List of menu options to add to.\n     * @this Blockly.Block\n     */\n    customContextMenu(options) {\n        if (this.isInFlyout) {\n            return;\n        }\n        // Add option to create caller.\n        const option = { enabled: true };\n        const name = this.getFieldValue('NAME');\n        option.text = localize('Create \"%1\"').replace('%1', name);\n\n        const xmlMutation = document.createElement('mutation');\n        xmlMutation.setAttribute('name', name);\n\n        this.arguments.forEach(argumentName => {\n            const xmlArg = document.createElement('arg');\n            xmlArg.setAttribute('name', argumentName);\n            xmlMutation.appendChild(xmlArg);\n        });\n\n        const xmlBlock = document.createElement('block');\n        xmlBlock.setAttribute('type', this.callType);\n        xmlBlock.appendChild(xmlMutation);\n        option.callback = Blockly.ContextMenu.callbackFactory(this, xmlBlock);\n        options.push(option);\n\n        // Add options to create getters for each parameter.\n        if (!this.isCollapsed()) {\n            this.argument_var_models.forEach(argumentVarModel => {\n                const getOption = { enabled: true };\n\n                getOption.text = localize('Create \"get %1\"').replace('%1', argumentVarModel.name);\n\n                const xmlField = Blockly.Variables.generateVariableFieldDom(argumentVarModel);\n                const xmlOptionBlock = document.createElement('block');\n\n                xmlOptionBlock.setAttribute('type', 'variables_get');\n                xmlOptionBlock.appendChild(xmlField);\n\n                getOption.callback = Blockly.ContextMenu.callbackFactory(this, xmlOptionBlock);\n                options.push(getOption);\n            });\n        }\n    },\n    callType: 'procedures_callnoreturn',\n};\n\nBlockly.JavaScript.procedures_defnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'STACK');\n\n    if (Blockly.JavaScript.STATEMENT_PREFIX) {\n        const id = block.id.replace(/\\$/g, '$$$$'); // Issue 251.\n\n        branch =\n            Blockly.JavaScript.prefixLines(\n                Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g, `'${id}'`),\n                Blockly.JavaScript.INDENT\n            ) + branch;\n    }\n\n    if (Blockly.JavaScript.INFINITE_LOOP_TRAP) {\n        branch = Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g, `'${block.id}'`) + branch;\n    }\n\n    let returnValue = Blockly.JavaScript.valueToCode(block, 'RETURN', Blockly.JavaScript.ORDER_NONE) || '';\n    if (returnValue) {\n        returnValue = `${Blockly.JavaScript.INDENT}return ${returnValue};\\n`;\n    }\n\n    const args = block.arguments.map(\n        argumentName => Blockly.JavaScript.variableDB_.getName(argumentName, Blockly.Variables.NAME_TYPE) // eslint-disable-line no-underscore-dangle\n    );\n\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.scrub_(\n        block,\n        `\n    function ${functionName}(${args.join(', ')}) {\n        ${branch}\n        ${returnValue}\n    }\\n`\n    );\n\n    // Add % so as not to collide with helper functions in definitions list.\n    // eslint-disable-next-line no-underscore-dangle\n    Blockly.JavaScript.definitions_[`%${functionName}`] = code;\n    return null;\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../../images';\n\nBlockly.Blocks.procedures_defreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        this.jsonInit(this.definition());\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(Blockly.Procedures.rename);\n\n        // Render a -icon for adding parameters\n        const fieldImage = new Blockly.FieldImage(plusIconDark, 24, 24, '+', () => this.onAddClick());\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n        this.moveInputBefore('ADD_ICON', 'RETURN');\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }} {{ dummy }}', {\n                function_name: '%1',\n                function_params: '%2',\n                dummy: '%3',\n            }),\n            message1: 'return %1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'RETURN',\n                    check: null,\n                    align: Blockly.ALIGN_RIGHT,\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function that returns a value'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function that returns a value'),\n            description: localize(\n                'This block is similar to the one above, except that this returns a value. The returned value can be assigned to a variable of your choice.'\n            ),\n        };\n    },\n    onAddClick: Blockly.Blocks.procedures_defnoreturn.onAddClick,\n    onchange: Blockly.Blocks.procedures_defnoreturn.onchange,\n    setStatements: Blockly.Blocks.procedures_defnoreturn.setStatements,\n    updateParams: Blockly.Blocks.procedures_defnoreturn.updateParams,\n    mutationToDom: Blockly.Blocks.procedures_defnoreturn.mutationToDom,\n    domToMutation: Blockly.Blocks.procedures_defnoreturn.domToMutation,\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES have a return value.\n     * @this Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, true];\n    },\n    getProcedureCallers: Blockly.Blocks.procedures_defnoreturn.getProcedureCallers,\n    getVars: Blockly.Blocks.procedures_defnoreturn.getVars,\n    getVarModels: Blockly.Blocks.procedures_defnoreturn.getVarModels,\n    renameVarById: Blockly.Blocks.procedures_defnoreturn.renameVarById,\n    displayRenamedVar: Blockly.Blocks.procedures_defnoreturn.displayRenamedVar,\n    customContextMenu: Blockly.Blocks.procedures_defnoreturn.customContextMenu,\n    callType: 'procedures_callreturn',\n    registerWorkspaceListener: Blockly.Blocks.procedures_defnoreturn.registerWorkspaceListener,\n};\n\nBlockly.JavaScript.procedures_defreturn = Blockly.JavaScript.procedures_defnoreturn;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.procedures_callnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n        this.previousDisabledState = false;\n\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Custom function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    /**\n     * Procedure calls cannot exist without the corresponding procedure\n     * definition.  Enforce this link whenever an event is fired.\n     * @param {!Blockly.Events.Abstract} event Change event.\n     * @this Blockly.Block\n     */\n    onchange(event) {\n        if (!this.workspace || this.workspace.isFlyout) {\n            // Block is deleted or is in a flyout.\n            return;\n        }\n\n        if (!event.recordUndo) {\n            // Events not generated by user. Skip handling.\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.indexOf(this.id) !== -1) {\n            // Look for the case where a procedure call was created (usually through\n            // paste) and there is no matching definition.  In this case, create\n            // an empty definition block with the correct signature.\n            const name = this.getProcedureCall();\n            let def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (\n                def &&\n                (def.type !== this.defType || JSON.stringify(def.arguments) !== JSON.stringify(this.arguments))\n            ) {\n                // The signatures don't match.\n                def = null;\n            }\n\n            if (def) {\n                this.data = def.id;\n                return;\n            }\n\n            Blockly.Events.setGroup(event.group);\n            /**\n             * Create matching definition block.\n             * <xml>\n             *   <block type=\"procedures_defreturn\" x=\"10\" y=\"20\">\n             *     <mutation name=\"test\">\n             *       <arg name=\"x\"></arg>\n             *     </mutation>\n             *     <field name=\"NAME\">test</field>\n             *   </block>\n             * </xml>\n             */\n            const xml = document.createElement('xml');\n            const block = document.createElement('block');\n            block.setAttribute('type', this.defType);\n\n            const xy = this.getRelativeToSurfaceXY();\n            const x = xy.x + Blockly.SNAP_RADIUS * (this.RTL ? -1 : 1);\n            const y = xy.y + Blockly.SNAP_RADIUS * 2;\n\n            block.setAttribute('x', x);\n            block.setAttribute('y', y);\n\n            const mutation = this.mutationToDom();\n\n            block.appendChild(mutation);\n\n            const field = document.createElement('field');\n            field.setAttribute('name', 'NAME');\n            field.appendChild(document.createTextNode(this.getProcedureCall()));\n\n            block.appendChild(field);\n            xml.appendChild(block);\n\n            Blockly.Xml.domToWorkspace(xml, this.workspace);\n            Blockly.Events.setGroup(false);\n\n            const procedure_definition = Blockly.Procedures.getDefinition(name, this.workspace);\n            this.data = procedure_definition.id;\n        } else if (event.type === Blockly.Events.BLOCK_DELETE) {\n            // Look for the case where a procedure definition has been deleted,\n            // leaving this block (a procedure call) orphaned.  In this case, delete\n            // the orphan.\n            const name = this.getProcedureCall();\n            const def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (!def) {\n                Blockly.Events.setGroup(event.group);\n                this.dispose(true, false);\n                Blockly.Events.setGroup(false);\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n            const name = this.getProcedureCall();\n            const def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (def && def.id === event.blockId) {\n                // in most cases the old group should be ''\n                const oldGroup = Blockly.Events.getGroup();\n\n                if (oldGroup) {\n                    // This should only be possible programatically and may indicate a problem\n                    // with event grouping. If you see this message please investigate. If the\n                    // use ends up being valid we may need to reorder events in the undo stack.\n                    // eslint-disable-next-line no-console\n                    console.log('Saw an existing group while responding to a definition change');\n                }\n\n                Blockly.Events.setGroup(event.group);\n\n                if (event.newValue) {\n                    this.previousDisabledState = this.disabled;\n                    this.setDisabled(true);\n                } else {\n                    this.setDisabled(this.previousDisabledState);\n                }\n\n                Blockly.Events.setGroup(oldGroup);\n            }\n        }\n    },\n    /**\n     * Returns the related procedure definition block.\n     * @return {Blockly.Block} Procedure definition block.\n     * @this Blockly.Block\n     */\n    getProcedureDefinition(name) {\n        // Assume that a procedure definition is a top block.\n        return this.workspace.getTopBlocks(false).find(block => {\n            if (block.getProcedureDef) {\n                const tuple = block.getProcedureDef();\n                return tuple && Blockly.Names.equals(tuple[0], name);\n            }\n            return false;\n        });\n    },\n    /**\n     * Returns the name of the procedure this block calls.\n     * @return {string} Procedure name.\n     * @this Blockly.Block\n     */\n    getProcedureCall() {\n        // The NAME field is guaranteed to exist, null will never be returned.\n        return /** @type {string} */ (this.getFieldValue('NAME'));\n    },\n    /**\n     * Notification that a procedure is renaming.\n     * If the name matches this block's procedure, rename it.\n     * @param {string} oldName Previous name of procedure.\n     * @param {string} newName Renamed procedure.\n     * @this Blockly.Block\n     */\n    renameProcedure(oldName, newName) {\n        if (Blockly.Names.equals(oldName, this.getProcedureCall())) {\n            this.setFieldValue(newName, 'NAME');\n        }\n    },\n    /**\n     * Notification that the procedure's parameters have changed.\n     * @param {!Array.<string>} paramNames New param names, e.g. ['x', 'y', 'z'].\n     * @private\n     * @this Blockly.Block\n     */\n    setProcedureParameters(paramNames) {\n        // Rebuild the block's arguments.\n        this.arguments = [].concat(paramNames);\n\n        // And rebuild the argument model list.\n        this.argument_var_models = this.arguments.map(argumentName =>\n            Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, argumentName, '')\n        );\n\n        this.updateShape();\n    },\n    /**\n     * Modify this block to have the correct number of arguments.\n     * @private\n     * @this Blockly.Block\n     */\n    updateShape() {\n        this.arguments.forEach((argumentName, i) => {\n            let field = this.getField(`ARGNAME${i}`);\n            if (field) {\n                // Ensure argument name is up to date.\n                // The argument name field is deterministic based on the mutation,\n                // no need to fire a change event.\n                Blockly.Events.disable();\n                try {\n                    field.setValue(argumentName);\n                } finally {\n                    Blockly.Events.enable();\n                }\n            } else {\n                // Add new input.\n                field = new Blockly.FieldLabel(argumentName);\n                const input = this.appendValueInput(`ARG${i}`).appendField(field, `ARGNAME${i}`);\n                input.init();\n            }\n        });\n\n        // Remove deleted inputs.\n        let i = this.arguments.length;\n        while (this.getInput(`ARG${i}`)) {\n            this.removeInput(`ARG${i}`);\n            i++;\n        }\n\n        // Add 'with:' if there are parameters, remove otherwise.\n        const topRow = this.getInput('TOPROW');\n\n        if (topRow) {\n            if (this.arguments.length) {\n                if (!this.getField('WITH')) {\n                    topRow.appendField(localize('with:'), 'WITH');\n                    topRow.init();\n                }\n            } else if (this.getField('WITH')) {\n                topRow.removeField('WITH');\n            }\n        }\n    },\n    /**\n     * Create XML to represent the (non-editable) name and arguments.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('name', this.getProcedureCall());\n\n        this.arguments.forEach(argumentName => {\n            const parameter = document.createElement('arg');\n            parameter.setAttribute('name', argumentName);\n            container.appendChild(parameter);\n        });\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the (non-editable) name and parameters.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const name = xmlElement.getAttribute('name');\n        this.renameProcedure(this.getProcedureCall(), name);\n\n        const args = [];\n        const paramIds = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                args.push(childNode.getAttribute('name'));\n                paramIds.push(childNode.getAttribute('paramId'));\n            }\n        });\n\n        this.setProcedureParameters(args, paramIds);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!Blockly.VariableModel>} List of variable models.\n     * @this Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add menu option to find the definition block for this call.\n     * @param {!Array} options List of menu options to add to.\n     * @this Blockly.Block\n     */\n    customContextMenu(options) {\n        const name = this.getProcedureCall();\n        const { workspace } = this;\n\n        const option = { enabled: true };\n        option.text = localize('Highlight function definition');\n        option.callback = () => {\n            const def = this.getProcedureDefinition(name);\n            if (def) {\n                workspace.centerOnBlock(def.id);\n                def.select();\n            }\n        };\n\n        options.push(option);\n    },\n    defType: 'procedures_defnoreturn',\n};\n\nBlockly.JavaScript.procedures_callnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n    const args = block.arguments.map(\n        (arg, i) => Blockly.JavaScript.valueToCode(block, `ARG${i}`, Blockly.JavaScript.ORDER_COMMA) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.procedures_callreturn = {\n    init() {\n        this.arguments = [];\n        this.previousDisabledState = false;\n\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Custom function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    onchange: Blockly.Blocks.procedures_callnoreturn.onchange,\n    getProcedureDefinition: Blockly.Blocks.procedures_callnoreturn.getProcedureDefinition,\n    getProcedureCall: Blockly.Blocks.procedures_callnoreturn.getProcedureCall,\n    renameProcedure: Blockly.Blocks.procedures_callnoreturn.renameProcedure,\n    setProcedureParameters: Blockly.Blocks.procedures_callnoreturn.setProcedureParameters,\n    updateShape: Blockly.Blocks.procedures_callnoreturn.updateShape,\n    mutationToDom: Blockly.Blocks.procedures_callnoreturn.mutationToDom,\n    domToMutation: Blockly.Blocks.procedures_callnoreturn.domToMutation,\n    getVarModels: Blockly.Blocks.procedures_callnoreturn.getVarModels,\n    customContextMenu: Blockly.Blocks.procedures_callnoreturn.customContextMenu,\n    defType: 'procedures_defreturn',\n};\n\nBlockly.JavaScript.procedures_callreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n    const args = block.arguments.map(\n        (arg, i) => Blockly.JavaScript.valueToCode(block, `ARG${i}`, Blockly.JavaScript.ORDER_COMMA) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Block for conditionally returning a value from a procedure.\n * @this Blockly.Block\n */\nBlockly.Blocks.procedures_ifreturn = {\n    init() {\n        this.hasReturnValue = true;\n\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} return {{ value }}', { condition: '%1', value: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CONDITION',\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Prematurely returns a value within a function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional return'),\n            description: localize(\n                'This block returns a value when a condition is true. Use this block within either of the function blocks above.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent whether this block has a return value.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('value', Number(this.hasReturnValue));\n        return container;\n    },\n    /**\n     * Parse XML to restore whether this block has a return value.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const value = xmlElement.getAttribute('value');\n        this.hasReturnValue = value === '1';\n\n        if (!this.hasReturnValue) {\n            this.removeInput('VALUE');\n            this.appendDummyInput('VALUE').appendField(localize('return'));\n            this.initSvg();\n            this.render();\n        }\n    },\n    /**\n     * Called whenever anything on the workspace changes.\n     * Add warning if this flow block is not nested inside a loop.\n     * @param {!Blockly.Events.Abstract} e Change event.\n     * @this Blockly.Block\n     */\n    onchange(/* e */) {\n        if (!this.workspace.isDragging || this.workspace.isDragging()) {\n            return; // Don't change state at the start of a drag.\n        }\n\n        let legal = false;\n\n        // Is the block nested in a procedure?\n        let block = this;\n        do {\n            if (this.FUNCTION_TYPES.indexOf(block.type) !== -1) {\n                legal = true;\n                break;\n            }\n            block = block.getSurroundParent();\n        } while (block);\n\n        if (legal) {\n            const rerender = () => {\n                this.initSvg();\n                this.render();\n            };\n\n            // If needed, toggle whether this block has a return value.\n            if (block.type === 'procedures_defnoreturn' && this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendDummyInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = false;\n            } else if (block.type === 'procedures_defreturn' && !this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendValueInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = true;\n            }\n\n            if (!this.isInFlyout) {\n                this.setDisabled(false);\n            }\n        } else if (!this.isInFlyout && !this.getInheritedDisabled()) {\n            this.setDisabled(true);\n        }\n    },\n    /**\n     * List of block types that are functions and thus do not need warnings.\n     * To add a new function type add this to your code:\n     * Blockly.Blocks['procedures_ifreturn'].FUNCTION_TYPES.push('custom_func');\n     */\n    FUNCTION_TYPES: ['procedures_defnoreturn', 'procedures_defreturn'],\n};\n\nBlockly.JavaScript.procedures_ifreturn = block => {\n    const condition = Blockly.JavaScript.valueToCode(block, 'CONDITION', Blockly.JavaScript.ORDER_NONE) || 'false';\n\n    let branch;\n    if (block.hasReturnValue) {\n        const value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_NONE) || 'null';\n        branch = `return ${value};\\n`;\n    } else {\n        branch = 'return;\\n';\n    }\n\n    const code = `\n    if (${condition}) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../../images';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\n\nBlockly.Blocks.lists_create_with = {\n    protected_statements: ['STACK'],\n    allowed_children: ['lists_statement'],\n    init() {\n        const field_image = new Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create list with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('list'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block creates a list with strings and numbers.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create list'),\n            description: localize('This block creates a list with strings and numbers.'),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const statement_block = this.workspace.newBlock('lists_statement');\n            statement_block.required_parent_id = this.id;\n            statement_block.setMovable(false);\n            statement_block.initSvg();\n            statement_block.render();\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(statement_block.previousConnection);\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            // Only allow \"text_statement\" type blocks\n            const blocks_in_stack = this.getBlocksInStatement('STACK');\n            blocks_in_stack.forEach(block => {\n                if (!this.allowed_children.includes(block.type)) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(/* healStack */ false);\n                    });\n                }\n            });\n        }\n    },\n};\n\n// Head's up! This is also the code generation for the \"text_join\" block.\nBlockly.JavaScript.lists_create_with = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = Blockly.JavaScript[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements.join(', ')}];\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../utils';\n\nBlockly.Blocks.lists_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('create list with item {{ input_item }} repeated {{ number }} times', {\n                input_item: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'ITEM',\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Creates a list by repeating a given item'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat an item'),\n            description: localize('Creates a list with a given item repeated for a specific number of times.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            ITEM: emptyTextValidator,\n            NUM: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_repeat = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = Blockly.JavaScript.provideFunction_('listsRepeat', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n            var array = [];\n            for (var i = 0; i < n; i++) {\n                array[i] = value;\n            }\n            return array;\n        }`,\n    ]);\n\n    const element = Blockly.JavaScript.valueToCode(block, 'ITEM', Blockly.JavaScript.ORDER_COMMA) || 'null';\n    const repeat_count = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const code = `${function_name}(${element}, ${repeat_count})`;\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the total number of items in a given list.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Length'),\n            description: localize('This block gives you the total number of items in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_length = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n\n    const code = `${list}.length`;\n    return [code, Blockly.JavaScript.ORDER_MEMBER];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('list {{ input_list }} is empty', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['Array'],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Checks if a given list is empty'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is list empty?'),\n            description: localize(\n                'This block checks if a given list is empty. It returns True if the list is empty, False if otherwise.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_isEmpty = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === list) !== -1;\n\n    const code = isVariable ? `!${list} || !${list}.length` : `!${list}.length`;\n    return [code, Blockly.JavaScript.ORDER_LOGICAL_NOT];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in list {{ input_list }} find {{ first_or_last }} occurence of item {{ input_value }}',\n                {\n                    input_list: '%1',\n                    first_or_last: '%2',\n                    input_value: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the position of an item in a given list.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List item position'),\n            description: localize('This block gives you the position of an item in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            FIND: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_indexOf = block => {\n    const operator = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const item = Blockly.JavaScript.valueToCode(block, 'FIND', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${list}.${operator}(${item})`;\n\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, Blockly.JavaScript.ORDER_ADDITION];\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_getIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('get'), 'GET'],\n            [localize('get and remove'), 'GET_REMOVE'],\n            [localize('remove'), 'REMOVE'],\n        ];\n        this.WHERE_OPTIONS = [\n            ['#', 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n        const modeMenu = new Blockly.FieldDropdown(this.MODE_OPTIONS, value => {\n            const isStatement = value === 'REMOVE';\n            this.updateStatement(isStatement);\n        });\n\n        this.appendValueInput('VALUE').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(modeMenu, 'MODE');\n        this.appendDummyInput('AT');\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setTooltip(\n            'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n        );\n        this.setOutput(true, null);\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get list item'),\n            description: localize(\n                'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isStatement = !this.outputConnection;\n        const isAt = this.getInput('AT').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('statement', isStatement);\n        container.setAttribute('at', isAt);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isStatement = xmlElement.getAttribute('statement') === 'true';\n        this.updateStatement(isStatement);\n\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateStatement(newStatement) {\n        const oldStatement = !this.outputConnection;\n\n        if (newStatement !== oldStatement) {\n            this.unplug(true, true);\n\n            this.setOutput(!newStatement);\n            this.setPreviousStatement(newStatement);\n            this.setNextStatement(newStatement);\n\n            this.initSvg();\n            this.render(false);\n        }\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput('AT').appendField(menu, 'WHERE');\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_getIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'GET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const listOrder = where === 'RANDOM' ? Blockly.JavaScript.ORDER_COMMA : Blockly.JavaScript.ORDER_MEMBER;\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', listOrder) || '[]';\n\n    let code, order;\n\n    if (where === 'FIRST') {\n        if (mode === 'GET') {\n            code = `${list}[0]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.shift()`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.shift();\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'GET') {\n            code = `${list}.slice(-1)[0]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.pop()`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.pop();\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        if (mode === 'GET') {\n            code = `${list}[${at}]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, true);\n        if (mode === 'GET') {\n            code = `${list}.slice(${at})[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('listsGetRandomItem', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n                var x = Math.floor(Math.random() * list.length);\n                if (remove) {\n                    return list.splice(x, 1)[0];\n                } else {\n                    return list[x];\n                }\n            }`,\n        ]);\n\n        code = `${functionName}(${list}, ${mode !== 'GET'})`;\n\n        if (mode === 'GET' || mode === 'GET_REMOVE') {\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${code};\\n`;\n        }\n    }\n\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_setIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('set'), 'SET'],\n            [localize('insert at'), 'INSERT'],\n        ];\n        this.WHERE_OPTIONS = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n\n        this.appendValueInput('LIST').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(new Blockly.FieldDropdown(this.MODE_OPTIONS), 'MODE');\n        this.appendDummyInput('AT');\n        this.appendValueInput('TO').appendField(localize('as'));\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setPreviousStatement(true, null);\n        this.setNextStatement(true, null);\n        this.setTooltip(\n            localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            )\n        );\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Set list item'),\n            description: localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt = this.getInput('AT').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at', isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.moveInputBefore('AT', 'TO');\n        this.getInput('AT').appendField(menu, 'WHERE');\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_setIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'SET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const value = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_ASSIGNMENT) || 'null';\n\n    let list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n\n    const cacheList = () => {\n        if (list.match(/^\\w+$/)) {\n            return '';\n        }\n\n        // eslint-disable-next-line no-underscore-dangle\n        const listVar = Blockly.JavaScript.variableDB_.getDistinctName('tmpList', Blockly.Variables.NAME_TYPE);\n        const code = `var ${listVar} = ${list};\\n`;\n\n        list = listVar;\n        return code;\n    };\n\n    let code;\n\n    if (where === 'FIRST') {\n        if (mode === 'SET') {\n            code = `${list}[0] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.unshift(${value});\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'SET') {\n            code = cacheList();\n            code += `${list}[${list}.length - 1] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.push(${value});\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        if (mode === 'SET') {\n            code = `${list}[${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n        code = cacheList();\n        if (mode === 'SET') {\n            code = `${list}[${list}.length - ${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${list}.length - ${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        code = cacheList();\n\n        // eslint-disable-next-line no-underscore-dangle\n        const xVar = Blockly.JavaScript.variableDB_.getDistinctName('tmpX', Blockly.Variables.NAME_TYPE);\n\n        code += `var ${xVar} = Math.floor(Math.random() * ${list}.length);\\n`;\n\n        if (mode === 'SET') {\n            code += `${list}[${xVar}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code += `${list}.splice(${xVar}, 0, ${value});\\n`;\n        }\n    }\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_getSublist = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('get sub-list from #'), 'FROM_START'],\n            [localize('get sub-list from # from end'), 'FROM_END'],\n            [localize('get sub-list from first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.appendValueInput('LIST').appendField(localize('in list'));\n        this.appendDummyInput('AT1');\n        this.appendDummyInput('AT2');\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setOutput(true, null);\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n        this.setTooltip(\n            localize('This block creates a list of items from an existing list, using specific item positions.')\n        );\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get sub-list'),\n            description: localize(\n                'This block creates a list of items from an existing list, using specific item positions.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, isAt) {\n        this.removeInput(`AT${n}`);\n\n        if (isAt) {\n            this.appendValueInput(`AT${n}`).setCheck('Number');\n        } else {\n            this.appendDummyInput(`AT${n}`);\n        }\n\n        const menu = new Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(n, newAt);\n                this.setFieldValue(value, `WHERE${n}`);\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_getSublist = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = `${list}.slice(0)`;\n    } else if (list.match(/^\\w+$/) || (where1 !== 'FROM_END' && where2 === 'FROM_START')) {\n        if (where1 === 'FROM_START') {\n            at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        } else if (where1 === 'FROM_END') {\n            at1 = Blockly.JavaScript.getAdjusted(block, 'AT1', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n            at1 = `${list}.length - ${at1}`;\n        } else if (where1 === 'FIRST') {\n            at1 = '0';\n        }\n\n        if (where2 === 'FROM_START') {\n            at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 1);\n        } else if (where2 === 'FROM_END') {\n            at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 0, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n            at2 = `${list}.length - ${at2}`;\n        } else if (where2 === 'LAST') {\n            at2 = `${list}.length`;\n        }\n\n        code = `${list}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        at2 = Blockly.JavaScript.getAdjusted(block, 'AT2');\n        const where_pascal_case = {\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n            FIRST: 'First',\n            LAST: 'Last',\n        };\n\n        const getIndex = (list_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${list_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${list_name}.length - 1`;\n            }\n            return `${opt_at}`;\n        };\n\n        const has_at1 = where1 === 'FROM_END' || where1 === 'FROM_START';\n        const has_at2 = where2 === 'FROM_END' || where2 === 'FROM_START';\n\n        // eslint-disable-next-line no-underscore-dangle\n        const function_name = Blockly.JavaScript.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence${has_at1 ? ', at1' : ''}${has_at2 ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end = ${getIndex('sequence', where2, 'at2')} + 1;\n\n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${function_name}(${list}${has_at1 ? `, ${at1}` : ''}${has_at2 ? `, ${at2}` : ''})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_split = {\n    init() {\n        const dropdown = new Blockly.FieldDropdown(\n            [\n                [localize('make list from text'), 'SPLIT'],\n                [localize('make text from list'), 'JOIN'],\n            ],\n            newMode => this.updateType(newMode)\n        );\n\n        this.appendValueInput('INPUT').setCheck('String').appendField(dropdown, 'MODE');\n        this.appendValueInput('DELIM')\n            .setCheck('String')\n            .appendField('', 'SPACE1')\n            .appendField(localize('with delimiter'), 'DELIM_LABEL');\n        this.appendDummyInput().appendField('', 'SPACE2');\n\n        this.setOutput(true, 'Array');\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setTooltip(\n            localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            )\n        );\n    },\n    meta() {\n        return {\n            display_name: localize('Create list from text'),\n            description: localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('mode', this.getFieldValue('MODE'));\n        return container;\n    },\n    domToMutation(xmlElement) {\n        this.updateType(xmlElement.getAttribute('mode'));\n    },\n    updateType(newMode) {\n        const delimInput = this.getInput('DELIM');\n        const spaceField = this.getField('SPACE1');\n\n        if (newMode === 'SPLIT') {\n            this.outputConnection.setCheck('Array');\n            this.getInput('INPUT').setCheck('String');\n\n            // Create extra spacing for OUTPUT_SHAPE_SQUARE (i.e. string shapes)\n            if (!spaceField) {\n                delimInput.insertFieldAt(0, '', 'SPACE1');\n            }\n        } else {\n            this.outputConnection.setCheck('String');\n            this.getInput('INPUT').setCheck(null);\n\n            if (spaceField) {\n                delimInput.removeField('SPACE1');\n            }\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_split = block => {\n    const input = Blockly.JavaScript.valueToCode(block, 'INPUT', Blockly.JavaScript.ORDER_MEMBER);\n    const delimiter = Blockly.JavaScript.valueToCode(block, 'DELIM', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const mode = block.getFieldValue('MODE');\n\n    let code;\n\n    if (mode === 'SPLIT') {\n        code = `${input || \"''\"}.split(${delimiter})`;\n    } else if (mode === 'JOIN') {\n        code = `${input || '[]'}.join(${delimiter})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_sort = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('sort {{ sort_type }} {{ sort_direction }} {{ input_list }}', {\n                sort_type: '%1',\n                sort_direction: '%2',\n                input_list: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('numeric'), 'NUMERIC'],\n                        [localize('alphabetic'), 'TEXT'],\n                    ],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'DIRECTION',\n                    options: [\n                        [localize('ascending'), '1'],\n                        [localize('descending'), '-1'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Sorts the items in a given list'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sort list'),\n            description: localize(\n                'Sorts the items in a given list, by their numeric or alphabetical value, in either ascending or descending order.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_sort = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_FUNCTION_CALL) || '[]';\n    const direction = block.getFieldValue('DIRECTION') === '1' ? 1 : -1;\n    const type = block.getFieldValue('TYPE');\n    // eslint-disable-next-line no-underscore-dangle\n    const getCompareFunctionName = Blockly.JavaScript.provideFunction_('listsGetSortCompare', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n            var compareFuncs = {\n                NUMERIC: function(a, b) {\n                    return parseFloat(a) - parseFloat(b);\n                },\n                TEXT: function(a, b) {\n                    return a.toString() > b.toString() ? 1 : -1;\n                }\n            };\n\n            return function(a, b) {\n                return compareFuncs[type](a, b) * direction; \n            }\n        }`,\n    ]);\n\n    const code = `${list}.sort().slice(0).sort(${getCompareFunctionName}(\"${type}\", ${direction}))`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { minusIconDark } from '../../images';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\n\nBlockly.Blocks.lists_statement = {\n    required_parent_type: 'lists_create_with',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new Blockly.FieldImage(minusIconDark, 25, 25, '', () => this.onIconClick());\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Statement'),\n            description: '',\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            this.unplug(true);\n            this.dispose();\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const surround_parent = this.getSurroundParent();\n\n            if (!surround_parent) {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            } else if (!this.required_parent_id && surround_parent.type === this.required_parent_type) {\n                // Create connection between parent and orphaned child.\n                this.required_parent_id = surround_parent.id;\n            } else if (surround_parent.id !== this.required_parent_id) {\n                // Someone pretending to be this child's parent. Find original parent and reconnect.\n                // Happens when someone tries to connect a statement block and Blockly automagically\n                // reconnects the children to this foreign statement block.\n                const all_blocks = this.workspace.getAllBlocks();\n                const original_parent = all_blocks.find(block => block.id === this.required_parent_id);\n\n                if (original_parent) {\n                    const last_connection = original_parent.getLastConnectionInStatement('STACK');\n\n                    runIrreversibleEvents(() => {\n                        last_connection.connect(this.previousConnection);\n                    });\n                } else {\n                    // Dispose child if it became a child of an illegal parent and original parent\n                    // is nowhere to be found.\n                    runIrreversibleEvents(() => {\n                        this.dispose(/* healStack */ true);\n                    });\n                }\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.lists_statement = block => {\n    const code = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ATOMIC) || 'null';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_repeat_ext = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMES',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (2)'),\n            description: localize(\n                'This block is similar to the block above, except that the number of times it repeats is determined by a given variable.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMES: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_repeat_ext = block => {\n    let repeats;\n    if (block.getField('TIMES')) {\n        repeats = String(Number(block.getFieldValue('TIMES')));\n    } else {\n        repeats = Blockly.JavaScript.valueToCode(block, 'TIMES', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    }\n\n    const branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    let code = '';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const loopVar = Blockly.JavaScript.variableDB_.getDistinctName('count', Blockly.Variables.NAME_TYPE);\n    let endVar = repeats;\n\n    if (!repeats.match(/^\\w+$/) && !Blockly.isNumber(repeats)) {\n        // eslint-disable-next-line no-underscore-dangle\n        endVar = Blockly.JavaScript.variableDB_.getDistinctName('repeat_end', Blockly.Variables.NAME_TYPE);\n        code += `var ${endVar} = ${repeats};\\n`;\n    }\n\n    code += `\n    for (var ${loopVar} = 0; ${loopVar} < ${endVar}; ${loopVar}++) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'controls_repeat',\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'TIMES',\n                    value: 10,\n                    min: 0,\n                    precision: 1,\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (1)'),\n            description: localize(\n                'This block repeats the instructions contained within for a specific number of times.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.controls_repeat = Blockly.JavaScript.controls_repeat_ext;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_whileUntil = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ while_or_until }} {{ boolean }}', { while_or_until: '%1', boolean: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('while'), 'WHILE'],\n                        [localize('until'), 'UNTIL'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                    check: 'Boolean',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block repeats instructions as long as a given condition is true'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat While/Until'),\n            description: localize('This block repeats instructions as long as a given condition is true.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_whileUntil = block => {\n    const branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    const until = block.getFieldValue('MODE') === 'UNTIL';\n    const order = until ? Blockly.JavaScript.ORDER_LOGICAL_NOT : Blockly.JavaScript.ORDER_NONE;\n    let argument0 = Blockly.JavaScript.valueToCode(block, 'BOOL', order) || 'false';\n\n    if (until) {\n        argument0 = `!${argument0}`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const maxLoopVar = Blockly.JavaScript.variableDB_.getDistinctName('maxLoops', Blockly.Variables.NAME_TYPE);\n    // eslint-disable-next-line no-underscore-dangle\n    const currentLoopVar = Blockly.JavaScript.variableDB_.getDistinctName('currentLoop', Blockly.Variables.NAME_TYPE);\n\n    return `\n        var ${maxLoopVar} = 10000;\n        var ${currentLoopVar} = 0;\n\n        while (${argument0}) {\n            if (${currentLoopVar} > ${maxLoopVar}) {\n                throw new Error(\"${localize('Infinite loop detected')}\");\n            } else {\n                ${currentLoopVar}++;\n            }\n            \n            ${branch}\n        }\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_for = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'count with {{ variable }} from {{ start_number }} to {{ end_number }} by {{ step_size }}',\n                {\n                    variable: '%1',\n                    start_number: '%2',\n                    end_number: '%3',\n                    step_size: '%4',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'BY',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block uses the variable i to control the iterations. With each iteration, the value of i is determined by the items in a given list.'\n            ),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (1)'),\n            description: localize(\n                'This block uses the variable i to control the iterations. With each iteration, the value of i is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n            BY: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_for = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'FROM', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    const increment = Blockly.JavaScript.valueToCode(block, 'BY', Blockly.JavaScript.ORDER_ASSIGNMENT) || '1';\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    branch = Blockly.JavaScript.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    if (Blockly.isNumber(argument0) && Blockly.isNumber(argument1) && Blockly.isNumber(increment)) {\n        const up = parseFloat(argument0) <= parseFloat(argument1);\n        const operator = up ? '<=' : '>=';\n        const step = Math.abs(parseFloat(increment));\n\n        const assignment = `${variable0} = ${argument0}`;\n        const condition = `${variable0} ${operator} ${argument1}`;\n        const statement = `${variable0} ${up ? '+=' : '-='} ${step}`;\n\n        code = `\n        for (${assignment}; ${condition}; ${statement}) {\n            ${branch}\n        }\\n`;\n    } else {\n        // Cache non-trivial values to variables to prevent repeated look-ups.\n        let startVar = argument0;\n        if (!argument0.match(/^\\w+$/) && !Blockly.isNumber(argument0)) {\n            // eslint-disable-next-line no-underscore-dangle\n            startVar = Blockly.JavaScript.variableDB_.getDistinctName(\n                `${variable0}_start`,\n                Blockly.Variables.NAME_TYPE\n            );\n            code = `var ${startVar} = ${argument0};\\n`;\n        }\n\n        let endVar = argument1;\n        if (!argument1.match(/^\\w+$/) && !Blockly.isNumber(argument1)) {\n            // eslint-disable-next-line no-underscore-dangle\n            endVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_end`, Blockly.Variables.NAME_TYPE);\n            code += `var ${endVar} = ${argument1};\\n`;\n        }\n\n        // Determine loop direction at start, in case one of the bounds changes during loop execution.\n        // eslint-disable-next-line no-underscore-dangle\n        const incVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_inc`, Blockly.Variables.NAME_TYPE);\n        const incVal = Blockly.isNumber(increment) ? Math.abs(increment) : `Math.abs(${increment})`;\n\n        code += `\n        var ${incVar} = ${incVal};\n        if (${startVar} > ${endVar}) {\n            ${incVar} = -${incVar};\n        }\n        for (\n           ${variable0} = ${startVar}; \n           ${incVar} >= 0 ? ${variable0} <= ${endVar} : ${variable0} >= ${endVar};\n           ${variable0} += ${incVar}\n        ) {\n            ${branch};\n        }\\n`;\n    }\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_forEach = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('for each item {{ variable }} in list {{ input_list }}', {\n                variable: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                    check: 'Array',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Iterates through a given list'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (2)'),\n            description: localize(\n                'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_forEach = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_ASSIGNMENT) || '[]';\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    branch = Blockly.JavaScript.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    // Cache non-trivial values to variables to prevent repeated look-ups.\n    let listVar = argument0;\n    if (!argument0.match(/^\\w+$/)) {\n        // eslint-disable-next-line no-underscore-dangle\n        listVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_list`, Blockly.Variables.NAME_TYPE);\n        code = `var ${listVar} = ${argument0};\\n`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const indexVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_list`, Blockly.Variables.NAME_TYPE);\n\n    code += `\n    for (var ${indexVar} in ${listVar}) {\n        ${variable0} = ${listVar}[${indexVar}];\n        ${branch}\n    }\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_flow_statements = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ break_or_continue }} of loop', { break_or_continue: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'FLOW',\n                    options: [\n                        [localize('break out'), 'BREAK'],\n                        [localize('continue with next iteration'), 'CONTINUE'],\n                    ],\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Break out/continue'),\n            description: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.controls_flow_statements = block => {\n    const keyword = block.getFieldValue('FLOW') === 'BREAK' ? 'break' : 'continue';\n    return `${keyword};\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.variables_get = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'variables_get',\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Gets variable value'),\n            category: Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('User-defined variable'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (event.type === Blockly.Events.VAR_RENAME) {\n            const all_blocks = this.workspace.getAllBlocks();\n            const function_blocks = all_blocks.filter(block => block.category_ === 'custom_functions');\n            const old_param = event.oldName;\n            const new_param = event.newName;\n            function_blocks.forEach(block => {\n                if (block.arguments?.length) {\n                    const param_index = block.arguments.findIndex(item => item === old_param);\n                    if (param_index !== -1) {\n                        block.arguments[param_index] = new_param;\n                        const param_field = block.getField('PARAMS');\n                        if (param_field) {\n                            block.setFieldValue(`${localize('with: ')} ${block.arguments.join(', ')}`, 'PARAMS');\n                        }\n                        const with_field = block.getField('WITH');\n                        if (with_field) {\n                            block.updateShape();\n                        }\n                    }\n                }\n            });\n        }\n    },\n};\n\nBlockly.JavaScript.variables_get = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.variables_set = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'field_variable',\n            message0: localize('set {{ variable }} to {{ value }}', {\n                variable: '%1',\n                value: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sets variable value'),\n            category: Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Set variable'),\n            description: localize('Assigns a given value to a variable'),\n        };\n    },\n};\n\nBlockly.JavaScript.variables_set = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n\n    const code = `${varName} = ${argument0};\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { finishSign } from '../../images';\n\nBlockly.Blocks.after_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: finishSign,\n                    width: 25,\n                    height: 25,\n                    alt: 'F',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('4. Restart trading conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'AFTERPURCHASE_STACK',\n                    check: 'TradeAgain',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Get the last trade information and result, then trade again.'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Restart trading conditions'),\n            description: localize('Here is where you can decide if your bot should continue trading.'),\n        };\n    },\n};\n\nBlockly.JavaScript.after_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'AFTERPURCHASE_STACK');\n    const code = `\n    BinaryBotPrivateAfterPurchase = function BinaryBotPrivateAfterPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n        Bot.isTradeAgain(false);\n        return false;\n    };`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.contract_check_result = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Result is {{ win_or_loss }}', { win_or_loss: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_RESULT',\n                    options: config.lists.CHECK_RESULT,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the result of the last trade matches the selection'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last trade result'),\n            description: localize('You can check the result of the last trade with this block.'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE || event.type === Blockly.Events.END_DRAG) {\n            const top_parent = this.getTopParent();\n\n            if (top_parent) {\n                const is_illegal_root_block = top_parent.isMainBlock() && top_parent.type !== 'after_purchase';\n\n                if (is_illegal_root_block) {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.contract_check_result = block => {\n    const checkWith = block.getFieldValue('CHECK_RESULT');\n\n    const code = `Bot.isResult('${checkWith}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.read_details = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Contract Details: {{ contract_detail }}', { contract_detail: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DETAIL_INDEX',\n                    options: config.lists.DETAILS,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND, // TODO: Investigate why block glitches in square shape.\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Reads a selected property from contract details list'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Contract details'),\n            description: localize('This block gives you information about your last contract.'),\n        };\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nBlockly.JavaScript.read_details = block => {\n    const detailIndex = block.getFieldValue('DETAIL_INDEX');\n\n    const code = `Bot.readDetails(${detailIndex})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_again = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Trade again'),\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            tooltip: localize('These blocks transfer control to the Purchase conditions block.'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade again'),\n            description: localize(\n                'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract.'\n            ),\n            key_words: localize('restart'),\n        };\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nBlockly.JavaScript.trade_again = () => {\n    const code = `\n        Bot.isTradeAgain(true);\\n\n        return true;\\n\n    `;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { purchase } from '../../images';\n\nBlockly.Blocks.before_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: purchase,\n                    width: 25,\n                    height: 25,\n                    alt: 'P',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('2. Purchase conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'BEFOREPURCHASE_STACK',\n                    check: 'Purchase',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Specify contract type and purchase conditions.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase conditions'),\n            description: localize(\n                'This block is mandatory. Only one copy of this block is allowed. You can place the Purchase block (see below) here as well as conditional blocks to define your purchase conditions.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.before_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'BEFOREPURCHASE_STACK');\n\n    const code = `BinaryBotPrivateBeforePurchase = function BinaryBotPrivateBeforePurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { getContractTypeOptions } from '../../../shared';\n\nBlockly.Blocks.purchase = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Purchase {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            previousStatement: null,\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize('This block purchases contract of a specified type.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase'),\n            description: localize(\n                'Use this block to purchase the specific contract you want. You may add multiple Purchase blocks together with conditional blocks to define your purchase conditions. This block can only be used within the Purchase conditions block.'\n            ),\n            key_words: localize('buy'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.populatePurchaseList(event);\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TYPE_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.populatePurchaseList(event);\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.id) {\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_options = purchase_type_list.menuGenerator_; // eslint-disable-line\n\n            if (purchase_options[0][0] === '') {\n                this.populatePurchaseList(event);\n            }\n        }\n    },\n    populatePurchaseList(event) {\n        const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n\n        if (trade_definition_block) {\n            const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n            const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n            const contract_type_block = trade_definition_block.getChildByType('trade_definition_contracttype');\n            const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_type = purchase_type_list.getValue();\n            const contract_type_options = getContractTypeOptions(contract_type, trade_type);\n\n            purchase_type_list.updateOptions(contract_type_options, {\n                default_value: purchase_type,\n                event_group: event.group,\n                should_pretend_empty: true,\n            });\n        }\n    },\n    restricted_parents: ['before_purchase'],\n};\n\nBlockly.JavaScript.purchase = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.purchase('${purchaseList}');\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ask_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ask Price {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the purchase price for the selected trade type.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase price'),\n            description: localize(\n                'This block returns the purchase price for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: Blockly.Blocks.purchase.enforceLimitations,\n};\n\nBlockly.JavaScript.ask_price = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getAskPrice('${purchaseList}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.payout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Payout {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the potential payout for the selected trade type'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Potential payout'),\n            description: localize(\n                'This block returns the potential payout for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: Blockly.Blocks.purchase.enforceLimitations,\n};\n\nBlockly.JavaScript.payout = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getPayout('${purchaseList}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { sellContract } from '../../images';\n\nBlockly.Blocks.during_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: sellContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'S',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('3. Sell conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DURING_PURCHASE_STACK',\n                    check: 'SellAtMarket',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Sell your active contract if needed (optional)'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell conditions'),\n            description: localize(\n                'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.during_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'DURING_PURCHASE_STACK');\n\n    const code = `BinaryBotPrivateDuringPurchase = function BinaryBotPrivateDuringPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sell_at_market = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell at market price'),\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Use this block to sell your contract at the market price.'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell at market price'),\n            description: localize('Use this block to sell your contract at the market price.'),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.sell_at_market = () => 'Bot.sellAtMarket();\\n';\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.check_sell = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell is available'),\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if active contract can be sold before expiration at current market price'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Can contract be sold?'),\n            description: localize(\n                'This block helps you check if your contract can be sold. If your contract can be sold, it returns True. Otherwise, it returns an empty string.'\n            ),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.check_sell = () => {\n    const code = 'Bot.isSellAvailable()';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sell_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell profit/loss'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the profit/loss from selling at market price'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Profit/loss from selling'),\n            description: localize(\n                'This block gives you the potential profit or loss if you decide to sell your contract.'\n            ),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.sell_price = () => {\n    const code = 'Bot.getSellPrice()';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.bb_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bb',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config.bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands (BB)'),\n            description: localize(\n                'BB is a technical analysis indicator thats commonly used by traders. The idea behind BB is that the market price stays within the upper and lower bands for 95% of the time. The bands are the standard deviations of the market price, while the line in the middle is a simple moving average line. If the price reaches either the upper or lower band, theres a possibility of a trend reversal.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const blocksInStatement = this.getBlocksInStatement('STATEMENT');\n            blocksInStatement.forEach(block => {\n                if (!this.required_child_blocks.includes(block.type)) {\n                    Blockly.Events.disable();\n                    block.unplug(false);\n                    Blockly.Events.enable();\n                }\n            });\n        }\n    },\n};\n\nBlockly.JavaScript.bb_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bb(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.bba_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands Array {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bba',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config.bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) list from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands Array (BBA)'),\n            description: localize(\n                'Similar to BB. This block gives you a choice of returning the values of either the lower band, higher band, or the SMA line in the middle.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.bba_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bba(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ema_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'ema',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average (EMA)'),\n            description: localize(\n                'EMA is a type of moving average that places more significance on the most recent data points. Its also known as the exponentially weighted moving average. EMA is different from SMA in that it reacts more significantly to recent price changes.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.ema_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.ema(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.emaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'emaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average Array (EMAA)'),\n            description: localize(\n                'This block is similar to EMA, except that it gives you the entire EMA line based on the input list and the given period.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.emaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.emaa(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.rsi_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsi',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Relative Strength Index (RSI) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index (RSI)'),\n            description: localize(\n                'RSI is a technical analysis tool that helps you identify the market trend. It will give you a value from 0 to 100. An RSI value of 70 and above means that the asset is overbought and the current trend may reverse, while a value of 30 and below means that the asset is oversold.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.rsi_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsi(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.rsia_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsia',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Relative Strength Index (RSI) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index Array (RSIA)'),\n            description: localize(\n                'Similar to RSI, this block gives you a list of values for each entry in the input list.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.rsia_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsia(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sma_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'sma',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average (SMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average (SMA)'),\n            description: localize(\n                'SMA is a frequently used indicator in technical analysis. It calculates the average market price over a specified period, and is usually used to identify market trend direction: up or down. For example, if the SMA is moving upwards, it means the market trend is up. '\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.sma_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.sma(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.smaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'smaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average line from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average Array (SMAA)'),\n            description: localize(\n                'Similar to SMA, this block gives you the entire SMA line containing a list of all values for a given period.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.smaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.smaa(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.macda_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'fast_ema_period', 'slow_ema_period', 'signal_ema_period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to MACD Array {{ dropdown }} {{ dummy }}', {\n                variable: '%1',\n                dropdown: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'macda',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'MACDFIELDS_LIST',\n                    options: config.macdFields,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Moving Average Convergence Divergence (MACD) from a list'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Moving Average Convergence Divergence'),\n            description: localize(\n                'MACD is calculated by subtracting the long-term EMA (26 periods) from the short-term EMA (12 periods). If the short-term EMA is greater or lower than the long-term EMA than theres a possibility of a trend reversal.'\n            ),\n        };\n    },\n\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.macda_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const macd_field = block.getFieldValue('MACDFIELDS_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const fast_ema_period = block.childValueToCode('fast_ema_period', 'FAST_EMA_PERIOD');\n    const slow_ema_period = block.childValueToCode('slow_ema_period', 'SLOW_EMA_PERIOD');\n    const signal_ema_period = block.childValueToCode('signal_ema_period', 'SIGNAL_EMA_PERIOD');\n    const code = `${var_name} = Bot.macda(${input}, { \n        fastEmaPeriod: ${fast_ema_period},\n        slowEmaPeriod: ${slow_ema_period},\n        signalEmaPeriod: ${signal_ema_period},\n    }, ${macd_field});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { runIrreversibleEvents } from '../../../../utils';\n\nBlockly.Blocks.input_list = {\n    init() {\n        this.jsonInit({\n            message0: localize('Input List {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'INPUT_LIST',\n                    check: 'Array',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const setParentId = () => {\n            const surround_parent = this.getSurroundParent();\n            if (surround_parent && !this.required_parent_id && this.allowed_parents.includes(surround_parent.type)) {\n                this.required_parent_id = surround_parent.id;\n            }\n        };\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            setParentId();\n        } else if (event.type === Blockly.Events.END_DRAG) {\n            setParentId();\n\n            const surround_parent = this.getSurroundParent();\n            const has_parent = !!surround_parent;\n            const is_illegal_parent = !has_parent || surround_parent.id !== this.required_parent_id;\n\n            if (!has_parent || is_illegal_parent) {\n                runIrreversibleEvents(() => {\n                    this.unplug(true);\n\n                    // Attempt to re-connect this child to its original parent.\n                    const all_blocks = this.workspace.getAllBlocks();\n                    const parent_block = all_blocks.find(block => block.id === this.required_parent_id);\n\n                    if (parent_block) {\n                        const parent_connection = parent_block.getLastConnectionInStatement('STATEMENT');\n                        parent_connection.connect(this.previousConnection);\n                    } else {\n                        this.dispose();\n                    }\n                });\n            }\n        }\n    },\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            INPUT_LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.input_list = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Period {{ input_period }}', { input_period: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.std_dev_multiplier_up = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Up Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'UPMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            UPMULTIPLIER: null,\n        };\n    },\n};\n\nBlockly.JavaScript.std_dev_multiplier_up = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.std_dev_multiplier_down = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Down Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DOWNMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            DOWNMULTIPLIER: null,\n        };\n    },\n};\n\nBlockly.JavaScript.std_dev_multiplier_down = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.fast_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Fast EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FAST_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            FAST_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.fast_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.slow_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Slow EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SLOW_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SLOW_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.slow_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.signal_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Signal EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SIGNAL_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SIGNAL_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.signal_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.tick = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the last tick'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last tick'),\n            description: localize('This block gives you the value of the last tick.'),\n        };\n    },\n};\n\nBlockly.Blocks.tick_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick String'),\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the latest tick in string format'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick value'),\n            description: localize('Tick value Description'),\n        };\n    },\n    onchange: Blockly.Blocks.tick.onchange,\n};\n\nBlockly.JavaScript.tick = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [`Bot.getLastTick(false, ${type_list.includes(parent?.type)})`, Blockly.JavaScript.ORDER_ATOMIC];\n};\nBlockly.JavaScript.tick_string = () => ['Bot.getLastTick(false, true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ticks = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks list'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of the last 1000 tick values.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick list'),\n            description: localize('This block gives you a list of the last 1000 tick values.'),\n        };\n    },\n};\n\nBlockly.Blocks.ticks_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks String List'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of tick values in string format'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick List String'),\n            description: localize('Tick List String Description'),\n        };\n    },\n    onchange: Blockly.Blocks.ticks.onchange,\n};\n\nBlockly.JavaScript.ticks = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [`Bot.getTicks(${type_list.includes(parent?.type)})`, Blockly.JavaScript.ORDER_ATOMIC];\n};\nBlockly.JavaScript.ticks_string = () => ['Bot.getTicks(true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Candles List'),\n            message1: localize('with interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of candles within a selected time interval.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle list'),\n            description: localize('This block gives you a list of candles within a selected time interval.'),\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n\n    const code = `Bot.getOhlc({ granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.ohlc_values = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Make a List of {{ candle_property }} values in candles list with interval: {{ candle_interval_type }}',\n                {\n                    candle_property: '%1',\n                    candle_interval_type: '%2',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Returns a list of specific values from a candle list according to selected time interval'\n            ),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (1)'),\n            description: localize(\n                'This block gives you the selected candle value from a list of candles within the selected time interval.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc_values = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n\n    const code = `Bot.getOhlc({ field: '${ohlcField}', granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.read_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('In candles list read {{ candle_property }} # from end {{ input_number }}', {\n                candle_property: '%1',\n                input_number: '%2',\n            }),\n            message1: localize('with interval: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Read the selected candle value'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (1)'),\n            description: localize('This block gives you the specified candle value for a selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n};\n\nBlockly.JavaScript.read_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const index = Blockly.JavaScript.valueToCode(block, 'CANDLEINDEX', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ field: '${ohlcField}', index: ${index}, granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.get_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('in candle list get # from end {{ input_number }}', { input_number: '%1' }),\n            message1: localize('with interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Candle',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a specific candle from within the selected time interval.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle'),\n            description: localize('This block gives you a specific candle from within the selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n};\n\nBlockly.JavaScript.get_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const index = Blockly.JavaScript.valueToCode(block, 'CANDLEINDEX', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ index: ${index}, granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.check_direction = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Direction is {{ direction_type }}', { direction_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_DIRECTION',\n                    options: config.lists.CHECK_DIRECTION,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the market direction matches the selection'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Market direction'),\n            description: localize(\n                'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of True or False.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.check_direction = block => {\n    const checkWith = block.getFieldValue('CHECK_DIRECTION');\n\n    const code = `Bot.checkDirection('${checkWith}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.tick_analysis = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('The content of this block is called on every tick'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TICKANALYSIS_STACK',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('You can use this block to analyze the ticks, regardless of your trades'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Run on every tick'),\n            description: localize(\n                'The content of this block is called on every tick. Place this block outside of any root block.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.tick_analysis = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'TICKANALYSIS_STACK') || '';\n    const code = `\n    BinaryBotPrivateTickAnalysisList.push(function BinaryBotPrivateTickAnalysis() {\n        ${stack}\n    });\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.last_digit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Digit'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the last digit of the latest tick'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digit'),\n            description: localize('This block gives you the last digit of the latest tick value.'),\n        };\n    },\n};\n\nBlockly.JavaScript.last_digit = () => ['Bot.getLastDigit()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lastDigitList = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last digits list'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of last digits of 1000 recent tick values'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digits List'),\n            description: localize('This block gives you a list of the last digits of the last 1000 tick values.'),\n        };\n    },\n};\n\nBlockly.JavaScript.lastDigitList = () => ['Bot.getLastDigitList()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.is_candle_black = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Is candle {{ input_candle }} black?', { input_candle: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                    check: 'Candle',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns \"True\" if the given candle is black'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is candle black?'),\n            description: localize(\n                'This block returns True if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n};\n\nBlockly.JavaScript.is_candle_black = block => {\n    const ohlcObj = Blockly.JavaScript.valueToCode(block, 'OHLCOBJ', Blockly.JavaScript.ORDER_ATOMIC) || '{}';\n\n    const code = `Bot.isCandleBlack(${ohlcObj})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.ohlc_values_in_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Make a list of {{ candle_property }} values from candles list {{ candle_list }}', {\n                candle_property: '%1',\n                candle_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCLIST',\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a list of specific values from a given candle list'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (2)'),\n            description: localize('This block gives you the selected candle value from a list of candles.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCLIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc_values_in_list = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST') || 'open';\n    const ohlcList = Blockly.JavaScript.valueToCode(block, 'OHLCLIST', Blockly.JavaScript.ORDER_ATOMIC) || '[]';\n\n    const code = `Bot.candleValues(${ohlcList}, '${ohlcField}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.read_ohlc_obj = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Read {{ candle_property }} value in candle {{ input_candle }}', {\n                candle_property: '%1',\n                input_candle: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected candle value.'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (2)'),\n            description: localize('This block gives you the selected candle value.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n};\n\nBlockly.JavaScript.read_ohlc_obj = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const ohlcObj = Blockly.JavaScript.valueToCode(block, 'OHLCOBJ', Blockly.JavaScript.ORDER_ATOMIC) || '{}';\n\n    const code = `Bot.candleField(${ohlcObj}, '${ohlcField}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.balance = {\n    init() {\n        this.jsonInit(this.definition());\n        const balanceTypeField = this.getField('BALANCE_TYPE');\n        balanceTypeField.setValidator(value => {\n            if (value === 'STR') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUM') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            this.render(false);\n            return undefined;\n        });\n    },\n    definition() {\n        return {\n            message0: localize('Balance: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BALANCE_TYPE',\n                    options: config.lists.BALANCE_TYPE,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns account balance'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Account balance'),\n            description: localize(\n                'This block gives you the balance of your account either as a number or a string of text.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.balance = block => {\n    const balanceType = block.getFieldValue('BALANCE_TYPE');\n\n    const code = `Bot.getBalance('${balanceType}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\n// This block is a remnant of a very old Binary Bot version.\n// needs to be here for backward compatibility.\nBlockly.Blocks.barrier_offset = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BARRIEROFFSET_IN',\n                    options: config.BARRIER_TYPES,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Adds a sign to a number to create a barrier offset. (deprecated)'),\n            category: Blockly.Categories.Miscellaneous,\n        });\n    },\n};\n\nBlockly.JavaScript.barrier_offset = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.block_holder = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: 'Ignore',\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'USELESS_STACK',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Put your blocks in here to prevent them from being removed'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Ignore'),\n            description: localize(\n                'Use this block if you want some instructions to be ignored when your bot runs. Instructions within this block wont be executed.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.block_holder = () => '';\n","import { localize } from '@deriv/translations';\nimport { loadBlocksFromRemote, runIrreversibleEvents } from '../../../../utils';\nimport { observer as globalObserver } from '../../../../../utils/observer';\nimport { log_types } from '../../../../../constants/messages';\n\nBlockly.Blocks.loader = {\n    init() {\n        this.blocks_added_by_me = [];\n        this.current_url = '';\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Load block from URL: {{ input_url }}', { input_url: '%1' }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'URL',\n                    text: 'http://www.example.com/block.xml',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Loads blocks from URL'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Loads from URL'),\n            description: localize(\n                'This block allows you to load blocks from a URL if you have them stored on a remote server, and they will be loaded only when your bot runs.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.current_url = this.getFieldValue('URL');\n            const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n\n            loader_blocks.forEach(loader_block => {\n                if (loader_block.id !== this.id && loader_block.current_url === this.current_url) {\n                    this.setDisabled(true);\n                }\n            });\n\n            if (!this.disabled) {\n                this.loadBlocksFromCurrentUrl();\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.newValue && event.oldValue !== event.newValue) {\n                if (event.newValue === this.current_url) {\n                    this.setDisabled(false);\n                } else if (this.isValidUrl(event.newValue) && !this.isKnownUrl(event.newValue)) {\n                    this.setDisabled(false);\n                    this.loadBlocksFromCurrentUrl();\n                } else {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n    loadBlocksFromCurrentUrl() {\n        this.current_url = this.getFieldValue('URL');\n\n        runIrreversibleEvents(() => {\n            // Remove blocks previously loaded by this block.\n            this.blocks_added_by_me.forEach(block => block.dispose());\n        });\n\n        loadBlocksFromRemote(this)\n            .then(() => {\n                globalObserver.emit('ui.log.success', { log_type: log_types.LOAD_BLOCK });\n            })\n            .catch(error_msg => {\n                globalObserver.emit('ui.log.error', error_msg);\n                this.setDisabled(true);\n            });\n    },\n    isKnownUrl(url) {\n        const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n        return loader_blocks.some(block => block.id !== this.id && block.current_url === url);\n    },\n    isValidUrl(url) {\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        return String(url).match(url_pattern);\n    },\n};\n\nBlockly.JavaScript.loader = () => {};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.notify = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Notify {{ notification_type }} with sound: {{ notification_sound }} {{ input_message }}',\n                {\n                    notification_type: '%1',\n                    notification_sound: '%2',\n                    input_message: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_TYPE',\n                    options: config.lists.NOTIFICATION_TYPE,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_SOUND',\n                    options: config.lists.NOTIFICATION_SOUND,\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a notification and optionally play selected sound'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Notify'),\n            description: localize(\n                'This block displays a message. You can specify the color of the message and choose from 6 different sound options.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.notify = block => {\n    const notificationType = block.getFieldValue('NOTIFICATION_TYPE');\n    const sound = block.getFieldValue('NOTIFICATION_SOUND');\n    const message_block = block.getInputTargetBlock('MESSAGE');\n    let variable_name = null;\n\n    if (message_block.type === 'variables_get') {\n        const variable_id = message_block.getFieldValue('VAR');\n        variable_name = Blockly.derivWorkspace.getVariableById(variable_id).name;\n    }\n\n    const message =\n        Blockly.JavaScript.valueToCode(block, 'MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) ||\n        `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.notify({ className: 'journal__text--${notificationType}', message: ${message}, sound: '${sound}', block_id: '${block.id}', variable_name: '${variable_name}' });\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.notify_telegram = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Notify Telegram {{ dummy }} Access Token: {{ input_access_token }} Chat ID: {{ input_chat_id }} Message: {{ input_message }}',\n                {\n                    dummy: '%1',\n                    input_access_token: '%2',\n                    input_chat_id: '%3',\n                    input_message: '%4',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_ACCESS_TOKEN',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_CHAT_ID',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_MESSAGE',\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sends a message to Telegram'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Notify Telegram'),\n            description: localize('This block sends a message to a Telegram channel.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TELEGRAM_ACCESS_TOKEN: emptyTextValidator,\n            TELEGRAM_CHAT_ID: emptyTextValidator,\n            TELEGRAM_MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.notify_telegram = block => {\n    const access_token =\n        Blockly.JavaScript.valueToCode(block, 'TELEGRAM_ACCESS_TOKEN', Blockly.JavaScript.ORDER_ATOMIC) || '';\n    const chat_id = Blockly.JavaScript.valueToCode(block, 'TELEGRAM_CHAT_ID', Blockly.JavaScript.ORDER_ATOMIC) || '';\n    const message = Blockly.JavaScript.valueToCode(block, 'TELEGRAM_MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) || '';\n\n    if (!access_token || !chat_id || !message) {\n        return '';\n    }\n\n    const code = `Bot.notifyTelegram(${access_token}, ${chat_id}, ${message});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.total_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total profit/loss'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit/loss'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total profit/loss'),\n            description: localize(\n                'This block gives you the total profit/loss of your trading strategy since your bot started running. You can reset this by clicking Clear stats on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (\n            event.type === Blockly.Events.END_DRAG ||\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id))\n        ) {\n            const input_statement = this.getRootInputTargetBlock();\n\n            if (input_statement === 'INITIALIZATION') {\n                this.unplug(true);\n            }\n        }\n    },\n};\n\nBlockly.Blocks.total_profit_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total Profit String'),\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit in string format'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total Profit String'),\n            description: localize('Total Profit String Description'),\n        };\n    },\n    onchange: Blockly.Blocks.total_profit.onchange,\n};\n\nBlockly.JavaScript.total_profit = () => ['Bot.getTotalProfit(false)', Blockly.JavaScript.ORDER_ATOMIC];\nBlockly.JavaScript.total_profit_string = () => ['Bot.getTotalProfit(true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.total_runs = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Number of runs'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of runs'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Number of runs'),\n            description: localize(\n                'This block gives you the total number of times your bot has run. You can reset this by clicking Clear stats on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.total_profit.onchange,\n};\n\nBlockly.JavaScript.total_runs = () => ['Bot.getTotalRuns()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.useless_block = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('Conversion Helper Block'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('This block was required to correctly convert your old strategy.'),\n            category: Blockly.Categories.Miscellaneous,\n            nextStatement: null,\n            previousStatement: null,\n        });\n    },\n};\n\nBlockly.JavaScript.useless_block = () => {};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.console = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Console {{ message_type }} value: {{ input_message }}', {\n                message_type: '%1',\n                input_message: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSOLE_TYPE',\n                    options: [\n                        [localize('Log'), 'log'],\n                        [localize('Warn'), 'warn'],\n                        [localize('Error'), 'error'],\n                        [localize('Table'), 'table'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Display messages in the developers console.'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Console'),\n            description: localize(\n                \"This block displays messages in the developer's console with an input that can be either a string of text, a number, boolean, or an array of data.\"\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.console = block => {\n    const console_type = block.getFieldValue('CONSOLE_TYPE') || 'log';\n    const message =\n        Blockly.JavaScript.valueToCode(block, 'MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) ||\n        `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.console({ type: '${console_type}', message: ${message}});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.epoch = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Seconds Since Epoch'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of seconds since January 1st, 1970'),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Second Since Epoch'),\n            description: localize('This block returns the number of seconds since January 1st, 1970.'),\n        };\n    },\n};\n\nBlockly.JavaScript.epoch = () => ['Bot.getTime()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.timeout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ dummy }} {{ stack_input }} Run after {{ number }} second(s)', {\n                dummy: '%1',\n                stack_input: '%2',\n                number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TIMEOUTSTACK',\n                },\n                {\n                    type: 'input_value',\n                    name: 'SECONDS',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Run the blocks inside after a given number of seconds'),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Delayed run'),\n            description: localize(\n                'This block delays execution for a given number of seconds. You can place any blocks within this block. The execution of other blocks in your strategy will be paused until the instructions in this block are carried out.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            SECONDS: null,\n        };\n    },\n};\n\nBlockly.JavaScript.timeout = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'TIMEOUTSTACK');\n    const seconds = Blockly.JavaScript.valueToCode(block, 'SECONDS', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `sleep(${seconds});\\n${stack}\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.todatetime = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To date/time {{ input_timestamp }} {{ dummy }}', {\n                input_timestamp: '%1',\n                dummy: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMESTAMP',\n                    check: 'Number',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to date/time'),\n            description: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMESTAMP: null,\n        };\n    },\n};\n\nBlockly.JavaScript.todatetime = block => {\n    const timestamp = Blockly.JavaScript.valueToCode(block, 'TIMESTAMP', Blockly.JavaScript.ORDER_ATOMIC);\n    const invalid_timestamp = `${localize('Invalid timestamp')}:`;\n\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = Blockly.JavaScript.provideFunction_('timestampToDateString', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(timestamp) {\n            var datetime = new Date(timestamp * 1000);\n\n            if (!datetime.getTime()) {\n                return \"${invalid_timestamp} \" + timestamp;\n            }\n\n            var getTwoDigitValue = function(input) {\n                return input < 10 ? '0' + input : input;\n            }\n\n            var year    = datetime.getFullYear();\n            var month   = getTwoDigitValue(datetime.getMonth() + 1);\n            var day     = getTwoDigitValue(datetime.getDate());\n            var hours   = getTwoDigitValue(datetime.getHours());\n            var minutes = getTwoDigitValue(datetime.getMinutes());\n            var seconds = getTwoDigitValue(datetime.getSeconds());\n\n            var formatGmtOffset = function() {\n                var gmt_offset_raw = datetime.getTimezoneOffset();\n                var sign           = gmt_offset_raw > 0 ? '-' : '+';\n                var gmt_offset     = Math.abs(gmt_offset_raw);\n                var hour           = Math.floor(gmt_offset / 60);\n                var minute         = gmt_offset - hour * 60;\n\n                return 'GMT' + sign + getTwoDigitValue(hour) + getTwoDigitValue(minute);\n            }\n\n            var date_string = year + '-' + month + '-' + day;\n            var time_string = hours + ':' + minutes + ':' + seconds;\n\n            return date_string + ' ' + time_string + ' ' + formatGmtOffset();\n        }`,\n    ]);\n\n    const code = `${function_name}(${timestamp})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.totimestamp = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To timestamp {{ input_datetime }} {{ dummy }}', { input_datetime: '%1', dummy: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DATETIME',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Converts a string representing a date/time string into seconds since Epoch. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825. Time and time zone offset are optional.'\n            ),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to timestamp'),\n            description: localize(\n                'This block converts a string of text that represents the date and time into seconds since the Unix Epoch (1 January 1970). The time and time zone offset are optional. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DATETIME: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.totimestamp = block => {\n    const datetime_string = Blockly.JavaScript.valueToCode(block, 'DATETIME', Blockly.JavaScript.ORDER_ATOMIC);\n    const code = `Bot.dateTimeStringToTimestamp(${datetime_string})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { defineContract } from '../../images';\nimport DBotStore from '../../../dbot-store';\nimport { runIrreversibleEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.trade_definition = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            message2: '%1 %2 %3',\n            message3: '%1',\n            message4: '%1 %2 %3',\n            message5: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: defineContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'T',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('1. Trade parameters'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'TRADE_OPTIONS',\n                },\n            ],\n            args2: [\n                {\n                    type: 'field_image',\n                    src: '', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Run once at start:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'INITIALIZATION',\n                    check: null,\n                },\n            ],\n            args4: [\n                {\n                    type: 'field_image',\n                    src: '', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Trade options:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args5: [\n                {\n                    type: 'input_statement',\n                    name: 'SUBMARKET',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Here is where you define the parameters of your contract.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade parameters'),\n            description: localize('Here is where you define the parameters of your contract.'),\n            key_words: localize('market, trade type, contract type'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.workspace.isDragging() || this.isInFlyout) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE || event.type === Blockly.Events.END_DRAG) {\n            // Enforce only trade_definition_<type> blocks in TRADE_OPTIONS statement.\n            const blocks_in_trade_options = this.getBlocksInStatement('TRADE_OPTIONS');\n\n            if (blocks_in_trade_options.length > 0) {\n                blocks_in_trade_options.forEach(block => {\n                    if (!/^trade_definition_.+$/.test(block.type)) {\n                        runIrreversibleEvents(() => {\n                            block.unplug(true);\n                        });\n                    }\n                });\n            } else {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.trade_definition = block => {\n    const { client } = DBotStore.instance;\n\n    if (!client || !client.is_logged_in) {\n        throw new Error('Please login');\n    }\n\n    const { loginid } = client;\n    const account = client.getToken(loginid);\n    const market_block = block.getChildByType('trade_definition_market');\n    const trade_type_block = block.getChildByType('trade_definition_tradetype');\n    const contract_type_block = block.getChildByType('trade_definition_contracttype');\n    const candle_interval_block = block.getChildByType('trade_definition_candleinterval');\n    const restart_on_error_block = block.getChildByType('trade_definition_restartonerror');\n    const restart_on_buy_sell_block = block.getChildByType('trade_definition_restartbuysell');\n\n    const symbol = market_block.getFieldValue('SYMBOL_LIST');\n    const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n    const candle_interval = candle_interval_block.getFieldValue('CANDLEINTERVAL_LIST');\n    const should_restart_on_error = restart_on_error_block.getFieldValue('RESTARTONERROR') !== 'FALSE';\n    const should_restart_on_buy_sell = restart_on_buy_sell_block.getFieldValue('TIME_MACHINE_ENABLED') !== 'FALSE';\n\n    const { opposites } = config;\n    const contract_type_list =\n        contract_type === 'both'\n            ? opposites[trade_type.toUpperCase()].map(opposite => Object.keys(opposite)[0])\n            : [contract_type];\n\n    const initialization = Blockly.JavaScript.statementToCode(block, 'INITIALIZATION');\n    const trade_options_statement = Blockly.JavaScript.statementToCode(block, 'SUBMARKET');\n\n    const code = `  \n    BinaryBotPrivateInit = function BinaryBotPrivateInit() {\n        Bot.init('${account}', {\n          symbol              : '${symbol}',\n          contractTypes       : ${JSON.stringify(contract_type_list)},\n          candleInterval      : '${candle_interval || 'FALSE'}',\n          shouldRestartOnError: ${should_restart_on_error},\n          timeMachineEnabled  : ${should_restart_on_buy_sell},\n        });\n        ${initialization.trim()}\n    };\n      BinaryBotPrivateStart = function BinaryBotPrivateStart() {\n        BinaryBotPrivateHasCalledTradeOptions = false;\n        Bot.highlightBlock('${block.id}');\n        ${trade_options_statement.trim()}\n      };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { runIrreversibleEvents } from '../../../utils';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\n/* eslint-disable */\nBlockly.Blocks.trade_definition_market = {\n    init() {\n        this.jsonInit({\n            message0: localize('Market: {{ input_market }} > {{ input_submarket }} > {{ input_symbol }}', {\n                input_market: '%1',\n                input_submarket: '%2',\n                input_symbol: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SUBMARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SYMBOL_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        const allowed_events = ['BLOCK_CREATE', 'BLOCK_CHANGE', 'END_DRAG'];\n        const is_allowed_event =\n            allowed_events.findIndex(event_name => event.type === Blockly.Events[event_name]) !== -1;\n\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging() || !is_allowed_event) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const { active_symbols } = ApiHelpers.instance;\n        const market_dropdown = this.getField('MARKET_LIST');\n        const submarket_dropdown = this.getField('SUBMARKET_LIST');\n        const symbol_dropdown = this.getField('SYMBOL_LIST');\n        const market = market_dropdown.getValue();\n        const submarket = submarket_dropdown.getValue();\n        const symbol = symbol_dropdown.getValue();\n\n        // Temporary solution to remove Crytocurrencies from\n        // market options until multipliers are available for DBot\n        const market_options = active_symbols\n            .getMarketDropdownOptions()\n            .filter(option => option[1] !== 'cryptocurrency');\n\n        const populateMarketDropdown = () => {\n            market_dropdown.updateOptions(market_options, {\n                default_value: market,\n                should_pretend_empty: true,\n                event_group: event.group,\n            });\n        };\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            populateMarketDropdown();\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.name === 'MARKET_LIST') {\n                submarket_dropdown.updateOptions(active_symbols.getSubmarketDropdownOptions(market), {\n                    default_value: submarket,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            } else if (event.name === 'SUBMARKET_LIST') {\n                symbol_dropdown.updateOptions(active_symbols.getSymbolDropdownOptions(submarket), {\n                    default_value: symbol,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.getRootBlock().id) {\n            if (market_dropdown.isEmpty() || submarket_dropdown.isEmpty() || symbol_dropdown.isEmpty()) {\n                populateMarketDropdown();\n            }\n        }\n    },\n    enforceLimitations() {\n        runIrreversibleEvents(() => {\n            if (!this.isDescendantOf('trade_definition')) {\n                this.unplug(false); // Unplug without reconnecting siblings\n\n                const top_blocks = this.workspace.getTopBlocks();\n                const trade_definition_block = top_blocks.find(block => block.type === 'trade_definition');\n\n                // Reconnect self to trade definition block.\n                if (trade_definition_block) {\n                    const connection = trade_definition_block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    connection.connect(this.previousConnection);\n                } else {\n                    this.dispose();\n                }\n            }\n            // These blocks cannot be disabled.\n            else if (this.disabled) {\n                this.setDisabled(false);\n            }\n        });\n    },\n};\n\nBlockly.JavaScript.trade_definition_market = () => {};\n","import { localize } from '@deriv/translations';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_tradetype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Trade Type: {{ trade_type_category }} > {{ trade_type }}', {\n                trade_type_category: '%1',\n                trade_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPECAT_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPECAT_LIST') {\n                const { contracts_for } = ApiHelpers.instance;\n                const top_parent_block = this.getTopParent();\n                const market_block = top_parent_block.getChildByType('trade_definition_market');\n                const market = market_block.getFieldValue('MARKET_LIST');\n                const submarket = market_block.getFieldValue('SUBMARKET_LIST');\n                const symbol = market_block.getFieldValue('SYMBOL_LIST');\n                const trade_type_cat = this.getFieldValue('TRADETYPECAT_LIST');\n                const trade_type = this.getFieldValue('TRADETYPE_LIST');\n\n                if (event.name === 'SYMBOL_LIST') {\n                    contracts_for.getTradeTypeCategories(market, submarket, symbol).then(categories => {\n                        const trade_type_cat_field = this.getField('TRADETYPECAT_LIST');\n\n                        if (trade_type_cat_field) {\n                            trade_type_cat_field.updateOptions(categories, {\n                                default_value: trade_type_cat,\n                                should_pretend_empty: true,\n                                event_group: event.group,\n                            });\n                        }\n                    });\n                } else if (event.name === 'TRADETYPECAT_LIST' && event.blockId === this.id) {\n                    contracts_for.getTradeTypes(market, submarket, symbol, trade_type_cat).then(trade_types => {\n                        const trade_type_field = this.getField('TRADETYPE_LIST');\n\n                        trade_type_field.updateOptions(trade_types, {\n                            default_value: trade_type,\n                            should_pretend_empty: true,\n                            event_group: event.group,\n                        });\n                    });\n                }\n            }\n        }\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\n\nBlockly.JavaScript.trade_definition_tradetype = () => {};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\nimport { getContractTypeOptions } from '../../../shared';\n\nBlockly.Blocks.trade_definition_contracttype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Contract Type: {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize(\n                'If the contract type is Both, then the Purchase Conditions should include both Rise and Fall using the Conditional Block\"'\n            ),\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TRADETYPE_LIST') {\n                const trade_type = event.newValue;\n                const contract_type_list = this.getField('TYPE_LIST');\n                const contract_type_options = [];\n\n                const trade_types = getContractTypeOptions('both', trade_type);\n\n                if (trade_types.length > 1) {\n                    contract_type_options.push([localize('Both'), 'both']);\n                }\n\n                contract_type_options.push(...trade_types);\n\n                if (contract_type_options.length === 0) {\n                    contract_type_options.push(...config.NOT_AVAILABLE_DROPDOWN_OPTIONS);\n                }\n\n                contract_type_list.updateOptions(contract_type_options, {\n                    event_group: event.group,\n                    default_value: is_load_event ? contract_type_list.getValue() : undefined,\n                });\n            }\n        }\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nBlockly.JavaScript.trade_definition_contracttype = () => '';\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.trade_definition_candleinterval = {\n    init() {\n        this.jsonInit({\n            message0: localize('Default Candle Interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals.slice(1),\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nBlockly.JavaScript.trade_definition_candleinterval = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_definition_restartbuysell = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart buy/sell on error (disable for better performance): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_image_checkbox',\n                    name: 'TIME_MACHINE_ENABLED',\n                    checked: false,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['TIME_MACHINE_ENABLED'],\n};\nBlockly.JavaScript.trade_definition_restartbuysell = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_definition_restartonerror = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart last trade on error (bot ignores the unsuccessful trade): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_image_checkbox',\n                    name: 'RESTARTONERROR',\n                    checked: true,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setNextStatement(false);\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['RESTARTONERROR'],\n};\nBlockly.JavaScript.trade_definition_restartonerror = () => {};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode, getDecimalPlaces } from '@deriv/shared';\nimport DBotStore from '../../../dbot-store';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_tradeoptions = {\n    durations: [],\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        const is_stake = this.type === 'trade_definition_tradeoptions';\n\n        return {\n            message0: localize('Duration: {{ duration_unit }} {{ duration_value }}', {\n                duration_unit: '%1',\n                duration_value: '%2',\n            }),\n            message1: `${is_stake ? localize('Stake') : localize('Payout')}: %1 %2 %3`,\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DURATIONTYPE_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'input_value',\n                    name: 'DURATION',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as duration and stake.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade options'),\n            description: localize(\n                'Define your trade options such as duration and stake. Some options are only applicable for certain trade types.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (event.type === 'change') {\n            const selected_block = this.workspace.getBlockById(event.blockId);\n            selected_block?.parentBlock_?.inputList\n                .filter(item => ['DURATION', 'AMOUNT'].includes(item.name))\n                .forEach(input => {\n                    const input_target = input.connection.targetBlock();\n                    const value = input_target.getFieldValue('NUM');\n                    if (value?.startsWith('0')) {\n                        const new_value = value.includes('.') ? parseFloat(`${value}`) : parseInt(`${value}`);\n                        input_target.setFieldValue(new_value.toString(), 'NUM');\n                    }\n                });\n        }\n\n        if (!this.workspace || this.workspace.isDragging() || this.isInFlyout) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_duration = this.getFieldValue('DURATIONTYPE_LIST');\n        this.selected_barrier_types = [\n            this.getFieldValue('BARRIEROFFSETTYPE_LIST') || config.BARRIER_TYPES[0][1],\n            this.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST') || config.BARRIER_TYPES[1][1],\n        ];\n\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n            this.updateAmountLimits();\n        }\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateBarrierInputs(false, false);\n                this.updateDurationInput(false, false);\n                this.updatePredictionInput(false);\n                this.updateAmountLimits();\n            } else {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateBarrierInputs(false, false);\n                    this.enforceSingleBarrierType(false);\n                    this.updateDurationInput(false, false);\n                    this.updatePredictionInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'DURATIONTYPE_LIST': {\n                        this.updateBarrierInputs(true, true);\n                        this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                        this.updateDurationInput(false, true);\n                        break;\n                    }\n                    case 'BARRIEROFFSETTYPE_LIST':\n                    case 'SECONDBARRIEROFFSETTYPE_LIST': {\n                        this.updateBarrierInputs(false, true);\n                        this.enforceSingleBarrierType(event.name, false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType(true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n                this.updateAmountLimits();\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.id) {\n            // Ensure this block is populated after initial drag from flyout.\n            if (!this.selected_duration) {\n                const fake_creation_event = new Blockly.Events.Create(this);\n                fake_creation_event.recordUndo = false;\n                Blockly.Events.fire(fake_creation_event);\n            } else if (this.selected_trade_type === 'multiplier') {\n                this.updateDurationInput(false, false);\n            }\n        }\n    },\n    createPredictionInput(prediction_range) {\n        runIrreversibleEvents(() => {\n            if (prediction_range.length === 0) {\n                this.removeInput('PREDICTION_LABEL', true);\n                this.removeInput('PREDICTION', true);\n            } else if (!this.getInput('PREDICTION')) {\n                this.appendDummyInput('PREDICTION_LABEL').appendField(localize('Prediction:'));\n\n                const prediction_input = this.appendValueInput('PREDICTION');\n                const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                shadow_block.setShadow(true);\n                shadow_block.setFieldValue(prediction_range[0], 'NUM');\n                shadow_block.outputConnection.connect(prediction_input.connection);\n                shadow_block.initSvg();\n                shadow_block.render(true);\n            }\n        });\n    },\n    createBarrierInputs(barriers) {\n        runIrreversibleEvents(() => {\n            const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n            for (let i = 0; i < barriers.values.length; i++) {\n                const label = barriers.values.length === 1 ? localize('Barrier') : config.BARRIER_LABELS[i];\n                let input = this.getInput(input_names[i]);\n\n                if (input) {\n                    input.fieldRow[0].setText(label);\n                } else {\n                    input = this.appendValueInput(input_names[i])\n                        .appendField(label, `${input_names[i]}_LABEL`)\n                        .appendField(new Blockly.FieldDropdown(config.BARRIER_TYPES), `${input_names[i]}TYPE_LIST`);\n\n                    const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                    shadow_block.setShadow(true);\n                    shadow_block.setFieldValue(barriers.values[i], 'NUM');\n                    shadow_block.outputConnection.connect(input.connection);\n                    shadow_block.initSvg();\n                    shadow_block.render(true);\n                }\n            }\n\n            // Remove any extra inputs (quietly) if not required\n            for (let i = input_names.length; i > barriers.values.length; i--) {\n                this.removeInput(input_names[i - 1], true);\n            }\n        });\n    },\n    updateAmountLimits() {\n        const { account_limits } = ApiHelpers.instance;\n        const { currency, landing_company_shortcode } = DBotStore.instance.client;\n        account_limits.getStakePayoutLimits(currency, landing_company_shortcode, this.selected_market).then(limits => {\n            if (!this.getField('AMOUNT_LIMITS')) {\n                return;\n            }\n            this.amount_limits = limits;\n            const { max_payout, min_stake } = limits;\n            if (max_payout && min_stake) {\n                runIrreversibleEvents(() => {\n                    this.setFieldValue(\n                        localize('(min: {{min_stake}} - max: {{max_payout}})', {\n                            min_stake,\n                            max_payout,\n                        }),\n                        'AMOUNT_LIMITS'\n                    );\n                });\n            }\n        });\n    },\n    updateDurationInput(should_use_default_unit, should_update_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        if (this.selected_trade_type === 'multiplier' && this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const multiplier_block = this.workspace.newBlock('trade_definition_multiplier');\n                    multiplier_block.initSvg();\n                    multiplier_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = multiplier_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const stake_input = multiplier_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.render();\n\n                    const take_profit_block = this.workspace.newBlock('multiplier_take_profit');\n                    const take_profit_input = take_profit_block.getInput('AMOUNT');\n\n                    const take_profit_shadow_block = this.workspace.newBlock('math_number_positive');\n                    take_profit_shadow_block.setShadow(true);\n                    take_profit_shadow_block.setFieldValue(0, 'NUM');\n                    take_profit_shadow_block.outputConnection.connect(take_profit_input.connection);\n                    take_profit_shadow_block.initSvg();\n                    take_profit_shadow_block.render();\n\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(take_profit_block.previousConnection);\n                    take_profit_block.initSvg();\n                    take_profit_block.render();\n\n                    const stop_loss_block = this.workspace.newBlock('multiplier_stop_loss');\n                    const stop_loss_input = stop_loss_block.getInput('AMOUNT');\n\n                    const stop_loss_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stop_loss_shadow_block.setShadow(true);\n                    stop_loss_shadow_block.setFieldValue(0, 'NUM');\n                    stop_loss_shadow_block.outputConnection.connect(stop_loss_input.connection);\n                    stop_loss_shadow_block.initSvg();\n                    stop_loss_shadow_block.render();\n\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(stop_loss_block.previousConnection);\n                    stop_loss_block.initSvg();\n                    stop_loss_block.render();\n\n                    this.dispose();\n                    Blockly.derivWorkspace.cleanUp();\n                });\n            });\n        } else {\n            contracts_for.getDurations(this.selected_symbol, this.selected_trade_type).then(durations => {\n                // Keep duration in memory so we can later reference them for validation\n                this.durations = durations;\n\n                const duration_field_dropdown = this.getField('DURATIONTYPE_LIST');\n                const duration_input = this.getInput('DURATION');\n                const duration_options = durations.map(duration => [duration.display, duration.unit]);\n\n                duration_field_dropdown?.updateOptions(duration_options, {\n                    default_value: should_use_default_unit ? undefined : duration_field_dropdown.getValue(),\n                });\n\n                if (should_update_value && duration_input && duration_input.connection) {\n                    const target_block = duration_input.connection.targetBlock();\n\n                    if (target_block && target_block.isShadow()) {\n                        const min_duration = durations.find(duration => duration.unit === this.selected_duration);\n\n                        if (min_duration) {\n                            runIrreversibleEvents(() => {\n                                target_block.setFieldValue(min_duration.min, 'NUM');\n                            });\n                        }\n                    }\n                }\n            });\n        }\n    },\n    updateBarrierInputs(should_use_default_type, should_use_default_values) {\n        const { contracts_for } = ApiHelpers.instance;\n        const { BARRIER_TYPES } = config;\n\n        contracts_for\n            .getBarriers(\n                this.selected_symbol,\n                this.selected_trade_type,\n                this.selected_duration,\n                this.selected_barrier_types\n            )\n            .then(barriers => {\n                this.createBarrierInputs(barriers);\n\n                const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n                for (let i = 0; i < barriers.values.length; i++) {\n                    const barrier_field_dropdown = this.getField(`${input_names[i]}TYPE_LIST`);\n                    const { ABSOLUTE_BARRIER_DROPDOWN_OPTION } = config;\n                    const barrier_field_value = should_use_default_type\n                        ? BARRIER_TYPES[i][1]\n                        : barrier_field_dropdown.getValue();\n\n                    if (this.selected_duration === 'd') {\n                        // Only absolute types are allowed.\n                        barrier_field_dropdown.updateOptions(ABSOLUTE_BARRIER_DROPDOWN_OPTION, {\n                            default_value: 'absolute',\n                        });\n                    } else if (barriers.allow_both_types || barriers.allow_absolute_type) {\n                        // Both offset + absolute types are allowed.\n                        const options = [].concat(BARRIER_TYPES, ABSOLUTE_BARRIER_DROPDOWN_OPTION);\n\n                        barrier_field_dropdown.updateOptions(options, {\n                            default_value: barrier_field_value,\n                        });\n                    } else {\n                        // Only offset types are allowed.\n                        barrier_field_dropdown.updateOptions(BARRIER_TYPES, {\n                            default_value: barrier_field_value,\n                        });\n                    }\n\n                    const { connection } = this.getInput(input_names[i]);\n\n                    if (should_use_default_values && connection) {\n                        const target_block = connection.targetBlock();\n\n                        if (target_block && target_block.isShadow()) {\n                            const barrier_value = barriers.values[i] !== false ? barriers.values[i] : '';\n\n                            runIrreversibleEvents(() => {\n                                target_block.setFieldValue(barrier_value, 'NUM');\n                            });\n                        }\n                    }\n                }\n            });\n    },\n    updatePredictionInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        contracts_for.getPredictionRange(this.selected_symbol, this.selected_trade_type).then(prediction_range => {\n            this.createPredictionInput(prediction_range);\n\n            if (prediction_range.length > 0) {\n                const prediction_input = this.getInput('PREDICTION');\n                const { connection } = prediction_input;\n\n                if (should_use_default_value && connection) {\n                    const target_block = connection.targetBlock();\n\n                    if (target_block && target_block.isShadow()) {\n                        const initial_prediction = Math.max(1, prediction_range[0]);\n\n                        runIrreversibleEvents(() => {\n                            target_block.setFieldValue(initial_prediction, 'NUM');\n                        });\n                    }\n                }\n            }\n        });\n    },\n    enforceSingleBarrierType(barrier_input_name, should_force_distinct) {\n        const new_value = this.getFieldValue(barrier_input_name);\n        const other_barrier_input_name =\n            barrier_input_name === 'BARRIEROFFSETTYPE_LIST' ? 'SECONDBARRIEROFFSETTYPE_LIST' : 'BARRIEROFFSETTYPE_LIST';\n        const other_barrier_field = this.getField(other_barrier_input_name);\n        const { BARRIER_TYPES } = config;\n\n        if (other_barrier_field) {\n            const has_other_barrier = BARRIER_TYPES.findIndex(type => type[1] === new_value) !== -1;\n            const other_barrier_type = other_barrier_field.getValue();\n\n            runIrreversibleEvents(() => {\n                if (has_other_barrier && (other_barrier_type === 'absolute' || should_force_distinct)) {\n                    const other_barrier_value = BARRIER_TYPES.find(type => type[1] !== new_value);\n                    other_barrier_field.setValue(other_barrier_value[1]);\n                } else if (new_value === 'absolute' && other_barrier_type !== 'absolute') {\n                    other_barrier_field.setValue('absolute');\n                }\n            });\n        }\n    },\n    domToMutation(xmlElement) {\n        const has_first_barrier = xmlElement.getAttribute('has_first_barrier') === 'true';\n        const has_second_barrier = xmlElement.getAttribute('has_second_barrier') === 'true';\n        const has_prediction = xmlElement.getAttribute('has_prediction') === 'true';\n\n        if (has_first_barrier && has_second_barrier) {\n            this.createBarrierInputs({ values: [1, -1] }); // These values are overwritten with XML values.\n        } else if (has_first_barrier) {\n            this.createBarrierInputs({ values: [1] });\n        } else if (has_prediction) {\n            this.createPredictionInput([1]);\n        }\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        container.setAttribute('has_first_barrier', !!this.getInput('BARRIEROFFSET'));\n        container.setAttribute('has_second_barrier', !!this.getInput('SECONDBARRIEROFFSET'));\n        container.setAttribute('has_prediction', !!this.getInput('PREDICTION'));\n\n        return container;\n    },\n    setCurrency() {\n        const currency_field = this.getField('CURRENCY_LIST');\n        const { currency } = DBotStore.instance.client;\n        currency_field.setText(getCurrencyDisplayCode(currency));\n    },\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n            DURATION: input => {\n                const input_number = Number(input);\n\n                if (isNaN(input_number) || !this.durations.length) {\n                    return false;\n                }\n\n                const duration = this.durations.find(d => d.unit === this.selected_duration);\n\n                if (duration) {\n                    const { min, max } = duration;\n                    const is_valid_duration = input_number >= min && input_number <= max;\n\n                    if (min === max) {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter {{min}}.',\n                            { min }\n                        );\n                    } else {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter a value between {{min}} to {{max}}.',\n                            { min, max }\n                        );\n                    }\n\n                    return !is_valid_duration;\n                }\n\n                return false;\n            },\n        };\n    },\n};\n\nBlockly.Blocks.trade_definition_tradeoptions_payout = Blockly.Blocks.trade_definition_tradeoptions;\n\nBlockly.JavaScript.trade_definition_tradeoptions = block => {\n    const amount = Blockly.JavaScript.valueToCode(block, 'AMOUNT', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    const { currency } = DBotStore.instance.client;\n    const duration_type = block.getFieldValue('DURATIONTYPE_LIST') || '0';\n    const duration_value = Blockly.JavaScript.valueToCode(block, 'DURATION', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const getBarrierValue = (barrier_offset_type, value) => {\n        // Variables should not be encapsulated in quotes\n        if (/^(\\d+(\\.\\d+)?)$/.test(value)) {\n            return barrier_offset_type === 'absolute' ? `'${value}'` : `'${barrier_offset_type}${value}'`;\n        }\n        return barrier_offset_type === 'absolute' ? value : `'${barrier_offset_type}' + ${value}`;\n    };\n\n    let prediction_value, barrier_offset_value, second_barrier_offset_value;\n\n    if (block.getInput('PREDICTION')) {\n        prediction_value = Blockly.JavaScript.valueToCode(block, 'PREDICTION', Blockly.JavaScript.ORDER_ATOMIC) || '-1';\n    }\n\n    if (block.getInput('BARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('BARRIEROFFSETTYPE_LIST');\n        const value = Blockly.JavaScript.valueToCode(block, 'BARRIEROFFSET', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n        barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    if (block.getInput('SECONDBARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST');\n        const value =\n            Blockly.JavaScript.valueToCode(block, 'SECONDBARRIEROFFSET', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n        second_barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            duration           : ${duration_value},\n            duration_unit      : '${duration_type}',\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            prediction         : ${prediction_value || 'undefined'},\n            barrierOffset      : ${barrier_offset_value || 'undefined'},\n            secondBarrierOffset: ${second_barrier_offset_value || 'undefined'},\n            basis              : '${block.type === 'trade_definition_tradeoptions' ? 'stake' : 'payout'}',\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n\nBlockly.JavaScript.trade_definition_tradeoptions_payout = Blockly.JavaScript.trade_definition_tradeoptions;\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode, getDecimalPlaces } from '@deriv/shared';\nimport DBotStore from '../../../dbot-store';\nimport { runGroupedEvents, runIrreversibleEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_multiplier = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Multiplier: {{ multiplier }}', {\n                multiplier: '%1',\n            }),\n            message1: `${localize('Stake')}: %1 %2 %3`,\n            message2: '%1',\n            message3: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MULTIPLIERTYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'MULTIPLIER_PARAMS',\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as multiplier and stake.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Multiplier trade options'),\n            description: localize(\n                'Define your trade options such as multiplier and stake. This block can only be used with the multipliers trade type. If you select another trade type, this block will be replaced with the Trade options block.'\n            ),\n        };\n    },\n    validateBlocksInStatement() {\n        // Enforce only multiplier_<type> blocks in MULTIPLIER_PARAMS statement.\n        const blocks_in_multiplier = this.getBlocksInStatement('MULTIPLIER_PARAMS');\n\n        if (blocks_in_multiplier.length > 0) {\n            const block_types_in_multiplier = [];\n            blocks_in_multiplier.forEach(block => {\n                block_types_in_multiplier.push(block.type);\n                if (\n                    !/^multiplier_.+$/.test(block.type) ||\n                    new Set(block_types_in_multiplier).size !== block_types_in_multiplier.length\n                ) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(true);\n                    });\n                }\n            });\n        }\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_multiplier = this.getFieldValue('MULTIPLIERTYPE_LIST');\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.setCurrency();\n            this.updateAmountLimits();\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateMultiplierInput(false);\n            } else {\n                this.updateMultiplierInput(true);\n            }\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            this.validateBlocksInStatement();\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateMultiplierInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'MULTIPLIERTYPE_LIST': {\n                        this.updateMultiplierInput(false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateMultiplierInput(true);\n                this.updateAmountLimits();\n            }\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            this.setCurrency();\n            this.updateAmountLimits();\n            this.validateBlocksInStatement();\n            if (event.blockId === this.id) {\n                // Ensure this block is populated after initial drag from flyout.\n                if (!this.selected_multiplier) {\n                    const fake_creation_event = new Blockly.Events.Create(this);\n                    fake_creation_event.recordUndo = false;\n                    Blockly.Events.fire(fake_creation_event);\n                } else if (this.selected_trade_type !== 'multiplier') {\n                    this.updateMultiplierInput(true);\n                }\n            }\n        }\n    },\n    updateAmountLimits: Blockly.Blocks.trade_definition_tradeoptions.updateAmountLimits,\n    updateMultiplierInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        if (this.selected_trade_type === 'multiplier') {\n            contracts_for.getMultiplierRange(this.selected_symbol, this.selected_trade_type).then(multiplier_range => {\n                if (multiplier_range.length > 0) {\n                    const multiplier_list_dropdown = this.getField('MULTIPLIERTYPE_LIST');\n                    const multiplier_options = multiplier_range.map(value => {\n                        const option = value.toString();\n                        return [option, option];\n                    });\n\n                    multiplier_list_dropdown?.updateOptions(multiplier_options, {\n                        default_value: should_use_default_value ? undefined : multiplier_list_dropdown.getValue(),\n                    });\n                }\n            });\n            return;\n        }\n\n        if (this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const duration_block = this.workspace.newBlock('trade_definition_tradeoptions');\n                    duration_block.initSvg();\n                    duration_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = duration_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const duration_input = duration_block.getInput('DURATION');\n\n                    const duration_shadow_block = this.workspace.newBlock('math_number_positive');\n                    duration_shadow_block.setShadow(true);\n                    duration_shadow_block.outputConnection.connect(duration_input.connection);\n                    duration_shadow_block.initSvg();\n                    duration_shadow_block.render(true);\n\n                    const stake_input = duration_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.render(true);\n\n                    this.dispose();\n                    Blockly.derivWorkspace.cleanUp();\n                });\n            });\n        }\n    },\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n        };\n    },\n};\n\nBlockly.JavaScript.trade_definition_multiplier = block => {\n    const amount = Blockly.JavaScript.valueToCode(block, 'AMOUNT', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    const { currency } = DBotStore.instance.client;\n    const { setContractUpdateConfig } = DBotStore.instance;\n    const multiplier_value = block.getFieldValue('MULTIPLIERTYPE_LIST') || '1';\n    const stop_loss =\n        !block.getChildByType('multiplier_stop_loss')?.disabled &&\n        block.childValueToCode('multiplier_stop_loss', 'AMOUNT');\n    const take_profit =\n        !block.getChildByType('multiplier_take_profit')?.disabled &&\n        block.childValueToCode('multiplier_take_profit', 'AMOUNT');\n    const limit_order = {};\n    limit_order.take_profit = take_profit ? +take_profit : undefined;\n    limit_order.stop_loss = stop_loss ? +stop_loss : undefined;\n\n    setContractUpdateConfig(take_profit, stop_loss);\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            multiplier         : ${multiplier_value},\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            limit_order        : ${JSON.stringify(limit_order)},\n            basis              : 'stake',\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode } from '@deriv/shared';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.multiplier_stop_loss = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Stop Loss: {{ currency }} {{ stop_loss }}', {\n                currency: '%1',\n                stop_loss: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Your contract will be closed automatically if your loss reaches this amount.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Stop loss'),\n            description: localize('Your contract will be closed automatically if your loss reaches this amount.'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Stop loss must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nBlockly.JavaScript.multiplier_stop_loss = () => {};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode } from '@deriv/shared';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.multiplier_take_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Take Profit: {{ currency }} {{ take_profit }}', {\n                currency: '%1',\n                take_profit: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Your contract will be closed automatically if your profit reaches this amount.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Take Profit'),\n            description: localize('Your contract will be closed automatically if your profit reaches this amount.'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Take profit must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nBlockly.JavaScript.multiplier_take_profit = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_compare = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['=', 'EQ'],\n                        ['\\u2260', 'NEQ'],\n                        ['\\u200F<', 'LT'],\n                        ['\\u200F\\u2264', 'LTE'],\n                        ['\\u200F>', 'GT'],\n                        ['\\u200F\\u2265', 'GTE'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Compares two values'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Compare'),\n            description: localize('This block compares two values and is used to build a conditional structure.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_compare = block => {\n    const operatorMapping = {\n        EQ: '==',\n        NEQ: '!=',\n        LT: '<',\n        LTE: '<=',\n        GT: '>',\n        GTE: '>=',\n    };\n\n    const operator = operatorMapping[block.getFieldValue('OP') || 'EQ'];\n    const order = ['==', '!='].includes(operator)\n        ? Blockly.JavaScript.ORDER_EQUALITY\n        : Blockly.JavaScript.ORDER_RELATIONAL;\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', order) || 'false';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', order) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark, minusIconDark } from '../images';\n\nBlockly.Blocks.controls_if = {\n    init() {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n        this.else_if_count = 0;\n        this.else_count = 0;\n\n        this.jsonInit(this.definition());\n        this.updateShape();\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} then', { condition: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF0',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO0',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Conditional block'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional block'),\n            description: localize(\n                'This block evaluates a statement and will perform an action only when the statement is true.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent the number of else-if and else inputs.\n     * @return {Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        if (this.else_if_count) {\n            container.setAttribute('elseif', this.else_if_count);\n        }\n\n        if (this.else_count) {\n            container.setAttribute('else', 1);\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the else-if and else inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.else_if_count = parseInt(xmlElement.getAttribute('elseif')) || 0;\n        this.else_count = parseInt(xmlElement.getAttribute('else')) || 0;\n        this.rebuildShape();\n    },\n    rebuildShape() {\n        const value_connections = [null];\n        const statement_connections = [null];\n        const else_statement_connection = this.getInput('ELSE')?.connection?.targetConnection || null;\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n            const if_input = this.getInput(input_names.IF);\n\n            if (!if_input) {\n                break;\n            }\n\n            const do_input = this.getInput(input_names.DO);\n            value_connections.push(if_input.connection.targetConnection);\n            statement_connections.push(do_input.connection.targetConnection);\n            i++;\n        }\n\n        this.updateShape();\n        this.reconnectChildBlocks(value_connections, statement_connections, else_statement_connection);\n    },\n    update(updateFn) {\n        Blockly.Events.setGroup(true);\n\n        const old_mutation_dom = this.mutationToDom();\n        const old_mutation = old_mutation_dom && Blockly.Xml.domToText(old_mutation_dom);\n        const is_rendered = this.rendered;\n\n        this.rendered = false;\n\n        if (updateFn) {\n            updateFn.call(this);\n        }\n\n        this.updateShape();\n        this.rendered = is_rendered;\n        this.initSvg();\n\n        const group = Blockly.Events.getGroup();\n        const new_mutation_dom = this.mutationToDom();\n        const new_mutation = new_mutation_dom && Blockly.Xml.domToText(new_mutation_dom);\n\n        if (old_mutation !== new_mutation) {\n            const change_event = new Blockly.Events.BlockChange(this, 'mutation', null, old_mutation, new_mutation);\n            Blockly.Events.fire(change_event);\n\n            setTimeout(() => {\n                Blockly.Events.setGroup(group);\n                this.bumpNeighbours_();\n                Blockly.Events.setGroup(false);\n            }, Blockly.BUMP_DELAY);\n        }\n\n        if (this.rendered) {\n            this.render();\n        }\n\n        Blockly.Events.setGroup(false);\n    },\n    updateShape() {\n        if (this.getInput('ELSE')) {\n            this.removeInput('ELSE');\n            this.removeInput('ELSE_LABEL');\n            this.removeInput('DELETE_ELSE');\n        }\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n\n            if (!this.getInput(input_names.IF)) {\n                break;\n            }\n\n            this.removeInput(input_names.IF_LABEL);\n            this.removeInput(input_names.IF);\n            this.removeInput(input_names.THEN_LABEL);\n            this.removeInput(input_names.DELETE_ICON);\n            this.removeInput(input_names.DO);\n\n            i++;\n        }\n\n        if (this.getInput('MUTATOR')) {\n            this.removeInput('MUTATOR'); // \"+\" icon.\n        }\n\n        // Rebuild else if statements\n        for (let j = 1; j <= this.else_if_count; j++) {\n            const input_names = this.getIfInputNames(j);\n            const removeElseIf = () => this.modifyElseIf(false, j);\n\n            this.appendDummyInput(input_names.IF_LABEL).appendField(localize('else if'));\n            this.appendValueInput(input_names.IF).setCheck('Boolean');\n            this.appendDummyInput(input_names.THEN_LABEL).appendField(localize('then'));\n            this.appendDummyInput(input_names.DELETE_ICON).appendField(\n                new Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElseIf)\n            );\n            this.appendStatementInput(input_names.DO);\n        }\n\n        // Rebuild else statement\n        if (this.else_count > 0) {\n            const removeElse = () => this.modifyElse(false);\n            this.appendDummyInput('ELSE_LABEL').appendField(localize('else'));\n            this.appendDummyInput('DELETE_ELSE').appendField(\n                new Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElse, false)\n            );\n            this.appendStatementInput('ELSE');\n        }\n\n        const addElseIf = () => {\n            if (this.else_count === 0) {\n                this.modifyElse(true);\n            } else {\n                if (!this.else_if_count) {\n                    this.else_if_count = 0;\n                }\n\n                this.modifyElseIf(true);\n            }\n        };\n\n        // Re-add the \"+\" icon\n        this.appendDummyInput('MUTATOR').appendField(\n            new Blockly.FieldImage(plusIconDark, 24, 24, '+', addElseIf, false)\n        );\n\n        this.initSvg();\n        this.render();\n    },\n    storeConnections(arg = 0) {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            if (arg !== i) {\n                const input_names = this.getIfInputNames(i);\n\n                this.value_connections.push(this.getInput(input_names.IF).connection.targetConnection);\n                this.statement_connections.push(this.getInput(input_names.DO).connection.targetConnection);\n            }\n        }\n\n        const else_input = this.getInput('ELSE');\n\n        if (else_input) {\n            this.else_statement_connection = else_input.connection.targetConnection;\n        }\n    },\n    reconnectChildBlocks(opt_value_conns, opt_statement_conns, opt_else_statement_conns) {\n        const value_connections = opt_value_conns ?? this.value_connections;\n        const statement_connections = opt_statement_conns ?? this.statement_connections;\n        const else_statement_connection = opt_else_statement_conns ?? this.else_statement_connection;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            const input_names = this.getIfInputNames(i);\n            const value_connection = value_connections[i];\n            const statement_connection = statement_connections[i];\n\n            if (value_connection && this.getInput(input_names.IF)) {\n                Blockly.Mutator.reconnect(value_connection, this, input_names.IF);\n            }\n            if (statement_connection && this.getInput(input_names.DO)) {\n                Blockly.Mutator.reconnect(statement_connection, this, input_names.DO);\n            }\n        }\n\n        if (else_statement_connection && this.getInput('ELSE')) {\n            Blockly.Mutator.reconnect(else_statement_connection, this, 'ELSE');\n        }\n    },\n    modifyElse(is_add) {\n        const update = () => {\n            this.else_count += is_add ? 1 : -1;\n        };\n\n        this.storeConnections();\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    modifyElseIf(is_add, opt_idx) {\n        this.storeConnections(opt_idx);\n\n        const update = () => {\n            this.else_if_count += is_add ? 1 : -1;\n        };\n\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    getRequiredValueInputs() {\n        const required_inputs = {};\n        this.inputList\n            .filter(input => /^IF[0-9]*?$/.test(input.name))\n            .forEach(input => (required_inputs[input.name] = null));\n\n        return required_inputs;\n    },\n    getIfInputNames: idx => {\n        return {\n            IF_LABEL: `IF_LABEL${idx}`,\n            IF: `IF${idx}`,\n            THEN_LABEL: `THEN_LABEL${idx}`,\n            DELETE_ICON: `DELETE_ICON${idx}`,\n            DO: `DO${idx}`,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_if = block => {\n    // If/elseif/else condition.\n    let n = 0;\n    let code = '';\n\n    do {\n        const condition = Blockly.JavaScript.valueToCode(block, `IF${n}`, Blockly.JavaScript.ORDER_NONE) || 'false';\n\n        // i.e. (else)? if { // code }\n        const keyword = n > 0 ? 'else if' : 'if';\n        code += `\n        ${keyword} (${condition}) {\n            ${Blockly.JavaScript.statementToCode(block, `DO${n}`)}\n        }`;\n        n++;\n    } while (block.getInput(`IF${n}`));\n\n    if (block.getInput('ELSE')) {\n        code += `\n        else {\n            ${Blockly.JavaScript.statementToCode(block, 'ELSE')}\n        }`;\n    }\n\n    return `${code}\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_boolean = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BOOL',\n                    options: [\n                        [localize('true'), 'TRUE'],\n                        [localize('false'), 'FALSE'],\n                    ],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns either True or False'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('True-False'),\n            description: localize('This is a single block that returns a boolean value, either true or false.'),\n        };\n    },\n};\n\nBlockly.JavaScript.logic_boolean = block => {\n    const code = block.getFieldValue('BOOL') === 'TRUE' ? 'true' : 'false';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_operation = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('and'), 'AND'],\n                        [localize('or'), 'OR'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Performs selected logic operation'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Logic operation'),\n            description: localize('This block performs the \"AND\" or the \"OR\" logic operation.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_operation = block => {\n    const selectedOperator = block.getFieldValue('OP');\n\n    let operator, order;\n\n    if (selectedOperator === 'AND') {\n        operator = '&&';\n        order = Blockly.JavaScript.ORDER_LOGICAL_AND;\n    } else if (selectedOperator === 'OR') {\n        operator = '||';\n        order = Blockly.JavaScript.ORDER_LOGICAL_OR;\n    }\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', Blockly.JavaScript.ORDER_ATOMIC) || 'false';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', Blockly.JavaScript.ORDER_ATOMIC) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_null = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: 'null',\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block assigns a null value to an item or statement.'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Null'),\n            description: localize('This block assigns a null value to an item or statement.'),\n        };\n    },\n};\nBlockly.JavaScript.logic_null = () => ['null', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_ternary = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('test {{ condition }}', { condition: '%1' }),\n            message1: localize('if true {{ return_value }}', { return_value: '%1' }),\n            message2: localize('if false {{ return_value }}', { return_value: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'THEN',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_value',\n                    name: 'ELSE',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block tests if a given value is true or false and returns True or False accordingly.'\n            ),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Test value'),\n            description: localize(\n                'This block tests if a given value is true or false and returns True or False accordingly.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            IF: null,\n            THEN: null,\n            ELSE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_ternary = block => {\n    const valueIf = Blockly.JavaScript.valueToCode(block, 'IF', Blockly.JavaScript.ORDER_CONDITIONAL) || 'false';\n    const valueThen = Blockly.JavaScript.valueToCode(block, 'THEN', Blockly.JavaScript.ORDER_CONDITIONAL) || 'null';\n    const valueElse = Blockly.JavaScript.valueToCode(block, 'ELSE', Blockly.JavaScript.ORDER_CONDITIONAL) || 'null';\n\n    const code = `(${valueIf} ? ${valueThen} : ${valueElse})`;\n    return [code, Blockly.JavaScript.ORDER_CONDITIONAL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_negate = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('not {{ boolean }}', { boolean: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Converts a given True or False to the opposite value'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Logic negation'),\n            description: localize('This block converts the boolean value (true or false) to its opposite.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_negate = block => {\n    const order = Blockly.JavaScript.ORDER_LOGICAL_NOT;\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'BOOL', order) || 'true';\n\n    const code = `!${argument0}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_change = {\n    /**\n     * Initializes the block, in most cases this calls the jsonInit function, in some\n     * cases it may add extra properties to the block object.\n     * https://developers.google.com/blockly/reference/js/Blockly.Block#jsonInit\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: localize('change {{ variable }} by {{ number }}', {\n                variable: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'DELTA',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block adds the given number to the selected variable'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Change variable'),\n            description: localize('This block adds the given number to the selected variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DELTA: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_change = block => {\n    const variable = block.getFieldValue('VAR');\n    // eslint-disable-next-line no-underscore-dangle\n    const argument0 = Blockly.JavaScript.variableDB_.getName(variable, Blockly.Variables.NAME_TYPE);\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'DELTA', Blockly.JavaScript.ORDER_ADDITION) || '0';\n    const code = `${argument0} = (typeof ${argument0} === 'number' ? ${argument0} : 0) + ${argument1};`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_constant = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSTANT',\n                    options: [\n                        ['\\u03C0', 'PI'],\n                        ['\\u2107', 'E'],\n                        ['\\u03d5', 'GOLDEN_RATIO'],\n                        ['sqrt(2)', 'SQRT2'],\n                        ['sqrt(\\u00bd)', 'SQRT1_2'],\n                        ['\\u221e', 'INFINITY'],\n                    ],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected constant values.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Mathematical constants'),\n            description: localize('This block gives you the selected constant values.'),\n        };\n    },\n};\n\nBlockly.JavaScript.math_constant = block => {\n    const constant = block.getFieldValue('CONSTANT');\n\n    let code, order;\n\n    if (constant === 'PI') {\n        code = 'Math.PI';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'E') {\n        code = 'Math.E';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'GOLDEN_RATIO') {\n        code = '(1 + Math.sqrt(5)) / 2';\n        order = Blockly.JavaScript.ORDER_DIVISION;\n    } else if (constant === 'SQRT2') {\n        code = 'Math.SQRT2';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'SQRT1_2') {\n        code = 'Math.SQRT1_2';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'INFINITY') {\n        code = 'Infinity';\n        order = Blockly.JavaScript.ORDER_ATOMIC;\n    }\n\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_constrain = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('constrain {{ number }} low {{ low_number }} high {{ high_number }}', {\n                number: '%1',\n                low_number: '%2',\n                high_number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'LOW',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'HIGH',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block constrains a given number so that it is within a set range.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Constrain within a range'),\n            description: localize('This block constrains a given number so that it is within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            LOW: null,\n            HIGH: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_constrain = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'LOW', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument2 = Blockly.JavaScript.valueToCode(block, 'HIGH', Blockly.JavaScript.ORDER_COMMA) || '0';\n\n    const code = `Math.min(Math.max(${argument0}, ${argument1}), ${argument2})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_modulo = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('remainder of {{ number1 }}  {{ number2 }}', {\n                number1: '%1',\n                number2: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DIVIDEND',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'DIVISOR',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the remainder after a division'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Remainder after division'),\n            description: localize(' Returns the remainder after the division of the given numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DIVIDEND: null,\n            DIVISOR: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_modulo = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'DIVIDEND', Blockly.JavaScript.ORDER_MODULUS) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'DIVISOR', Blockly.JavaScript.ORDER_MODULUS) || '0';\n\n    const code = `${argument0} % ${argument1}`;\n    return [code, Blockly.JavaScript.ORDER_MODULUS];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const fieldInput = this.getField('NUM');\n        fieldInput.setValidator(input => this.numberValidator(input));\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'NUM',\n                    value: 0,\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Please use `.` as a decimal separator for fractional numbers.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Number'),\n            description: localize(\n                'Enter an integer or fractional number into this block. Please use `.` as a decimal separator for fractional numbers.'\n            ),\n        };\n    },\n    numberValidator(input) {\n        if (/^-?([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n};\n\nBlockly.JavaScript.math_number = block => {\n    const code = block.getFieldValue('NUM');\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number_positive = {\n    init: Blockly.Blocks.math_number.init,\n    definition: Blockly.Blocks.math_number.definition,\n    meta() {\n        return {\n            display_name: localize('Math Number Positive'),\n            description: localize('Math Number Description'),\n        };\n    },\n    numberValidator(input) {\n        if (/^([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n};\n\nBlockly.JavaScript.math_number_positive = Blockly.JavaScript.math_number;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number_property = {\n    init() {\n        this.jsonInit(this.definition());\n\n        this.setOnChange(event => {\n            if (event.name === 'PROPERTY') {\n                const hasDivisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n                this.updateShape(hasDivisorInput);\n            }\n        });\n    },\n    definition() {\n        return {\n            message0: localize('{{ number }} is {{ type }}', {\n                number: '%1',\n                type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'NUMBER_TO_CHECK',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'PROPERTY',\n                    options: [\n                        [localize('even'), 'EVEN'],\n                        [localize('odd'), 'ODD'],\n                        [localize('prime'), 'PRIME'],\n                        [localize('whole'), 'WHOLE'],\n                        [localize('positive'), 'POSITIVE'],\n                        [localize('negative'), 'NEGATIVE'],\n                        [localize('divisible by'), 'DIVISIBLE_BY'],\n                    ],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            toolip: localize('This block tests a given number according to the selection'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Test a number'),\n            description: localize(\n                'This block tests a given number according to the selection and it returns a value of True or False. Available options: Even, Odd, Prime, Whole, Positive, Negative, Divisible'\n            ),\n        };\n    },\n    domToMutation(xmlElement) {\n        const hasDivisorInput = xmlElement.getAttribute('divisor_input') === 'true';\n        this.updateShape(hasDivisorInput);\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const divisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n        container.setAttribute('divisor_input', divisorInput);\n        return container;\n    },\n    updateShape(hasDivisorInput) {\n        const inputExists = this.getInput('DIVISOR');\n\n        if (hasDivisorInput) {\n            if (!inputExists) {\n                this.appendValueInput('DIVISOR').setCheck('Number');\n                this.initSvg();\n                this.render(false);\n            }\n        } else {\n            this.removeInput('DIVISOR');\n        }\n    },\n    getRequiredValueInputs() {\n        return {\n            NUMBER_TO_CHECK: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_number_property = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'NUMBER_TO_CHECK', Blockly.JavaScript.ORDER_MODULUS) || '0';\n    const property = block.getFieldValue('PROPERTY');\n\n    let code;\n\n    if (property === 'PRIME') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('mathIsPrime', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(n) {\n                // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n                if (n == 2 || n == 3) {\n                    return true;\n                }\n\n                // False if n is NaN, negative, is 1, or not whole.\n                // And false if n is divisible by 2 or 3.\n                if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {\n                    return false;\n                }\n\n                // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n                for (var x  = 6; x <= Math.sqrt(n) + 1; x += 6) {\n                    if (n % (x - 1) == 0 || n % (x + 1) == 0) {\n                        return false;\n                    }\n                }\n                return true;\n            }`,\n        ]);\n        code = `${functionName}(${argument0})`;\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    } else if (property === 'EVEN') {\n        code = `${argument0} % 2 === 0`;\n    } else if (property === 'ODD') {\n        code = `${argument0} % 2 === 1`;\n    } else if (property === 'WHOLE') {\n        code = `${argument0} % 1 === 0`;\n    } else if (property === 'POSITIVE') {\n        code = `${argument0} > 0`;\n    } else if (property === 'NEGATIVE') {\n        code = `${argument0} < 0`;\n    } else if (property === 'DIVISIBLE_BY') {\n        const divisor = Blockly.JavaScript.valueToCode(block, 'DIVISOR', Blockly.JavaScript.ORDER_MODULUS) || '0';\n        code = `${argument0} % ${divisor} == 0`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_EQUALITY];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_on_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ calculation }} of list {{ input_list }}', {\n                calculation: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('sum'), 'SUM'],\n                        [localize('min'), 'MIN'],\n                        [localize('max'), 'MAX'],\n                        [localize('average'), 'AVERAGE'],\n                        [localize('median'), 'MEDIAN'],\n                        [localize('mode'), 'MODE'],\n                        [localize('antimode'), 'ANTIMODE'],\n                        [localize('standard deviation'), 'STD_DEV'],\n                        [localize('random item'), 'RANDOM'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Aggregate operations'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Aggregate operations'),\n            description: localize(\n                'This block performs the following operations on a given list: sum, minimum, maximum, average, median, mode, antimode, standard deviation, random item.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        const type_list = [\n            'variables_get',\n            'lists_getSublist',\n            'ohlc_values',\n            'lists_split',\n            'ohlc',\n            'ticks',\n            'lists_repeat',\n            'lastDigitList',\n            'ohlc_values_in_list',\n            'procedures_callreturn',\n        ];\n        return {\n            LIST: () => {\n                return !type_list.includes(this.childBlocks_[0]?.type);\n            },\n        };\n    },\n};\n\n/* eslint-disable no-underscore-dangle */\nBlockly.JavaScript.math_on_list = block => {\n    const operation = block.getFieldValue('OP');\n\n    let code, list;\n\n    if (operation === 'SUM') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) { \n                    return x + y; \n                });\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MIN') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.min.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_COMMA) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MAX') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.max.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_COMMA) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'AVERAGE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) { \n                    return x + y; \n                }) / myList.length;\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MEDIAN') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMedian', [\n            `\n            Array.prototype.swap = function (x,y) {\n                var b = this[x];\n                this[x] = this[y];\n                this[y] = b;\n                return this;\n            }\n\n            function partition(arr, start, end){\n                var pivotValue = arr[end];\n                var pivotIndex = start; \n                for (var i = start; i < end; i++) {\n                    if (arr[i] < pivotValue) {\n                    arr.swap(pivotIndex, i);\n                    pivotIndex++;\n                    }\n                }\n                arr.swap(end, pivotIndex);\n                return pivotIndex;\n            };\n      \n            function quickSort(arr) {\n                var stack = [];\n                stack.push(0);\n                stack.push(arr.length - 1);\n                \n                while(stack[stack.length - 1] >= 0){\n                    end = stack.pop();\n                    start = stack.pop();\n                    pivotIndex = partition(arr, start, end);\n                    if (pivotIndex - 1 > start){\n                        stack.push(start);\n                        stack.push(pivotIndex - 1);\n                    }\n                    if (pivotIndex + 1 < end){\n                        stack.push(pivotIndex + 1);\n                        stack.push(end);\n                    }\n                }\n\n            }\n\n            function calculateMedian(final_list){\n                quickSort(final_list);\n\n                if (final_list.length % 2 == 0) {\n                    return (final_list[final_list.length / 2 - 1] + final_list[final_list.length / 2]) / 2;\n                } \n                return final_list[(final_list.length - 1) / 2];\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return calculateMedian(recursiveList(myList, final_list));  \n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MODE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathModes', [\n            `\n            function calculateMathMode(values){\n                var modes = [];\n                var counts = [];\n                var maxCount = 0;\n\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                    maxCount = Math.max(thisCount, maxCount);\n                }\n                \n                for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == maxCount) {\n                        modes.push(counts[j][0]);\n                    }\n                }\n\n                return modes;\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'ANTIMODE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathAntiMode', [\n            `\n            function calculateMathAntiMode(values){\n                var antiMode = [];\n                var counts = [];\n                var minCount = 1;\n                var countArray = [];\n    \n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\t\n                    }\n                    \n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                }\n\n                 minCount = Math.min.apply(null, counts.map(function(element) {\n                     return element[1];\n                 }));\n\n                 for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == minCount) {\n                        antiMode.push(counts[j][0]);\n                    }\n                }\n\n                return antiMode;\n            }\n            \n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathAntiMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'STD_DEV') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathStandardDeviation', [\n            `\n            function calculateMathStandardDeviation(numbers){\n                var n = numbers.length;\n                if (!n) {\n                    return null;\n                }\n\n                var mean = numbers.reduce(function(x, y) {\n                    return x + y;\n                }) / n;\n\n                var variance = 0;\n                for (var j = 0; j < n; j++) {\n                    variance += Math.pow(numbers[j] - mean, 2);\n                }\n                variance = variance / n;\n                return Math.sqrt(variance);\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathStandardDeviation(recursiveList(list, final_list));              \n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'RANDOM') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathRandomList', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                var final_list = recursiveList(list, final_list);\n                var x = Math.floor(Math.random() * final_list.length);\n                return final_list[x];\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_random_float = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random fraction'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random fraction between 0.0 to 1.0'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Random fraction number'),\n            description: localize('This block gives you a random fraction between 0.0 to 1.0.'),\n        };\n    },\n};\n\nBlockly.JavaScript.math_random_float = () => ['Math.random()', Blockly.JavaScript.ORDER_FUNCTION_CALL];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_random_int = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random integer from {{ start_number }} to {{ end_number }}', {\n                start_number: '%1',\n                end_number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random number from within a set range'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Random integer'),\n            description: localize('This block gives you a random number from within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_random_int = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'FROM', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_COMMA) || '0';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.provideFunction_('mathRandomInt', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n            if (a > b) {\n                // Swap a and b to ensure a is smaller.\n                var c = a;\n                a = b;\n                b = c;\n            }\n            return Math.floor(Math.random() * (b - a + 1) + a);\n        }`,\n    ]);\n\n    const code = `${functionName}(${argument0}, ${argument1})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\n// https://github.com/google/blockly/blob/master/generators/javascript/math.js\nBlockly.Blocks.math_round = {\n    /**\n     * Check if a number is even, odd, prime, whole, positive, or negative\n     * or if it is divisible by certain number. Returns true or false.\n     * @this Blockly.Block\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['round', 'ROUND'],\n                        ['round up', 'ROUNDUP'],\n                        ['round down', 'ROUNDDOWN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Rounds a given number to an integer'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Rounding operation'),\n            description: localize(\n                'This block rounds a given number according to the selection: round, round up, round down.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_round = block => {\n    const operation = block.getFieldValue('OP');\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n\n    let code;\n\n    if (operation === 'ROUND') {\n        code = `Math.round(${argument0})`;\n    } else if (operation === 'ROUNDUP') {\n        code = `Math.ceil(${argument0})`;\n    } else if (operation === 'ROUNDDOWN') {\n        code = `Math.floor(${argument0})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_arithmetic = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['+', 'ADD'],\n                        ['-', 'MINUS'],\n                        ['*', 'MULTIPLY'],\n                        ['/', 'DIVIDE'],\n                        ['^', 'POWER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block performs arithmetic operations between two numbers.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Arithmetical operations'),\n            description: localize('This block performs arithmetic operations between two numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_arithmetic = block => {\n    const operators = {\n        ADD: ['+', Blockly.JavaScript.ORDER_ADDITION],\n        MINUS: ['-', Blockly.JavaScript.ORDER_SUBTRACTION],\n        MULTIPLY: ['*', Blockly.JavaScript.ORDER_MULTIPLICATION],\n        DIVIDE: ['/', Blockly.JavaScript.ORDER_DIVISION],\n        POWER: [null, Blockly.JavaScript.ORDER_COMMA], // Handle power separately.\n    };\n\n    const tuple = operators[block.getFieldValue('OP')];\n    const operator = tuple[0];\n    const order = tuple[1];\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', order) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', order) || '0';\n\n    let code;\n\n    // Power in JavaScript requires a special case since it has no operator.\n    if (!operator) {\n        code = `Math.pow(${argument0}, ${argument1})`;\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    }\n\n    code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_single = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('square root'), 'ROOT'],\n                        [localize('absolute'), 'ABS'],\n                        ['-', 'NEG'],\n                        ['ln', 'LN'],\n                        ['log10', 'LOG10'],\n                        ['e^', 'EXP'],\n                        ['10^', 'POW10'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Operations on a given number'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Operations on a given number'),\n            description: localize('This block performs the selected operations to a given number.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_single = block => {\n    const operator = block.getFieldValue('OP');\n\n    let code, arg;\n\n    if (operator === 'NEG') {\n        // Negation is a special case given its different operator precedence.\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_UNARY_NEGATION) || '0';\n        if (arg[0] === '-') {\n            // --3 is not legal in JS\n            arg = ` ${arg}`;\n        }\n        code = `-${arg}`;\n        return [code, Blockly.JavaScript.ORDER_UNARY_NEGATION];\n    }\n\n    if (['SIN', 'COS', 'TAN'].includes(operator)) {\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_DIVISION) || '0';\n    } else {\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_NONE) || '0';\n    }\n\n    // First, handle cases which generate values that don't need parentheses\n    // wrapping the code.\n    if (operator === 'ABS') {\n        code = `Math.abs(${arg})`;\n    } else if (operator === 'ROOT') {\n        code = `Math.sqrt(${arg})`;\n    } else if (operator === 'LN') {\n        code = `Math.log(${arg})`;\n    } else if (operator === 'EXP') {\n        code = `Math.pow(Math.E, ${arg})`;\n    } else if (operator === 'POW10') {\n        code = `Math.pow(10, ${arg})`;\n    } else if (operator === 'ROUND') {\n        code = `Math.round(${arg})`;\n    } else if (operator === 'ROUNDUP') {\n        code = `Math.ceil(${arg})`;\n    } else if (operator === 'ROUNDDOWN') {\n        code = `Math.floor(${arg})`;\n    } else if (operator === 'SIN') {\n        code = `Math.sin(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'COS') {\n        code = `Math.cos(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'TAN') {\n        code = `Math.tan(${arg} / 180 * Math.PI)`;\n    }\n\n    if (code) {\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    }\n\n    // Second, handle cases which generate values that may need parentheses\n    // wrapping the code.\n    if (operator === 'LOG10') {\n        code = `Math.log(${arg}) / Math.log(10)`;\n    } else if (operator === 'ASIN') {\n        code = `Math.asin(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ACOS') {\n        code = `Math.acos(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ATAN') {\n        code = `Math.atan(${arg}) / Math.PI * 180`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_DIVISION];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_trig = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['sin', 'SIN'],\n                        ['cos', 'COS'],\n                        ['tan', 'TAN'],\n                        ['asin', 'ASIN'],\n                        ['acos', 'ACOS'],\n                        ['atan', 'ATAN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trigonometric functions'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trigonometric functions'),\n            description: localize('This block performs trigonometric functions.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_trig = Blockly.JavaScript.math_single;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.text = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'TEXT',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Enter some text here'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text'),\n            description: localize('A  block that can contain text.'),\n        };\n    },\n};\n\nBlockly.JavaScript.text = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.quote_(block.getFieldValue('TEXT'));\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../images';\nimport { runGroupedEvents } from '../../utils';\n\nBlockly.Blocks.text_join = {\n    protected_statements: ['STACK'],\n    allowed_children: ['text_statement'],\n    init() {\n        const field_image = new Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create text with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('text'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Text join'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text join'),\n            description: localize(\n                'Creates a single text string from combining the text value of each attached item, without spaces in between. The number of items can be added accordingly.'\n            ),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const text_block = this.workspace.newBlock('text_statement');\n            text_block.required_parent_id = this.id;\n            text_block.setMovable(true);\n            text_block.initSvg();\n            text_block.render();\n\n            const shadow_block = this.workspace.newBlock('text');\n            shadow_block.setShadow(true);\n            shadow_block.setFieldValue('', 'TEXT');\n            shadow_block.initSvg();\n            shadow_block.render();\n\n            const text_input = text_block.getInput('TEXT');\n            text_input.connection.connect(shadow_block.outputConnection);\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(text_block.previousConnection);\n        });\n\n        // TODO: Open editor and focus so user can add string right away?\n        // const inputField = shadow_block.getField('TEXT');\n        // inputField.showEditor_();\n    },\n    onchange: Blockly.Blocks.lists_create_with.onchange,\n};\n\n// Blockly.JavaScript.text_join = Blockly.JavaScript.lists_create_with;\nBlockly.JavaScript.text_join = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = Blockly.JavaScript[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements}].join(\" \");\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { minusIconDark } from '../images';\nimport { runIrreversibleEvents } from '../../utils';\n\nBlockly.Blocks.text_statement = {\n    required_parent_type: 'text_join',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new Blockly.FieldImage(minusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Statement'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const surround_parent = this.getSurroundParent();\n\n        if (event.type === Blockly.Events.BLOCK_CREATE) {\n            this.setMovable(true);\n            if (!this.required_parent_id && surround_parent?.type === this.required_parent_type) {\n                this.required_parent_id = surround_parent.id;\n            }\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const stack_blocks = Blockly.getMainWorkspace().getBlockById(event.blockId);\n\n            if (this.required_parent_id && (!surround_parent || surround_parent.id !== this.required_parent_id)) {\n                const original_parent = Blockly.getMainWorkspace().getBlockById(this.required_parent_id);\n\n                if (original_parent) {\n                    const first_block_in_stack = original_parent.getInputTargetBlock('STACK');\n\n                    if (first_block_in_stack) {\n                        const last_connection = original_parent.getLastConnectionInStatement('STACK');\n                        runIrreversibleEvents(() => {\n                            last_connection.connect(this.previousConnection);\n                        });\n                    } else {\n                        runIrreversibleEvents(() => {\n                            original_parent.getInput('STACK').connection.connect(stack_blocks.previousConnection);\n                        });\n                    }\n                }\n            }\n        }\n    },\n    onIconClick: Blockly.Blocks.lists_statement.onIconClick,\n};\n\nBlockly.JavaScript.text_statement = block => {\n    const code = `String(${Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_ATOMIC)})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_append = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('to {{ variable }} append text {{ input_text }}', {\n                variable: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('text'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Appends a given text to a variable'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Append'),\n            description: localize('Appends a given text to a variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_append = block => {\n    const forceString = value => {\n        const strRegExp = /^\\s*'([^']|\\\\')*'\\s*$/;\n        if (strRegExp.test(value)) {\n            return value;\n        }\n        return `String(${value})`;\n    };\n\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const value = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n\n    const code = `${varName} += ${forceString(value)};\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Text String Length'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text String Length'),\n            description: localize(\n                'Returns the number of characters of a given string of text, including numbers, spaces, punctuation marks, and symbols.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_length = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_FUNCTION_CALL) || \"''\";\n\n    const code = `${text}.length`;\n    return [code, Blockly.JavaScript.ORDER_MEMBER];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('text {{ input_text }} is empty', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['String'],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Tests if a given text string is empty'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Is empty'),\n            description: localize('Tests whether a string of text is empty. Returns a boolean value (true or false).'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_isEmpty = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === text) !== -1;\n\n    const code = isVariable ? `!${text} || !${text}.length` : `!${text}.length`;\n    return [code, Blockly.JavaScript.ORDER_LOGICAL_NOT];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text1 }} find {{ first_or_last }} occurence of text {{ input_text2 }}',\n                {\n                    input_text1: '%1',\n                    first_or_last: '%2',\n                    input_text2: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Search for a given string'),\n            cateogry: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Search for string'),\n            description: localize(\n                'Searches through a string of text for a specific occurrence of a given character or word, and returns the position.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            FIND: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_indexOf = block => {\n    const functionName = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const substring = Blockly.JavaScript.valueToCode(block, 'FIND', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${text}.${functionName}(${substring})`;\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, Blockly.JavaScript.ORDER_ADDITION];\n    }\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_charAt = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const dropdown = this.getField('WHERE');\n        dropdown.setValidator(value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== this.isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.updateAt(true);\n    },\n    definition() {\n        return {\n            message0: localize('in text %1 get %2'),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE',\n                    options: [\n                        [localize('letter #'), 'FROM_START'],\n                        [localize('letter # from end'), 'FROM_END'],\n                        [localize('first letter'), 'FIRST'],\n                        [localize('last letter'), 'LAST'],\n                        [localize('random letter'), 'RANDOM'],\n                    ],\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific character from a given string'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get character'),\n            description: localize(\n                'Returns the specific character from a given string of text according to the selected option. '\n            ),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('at', !!this.isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        }\n\n        this.isAt = isAt;\n        this.initSvg();\n        this.render(false);\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            AT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_charAt = block => {\n    const where = block.getFieldValue('WHERE') || 'FROM_START';\n    const textOrder = where === 'RANDOM' ? Blockly.JavaScript.ORDER_NONE : Blockly.JavaScript.ORDER_MEMBER;\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', textOrder) || \"''\";\n\n    let code;\n\n    if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        // Adjust index if using one-based indices\n        code = `${text}.charAt(${at})`;\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, true);\n        code = `${text}.slice(${at}).charAt(0)`;\n    } else if (where === 'FIRST') {\n        code = `${text}.charAt(0)`;\n    } else if (where === 'LAST') {\n        code = `${text}.slice(-1)`;\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('textRandomLetter', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(text) {\n                var x = Math.floor(Math.random() * text.length);\n                return text[x];\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_getSubstring = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.jsonInit(this.definition());\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text }} get substring from {{ position1 }} {{ index1 }} to {{ position2 }} {{ index2 }}',\n                {\n                    input_text: '%1',\n                    position1: '%2',\n                    index1: '%3',\n                    position2: '%4',\n                    index2: '%5',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'STRING',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE1',\n                    options: this.WHERE_OPTIONS_1,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT1',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE2',\n                    options: this.WHERE_OPTIONS_2,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT2',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific portion of a given string of text.'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get substring'),\n            description: localize('Returns a specific portion of a given string of text.'),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, is_at) {\n        const input = this.getInput(`AT${n}`);\n        let old_label_text;\n\n        // Keep track of initial FieldLabel, we'll restore this when\n        // input types were changed.\n        if (input) {\n            input.fieldRow.some(field => {\n                if (field instanceof Blockly.FieldLabel) {\n                    old_label_text = field.text_; // eslint-disable-line no-underscore-dangle\n                }\n            });\n            this.removeInput(`AT${n}`);\n        }\n\n        const new_input = is_at ? this.appendValueInput(`AT${n}`).setCheck('Number') : this.appendDummyInput(`AT${n}`);\n\n        if (old_label_text) {\n            new_input.insertFieldAt(0, new Blockly.FieldLabel(old_label_text));\n        }\n\n        const menu = new Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const new_at = ['FROM_START', 'FROM_END'].includes(value);\n\n            if (new_at !== is_at) {\n                this.updateAt(n, new_at);\n                this.setFieldValue(value, `WHERE${n}`);\n\n                return null;\n            }\n\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n    getRequiredValueInputs() {\n        const hasInput = input_name => this.getInput(input_name)?.type === Blockly.INPUT_VALUE;\n        return {\n            STRING: emptyTextValidator,\n            ...(hasInput('AT1') ? { AT1: emptyTextValidator } : {}),\n            ...(hasInput('AT2') ? { AT2: emptyTextValidator } : {}),\n        };\n    },\n};\n\nBlockly.JavaScript.text_getSubstring = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'STRING', Blockly.JavaScript.ORDER_FUNCTION_CALL) || \"''\";\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = text;\n    } else if (\n        text.match(/^'?\\w+'?$/) ||\n        (where1 !== 'FROM_END' && where1 !== 'LAST' && where2 !== 'FROM_END' && where2 !== 'LAST')\n    ) {\n        switch (where1) {\n            case 'FROM_START': {\n                at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n                break;\n            }\n            case 'FROM_END': {\n                at1 = Blockly.JavaScript.getAdjusted(block, 'AT1', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n                at1 = `${text}.length - ${at1}`;\n                break;\n            }\n            case 'FIRST': {\n                at1 = '0';\n                break;\n            }\n            default:\n                break;\n        }\n\n        switch (where2) {\n            case 'FROM_START': {\n                at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 1);\n                break;\n            }\n            case 'FROM_END': {\n                at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 0, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n                at2 = `${text}.length - ${at2}`;\n                break;\n            }\n            case 'LAST': {\n                at2 = `${text}.length`;\n                break;\n            }\n            default:\n                break;\n        }\n\n        code = `${text}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        at2 = Blockly.JavaScript.getAdjusted(block, 'AT2');\n\n        const getIndex = (string_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${string_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${string_name}.length - 1`;\n            }\n            return opt_at;\n        };\n        const where_pascal_case = {\n            FIRST: 'First',\n            LAST: 'Last',\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n        };\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence\n                    ${where1 === 'FROM_END' || where1 === 'FROM_START' ? ', at1' : ''}\n                    ${where2 === 'FROM_END' || where2 === 'FROM_START' ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end   = ${getIndex('sequence', where2, 'at2')} + 1;\n                    \n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${functionName}(\n            ${text}\n            ${where1 === 'FROM_END' || where1 === 'FROM_START' ? `, ${at1}` : ''}\n            ${where2 === 'FROM_END' || where2 === 'FROM_START' ? `, ${at2}` : ''}\n        )`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_changeCase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Transform {{ input_text }} to {{ transform_type }}', {\n                input_text: '%1',\n                transform_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CASE',\n                    options: [\n                        [localize('UPPER CASE'), 'UPPERCASE'],\n                        [localize('lower case'), 'LOWERCASE'],\n                        [localize('Title Case'), 'TITLECASE'],\n                    ],\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Changes text case accordingly'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Change text case'),\n            description: localize(\n                'Changes the capitalisation of a string of text to Upper case, Lower case, Title case.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_changeCase = block => {\n    const operators = {\n        UPPERCASE: '.toUpperCase()',\n        LOWERCASE: '.toLowerCase()',\n        TITLECASE: null,\n    };\n    const operator = operators[block.getFieldValue('CASE')];\n    const textOrder = operator ? Blockly.JavaScript.ORDER_MEMBER : Blockly.JavaScript.ORDER_NONE;\n    const text = Blockly.JavaScript.valueToCode(block, 'TEXT', textOrder) || \"''\";\n\n    let code;\n\n    if (operator) {\n        code = `${text}${operator}`;\n    } else {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('textToTitleCase', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(str) {\n                return str.toLowerCase().split(' ').map(function(word) {\n                    return word.replace(word[0], word[0].toUpperCase());\n                }).join(' ');\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_trim = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('trim spaces from {{ side }} of {{ input_text }}', { side: '%1', input_text: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('both sides'), 'BOTH'],\n                        [localize('left side'), 'LEFT'],\n                        [localize('right side'), 'RIGHT'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trims spaces'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trim spaces'),\n            description: localize('Trims the spaces within a given string or text.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_trim = block => {\n    const operators = {\n        LEFT: \".replace(/^[\\\\s\\\\xa0]+/, '')\",\n        RIGHT: \".replace(/[\\\\s\\\\xa0]+$/, '')\",\n        BOTH: '.trim()',\n    };\n\n    const operator = operators[block.getFieldValue('MODE')];\n    const text = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${text}${operator}`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_print = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('print {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a dialog window with a message'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Print'),\n            description: localize(\n                'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_print = block => {\n    const msg = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const code = `window.alert(${msg});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_prompt_ext = {\n    init() {\n        this.jsonInit(this.definition());\n        const typeField = this.getField('TYPE');\n        typeField.setValidator(value => {\n            if (value === 'TEXT') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUMBER') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            this.render(false);\n            return undefined;\n        });\n    },\n    definition() {\n        return {\n            message0: localize('prompt for {{ string_or_number }} with message {{ input_text }}', {\n                string_or_number: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('string'), 'TEXT'],\n                        [localize('number'), 'NUMBER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output:\n                typeof this.getFieldValue === 'function' && this.getFieldValue('TYPE') === 'TEXT' ? 'String' : 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            tooltip: localize('Request an input'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Request an input'),\n            description: localize(\n                'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_prompt_ext = block => {\n    let msg, code;\n\n    if (block.getField('TEXT')) {\n        // Internal message\n        // eslint-disable-next-line no-underscore-dangle\n        msg = Blockly.JavaScript.quote_(block.getFieldValue('TEXT'));\n    } else {\n        // External message\n        msg = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    }\n\n    if (block.getFieldValue('TYPE') === 'NUMBER') {\n        code = `parseFloat(window.prompt(${msg}))`;\n    } else {\n        code = `window.prompt(${msg})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { reaction } from 'mobx';\nimport { api_base } from '../services/api/api-base';\n\nclass DBotStoreInterface {\n    // TODO here we are suppose to define an interface and implement fields of DBotStore.\n    handleFileChange = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n\n    toggleStrategyModal = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n}\n\nclass DBotStore extends DBotStoreInterface {\n    static singleton = null;\n\n    constructor(store) {\n        super();\n        this.is_mobile = store.is_mobile || false;\n        this.is_dark_mode_on = store.is_dark_mode_on || false;\n        this.client = store.client;\n        this.dashboard = store.dashboard;\n        this.flyout = store.flyout;\n        this.toolbar = store.toolbar;\n        this.toolbox = store.toolbox;\n        this.save_modal = store.save_modal;\n        this.load_modal = store.load_modal;\n        this.setContractUpdateConfig = store.setContractUpdateConfig;\n        this.toggleStrategyModal = store.toggleStrategyModal;\n        this.handleFileChange = store.handleFileChange;\n        this.setLoading = store.setLoading;\n\n        reaction(\n            () => this.client.loginid,\n            () => api_base.createNewInstance(this.client.loginid)\n        );\n    }\n\n    static setInstance(store) {\n        this.singleton = new DBotStore(store);\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default DBotStore;\n","// @deriv/bot: Set the minimum width of a statement block to be wider than default.\nBlockly.BlockSvg.MIN_BLOCK_X_WITH_STATEMENT = 100 * Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: Root block hat replaces with standard rounded corner\nBlockly.BlockSvg.START_HAT_PATH = `m 0,${Blockly.BlockSvg.CORNER_RADIUS} A ${Blockly.BlockSvg.CORNER_RADIUS}, ${Blockly.BlockSvg.CORNER_RADIUS} 0 0,1 ${Blockly.BlockSvg.CORNER_RADIUS},0`;\n\n// @deriv/bot: Changed the height of a row in a statement block to be 10.\nBlockly.BlockSvg.EXTRA_STATEMENT_ROW_Y = 10 * Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: visual improvement: changed editable field padding from 8 to 16\nBlockly.BlockSvg.EDITABLE_FIELD_PADDING = 16;\n\n/**\n * Change the colour of a block.\n */\nBlockly.BlockSvg.prototype.updateColour = function () {\n    let strokeColour = this.getColourTertiary();\n    const renderShadowed = this.isShadow() && !Blockly.scratchBlocksUtils.isShadowArgumentReporter(this);\n\n    if (renderShadowed && this.parentBlock_) {\n        // Pull shadow block stroke colour from parent block's tertiary if possible.\n        strokeColour = this.parentBlock_.getColourTertiary();\n        // Special case: if we contain a colour field, set to a special stroke colour.\n        if (\n            this.inputList[0] &&\n            this.inputList[0].fieldRow[0] &&\n            (this.inputList[0].fieldRow[0] instanceof Blockly.FieldColour ||\n                this.inputList[0].fieldRow[0] instanceof Blockly.FieldColourSlider)\n        ) {\n            strokeColour = Blockly.Colours.colourPickerStroke;\n        }\n    }\n\n    // Render block stroke\n    this.svgPath_.setAttribute('stroke', strokeColour);\n    let fillColour = this.getColour();\n\n    // Render block fill\n    if (this.isGlowingBlock_ || renderShadowed) {\n        // Use the block's shadow colour if possible.\n        if (this.getShadowColour()) {\n            fillColour = this.getShadowColour();\n        } else {\n            fillColour = this.getColourSecondary();\n        }\n    }\n    this.svgPath_.setAttribute('fill', fillColour);\n\n    // Render opacity\n    this.svgPath_.setAttribute('fill-opacity', this.getOpacity());\n\n    // Update colours of input shapes.\n    // eslint-disable-next-line no-cond-assign\n    for (let i = 0, input; (input = this.inputList[i]); i++) {\n        if (input.outlinePath) {\n            input.outlinePath.setAttribute('fill', this.getColourTertiary());\n        }\n    }\n\n    // Render icon(s) if applicable\n    const icons = this.getIcons();\n    for (let i = 0; i < icons.length; i++) {\n        icons[i].updateColour();\n    }\n\n    // Bump every dropdown to change its colour.\n    // eslint-disable-next-line no-cond-assign\n    for (let x = 0, input; (input = this.inputList[x]); x++) {\n        // eslint-disable-next-line no-cond-assign\n        for (let y = 0, field; (field = input.fieldRow[y]); y++) {\n            field.setText(null);\n        }\n    }\n    // deriv-bot: Update colours of input shapes to a fixed value of #FFF.\n    this.inputList.forEach(input => {\n        if (input.outlinePath) {\n            input.outlinePath.setAttribute('fill', 'var(--state-normal)');\n            input.outlinePath.setAttribute('stroke', '#6d7278');\n            input.outlinePath.setAttribute('stroke-width', '0.3px');\n        }\n    });\n};\n\n/**\n * For a block with output,\n * determine start and end padding, based on connected inputs.\n * Padding will depend on the shape of the output, the shape of the input,\n * and possibly the size of the input.\n * @param {!Array.<!Array.<!Object>>} input_rows Partially calculated rows.\n */\nBlockly.BlockSvg.prototype.computeOutputPadding_ = function (input_rows) {\n    // Only apply to blocks with outputs and not single fields (shadows).\n    if (\n        !this.getOutputShape() ||\n        !this.outputConnection ||\n        (this.isShadow() && !Blockly.scratchBlocksUtils.isShadowArgumentReporter(this))\n    ) {\n        return;\n    }\n\n    // Blocks with outputs must have single row to be padded.\n    if (input_rows.length > 1) {\n        return;\n    }\n\n    const row = input_rows[0];\n    const shape = this.getOutputShape();\n\n    // Reset any padding: it's about to be set.\n    row.paddingStart = 0;\n    row.paddingEnd = 0;\n\n    // Start row padding: based on first input or first field.\n    const firstInput = row[0];\n    const firstField = firstInput.fieldRow[0];\n    let otherShape;\n\n    // In checking the left/start side, a field takes precedence over any input.\n    // That's because a field will be rendered before any value input.\n    if (firstField) {\n        otherShape = 0; // Field comes first in the row.\n    } else {\n        // Value input comes first in the row.\n        const inputConnection = firstInput.connection;\n\n        if (!inputConnection) {\n            // @deriv/bot: Don't collapse if there's no connection.\n            return;\n        } else if (!inputConnection.targetConnection) {\n            // Not connected: use the drawn shape.\n            otherShape = inputConnection.getOutputShape();\n        } else {\n            // Connected: use the connected block's output shape.\n            otherShape = inputConnection.targetConnection.getSourceBlock().getOutputShape();\n        }\n\n        // Special case for hexagonal output: if the connection is larger height\n        // than a standard reporter, add some start padding.\n        // https://github.com/LLK/scratch-blocks/issues/376\n        if (shape === Blockly.OUTPUT_SHAPE_HEXAGONAL && otherShape !== Blockly.OUTPUT_SHAPE_HEXAGONAL) {\n            const deltaHeight = firstInput.renderHeight - Blockly.BlockSvg.MIN_BLOCK_Y_REPORTER;\n\n            // One grid unit per level of nesting.\n            row.paddingStart += deltaHeight / 2;\n        }\n    }\n\n    row.paddingStart += Blockly.BlockSvg.SHAPE_IN_SHAPE_PADDING[shape][otherShape];\n\n    // End row padding: based on last input or last field.\n    const lastInput = row[row.length - 1];\n\n    // In checking the right/end side, any value input takes precedence over any field.\n    // That's because fields are rendered before inputs...the last item\n    // in the row will be an input, if one exists.\n    if (lastInput.connection) {\n        // Value input last in the row.\n        const inputConnection = lastInput.connection;\n\n        if (!inputConnection.targetConnection) {\n            // Not connected: use the drawn shape.\n            otherShape = inputConnection.getOutputShape();\n        } else {\n            // Connected: use the connected block's output shape.\n            otherShape = inputConnection.targetConnection.getSourceBlock().getOutputShape();\n        }\n        // Special case for hexagonal output: if the connection is larger height\n        // than a standard reporter, add some end padding.\n        // https://github.com/LLK/scratch-blocks/issues/376\n        if (shape === Blockly.OUTPUT_SHAPE_HEXAGONAL && otherShape !== Blockly.OUTPUT_SHAPE_HEXAGONAL) {\n            const deltaHeight = lastInput.renderHeight - Blockly.BlockSvg.MIN_BLOCK_Y_REPORTER;\n\n            // One grid unit per level of nesting.\n            row.paddingEnd += deltaHeight / 2;\n        }\n    } else {\n        // No input in this row - mark as field.\n        otherShape = 0;\n    }\n\n    row.paddingEnd += Blockly.BlockSvg.SHAPE_IN_SHAPE_PADDING[shape][otherShape];\n};\n","import { localize } from '@deriv/translations';\nimport DBotStore from '../dbot-store';\nimport { save, isDarkRgbColour } from '../utils';\n\n/**\n * Select this block.  Highlight it visually.\n */\nBlockly.BlockSvg.prototype.addSelect = function () {\n    if (!this.isInFlyout) {\n        const { flyout } = DBotStore.instance;\n        if (flyout) {\n            flyout.setVisibility(false);\n        }\n        Blockly.utils.addClass(/** @type {!Element} */ (this.svgGroup_), 'blocklySelected');\n    }\n};\n\n/**\n * Set whether the block is disabled or not.\n * @param {boolean} disabled True if disabled.\n * @deriv/bot: Call updateDisabled() when setDisabled is called.\n */\nBlockly.BlockSvg.prototype.setDisabled = function (disabled) {\n    if (this.disabled !== disabled) {\n        Blockly.BlockSvg.superClass_.setDisabled.call(this, disabled);\n\n        if (this.rendered) {\n            this.updateDisabled();\n        }\n    }\n};\n\n/**\n * Enable or disable a block.\n * @deriv/bot: Update fill path if it doesn't match the disabledPatternId.\n */\nBlockly.BlockSvg.prototype.updateDisabled = function () {\n    if (this.disabled || this.getInheritedDisabled()) {\n        Blockly.utils.addClass(this.svgGroup_, 'blocklyDisabled');\n\n        const fill = `url(#${this.workspace.options.disabledPatternId})`;\n        if (this.svgPath_.getAttribute('fill') !== fill) {\n            this.svgPath_.setAttribute('fill', fill);\n        }\n    } else {\n        const removed = Blockly.utils.removeClass(this.svgGroup_, 'blocklyDisabled');\n        if (removed) {\n            this.updateColour();\n        }\n    }\n\n    const children = this.getChildren(false);\n    children.forEach(child => child.updateDisabled());\n};\n\n/**\n * Show the context menu for this block.\n * @param {!Event} e Mouse event.\n * @private\n * @deriv/bot: Restore contextMenu options from Blockly unavailable in Scratch\n */\nBlockly.BlockSvg.prototype.showContextMenu_ = function (e) {\n    if (this.workspace.options.readOnly || !this.contextMenu) {\n        return;\n    }\n\n    // Save the current block in a variable for use in closures.\n    const block = this;\n    const menu_options = [];\n\n    if (this.isDeletable() && this.isMovable() && !block.isInFlyout) {\n        menu_options.push(Blockly.ContextMenu.blockDuplicateOption(block, e));\n        menu_options.push(Blockly.ContextMenu.blockDetachOption(block, e));\n        if (this.isEditable() && this.workspace.options.comments) {\n            menu_options.push(Blockly.ContextMenu.blockCommentOption(block));\n        }\n\n        menu_options.push(Blockly.ContextMenu.blockDeleteOption(block));\n    } else if (this.parentBlock_ && this.isShadow_) {\n        this.parentBlock_.showContextMenu_(e);\n        return;\n    }\n\n    // Option to collapse/expand block.\n    if (this.workspace.options.collapse) {\n        if (this.collapsed_) {\n            const expand_option = { enabled: true };\n            expand_option.text = localize('Expand Block');\n            expand_option.callback = () => block.setCollapsed(false);\n            menu_options.push(expand_option);\n        } else {\n            const collapse_option = { enabled: true };\n            collapse_option.text = localize('Collapse Block');\n            collapse_option.callback = () => block.setCollapsed(true);\n            menu_options.push(collapse_option);\n        }\n    }\n\n    // Option to disable/enable block.\n    if (this.workspace.options.disable) {\n        const restricted_parents = block.restricted_parents || [];\n        const is_trade_parameter = this.type.includes('trade_definition_') && !this.isMovable();\n\n        const disable_option = {\n            text: this.disabled ? localize('Enable Block') : localize('Disable Block'),\n            enabled:\n                !is_trade_parameter &&\n                (!this.disabled ||\n                    restricted_parents.length === 0 ||\n                    restricted_parents.some(restricted_parent => block.isDescendantOf(restricted_parent))),\n            callback: () => {\n                const group = Blockly.Events.getGroup();\n                if (!group) {\n                    Blockly.Events.setGroup(true);\n                }\n\n                block.setDisabled(!block.disabled);\n\n                if (!group) {\n                    Blockly.Events.setGroup(false);\n                }\n            },\n        };\n        menu_options.push(disable_option);\n    }\n\n    // Option to download block.\n    if (this.isMovable()) {\n        const has_next_block = block.nextConnection && block.nextConnection.isConnected();\n        const downloadBlock = should_delete_next => {\n            const xml = Blockly.Xml.textToDom('<xml/>');\n            const block_xml = Blockly.Xml.blockToDom(block);\n            const file_name = should_delete_next ? block.type : `${block.type}_${localize('stack')}`;\n\n            if (should_delete_next) {\n                Blockly.Xml.deleteNext(block_xml);\n            }\n\n            xml.appendChild(block_xml);\n            save(file_name, /* collection */ true, xml);\n        };\n\n        menu_options.push({\n            text: localize('Download block'),\n            enabled: true,\n            callback: () => downloadBlock(true),\n        });\n\n        if (has_next_block) {\n            menu_options.push({\n                text: localize('Download stack'),\n                enabled: true,\n                callback: () => downloadBlock(false),\n            });\n        }\n    }\n\n    // Disable/Enable stack buttons. If target - last block in stack buttons will be hidden.\n    if (block.nextConnection?.targetConnection) {\n        menu_options.push(Blockly.ContextMenu.blockEnableOption(block, e));\n        menu_options.push(Blockly.ContextMenu.blockDisableOption(block, e));\n    }\n\n    // Allow the block to add or modify menu_options.\n    if (this.customContextMenu) {\n        this.customContextMenu(menu_options);\n    }\n\n    Blockly.ContextMenu.show(e, menu_options, this.RTL);\n    Blockly.ContextMenu.currentBlock = this;\n};\n\n/**\n * Set whether the block is error highlighted or not.\n * @param {boolean} highlighted True if highlighted for error.\n */\nBlockly.BlockSvg.prototype.setErrorHighlighted = function (\n    should_be_error_highlighted,\n    error_message = localize(\n        'The block(s) highlighted in red are missing input values. Please update them and click \"Run bot\".'\n    )\n) {\n    if (this.is_error_highlighted === should_be_error_highlighted) {\n        return;\n    }\n\n    const highlight_class = 'block--error-highlighted';\n\n    if (should_be_error_highlighted) {\n        // Below function does its own checks to check if class already exists.\n        Blockly.utils.addClass(this.svgGroup_, highlight_class);\n    } else {\n        Blockly.utils.removeClass(this.svgGroup_, highlight_class);\n    }\n\n    this.is_error_highlighted = should_be_error_highlighted;\n    this.error_message = error_message;\n};\n\n// Highlight the block that is being executed\nBlockly.BlockSvg.prototype.highlightExecutedBlock = function () {\n    const highlight_block_class = 'block--execution-highlighted';\n\n    if (!Blockly.utils.hasClass(this.svgGroup_, highlight_block_class)) {\n        Blockly.utils.addClass(this.svgGroup_, highlight_block_class);\n        setTimeout(() => {\n            if (this.svgGroup_) {\n                Blockly.utils.removeClass(this.svgGroup_, highlight_block_class);\n            }\n        }, 1505);\n    }\n};\n\n/**\n * Set block animation (Blink)\n */\n\nBlockly.BlockSvg.prototype.blink = function () {\n    const blink_class = 'block--blink';\n    Blockly.utils.addClass(this.svgGroup_, blink_class);\n\n    setTimeout(() => {\n        Blockly.utils.removeClass(this.svgGroup_, blink_class);\n    }, 2000);\n};\n\n/**\n * Set whether the block is collapsed or not.\n * @param {boolean} collapsed True if collapsed.\n */\nBlockly.BlockSvg.prototype.setCollapsed = function (collapsed) {\n    if (this.collapsed_ === collapsed) {\n        return;\n    }\n\n    // Firefox fix for Blockly widthcache bug\n    if (navigator.userAgent.search('Firefox') > 0) {\n        setTimeout(() => {\n            this.workspace.getAllFields().forEach(field => field.forceRerender());\n        }, 0); /* Time duration must be 0. We need this function\n        asynchronous for proper rerender after block resizing. */\n    }\n\n    const render_list = [];\n    const COLLAPSED_INPUT_NAME = '_TEMP_COLLAPSED_INPUT';\n\n    // Show/hide the inputs.\n    this.inputList.forEach(input => {\n        render_list.push(...input.setVisible(!collapsed));\n\n        // Hide empty rounded inputs\n        if (collapsed && input.type === 1 && !input.connection.targetConnection && input.outlinePath)\n            input.outlinePath.style.visibility = 'hidden';\n    });\n\n    if (collapsed) {\n        this.getIcons()\n            // Never hide ScratchBlockComments!\n            .filter(icon => !(icon instanceof Blockly.ScratchBlockComment))\n            .forEach(icon => icon.setVisible(false));\n\n        // Ensure class persists through collapse. Falls back to first\n        // field that has a class. Doesn't work when multiple\n        // field_labels on a block have different classes. So far we\n        // don't have a situation like that, so it works. \n        let field_class = null;\n\n        this.inputList.some(input =>\n            input.fieldRow.some(field => {\n                if (field.class_) {\n                    field_class = field.class_;\n                    return true;\n                }\n                return false;\n            })\n        );\n\n        const dropdown_path =\n            this.workspace.options.pathToMedia +\n            (isDarkRgbColour(this.getColour()) ? 'dropdown-arrow.svg' : 'dropdown-arrow-dark.svg');\n        const field_expand_icon = new Blockly.FieldImage(dropdown_path, 16, 16, localize('Expand'), () =>\n            this.setCollapsed(false)\n        );\n\n        if (this.type === 'procedures_defreturn' || this.type === 'procedures_defnoreturn') {\n            const function_name = this.getFieldValue('NAME');\n            const args = ` (${this.arguments.join(', ')})`;\n\n            this.appendDummyInput(COLLAPSED_INPUT_NAME)\n                .appendField(new Blockly.FieldLabel(localize('function'), field_class))\n                .appendField(new Blockly.FieldLabel(function_name + args, 'header__title'))\n                .appendField(field_expand_icon)\n                .init();\n        } else {\n            const text = this.toString(Blockly.COLLAPSE_CHARS);\n            const field_label = new Blockly.FieldLabel(text, field_class);\n\n            this.appendDummyInput(COLLAPSED_INPUT_NAME).appendField(field_label).appendField(field_expand_icon).init();\n        }\n    } else {\n        this.removeInput(COLLAPSED_INPUT_NAME);\n        this.setWarningText(null); // Clear any warnings inherited from enclosed blocks.\n    }\n\n    Blockly.BlockSvg.superClass_.setCollapsed.call(this, collapsed);\n\n    if (!render_list.length) {\n        render_list.push(this); // No child blocks, just render this block.\n    }\n\n    if (this.rendered) {\n        render_list.forEach(block => block.render());\n        // Don't bump neighbours.\n        // Although bumping neighbours would make sense, users often collapse\n        // all their functions and store them next to each other.  Expanding and\n        // bumping causes all their definitions to go out of alignment.\n    }\n\n    // Check whether the collapsed block needs to be highlighted.\n    this.setErrorHighlighted(collapsed && this.hasErrorHighlightedDescendant());\n};\n\nexport const blocksCoordinate = () => {\n    const during_purchase = Blockly.derivWorkspace?.getCanvas().children[1];\n    const after_purchase = Blockly.derivWorkspace?.getCanvas().children[2];\n    during_purchase?.setAttribute('transform', 'translate(720,0)');\n    after_purchase?.setAttribute('transform', 'translate(720,248)');\n};\n\n/**\n * @deriv/bot: Add check for workspace.getCanvas() before appendChild() is called.\n */\nBlockly.BlockSvg.prototype.initSvg = function () {\n    goog.asserts.assert(this.workspace.rendered, 'Workspace is headless.');\n    if (!this.isInsertionMarker()) {\n        // Insertion markers not allowed to have inputs or icons\n        // Input shapes are empty holes drawn when a value input is not connected.\n        // eslint-disable-next-line no-cond-assign\n        for (let i = 0, input; (input = this.inputList[i]); i++) {\n            input.init();\n            input.initOutlinePath(this.svgGroup_);\n        }\n        const icons = this.getIcons();\n        for (let i = 0; i < icons.length; i++) {\n            icons[i].createIcon();\n        }\n    }\n    this.updateColour();\n    this.updateMovable();\n    if (!this.workspace.options.readOnly && !this.eventsInit_) {\n        Blockly.bindEventWithChecks_(this.getSvgRoot(), 'mousedown', this, this.onMouseDown_);\n    }\n    this.eventsInit_ = true;\n\n    if (!this.getSvgRoot().parentNode && this.workspace.getCanvas()) {\n        this.workspace.getCanvas().appendChild(this.getSvgRoot());\n    }\n};\n","// @deriv/bot: make all input shapes rounded\nBlockly.Connection.prototype.getOutputShape = function () {\n    return Blockly.OUTPUT_SHAPE_ROUND;\n};\n","/**\n * ENUM for categories.\n * @const\n */\nBlockly.Categories = {\n    Trade_Definition: 'trade_parameters',\n    Before_Purchase: 'purchase_conditions',\n    During_Purchase: 'sell_conditions',\n    After_Purchase: 'trade_results',\n    Mathematical: 'math',\n    Logic: 'logic',\n    Text: 'text',\n    Variables: 'variables',\n    Functions: 'custom_functions',\n    List: 'lists',\n    Indicators: 'indicators',\n    Time: 'time',\n    Tick_Analysis: 'technical_analysis',\n    Candle: 'candle',\n    Miscellaneous: 'miscellaneous',\n    Loop: 'loops',\n};\n/**\n * Number of pixels the mouse must move before a drag starts.\n */\nBlockly.DRAG_RADIUS = 3;\n\n/**\n * Number of pixels the mouse must move before a drag/scroll starts from the\n * flyout.  Because the drag-intention is determined when this is reached, it is\n * larger than Blockly.DRAG_RADIUS so that the drag-direction is clearer.\n */\nBlockly.FLYOUT_DRAG_RADIUS = 1;\n","/**\n * Array making up the CSS content for Blockly.\n */\nBlockly.Css.CONTENT = [\n    '@keyframes blinkEffect {',\n    '0% {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n    '50% {',\n    'stroke: var(--status-warning);',\n    'stroke-width: 8px;',\n    '}',\n    '100% {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n    '}',\n\n    '.block--error-highlighted > .blocklyPath {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n\n    '@keyframes fade-in-out {',\n    '0%{',\n    'stroke-opacity: 0;',\n    '}',\n    '50%{',\n    'stroke-opacity: 1;',\n    'stroke-width: 6px;',\n    '}',\n    '100%{',\n    'stroke-opacity: 0;',\n    '}}',\n\n    '.block--execution-highlighted > .blocklyPath {',\n    'stroke: #89B2AF;',\n    'animation: fade-in-out 1.5s',\n    '}',\n\n    '.block--blink > .blocklyPath {',\n    'animation: blinkEffect 1s infinite;',\n    '}',\n\n    '.blocklySvg {',\n    'outline: none;',\n    'overflow: hidden;' /* IE overflows by default. */,\n    'position: absolute;',\n    'display: block;',\n    '}',\n\n    /* Necessary to position the drag surface */\n    '.blocklyRelativeWrapper {',\n    'position: relative;',\n    'width: 100%;',\n    'height: 100%;',\n    '}',\n\n    '.blocklyWidgetDiv {',\n    'display: none;',\n    'position: absolute;',\n    'z-index: 99999;' /* big value for bootstrap3 compatibility */,\n    '}',\n\n    '.injectionDiv {',\n    'height: calc(100vh - 11rem);',\n    'position: relative;',\n    'overflow: hidden;' /* So blocks in drag surface disappear at edges */,\n    'touch-action: none;',\n    '}',\n\n    '.blocklyNonSelectable {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.blocklyWidgetDiv.fieldTextInput {',\n    'overflow: hidden;',\n    'border: 1px solid;',\n    'box-sizing: border-box;',\n    'transform-origin: 0 0;',\n    '-ms-transform-origin: 0 0;',\n    '-moz-transform-origin: 0 0;',\n    '-webkit-transform-origin: 0 0;',\n    '}',\n\n    '.blocklyWidgetDiv.fieldTextInput.removableTextInput {',\n    'overflow: visible;',\n    '}',\n\n    '.blocklyTextDropDownArrow {',\n    'position: absolute;',\n    '}',\n\n    '.blocklyTextRemoveIcon {',\n    'position: absolute;',\n    'width: 24px;',\n    'height: 24px;',\n    'top: -40px;',\n    'left: 50%;',\n    'margin-left: -12px;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyNonSelectable {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.blocklyWsDragSurface {',\n    'display: none;',\n    'position: absolute;',\n    'top: 0;',\n    'left: 0;',\n    '}',\n    /* Added as a separate rule with multiple classes to make it more specific\n     than a bootstrap rule that selects svg:root. See issue #1275 for context.\n  */\n    '.blocklyWsDragSurface.blocklyOverflowVisible {',\n    'overflow: visible;',\n    '}',\n\n    '.blocklyBlockDragSurface {',\n    'display: none;',\n    'position: absolute;',\n    'top: 0;',\n    'left: 0;',\n    'right: 0;',\n    'bottom: 0;',\n    'overflow: visible !important;',\n    'z-index: 50;' /* Display above the toolbox */,\n    '}',\n\n    '.blocklyTooltipDiv {',\n    'min-height: 34px;',\n    'background-color: #d6dadb;',\n    'border-radius: 4px;',\n    'color: #333333;',\n    'padding: 8px;',\n    'font-size: 12px;',\n    'font-family: \"IBM Plex Sans\";',\n    'line-height: 1.5;',\n    'letter-spacing: normal;',\n    'position: absolute;',\n    'z-index: 100000;' /* big value for bootstrap3 compatibility */,\n    '}',\n\n    '.blocklyDropDownDiv {',\n    'position: fixed;',\n    'left: 0;',\n    'top: 0;',\n    'z-index: 1000;',\n    'display: none;',\n    'border: 1px solid;',\n    'border-radius: 4px;',\n    `box-shadow: 0px 0px 8px 1px ${Blockly.Colours.dropDownShadow};`,\n    'padding: 4px;',\n    '-webkit-user-select: none;',\n    'min-height: 15px',\n    '}',\n\n    '.blocklyDropDownContent {',\n    'max-height: 300px;', // @todo: spec for maximum height.\n    'overflow: auto;',\n    '}',\n\n    '.blocklyDropDownArrow {',\n    'position: absolute;',\n    'left: 0;',\n    'top: 0;',\n    'width: 16px;',\n    'height: 16px;',\n    'z-index: -1;',\n    'background-color: inherit;',\n    'border-color: inherit;',\n    '}',\n\n    '.blocklyDropDownButton {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'margin: 4px;',\n    'border-radius: 4px;',\n    'outline: none;',\n    'border: 1px solid;',\n    'transition: box-shadow .1s;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyDropDownButtonHover {',\n    `box-shadow: 0px 0px 0px 4px ${Blockly.Colours.fieldShadow};`,\n    '}',\n\n    '.blocklyDropDownButton:active {',\n    `box-shadow: 0px 0px 0px 6px ${Blockly.Colours.fieldShadow};`,\n    '}',\n\n    '.blocklyDropDownButton > img {',\n    'width: 80%;',\n    'height: 80%;',\n    'margin-top: 5%',\n    '}',\n\n    '.blocklyDropDownPlaceholder {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'margin: 4px;',\n    '}',\n\n    '.blocklyNumPadButton {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'width: 48px;',\n    'height: 48px;',\n    'margin: 4px;',\n    'border-radius: 4px;',\n    'background: $colour_numPadBackground;',\n    'color: #333333;',\n    'outline: none;',\n    'border: 1px solid $colour_numPadBorder;',\n    'cursor: pointer;',\n    'font-weight: 600;',\n    'font-size: 12pt;',\n    '-webkit-tap-highlight-color: rgba(0,0,0,0);',\n    '}',\n\n    '.blocklyNumPadButton > img {',\n    'margin-top: 10%;',\n    'width: 80%;',\n    'height: 80%;',\n    'filter: invert(1);',\n    '}',\n\n    '.blocklyNumPadButton:active {',\n    'background: $colour_numPadActiveBackground;',\n    '-webkit-tap-highlight-color: rgba(0,0,0,0);',\n    '}',\n\n    '.arrowTop {',\n    'border-top: 1px solid;',\n    'border-left: 1px solid;',\n    'border-top-left-radius: 4px;',\n    'border-color: inherit;',\n    '}',\n\n    '.arrowBottom {',\n    'border-bottom: 1px solid;',\n    'border-right: 1px solid;',\n    'border-bottom-right-radius: 4px;',\n    'border-color: inherit;',\n    '}',\n\n    '.valueReportBox {',\n    'min-width: 50px;',\n    'max-width: 300px;',\n    'max-height: 200px;',\n    'overflow: auto;',\n    'word-wrap: break-word;',\n    'text-align: center;',\n    'font-size: .8em;',\n    '}',\n\n    '.blocklyResizeSE {',\n    'cursor: se-resize;',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyResizeSW {',\n    'cursor: sw-resize;',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyResizeLine {',\n    'stroke: #888;',\n    'stroke-width: 1;',\n    '}',\n\n    '.blocklyHighlightedConnectionPath {',\n    'fill: none;',\n    'stroke: #fc3;',\n    'stroke-width: 4px;',\n    '}',\n\n    '.blocklyPath {',\n    'stroke-width: 0.3px;',\n\n    '}',\n\n    '.blocklySelected>.blocklyPath {',\n    'stroke: #ffc358;',\n    'stroke-width: 3px;',\n    '}',\n\n    '.blocklySelected>.blocklyPathLight {',\n    'display: none;',\n    '}',\n\n    '.blocklyDraggable {',\n    /* backup for browsers (e.g. IE11) that don't support grab */\n    'cursor: url(\"<<<PATH>>>/handopen.cur\"), auto;',\n    'cursor: grab;',\n    'cursor: -webkit-grab;',\n    'cursor: -moz-grab;',\n    '}',\n\n    '.blocklyDragging {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n    /* Changes cursor on mouse down. Not effective in Firefox because of\n    https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n    '.blocklyDraggable:active {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n    /* Change the cursor on the whole drag surface in case the mouse gets\n     ahead of block during a drag. This way the cursor is still a closed hand.\n   */\n    '.blocklyBlockDragSurface .blocklyDraggable {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n\n    '.blocklyDragging.blocklyDraggingDelete {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyDragging.blocklyDraggingMouseThrough {',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyToolboxDelete {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyToolboxGrab {',\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    '}',\n\n    '.blocklyDragging>.blocklyPath,',\n    '.blocklyDragging>.blocklyPathLight {',\n    'fill-opacity: 1.0;',\n    'stroke-opacity: 1.0;',\n    '}',\n\n    '.blocklyDragging>.blocklyPath {',\n    '}',\n\n    '.blocklyDisabled>.blocklyPath {',\n    'fill-opacity: .5;',\n    'stroke-opacity: .5;',\n    '}',\n\n    '.blocklyInsertionMarker>.blocklyPath {',\n    'stroke: none;',\n    '}',\n\n    '.blocklyText {',\n    'fill: #333333;',\n    'font-family: inherit;',\n    'font-size: var(--text-size-s);',\n    'font-weight: normal;',\n    'font-stretch: normal;',\n    'font-style: normal;',\n    'line-height: 1.5;',\n    'letter-spacing: normal;',\n    '}',\n\n    '.blocklyTextTruncated {',\n    'font-size: 11pt;',\n    '}',\n\n    '.blocklyNonEditableText>text {',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyNonEditableText>text,',\n    '.blocklyEditableText>text {',\n    'fill: var(--text-prominent);',\n    // 'fill: #575E75 !important;',\n    '}',\n\n    '.blocklyEditableText>.blocklyEditableLabel {',\n    'fill: var(--text-prominent);',\n    '}',\n\n    '.blocklyDropdownText {',\n    'fill: var(--text-prominent)!important;',\n    '}',\n\n    '.blocklyBubbleText {',\n    'fill: $colour_text;',\n    '}',\n    '.blocklyFlyout {',\n    'position: absolute;',\n    'z-index: 20;',\n    '}',\n    '.blocklyFlyoutButton {',\n    'fill: none;',\n    'pointer-events: all;',\n    '}',\n\n    '.blocklyFlyoutButtonBackground {',\n    'stroke: #c6c6c6;',\n    '}',\n\n    '.blocklyFlyoutButton .blocklyText {',\n    'fill: $colour_text;',\n    '}',\n\n    '.blocklyFlyoutButtonShadow {',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyFlyoutButton:hover {',\n    'fill: white;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyFlyoutLabel {',\n    'cursor: default;',\n    '}',\n\n    '.blocklyFlyoutLabelBackground {',\n    'opacity: 0;',\n    '}',\n\n    '.blocklyFlyoutLabelText {',\n    'font-size: 14pt;',\n    'fill: #575E75;',\n    'font-weight: bold;',\n    '}',\n\n    /*\n    Don't allow users to select text.  It gets annoying when trying to\n    drag a block and selected text moves instead.\n  */\n    '.blocklySvg text, .blocklyBlockDragSurface text, .blocklyFlyout text, .blocklyToolboxDiv text {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    'cursor: inherit;',\n    '}',\n\n    '.blocklyHidden {',\n    'display: none;',\n    '}',\n\n    '.blocklyFieldDropdown:not(.blocklyHidden) {',\n    'display: block;',\n    '}',\n\n    '.blocklyIconGroup {',\n    'cursor: default;',\n    '}',\n\n    '.blocklyIconGroup:not(:hover),',\n    '.blocklyIconGroupReadonly {',\n    'opacity: .6;',\n    '}',\n\n    '.blocklyIconShape {',\n    'fill: #00f;',\n    'stroke: #fff;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.blocklyIconSymbol {',\n    'fill: #fff;',\n    '}',\n\n    '.blocklyMinimalBody {',\n    'margin: 0;',\n    'padding: 0;',\n    '}',\n\n    '.blocklyCommentForeignObject {',\n    'position: relative;',\n    'z-index: 0;',\n    '}',\n\n    '.blocklyCommentRect {',\n    'fill: #E7DE8E;',\n    'stroke: #bcA903;',\n    'stroke-width: 1px',\n    '}',\n\n    '.blocklyCommentTarget {',\n    'fill: transparent;',\n    'stroke: #bcA903;',\n    '}',\n\n    '.blocklyCommentTargetFocused {',\n    'fill: none;',\n    '}',\n\n    '.blocklyCommentHandleTarget {',\n    'fill: none;',\n    '}',\n\n    '.blocklyCommentHandleTargetFocused {',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyFocused>.blocklyCommentRect {',\n    'fill: #B9B272;',\n    'stroke: #B9B272;',\n    '}',\n\n    '.blocklySelected>.blocklyCommentTarget {',\n    'stroke: #fc3;',\n    'stroke-width: 3px;',\n    '}',\n\n    '.blocklyCommentTextarea {',\n    'background-color: #fef49c;',\n    'border: 0;',\n    'outline: 0;',\n    'margin: 0;',\n    'padding: 3px;',\n    'resize: none;',\n    'display: block;',\n    'overflow: hidden;',\n    '}',\n\n    '.blocklyCommentDeleteIcon {',\n    'cursor: pointer;',\n    'fill: #000;',\n    'display: none',\n    '}',\n\n    '.blocklySelected > .blocklyCommentDeleteIcon {',\n    'display: block',\n    '}',\n\n    '.blocklyDeleteIconShape {',\n    'fill: #000;',\n    'stroke: #000;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {',\n    'stroke: #fc3;',\n    '}',\n\n    // Scratch Comments\n\n    '.scratchCommentForeignObject {',\n    'position: relative;',\n    '}',\n\n    '.scratchCommentBody {',\n    'background-color: #fef49c;',\n    'border-radius: 4px;',\n    '}',\n\n    '.scratchCommentRect {',\n    'fill: #fef49c;',\n    '}',\n\n    '.scratchCommentTarget {',\n    'fill: transparent;',\n    '}',\n\n    '.scratchWorkspaceCommentBorder {',\n    'stroke: #bcA903;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.scratchCommentTargetFocused {',\n    'fill: none;',\n    '}',\n\n    '.scratchCommentTopBar {',\n    'fill: #000000;',\n    'fill-opacity: 0.1',\n    '}',\n\n    '.scratchCommentText {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 12pt;',\n    'font-weight: 400;',\n    '}',\n\n    '.scratchCommentTextarea {',\n    'background-color: #fef49c;',\n    'border: 0;',\n    'outline: 0;',\n    'padding: 0;',\n    'resize: none;',\n    'overflow: hidden;',\n    '}',\n\n    '.scratchCommentResizeSE {',\n    'cursor: se-resize;',\n    'fill: transparent;',\n    '}',\n\n    '.scratchCommentResizeSW {',\n    'cursor: sw-resize;',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyHtmlInput {',\n    'border: none;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 12pt;',\n    'height: 100%;',\n    'margin: 0;',\n    'outline: none;',\n    'box-sizing: border-box;',\n    'width: 100%;',\n    'text-align: center;',\n    'color: $colour_text;',\n    'font-weight: 500;',\n    '}',\n\n    '.blocklyMainBackground {',\n    'stroke-width: 0;',\n    // 'stroke: #c6c6c6;',  /* Equates to #ddd due to border being off-pixel. */\n    '}',\n\n    '.blocklyMutatorBackground {',\n    'fill: #fff;',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    '}',\n\n    '.blocklyFlyoutBackground {',\n    'fill: $colour_flyout;',\n    'fill-opacity: .8;',\n    '}',\n\n    '.blocklyMainWorkspaceScrollbar {',\n    'z-index: 20;',\n    '}',\n\n    '.blocklyFlyoutScrollbar {',\n    'z-index: 30;',\n    '}',\n\n    '.blocklyScrollbarHorizontal, .blocklyScrollbarVertical {',\n    'position: absolute;',\n    'outline: none;',\n    '}',\n\n    '.blocklyScrollbarBackground {',\n    'opacity: 0;',\n    '}',\n\n    '.blocklyScrollbarHandle {',\n    'fill: $colour_scrollbar;',\n    '}',\n\n    '.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,',\n    '.blocklyScrollbarHandle:hover {',\n    'fill: $colour_scrollbarHover;',\n    '}',\n\n    '.blocklyZoom>image {',\n    'opacity: 1;',\n    '}',\n\n    /* Darken flyout scrollbars due to being on a grey background. */\n    /* By contrast, workspace scrollbars are on a white background. */\n    '.blocklyFlyout .blocklyScrollbarHandle {',\n    'fill: #bbb;',\n    '}',\n\n    '.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,',\n    '.blocklyFlyout .blocklyScrollbarHandle:hover {',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyInvalidInput {',\n    'background: #faa;',\n    '}',\n\n    '.blocklyAngleCircle {',\n    `stroke: ${Blockly.Colours.motion.tertiary};`,\n    'stroke-width: 1;',\n    `fill: ${Blockly.Colours.motion.secondary};`,\n    '}',\n\n    '.blocklyAngleCenterPoint {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'fill: #fff;',\n    '}',\n\n    '.blocklyAngleDragHandle {',\n    'stroke: #fff;',\n    'stroke-width: 5;',\n    'stroke-opacity: 0.25;',\n    'fill: #fff;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyAngleDragArrow {',\n    'pointer-events: none',\n    '}',\n\n    '.blocklyAngleMarks {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'stroke-opacity: 0.5;',\n    '}',\n\n    '.blocklyAngleGauge {',\n    'fill: #fff;',\n    'fill-opacity: 0.20;',\n    '}',\n\n    '.blocklyAngleLine {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'stroke-linecap: round;',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyContextMenu {',\n    'border-radius: 4px;',\n    'max-height: 100%;',\n    '}',\n\n    '.blocklyDropdownMenu {',\n    'padding: 0 !important;',\n    '}',\n\n    '.blocklyDropDownNumPad {',\n    'background-color: $colour_numPadBackground;',\n    '}',\n\n    /* Override the default Closure URL. */\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {',\n    'background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;',\n    '}',\n\n    /* Category tree in Toolbox. */\n    '.blocklyToolboxDiv {',\n    'background-color: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'overflow-x: visible;',\n    'overflow-y: auto;',\n    'position: absolute;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'z-index: 40;' /* so blocks go over toolbox when dragging */,\n    '-webkit-tap-highlight-color: transparent;' /* issue #1345 */,\n    '}',\n\n    '.blocklyTreeRoot {',\n    'padding: 4px 0;',\n    '}',\n\n    '.blocklyTreeRoot:focus {',\n    'outline: none;',\n    '}',\n\n    '.blocklyTreeRow {',\n    'height: 22px;',\n    'line-height: 22px;',\n    'margin-bottom: 3px;',\n    'padding-right: 8px;',\n    'white-space: nowrap;',\n    '}',\n\n    '.blocklyHorizontalTree {',\n    'float: left;',\n    'margin: 1px 5px 8px 0;',\n    '}',\n\n    '.blocklyHorizontalTreeRtl {',\n    'float: right;',\n    'margin: 1px 0 8px 5px;',\n    '}',\n\n    '.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeRow {',\n    'margin-left: 8px;',\n    '}',\n\n    '.blocklyTreeRow:not(.blocklyTreeSelected):hover {',\n    'background-color: #e4e4e4;',\n    '}',\n\n    '.blocklyTreeSeparator {',\n    'border-bottom: solid #e5e5e5 1px;',\n    'height: 0;',\n    'margin: 5px 0;',\n    '}',\n\n    '.blocklyTreeSeparatorHorizontal {',\n    'border-right: solid #e5e5e5 1px;',\n    'width: 0;',\n    'padding: 5px 0;',\n    'margin: 0 5px;',\n    '}',\n\n    '.blocklyTreeIcon {',\n    'background-image: url(<<<PATH>>>/sprites.png);',\n    'height: 16px;',\n    'vertical-align: middle;',\n    'width: 16px;',\n    '}',\n\n    '.blocklyTreeIconClosedLtr {',\n    'background-position: -32px -1px;',\n    '}',\n\n    '.blocklyTreeIconClosedRtl {',\n    'background-position: 0px -1px;',\n    '}',\n\n    '.blocklyTreeIconOpen {',\n    'background-position: -16px -1px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconClosedLtr {',\n    'background-position: -32px -17px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconClosedRtl {',\n    'background-position: 0px -17px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconOpen {',\n    'background-position: -16px -17px;',\n    '}',\n\n    '.blocklyTreeIconNone,',\n    '.blocklyTreeSelected>.blocklyTreeIconNone {',\n    'background-position: -48px -1px;',\n    '}',\n\n    '.blocklyTreeLabel {',\n    'cursor: default;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 16px;',\n    'padding: 0 3px;',\n    'vertical-align: middle;',\n    '}',\n\n    '.blocklyToolboxDelete .blocklyTreeLabel {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyTreeSelected .blocklyTreeLabel {',\n    'color: #fff;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-slider-horizontal {',\n    'margin: 8px;',\n    'height: 22px;',\n    'width: 150px;',\n    'position: relative;',\n    'outline: none;',\n    'border-radius: 11px;',\n    'margin-bottom: 20px;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-slider-horizontal .goog-slider-thumb {',\n    'width: 26px;',\n    'height: 26px;',\n    'top: -1px;',\n    'position: absolute;',\n    'background-color: white;',\n    'border-radius: 100%;',\n    '-webkit-box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    '-moz-box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    'box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    '}',\n\n    '.scratchEyedropper {',\n    'background: none;',\n    'outline: none;',\n    'border: none;',\n    'width: 100%;',\n    'text-align: center;',\n    'border-top: 1px solid #ddd;',\n    'padding-top: 5px;',\n    'cursor: pointer;',\n    '}',\n\n    '.scratchColourPickerLabel {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 0.65rem;',\n    'color: $colour_toolboxText;',\n    'margin: 8px;',\n    '}',\n\n    '.scratchColourPickerLabelText {',\n    'font-weight: bold;',\n    '}',\n\n    '.scratchColourPickerReadout {',\n    'margin-left: 10px;',\n    '}',\n\n    '.scratchMatrixButtonDiv {',\n    'width: 50%;',\n    'text-align: center;',\n    'float: left;',\n    '}',\n\n    '.scratchNotePickerKeyLabel {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 0.75rem;',\n    'fill: $colour_text;',\n    'pointer-events: none;',\n    '}',\n\n    /* Copied from: goog/css/menu.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    '.blocklyWidgetDiv .goog-menu {',\n    'background: #fff;',\n    'border-color: #ccc #666 #666 #ccc;',\n    'border-style: solid;',\n    'border-width: 1px;',\n    'cursor: default;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'margin: 0;',\n    'outline: none;',\n    'padding: 4px 0;',\n    'position: absolute;',\n    'overflow-y: auto;',\n    'overflow-x: hidden;',\n    'z-index: 20000;' /* Arbitrary, but some apps depend on it... */,\n    '}',\n\n    '.blocklyDropDownDiv .goog-menu {',\n    'cursor: default;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'outline: none;',\n    'z-index: 20000;' /* Arbitrary, but some apps depend on it... */,\n    '}',\n\n    /* Copied from: goog/css/menuitem.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuItemRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    /**\n     * State: resting.\n     *\n     * NOTE(mleibman,chrishenry):\n     * The RTL support in Closure is provided via two mechanisms -- \"rtl\" CSS\n     * classes and BiDi flipping done by the CSS compiler.  Closure supports RTL\n     * with or without the use of the CSS compiler.  In order for them not\n     * to conflict with each other, the \"rtl\" CSS classes need to have the #noflip\n     * annotation.  The non-rtl counterparts should ideally have them as well, but,\n     * since .goog-menuitem existed without .goog-menuitem-rtl for so long before\n     * being added, there is a risk of people having templates where they are not\n     * rendering the .goog-menuitem-rtl class when in RTL and instead rely solely\n     * on the BiDi flipping by the CSS compiler.  That's why we're not adding the\n     * #noflip to .goog-menuitem.\n     */\n    '.blocklyWidgetDiv .goog-menuitem {',\n    'color: #000;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'list-style: none;',\n    'margin: 0;',\n    /* 28px on the left for icon or checkbox; 7em on the right for shortcut. */\n    'padding: 4px 7em 4px 28px;',\n    'white-space: nowrap;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-menuitem {',\n    'color: #333333;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-weight: bold;',\n    'list-style: none;',\n    'margin: 0;',\n    'min-height: 24px;',\n    /* 28px on the left for icon or checkbox; 7em on the right for shortcut. */\n    'padding: 4px 7em 4px 28px;',\n    'white-space: nowrap;',\n    '}',\n\n    /* BiDi override for the resting state. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ',\n    '.blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {',\n    /* Flip left/right padding for BiDi. */\n    'padding-left: 7em;',\n    'padding-right: 28px;',\n    '}',\n\n    /* If a menu doesn't have checkable items or items with icons, remove padding. */\n    '.blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,',\n    '.blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ',\n    '.blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,',\n    '.blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ',\n    'padding-left: 12px;',\n    '}',\n\n    /*\n     * If a menu doesn't have items with shortcuts, leave just enough room for\n     * submenu arrows, if they are rendered.\n     */\n    '.blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ',\n    '.blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {',\n    'padding-right: 20px;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-content ',\n    '.blocklyDropDownDiv .goog-menuitem-content {',\n    'color: #000;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    '}',\n\n    /* State: disabled. */\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,',\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel,',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {',\n    'color: #ccc !important;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {',\n    'opacity: 0.3;',\n    '-moz-opacity: 0.3;',\n    'filter: alpha(opacity=30);',\n    '}',\n\n    /* State: hover. */\n    '.blocklyWidgetDiv .goog-menuitem-highlight,',\n    '.blocklyWidgetDiv .goog-menuitem-hover {',\n    'background-color: #d6e9f8;',\n    /* Use an explicit top and bottom border so that the selection is visible',\n     * in high contrast mode. */\n    'border-color: #d6e9f8;',\n    'border-style: dotted;',\n    'border-width: 1px 0;',\n    'padding-bottom: 3px;',\n    'padding-top: 3px;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-menuitem-highlight,',\n    '.blocklyDropDownDiv .goog-menuitem-hover {',\n    'background-color: rgba(0, 0, 0, 0.2);',\n    '}',\n\n    /* State: selected/checked. */\n    '.blocklyWidgetDiv .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-menuitem-icon, ',\n    '.blocklyDropDownDiv .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-menuitem-icon {',\n    'background-repeat: no-repeat;',\n    'height: 16px;',\n    'left: 6px;',\n    'position: absolute;',\n    'right: auto;',\n    'vertical-align: middle;',\n    'width: 16px;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,',\n    '.blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {',\n    /* Client apps may override the URL at which they serve the sprite. */\n    'background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;',\n    'position: static;' /* Scroll with the menu. */,\n    'float: left;',\n    'margin-left: -24px;',\n    '}',\n\n    /* BiDi override for the selected/checked state. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {',\n    /* Flip left/right positioning. */\n    'float: right;',\n    'margin-right: -24px;',\n    '}',\n\n    /* Keyboard shortcut (\"accelerator\") style. */\n    '.blocklyWidgetDiv .goog-menuitem-accel, ',\n    '.blocklyDropDownDiv .goog-menuitem-accel {',\n    'color: #999;',\n    /* Keyboard shortcuts are untranslated; always left-to-right. */\n    /* #noflip */\n    'direction: ltr;',\n    'left: auto;',\n    'padding: 0 6px;',\n    'position: absolute;',\n    'right: 0;',\n    'text-align: right;',\n    '}',\n\n    /* BiDi override for shortcut style. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {',\n    /* Flip left/right positioning and text alignment. */\n    'left: 0;',\n    'right: auto;',\n    'text-align: left;',\n    '}',\n\n    /* Mnemonic styles. */\n    '.blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ',\n    '.blocklyDropDownDiv .goog-menuitem-mnemonic-hint {',\n    'text-decoration: underline;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ',\n    '.blocklyDropDownDiv .goog-menuitem-mnemonic-separator {',\n    'color: #999;',\n    'font-size: 12px;',\n    'padding-left: 4px;',\n    '}',\n\n    /* Copied from: goog/css/menuseparator.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuSeparatorRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    '.blocklyWidgetDiv .goog-menuseparator, ',\n    '.blocklyDropDownDiv .goog-menuseparator {',\n    'border-top: 1px solid #ccc;',\n    'margin: 4px 0;',\n    'padding: 0;',\n    '}',\n\n    '.blocklyFlyoutCheckbox {',\n    'fill: white;',\n    'stroke: #c8c8c8;',\n    '}',\n\n    '.blocklyFlyoutCheckbox.checked {',\n    `fill: ${Blockly.Colours.motion.primary};`,\n    `stroke: ${Blockly.Colours.motion.tertiary};`,\n    '}',\n\n    '.blocklyFlyoutCheckboxPath {',\n    'stroke: white;',\n    'stroke-width: 3;',\n    'stroke-linecap: round;',\n    'stroke-linejoin: round;',\n    '}',\n\n    '.scratchCategoryMenu {',\n    'width: 60px;',\n    'background: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'font-size: .7rem;',\n    'user-select: none;',\n    '-webkit-user-select: none;',\n    '-moz-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal {',\n    'width: 100%;',\n    'height: 50px;',\n    'background: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'font-size: .7em;',\n    'user-select: none;',\n    '-webkit-user-select: none;',\n    '-moz-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal .scratchCategoryMenuRow {',\n    'float: left;',\n    'margin: 3px;',\n    '}',\n\n    '.scratchCategoryMenuRow {',\n    '}',\n\n    '.scratchCategoryMenuItem {',\n    'padding: 0.375rem 0px;',\n    'cursor: pointer;',\n    'text-align: center;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal .scratchCategoryMenuItem {',\n    'padding: 6px 5px;',\n    '}',\n\n    '.scratchCategoryMenuItem.categorySelected {',\n    'background: $colour_toolboxSelected;',\n    '}',\n\n    '.scratchCategoryItemBubble {',\n    'width: 1.25rem;',\n    'height: 1.25rem;',\n    'border: 1px solid;',\n    'border-radius: 100%;',\n    'margin: 0 auto 0.125rem;',\n    '}',\n\n    '.scratchCategoryItemIcon {',\n    'width: 1.25rem;',\n    'height: 1.25rem;',\n    'margin: 0 auto 0.125rem;',\n    'background-size: 100%;',\n    '}',\n\n    '.scratchCategoryMenuItem:hover {',\n    'color: $colour_toolboxHover !important;',\n    '}',\n    '',\n];\n","/**\n * Class for an image on a block.\n * @deriv/bot: Blockly implementation vs. Scratch for click handlers\n * @param {string} src The URL of the image.\n * @param {number} width Width of the image.\n * @param {number} height Height of the image.\n * @param {string=} optAlt Optional alt text for when block is collapsed.\n * @param {Function=} optOnClick Optional function to be called when the image\n *     is clicked.  If optOnClick is defined, optAlt must also be defined.\n * @param {boolean=} optFlipRtl Whether to flip the icon in RTL.\n * @extends {Blockly.Field}\n * @constructor\n */\nBlockly.FieldImage = function (src, width, height, optAlt, optOnClick, optFlipRtl) {\n    this.sourceBlock_ = null;\n\n    // Ensure height and width are numbers.  Strings are bad at math.\n    this.height_ = Number(height);\n    this.width_ = Number(width);\n    this.size_ = new goog.math.Size(this.width_, this.height_);\n    this.flipRtl_ = optFlipRtl;\n    this.tooltip_ = '';\n    this.setValue(src);\n    this.setText(optAlt);\n\n    if (typeof optOnClick === 'function') {\n        this.clickHandler_ = optOnClick;\n    }\n};\ngoog.inherits(Blockly.FieldImage, Blockly.Field);\n\n/**\n * Construct a FieldImage from a JSON arg object,\n * dereferencing any string table references.\n * @param {!Object} options A JSON object with options (src, width, height,\n *    alt, and flipRtl).\n * @return {!Blockly.FieldImage} The new field instance.\n * @package\n * @nocollapse\n */\nBlockly.FieldImage.fromJson = function (options) {\n    const src = Blockly.utils.replaceMessageReferences(options.src);\n    const width = Number(Blockly.utils.replaceMessageReferences(options.width));\n    const height = Number(Blockly.utils.replaceMessageReferences(options.height));\n    const alt = Blockly.utils.replaceMessageReferences(options.alt);\n    const flipRtl = !!options.flipRtl;\n    return new Blockly.FieldImage(src, width, height, alt, null, flipRtl);\n};\n\n/**\n * Editable fields are saved by the XML renderer, non-editable fields are not.\n */\nBlockly.FieldImage.prototype.EDITABLE = false;\n\n/**\n * Install this image on a block.\n */\nBlockly.FieldImage.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Image has already been initialized once.\n        return;\n    }\n    // Build the DOM.\n    /** @type {SVGElement} */\n    this.fieldGroup_ = Blockly.utils.createSvgElement('g', {}, null);\n    if (!this.visible_) {\n        this.fieldGroup_.style.display = 'none';\n    }\n    /** @type {SVGElement} */\n    this.imageElement_ = Blockly.utils.createSvgElement(\n        'image',\n        {\n            height: `${this.height_}px`,\n            width: `${this.width_}px`,\n        },\n        this.fieldGroup_\n    );\n    this.setValue(this.src_);\n    this.setText(this.text_);\n    this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);\n\n    if (this.tooltip_) {\n        this.imageElement_.tooltip = this.tooltip_;\n    } else {\n        // Configure the field to be transparent with respect to tooltips.\n        this.setTooltip(this.sourceBlock_);\n    }\n    Blockly.Tooltip.bindMouseEvents(this.imageElement_);\n\n    this.maybeAddClickHandler_();\n};\n\n/**\n * Dispose of all DOM objects belonging to this text.\n */\nBlockly.FieldImage.prototype.dispose = function () {\n    goog.dom.removeNode(this.fieldGroup_);\n    this.fieldGroup_ = null;\n    this.imageElement_ = null;\n};\n\n/**\n * Bind events for a mouse down on the image, but only if a click handler has\n * been defined. If a click handler is attached to the image, change the cursor to a pointer.\n * @private\n */\nBlockly.FieldImage.prototype.maybeAddClickHandler_ = function () {\n    if (this.clickHandler_ && !this.sourceBlock_.workspace.options.readOnly && !this.sourceBlock_.isInFlyout) {\n        this.mouseDownWrapper_ = Blockly.bindEventWithChecks_(this.fieldGroup_, 'mousedown', this, this.clickHandler_);\n        this.fieldGroup_.style.cursor = 'pointer';\n    }\n};\n\n/**\n * Change the tooltip text for this field.\n * @param {string|!Element} newTip Text for tooltip or a parent element to\n *     link to for its tooltip.\n */\nBlockly.FieldImage.prototype.setTooltip = function (newTip) {\n    this.tooltip_ = newTip;\n    if (this.imageElement_) {\n        this.imageElement_.tooltip = newTip;\n    }\n};\n\n/**\n * Get the source URL of this image.\n * @return {string} Current text.\n * @override\n */\nBlockly.FieldImage.prototype.getValue = function () {\n    return this.src_;\n};\n\n/**\n * Set the source URL of this image.\n * @param {?string} src New source.\n * @override\n */\nBlockly.FieldImage.prototype.setValue = function (src) {\n    if (src === null) {\n        // No change if null.\n        return;\n    }\n    this.src_ = src;\n    if (this.imageElement_) {\n        this.imageElement_.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', src || '');\n    }\n};\n\n/**\n * Get whether to flip this image in RTL\n * @return {boolean} True if we should flip in RTL.\n */\nBlockly.FieldImage.prototype.getFlipRtl = function () {\n    return this.flipRtl_;\n};\n\n/**\n * Set the alt text of this image.\n * @param {?string} alt New alt text.\n * @override\n */\nBlockly.FieldImage.prototype.setText = function (alt) {\n    if (alt === null) {\n        // No change if null.\n        return;\n    }\n    this.text_ = alt;\n    if (this.imageElement_) {\n        this.imageElement_.setAttribute('alt', alt || '');\n    }\n};\n\n/**\n * Images are fixed width, no need to render.\n * @private\n */\nBlockly.FieldImage.prototype.render_ = function () {\n    // NOP\n};\n\n/**\n * Images are fixed width, no need to render even if forced.\n */\nBlockly.FieldImage.prototype.forceRerender = function () {\n    // NOP\n};\n\n/**\n * Images are fixed width, no need to update.\n * @private\n */\nBlockly.FieldImage.prototype.updateWidth = function () {\n    // NOP\n};\n\n/**\n * If field click is called, and click handler defined,\n * call the handler.\n */\nBlockly.FieldImage.prototype.showEditor_ = function () {\n    if (this.clickHandler_) {\n        this.clickHandler_(this);\n    }\n};\n\nBlockly.Field.register('field_image', Blockly.FieldImage);\n","/**\n * Install this text field on a block.\n */\nBlockly.FieldTextInput.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Field has already been initialized once.\n        return;\n    }\n\n    const notInShadow = !this.sourceBlock_.isShadow();\n\n    if (notInShadow) {\n        this.className_ += ' blocklyEditableLabel';\n    }\n\n    this.maxDisplayLength = 17;\n\n    Blockly.FieldTextInput.superClass_.init.call(this);\n\n    // If not in a shadow block, draw a box.\n    if (notInShadow) {\n        this.box_ = Blockly.utils.createSvgElement('rect', {\n            rx: Blockly.BlockSvg.CORNER_RADIUS * 4,\n            ry: Blockly.BlockSvg.CORNER_RADIUS * 4,\n            x: 0,\n            y: 0,\n            width: this.size_.width,\n            height: this.size_.height,\n            fill: this.sourceBlock_.getColourSecondary(),\n            stroke: this.sourceBlock_.getColourTertiary(),\n            'stroke-width': '0.3px',\n        });\n        this.fieldGroup_.insertBefore(this.box_, this.textElement_);\n    }\n};\n","/**\n * Update this gesture to record whether a block is being dragged from the\n * flyout. This function should be called on a mouse/touch move event the first time the\n * drag radius is exceeded.  It should be called no more than once per gesture.\n * If a block should be dragged from the flyout this function creates the new\n * block on the main workspace and updates targetBlock_ and startWorkspace_.\n * @return {boolean} True if a block is being dragged from the flyout.\n * @private\n */\nBlockly.Gesture.prototype.updateIsDraggingFromFlyout_ = function () {\n    // Disabled blocks may not be dragged from the flyout.\n    if (this.targetBlock_.disabled) {\n        return false;\n    }\n\n    if (!this.flyout_.isScrollable() || this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)) {\n        this.startWorkspace_ = this.flyout_.targetWorkspace_;\n        this.startWorkspace_.updateScreenCalculationsIfScrolled();\n\n        // Start the event group now, so that the same event group is used for block\n        // creation and block dragging.\n        if (!Blockly.Events.getGroup()) {\n            Blockly.Events.setGroup(true);\n        }\n\n        // The start block is no longer relevant, because this is a drag.\n        this.startBlock_ = null;\n        this.targetBlock_ = this.flyout_.createBlock(this.mostRecentEvent_, this.targetBlock_);\n        this.targetBlock_.select();\n        return true;\n    }\n    return false;\n};\n","/**\n * Render the icon.\n * @param {number} cursorX Horizontal offset at which to position the icon.\n * @return {number} Horizontal offset for next item to draw.\n */\nBlockly.Icon.prototype.renderIcon = function (cursorX) {\n    if (this.collapseHidden && this.block_.isCollapsed()) {\n        this.iconGroup_.setAttribute('display', 'none');\n        return cursorX;\n    }\n\n    this.iconGroup_.setAttribute('display', 'block');\n\n    let newCursorX = cursorX;\n\n    const TOP_MARGIN = 9;\n    const width = this.SIZE;\n\n    if (this.block_.RTL) {\n        newCursorX -= width;\n    }\n\n    this.iconGroup_.setAttribute('transform', `localize(${newCursorX},${TOP_MARGIN})`);\n    this.computeIconLocation();\n\n    if (this.block_.RTL) {\n        newCursorX -= Blockly.BlockSvg.SEP_SPACE_X;\n    } else {\n        newCursorX += width + Blockly.BlockSvg.SEP_SPACE_X;\n    }\n\n    return newCursorX;\n};\n","import { config } from '../../constants/config';\n\n// Structure is { '<outerHtml />': { height: 1, width: 1 } }\nBlockly.Block.Dimensions = {};\n\nBlockly.Block.prototype.getDisplayName = function () {\n    if (this.meta) {\n        const block_meta = this.meta();\n        return block_meta && block_meta.display_name;\n    }\n    return this.type;\n};\n\nBlockly.Block.prototype.getSiblings = function () {\n    const siblings = [this];\n    ['getPreviousBlock', 'getNextBlock'].forEach(functionName => {\n        let block = this[functionName]();\n        while (block !== null) {\n            const parent = this.getParent();\n            if (parent && parent.id === block.id) {\n                break;\n            }\n\n            siblings.push(block);\n            block = block[functionName]();\n        }\n    });\n    return siblings;\n};\n\nBlockly.Block.prototype.getChildByType = function (type) {\n    return this.getDescendants().find(child => child.type === type);\n};\n\nBlockly.Block.prototype.getChildFieldValue = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    if (childBlock) {\n        const value = childBlock.getFieldValue(childField);\n        return value;\n    }\n    return null;\n};\n\nBlockly.Block.prototype.childValueToCode = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    return childBlock && Blockly.JavaScript.valueToCode(childBlock, childField, Blockly.JavaScript.ORDER_ATOMIC);\n};\n\nBlockly.Block.prototype.getBlocksInStatement = function (statementInputName) {\n    const blocksInStatement = [];\n    const firstBlock = this.getInputTargetBlock(statementInputName);\n\n    if (firstBlock) {\n        return firstBlock.getSiblings();\n    }\n    return blocksInStatement;\n};\n\nBlockly.Block.prototype.getLastConnectionInStatement = function (statement_input_name) {\n    const first_block_in_stack = this.getInputTargetBlock(statement_input_name);\n\n    if (first_block_in_stack) {\n        return first_block_in_stack.lastConnectionInStack();\n    }\n\n    const statement_input = this.getInput(statement_input_name);\n    return statement_input.connection;\n};\n\n/**\n * Get whether this block is enabled or not.\n * @return {boolean} True if enabled.\n */\nBlockly.Block.prototype.isEnabled = function () {\n    return !this.disabled;\n};\n\nBlockly.Block.prototype.isDescendantOf = function (type) {\n    let parentBlock = this.getParent();\n    while (parentBlock !== null) {\n        if (parentBlock.type === type) {\n            return true;\n        }\n        parentBlock = parentBlock.getParent();\n    }\n    return false;\n};\n\nBlockly.Block.prototype.getTopParent = function () {\n    let parent = this.getParent();\n    while (parent !== null) {\n        const nextParent = parent.getParent();\n        if (!nextParent) {\n            return parent;\n        }\n        parent = nextParent;\n    }\n    return null;\n};\n\nBlockly.Block.getDimensions = function (block_node) {\n    // Attempt to retrieve dimensions from memory rather than recalculating.\n    const existing_dimensions_key = Object.keys(Blockly.Block.Dimensions).find(\n        outer_html => block_node.outerHTML === outer_html\n    );\n\n    if (existing_dimensions_key) {\n        return Blockly.Block.Dimensions[existing_dimensions_key];\n    }\n\n    const options = new Blockly.Options({ media: `${__webpack_public_path__}media/` });\n    const el_injection_div = document.createElement('div');\n\n    // Create a headless workspace to calculate xmlList block dimensions\n    const svg = Blockly.createDom_(el_injection_div, options);\n    const workspace = Blockly.createMainWorkspace_(svg, options, false, false);\n    const block = Blockly.Xml.domToBlock(block_node, workspace);\n    const block_hw = block.getHeightWidth();\n\n    workspace.dispose();\n    Blockly.Block.Dimensions[block_node.outerHTML] = block_hw;\n    return block_hw;\n};\n\nBlockly.Block.prototype.isMainBlock = function () {\n    return config.mainBlocks.includes(this.type);\n};\n\nBlockly.Block.prototype.isIndependentBlock = function () {\n    return config.INDEPEDENT_BLOCKS.includes(this.type);\n};\n\n/**\n * Return the parent block or null if this block is at the top level.\n * @return {Blockly.Block} The block that holds the current block.\n */\nBlockly.Block.prototype.getRootInputTargetBlock = function () {\n    let input_name;\n    let current_block = this.getParent();\n\n    while (current_block) {\n        const root_block = this.getRootBlock();\n        const current_input = root_block.getInputWithBlock(current_block);\n\n        if (current_input && current_input.name) {\n            input_name = current_input.name;\n        }\n\n        current_block = current_block.getParent();\n    }\n\n    return input_name;\n};\n\n/**\n * Returns whether the block has an error highlighted descendant.\n */\nBlockly.Block.prototype.hasErrorHighlightedDescendant = function () {\n    const hasHighlightedDescendant = child_blocks =>\n        child_blocks.some(child_block => {\n            const is_self_highlighted = child_block.is_error_highlighted;\n            const is_descendant_highlighted = hasHighlightedDescendant(child_block.getChildren());\n\n            return is_self_highlighted || is_descendant_highlighted;\n        });\n\n    return hasHighlightedDescendant(this.getChildren());\n};\n\nBlockly.Block.isDynamic = function (block_type) {\n    return /^((procedures_)|(variables_)|(math_change$))/.test(block_type);\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../constants/config';\n\n/**\n * Make a context menu option for duplicating the current block.\n * deriv-bot: Use Blockly's implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDuplicateOption = function (block) {\n    const enabled = !config.single_instance_blocks.includes(block.type);\n    const duplicate_option = {\n        callback() {\n            Blockly.duplicate_(block);\n        },\n        enabled,\n        text: localize('Duplicate'),\n    };\n    return duplicate_option;\n};\n\n/**\n * Make a context menu option for cleaning up blocks on the workspace, by\n * aligning them vertically.\n * @param {!Blockly.WorkspaceSvg} ws The workspace where the right-click originated.\n * @param {number} numTopBlocks The number of top blocks on the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsCleanupOption = function (ws, numTopBlocks) {\n    return {\n        text: localize('Rearrange Vertically'),\n        enabled: numTopBlocks > 1,\n        callback: ws.cleanUp.bind(ws),\n    };\n};\n\n/**\n * Make a context menu option for collapsing all block stacks on the workspace.\n * @param {boolean} hasExpandedBlocks Whether there are any non-collapsed blocks\n *     on the workspace.\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the\n *     the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsCollapseOption = function (hasExpandedBlocks, topBlocks) {\n    return {\n        enabled: hasExpandedBlocks,\n        text: localize('Collapse All Blocks'),\n        callback() {\n            Blockly.ContextMenu.toggleCollapseFn_(topBlocks, true);\n        },\n    };\n};\n\n/**\n * Make a context menu option for expanding all block stacks on the workspace.\n * @param {boolean} hasCollapsedBlocks Whether there are any collapsed blocks\n *     on the workspace.\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the\n *     the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsExpandOption = function (hasCollapsedBlocks, topBlocks) {\n    return {\n        enabled: hasCollapsedBlocks,\n        text: localize('Expand All Blocks'),\n        callback() {\n            Blockly.ContextMenu.toggleCollapseFn_(topBlocks, false);\n        },\n    };\n};\n\n/**\n * Helper function for toggling delete state on blocks on the workspace, to be\n * called from a right-click menu.\n * deriv-bot: Remove \"animation\".\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the the workspace.\n * @param {boolean} shouldCollapse True if the blocks should be collapsed, false if they should be expanded.\n * @private\n */\nBlockly.ContextMenu.toggleCollapseFn_ = function (blocks, shouldCollapse) {\n    blocks.forEach(block => block.setCollapsed(shouldCollapse));\n};\n\nBlockly.ContextMenu.wsDeleteOption = function (ws, blocks) {\n    // Option to delete all blocks.\n    // Count the number of blocks that are deletable.\n    const delete_list = Blockly.WorkspaceSvg.buildDeleteList_(blocks);\n\n    // Scratch-specific: don't count shadow blocks in delete count\n    const delete_count = delete_list.filter(block => !block.isShadow()).length;\n\n    const event_group = Blockly.utils.genUid();\n    const DELAY = 10;\n\n    const deleteNext = () => {\n        Blockly.Events.setGroup(event_group);\n        const block = delete_list.shift();\n\n        if (block) {\n            if (block.workspace) {\n                block.dispose(false, true);\n                setTimeout(deleteNext, DELAY);\n            } else {\n                deleteNext();\n            }\n        }\n        Blockly.Events.setGroup(false);\n    };\n\n    return {\n        text:\n            delete_count === 1\n                ? localize('Delete Block')\n                : localize('Delete {{ delete_count }} Blocks', { delete_count }),\n        enabled: delete_count > 0,\n        callback() {\n            if (ws.currentGesture_) {\n                ws.currentGesture_.cancel();\n            }\n            if (delete_count < 2) {\n                deleteNext();\n            } else {\n                const msg = localize('Delete all {{ delete_count }} blocks?', { delete_count });\n                Blockly.confirm(msg, ok => {\n                    if (ok) {\n                        deleteNext();\n                    }\n                });\n            }\n        },\n    };\n};\n\n/**\n * Make a context menu option for adding or removing comments on the current block.\n * deriv-bot: Expand block before adding comment.\n * Hacky way to get comments working on collapsed blocks.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockCommentOption = function (block) {\n    const comment_option = { enabled: !goog.userAgent.IE };\n\n    // If there's already a comment, add an option to delete it.\n    if (block.comment) {\n        comment_option.text = localize('Remove comment');\n        comment_option.callback = () => {\n            block.setCommentText(null);\n        };\n    } else {\n        // If there's no comment, add an option to create a comment.\n        comment_option.text = localize('Add comment');\n        comment_option.callback = () => {\n            // deriv-bot: Expand/uncollapse for bubble to position correctly.\n            const is_collapsed = block.collapsed_;\n\n            if (is_collapsed) {\n                block.setCollapsed(false);\n            }\n\n            block.setCommentText('');\n\n            if (block.collapsed_ !== is_collapsed) {\n                block.setCollapsed(is_collapsed);\n            }\n\n            // deriv-bot: Don't focus to prevent workspace glitching.\n            // block.comment.focus();\n        };\n    }\n\n    return comment_option;\n};\n\n/**\n * Make a context menu option for detaching the current block.\n * deriv-bot: Use Blockly's implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDetachOption = function (block) {\n    const canDisconnect = block\n        .getConnections_()\n        .some(connection => connection.isConnected() && !connection.targetConnection?.sourceBlock_.isShadow_);\n\n    const enabled = block.parentBlock_ && canDisconnect;\n\n    const detach_option = {\n        callback() {\n            block.unplug(true);\n            block.moveBy(250, 100);\n        },\n        enabled,\n        text: localize('Detach Block'),\n    };\n    return detach_option;\n};\n\n/**\n * Make a context menu option for disabling stack of blocks.\n * deriv-bot: Use Blocklys implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDisableOption = function (block) {\n    const checkAreSomeEnabled = (block_, enabledArr = []) => {\n        enabledArr.push(!block_.disabled);\n        return block_.nextConnection?.targetConnection\n            ? checkAreSomeEnabled(block_.nextConnection?.targetConnection.sourceBlock_, enabledArr)\n            : enabledArr.includes(true);\n    };\n    const enabled = checkAreSomeEnabled(block);\n\n    const disableBlocksRecursively = block_ => {\n        block_.setDisabled(true);\n        if (block_.nextConnection?.targetConnection) {\n            disableBlocksRecursively(block_.nextConnection?.targetConnection.sourceBlock_);\n        }\n    };\n\n    const disableStack_option = {\n        callback() {\n            disableBlocksRecursively(block);\n        },\n        enabled,\n        text: localize('Disable stack'),\n    };\n    return disableStack_option;\n};\n\n/**\n * Make a context menu option for enabling stack of blocks.\n * deriv-bot: Use Blocklys implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockEnableOption = function (block) {\n    const checkAreSomeDisabled = (block_, disabledArr = []) => {\n        if (block_.restricted_parents && !block_.restricted_parents?.includes(block_.getTopParent()?.type)) {\n            return false;\n        }\n        disabledArr.push(block_.disabled);\n        return block_.nextConnection?.targetConnection\n            ? checkAreSomeDisabled(block_.nextConnection?.targetConnection.sourceBlock_, disabledArr)\n            : disabledArr.includes(true);\n    };\n    const enabled = checkAreSomeDisabled(block);\n\n    const enableBlocksRecursively = block_ => {\n        if (!block_.restricted_parents || block_.restricted_parents.includes(block_.getTopParent()?.type)) {\n            block_.setDisabled(false);\n        }\n        if (block_.nextConnection?.targetConnection) {\n            enableBlocksRecursively(block_.nextConnection?.targetConnection.sourceBlock_);\n        }\n    };\n\n    const enableStack_option = {\n        callback() {\n            enableBlocksRecursively(block);\n        },\n        enabled,\n        text: localize('Enable stack'),\n    };\n    return enableStack_option;\n};\n","import { localize } from '@deriv/translations';\nimport DBotStore from '../dbot-store';\n\n/**\n * Construct the blocks required by the flyout for the variable category.\n * @param {!Blockly.Workspace} workspace The workspace containing variables.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\nBlockly.DataCategory = function (workspace) {\n    const variableModelList = workspace.getVariablesOfType('');\n    let xmlList = [];\n\n    // `Create Variable`-Section\n    Blockly.DataCategory.addCreateVariable(xmlList, workspace);\n\n    const block_types = ['variables_set', 'variables_get', 'math_change'];\n    xmlList = xmlList.concat(Blockly.DataCategory.search(variableModelList, block_types));\n\n    return xmlList;\n};\n\nBlockly.DataCategory.search = function (variableModelList) {\n    const xmlList = [];\n    if (variableModelList.length > 0) {\n        const generateVariableFieldXmlString = variableModel => {\n            // The variable name may be user input, so it may contain characters that\n            // need to be escaped to create valid XML.\n            const escapedText = `<field name=\"VAR\" id=\"${variableModel.getId()}\" variabletype=\"${goog.string.htmlEscape(\n                variableModel.type\n            )}\">${goog.string.htmlEscape(variableModel.name)}</field>`;\n            return escapedText;\n        };\n\n        const firstVariable = variableModelList[0];\n\n        // Create 'Set `var` to'-block\n        if (Blockly.Blocks.variables_set) {\n            const gap = Blockly.Blocks.math_change ? 8 : 24;\n            const setBlockText = `<xml><block type=\"variables_set\" gap=\"${gap}\">${generateVariableFieldXmlString(\n                firstVariable\n            )}</block></xml>`;\n            const setBlock = Blockly.Xml.textToDom(setBlockText).firstChild;\n            xmlList.push(setBlock);\n        }\n\n        // Create 'Change `var` by `1`'-block\n        // if (Blockly.Blocks.math_change) {\n        //     const gap = Blockly.Blocks.variables_get ? 20 : 8;\n        //     const changeBlockText = `<xml><block type=\"math_change\" gap=\"${gap}\">${generateVariableFieldXmlString(\n        //         firstVariable\n        //     )}<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></xml>`;\n        //     const changeBlock = Blockly.Xml.textToDom(changeBlockText).firstChild;\n        //     xmlList.push(changeBlock);\n        // }\n\n        // Create `variable_get` block for each variable\n        if (Blockly.Blocks.variables_get) {\n            // For adding sort base on the creation date\n            variableModelList.sort(\n                (first_variable, second_variable) =>\n                    variableModelList.indexOf(second_variable) - variableModelList.indexOf(first_variable)\n            );\n\n            variableModelList.forEach(variable => {\n                const getBlockText = `<xml><block type=\"variables_get\">${generateVariableFieldXmlString(\n                    variable\n                )}</block></xml>`;\n                const getBlock = Blockly.Xml.textToDom(getBlockText).firstChild;\n                xmlList.push(getBlock);\n            });\n        }\n    }\n\n    return xmlList;\n};\n\n/**\n * Construct a create variable section and push it to the xmlList.\n * @param {!Array.<!Element>} xmlList Array of XML block elements.\n * @param {Blockly.Workspace} workspace Workspace to register callback to.\n * @deriv/bot: We only use a single type of variable, so `type` arg was removed.\n */\nBlockly.DataCategory.addCreateVariable = function (xmlList, workspace) {\n    const el_button_xml = goog.dom.createDom('button');\n    const el_input_xml = goog.dom.createDom('input');\n\n    // Set default msg, callbackKey, and callback values for type 'VARIABLE'\n    const button_text = localize('Create');\n    const callback_key = 'CREATE_VARIABLE';\n    const input_placeholder = localize('New variable name');\n\n    // Set attributes for the button\n    el_button_xml.setAttribute('text', button_text);\n    el_button_xml.setAttribute('className', 'flyout__button-new');\n    el_button_xml.setAttribute('callbackKey', callback_key);\n\n    // Set attributes for the input field\n    el_input_xml.setAttribute('className', 'flyout__input');\n    el_input_xml.setAttribute('name', 'variable');\n    el_input_xml.setAttribute('type', 'text');\n    el_input_xml.setAttribute('placeholder', input_placeholder);\n\n    const callback = function (button) {\n        const el_input_container = document.querySelector('.flyout__input > .dc-input__container');\n        const el_input = el_input_container.firstChild;\n\n        const buttonWorkspace = button.getTargetWorkspace();\n        buttonWorkspace.createVariable(el_input.value, '');\n        el_input.value = '';\n\n        const { flyout } = DBotStore.instance;\n        flyout.refreshCategory();\n    };\n\n    workspace.registerButtonCallback(callback_key, callback);\n\n    xmlList.push(el_input_xml);\n    xmlList.push(el_button_xml);\n};\n","import { runInvisibleEvents } from '../utils';\n\n/** *\n * Updates a Blockly.FieldDropdown with the passed dropdown_options. Available options:\n * - default_value       : After updating, attempt to set this value as the selected option\n * - should_trigger_event: Should an Blockly.Events.Change event be triggered?\n * - event_group         : Coincides with should_trigger_event, passes event_group along the event chain.\n * - should_pretend_empty: Trigger event, pretend oldValue was empty to force triggering event. Blockly\n *                         filters out and stops events from firing where the oldValue and newValue are the same.\n */\nBlockly.FieldDropdown.prototype.updateOptions = function (dropdown_options, options = {}) {\n    if (Blockly.DropDownDiv.isVisible()) {\n        Blockly.DropDownDiv.hideWithoutAnimation();\n    }\n\n    this.menuGenerator_ = dropdown_options;\n\n    // Blockly won't actually fire an event if the oldValue and newValue are the same. This prop\n    // sets the event's oldValue to an empty string so it's always executed.\n    let previous_value = this.getValue();\n\n    if (options.should_pretend_empty) {\n        previous_value = '';\n    }\n\n    // Set a flag indicating whether the default value passed to this function is available in the newly\n    // set dropdown options, if false the default option will be the first available one.\n    const has_default_value = dropdown_options.findIndex(item => item[1] === options.default_value) !== -1;\n\n    runInvisibleEvents(() => {\n        this.setValue('');\n\n        if (has_default_value) {\n            this.setValue(options.default_value);\n        } else if (dropdown_options.length > 0) {\n            // Default to first if option isn't available.\n            this.setValue(this.menuGenerator_[0][1]);\n        } else {\n            this.setValue(previous_value);\n        }\n    });\n\n    // If \"should_trigger_event\" prop is omitted or set to true, fire an event.\n    if (!options.should_trigger_event || options.should_trigger_event === true) {\n        const event = new Blockly.Events.BlockChange(\n            this.sourceBlock_,\n            'field',\n            this.name,\n            previous_value,\n            this.getValue()\n        );\n        event.recordUndo = false;\n        event.group = options.event_group;\n        Blockly.Events.fire(event);\n    }\n};\n\n/**\n * This function is hooked to change backgound color and change dropdown lists shape from rounded corner box to oval shape,\n * e.g. for market list, trade type, etc.\n *      'rx': Blockly.BlockSvg.CORNER_RADIUS * 4,\n *      'ry': Blockly.BlockSvg.CORNER_RADIUS * 4,\n */\nBlockly.FieldDropdown.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Dropdown has already been initialized once.\n        return;\n    }\n    // Add dropdown arrow: \"option \" (LTR) or \" \" (RTL)\n    // Positioned on render, after text size is calculated.\n    /** @type {Number} */\n    this.arrowSize_ = 12;\n    /** @type {Number} */\n    this.arrowX_ = 0;\n    /** @type {Number} */\n    this.arrowY_ = 11;\n    this.arrow_ = Blockly.utils.createSvgElement('image', {\n        height: `${this.arrowSize_}px`,\n        width: `${this.arrowSize_}px`,\n    });\n    this.arrow_.setAttributeNS(\n        'http://www.w3.org/1999/xlink',\n        'xlink:href',\n        `${Blockly.mainWorkspace.options.pathToMedia}dropdown-arrow-dark.svg`\n    );\n    this.className_ += ' blocklyDropdownText';\n    // @deriv/bot: stop the drop-down from changing its fill colour to colourTertiary on click\n    this.disableColourChange_ = true;\n\n    Blockly.FieldDropdown.superClass_.init.call(this);\n    // If not in a shadow block, draw a box.\n    if (!this.sourceBlock_.isShadow()) {\n        this.box_ = Blockly.utils.createSvgElement(\n            'rect',\n            {\n                rx: Blockly.BlockSvg.CORNER_RADIUS * 4,\n                ry: Blockly.BlockSvg.CORNER_RADIUS * 4,\n                x: 0,\n                y: 0,\n                width: this.size_.width,\n                height: this.size_.height,\n                stroke: this.sourceBlock_.getColourTertiary(),\n                'stroke-width': '0.3px',\n                fill: this.sourceBlock_.getColourSecondary(),\n                'fill-opacity': 1,\n            },\n            null\n        );\n        this.fieldGroup_.insertBefore(this.box_, this.textElement_);\n    }\n    // Force a reset of the text to add the arrow.\n    const text = this.text_;\n    this.text_ = null;\n    this.setText(text);\n};\n\n/**\n * Returns whether a dropdown is empty or not.\n */\nBlockly.FieldDropdown.prototype.isEmpty = function () {\n    return this.menuGenerator_.length === 0 || !this.menuGenerator_[0][1];\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Custom checkbox implementation.\n * @returns {Blockly.FieldImage} A Blockly.FieldImage pretending to be a checkbox.\n */\nconst FieldCheckbox = () => {\n    const getAltText = is_checked => (is_checked ? localize('Y') : localize('N'));\n    const onCheckboxClick = function () {\n        if (this.sourceBlock_.workspace.options.readOnly || this.sourceBlock_.isInFlyout) {\n            return;\n        }\n        this.is_checked = !this.is_checked;\n        this.setValue(this.is_checked);\n        this.setText(getAltText(this.is_checked));\n    };\n\n    const icon = new Blockly.FieldImage(true, 16, 16, getAltText(true), onCheckboxClick);\n\n    // Required function on Blockly.Field instances.\n    icon.fromJson = (/* options */) => {\n        return FieldCheckbox();\n    };\n\n    // Custom setValue to support imported values, this allows us to bypass\n    // adding domToMutation and mutationToDom logic to each block consuming this checkbox.\n    icon.setValue = function (value) {\n        const is_checked = value === true || value === 'TRUE';\n        const old_value = this.getValue();\n        this.src_ = is_checked ? 'TRUE' : 'FALSE';\n        const el_field_group = this.fieldGroup_; // eslint-disable-line no-underscore-dangle\n\n        if (el_field_group) {\n            Array.from(el_field_group.children).forEach(child_node => el_field_group.removeChild(child_node));\n\n            // Draw a rectangle which is coloured based on the host-block's colour.\n            Blockly.utils.createSvgElement(\n                'rect',\n                {\n                    fill: this.sourceBlock_.getColourSecondary(), // eslint-disable-line\n                    'fill-rule': 'nonzero',\n                    height: this.height_, // eslint-disable-line\n                    width: this.width_, // eslint-disable-line\n                    rx: 2,\n                    stroke: this.sourceBlock_.getColourTertiary(),\n                },\n                el_field_group\n            );\n\n            if (is_checked) {\n                // Draw checkmark.\n                Blockly.utils.createSvgElement(\n                    'path',\n                    {\n                        fill: 'var(--text-general)',\n                        d: 'M6 10.086L3.707 7.793a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l7-7a1 1 0 10-1.414-1.414L6 10.086z',\n                    },\n                    el_field_group\n                );\n            }\n        }\n\n        // Emit an event that can be redone/undone.\n        if (this.sourceBlock_ && Blockly.Events.isEnabled()) {\n            Blockly.Events.fire(\n                new Blockly.Events.BlockChange(this.sourceBlock_, 'field', this.name, old_value, this.getValue())\n            );\n        }\n    };\n\n    return icon;\n};\n\nBlockly.Field.register('field_image_checkbox', FieldCheckbox());\n","import { config } from '../../constants/config';\nimport DBotStore from '../dbot-store';\n\n/**\n * Create a copy of this block on the workspace.\n * @param {!Blockly.BlockSvg} original_block The block to copy from the flyout.\n * @return {Blockly.BlockSvg} The newly created block, or null if something\n *     went wrong with deserialization.\n * @package\n */\nBlockly.Flyout.prototype.createBlock = function (event, original_block) {\n    Blockly.Events.disable();\n\n    const main_workspace = this.targetWorkspace_;\n    const variables_before_creation = main_workspace.getAllVariables();\n\n    main_workspace.setResizesEnabled(false);\n\n    let new_block = null;\n\n    try {\n        new_block = this.placeNewBlock_(event, original_block);\n        // Close the flyout.\n        Blockly.hideChaff();\n    } finally {\n        Blockly.Events.enable();\n    }\n\n    const new_variables = Blockly.Variables.getAddedVariables(main_workspace, variables_before_creation);\n\n    if (Blockly.Events.isEnabled()) {\n        Blockly.Events.setGroup(true);\n\n        // Delete blocks of which we can only have a single instance. Dispose emits a BlockDelete\n        // event that respects the current Blockly.Events group, this is required to maintain\n        // a working undo/redo stack.\n        if (config.single_instance_blocks.includes(new_block.type)) {\n            main_workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === new_block.type && ws_block.id !== new_block.id) {\n                    ws_block.dispose();\n                }\n            });\n        }\n\n        // Fire a VarCreate event for each (if any) new variable created.\n        new_variables.forEach(new_variable => {\n            Blockly.Events.fire(new Blockly.Events.VarCreate(new_variable));\n        });\n\n        Blockly.Events.fire(new Blockly.Events.Create(new_block));\n    }\n\n    if (this.autoClose) {\n        this.hide();\n    }\n\n    const { flyout } = DBotStore.instance;\n    flyout.setIsSearchFlyout(false);\n    flyout.setVisibility(false);\n\n    new_block.isInFlyout = false;\n\n    return new_block;\n};\n\n/**\n * Copy a block from the flyout to the workspace and position it correctly.\n * @param {MouseEvent} event MouseEvent with coordinates to position block. DBot only.\n * @param {!Blockly.Block} old_block The flyout block to copy.\n * @return {!Blockly.Block} The new block in the main workspace.\n * @private\n */\nBlockly.Flyout.prototype.placeNewBlock_ = function (event, old_block) {\n    const main_workspace = this.targetWorkspace_;\n    const svg_root_old = old_block.getSvgRoot();\n\n    if (!svg_root_old) {\n        throw new Error('old_block is not rendered.');\n    }\n\n    // Create the new block by cloning the block in the flyout (via XML).\n    const xml = Blockly.Xml.blockToDom(old_block, true);\n\n    // The target workspace would normally resize during domToBlock, which will\n    // lead to weird jumps.  Save it for terminateDrag.\n    main_workspace.setResizesEnabled(false);\n\n    // Using domToBlock instead of domToWorkspace means that the new block will be\n    // placed at position (0, 0) in main workspace units.\n    const block = Blockly.Xml.domToBlock(xml, main_workspace);\n    const svg_root_new = block.getSvgRoot();\n\n    if (!svg_root_new) {\n        throw new Error('block is not rendered.');\n    }\n\n    // event may be null i.e. when originating from flyout add button.\n    if (event) {\n        // The offset in pixels between the main workspace's origin and the upper left corner of the injection div.\n        const main_offset_pixels = main_workspace.getOriginOffsetInPixels();\n\n        // The position of the old block in pixels relative to the flyout workspace's origin.\n        const toolbar_height = 56;\n        const header_height = 48;\n        const old_block_pos_pixels = new goog.math.Coordinate(\n            event.clientX ? event.clientX : 0,\n            event.clientY ? event.clientY - toolbar_height - header_height : 0\n        );\n\n        // The position of the old block in pixels relative to the origin of the main workspace.\n        const final_offset_pixels = goog.math.Coordinate.difference(old_block_pos_pixels, main_offset_pixels);\n\n        // The position of the old block in main workspace coordinates.\n        const final_offset_main_ws = final_offset_pixels.scale(1 / main_workspace.scale);\n\n        block.moveBy(final_offset_main_ws.x, final_offset_main_ws.y);\n    }\n\n    return block;\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Construct the blocks required by the flyout for the procedure category.\n * @param {!Blockly.Workspace} workspace The workspace containing procedures.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\nBlockly.Procedures.flyoutCategory = function (workspace) {\n    let xmlList = [];\n\n    if (Blockly.Blocks.procedures_defnoreturn) {\n        // <block type=\"procedures_defnoreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defnoreturn');\n        block.setAttribute('gap', 16);\n\n        // TEMP\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (Blockly.Blocks.procedures_defreturn) {\n        // <block type=\"procedures_defreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defreturn');\n        block.setAttribute('gap', 16);\n\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (Blockly.Blocks.procedures_ifreturn) {\n        // <block type=\"procedures_ifreturn\" gap=\"16\"></block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_ifreturn');\n        block.setAttribute('gap', 16);\n        xmlList.push(block);\n    }\n\n    if (xmlList.length) {\n        // Add slightly larger gap between system blocks and user calls.\n        xmlList[xmlList.length - 1].setAttribute('gap', 24);\n    }\n\n    const tuple = Blockly.Procedures.allProcedures(workspace);\n    xmlList = xmlList.concat(Blockly.Procedures.populateDynamicProcedures(tuple));\n    return xmlList;\n};\n\nBlockly.Procedures.populateDynamicProcedures = function (tuple) {\n    let xmlList = [];\n\n    const populateProcedures = (procedureList, templateName) => {\n        const xml = [];\n\n        if (!procedureList) {\n            return xml;\n        }\n\n        for (let i = 0; i < procedureList.length; i++) {\n            const name = procedureList[i][0];\n            const args = procedureList[i][1];\n\n            // <block type=\"procedures_callnoreturn\" gap=\"16\">\n            //   <mutation name=\"do something\">\n            //     <arg name=\"x\"></arg>\n            //   </mutation>\n            // </block>\n            const block = document.createElement('block');\n            block.setAttribute('type', templateName);\n            block.setAttribute('gap', 16);\n\n            const mutation = document.createElement('mutation');\n            mutation.setAttribute('name', name);\n            block.appendChild(mutation);\n\n            args.forEach(argumentName => {\n                const arg = document.createElement('arg');\n                arg.setAttribute('name', argumentName);\n                mutation.appendChild(arg);\n            });\n\n            xml.push(block);\n        }\n\n        return xml;\n    };\n\n    xmlList = xmlList.concat(populateProcedures(tuple[0], 'procedures_callnoreturn'));\n    xmlList = xmlList.concat(populateProcedures(tuple[1], 'procedures_callreturn'));\n\n    return xmlList;\n};\n\n/**\n * Find the definition block for the named procedure.\n * @param {string} name Name of procedure.\n * @param {!Blockly.Workspace} workspace The workspace to search.\n * @return {Blockly.Block} The procedure definition block, or null not found.\n */\nBlockly.Procedures.getDefinition = function (name, workspace) {\n    // Assume that a procedure definition is a top block.\n    const blocks = workspace.getTopBlocks(false);\n    for (let i = 0; i < blocks.length; i++) {\n        if (blocks[i].getProcedureDef) {\n            const tuple = blocks[i].getProcedureDef();\n            if (tuple && Blockly.Names.equals(tuple[0], name)) {\n                return blocks[i];\n            }\n        }\n    }\n    return null;\n};\n\n// Scratch has a broken version where they return `false` if Blockly.Names.equals(procName[0], name).\n// https://github.com/LLK/scratch-blocks/pull/1930\nBlockly.Procedures.isNameUsed = function (name, workspace, optExclude) {\n    const blocks = workspace.getAllBlocks(false);\n    // Iterate through every block and check the name.\n    return blocks.some(block => {\n        if (block !== optExclude && block.getProcedureDef) {\n            const procName = block.getProcedureDef();\n            return Blockly.Names.equals(procName[0], name);\n        }\n        return false;\n    });\n};\n\n/**\n * Move the workspace based on the most recent mouse movements.\n * @param {!goog.math.Coordinate} currentDragDeltaXY How far the pointer has\n *     moved from the position at the start of the drag, in pixel coordinates.\n * @package\n */\nBlockly.WorkspaceDragger.prototype.drag = function (currentDragDeltaXY) {\n    if (this.workspace_.isFlyout) {\n        return;\n    }\n\n    const metrics = this.startDragMetrics_;\n    const newXY = goog.math.Coordinate.sum(this.startScrollXY_, currentDragDeltaXY);\n\n    // Bound the new XY based on workspace bounds.\n    let x = Math.min(newXY.x, -metrics.contentLeft);\n    let y = Math.min(newXY.y, -metrics.contentTop);\n\n    x = Math.max(x, metrics.viewWidth - metrics.contentLeft - metrics.contentWidth);\n    y = Math.max(y, metrics.viewHeight - metrics.contentTop - metrics.contentHeight);\n\n    x = -x - metrics.contentLeft;\n    y = -y - metrics.contentTop;\n\n    this.updateScroll_(x, y);\n};\n","import DBotStore from '../dbot-store';\nimport PendingPromise from '../../utils/pending-promise';\n\nBlockly.Workspace.prototype.wait_events = [];\n\n/**\n * Clear the undo/redo stacks.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n */\nBlockly.Workspace.prototype.clearUndo = function () {\n    this.undoStack_.length = 0;\n    this.redoStack_.length = 0;\n\n    const { toolbar } = DBotStore.instance;\n\n    toolbar.setHasRedoStack();\n    toolbar.setHasUndoStack();\n\n    // Stop any events already in the firing queue from being undoable.\n    Blockly.Events.clearPendingUndo();\n};\n\n/**\n * Fire a change event.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n * @param {!Blockly.Events.Abstract} event Event to fire.\n */\nBlockly.Workspace.prototype.fireChangeListener = function (event) {\n    if (event.recordUndo) {\n        this.undoStack_.push(event);\n        this.redoStack_.length = 0;\n\n        if (this.undoStack_.length > this.MAX_UNDO) {\n            this.undoStack_.unshift();\n        }\n\n        const { toolbar } = DBotStore.instance;\n\n        toolbar.setHasRedoStack();\n        toolbar.setHasUndoStack();\n    }\n\n    // Copy listeners in case a listener attaches/detaches itself.\n    const current_listeners = this.listeners_.slice();\n\n    current_listeners.forEach(listener => {\n        listener(event);\n    });\n    /**\n     * Gets a trade definition block instance and returns it.\n     * @returns {Blockly.Block|null} The trade definition or null.\n     */\n};\n\nBlockly.Workspace.prototype.getTradeDefinitionBlock = function () {\n    return this.getAllBlocks(true).find(b => b.type === 'trade_definition');\n};\n\nBlockly.Workspace.prototype.waitForBlockEvent = function (block_id, opt_event_type = null) {\n    const event_promise = new PendingPromise();\n\n    if (!this.wait_events.some(event => event.blockId === block_id && event.type === opt_event_type)) {\n        this.wait_events.push({\n            blockId: block_id,\n            promise: event_promise,\n            type: opt_event_type,\n        });\n    }\n\n    return event_promise;\n};\n\nBlockly.Workspace.prototype.waitForBlockEvent = function (options) {\n    const { block_type, event_type, timeout } = options;\n    const promise = new PendingPromise();\n\n    this.wait_events.push({ block_type, event_type, promise });\n\n    if (timeout) {\n        setTimeout(() => {\n            if (promise.isPending) {\n                promise.reject();\n            }\n        }, timeout);\n    }\n\n    return promise;\n};\n\nBlockly.Workspace.prototype.dispatchBlockEventEffects = function (event) {\n    this.wait_events.forEach((wait_event, idx) => {\n        if (!event.blockId) {\n            return;\n        }\n\n        const block = this.getBlockById(event.blockId);\n\n        if (block) {\n            const is_same_block_type = wait_event.block_type === block.type;\n            const is_same_event_type = wait_event.event_type === null || wait_event.event_type === event.type;\n\n            if (is_same_block_type && is_same_event_type) {\n                setTimeout(() => {\n                    wait_event.promise.resolve();\n                    this.wait_events.splice(idx, 1);\n                }, 500);\n            }\n        }\n    });\n};\n\nBlockly.Workspace.prototype.getAllFields = function (is_ordered) {\n    return this.getAllBlocks(is_ordered).reduce((fields, block) => {\n        block.inputList.forEach(input => fields.push(...input.fieldRow));\n        return fields;\n    }, []);\n};\n","import { config } from '../../constants/config';\nimport { removeLimitedBlocks } from '../../utils/workspace';\nimport DBotStore from '../dbot-store';\n\n/**\n * Handle a mouse-down on SVG drawing surface.\n * deriv-bot: We bubble the mousedown event for Core to be reactive.\n * @param {!Event} e Mouse down event.\n * @private\n */\nBlockly.WorkspaceSvg.prototype.onMouseDown_ = function (e) {\n    // Bubble mousedown event up for some Core elements to react correctly.\n    if (e instanceof MouseEvent) {\n        Blockly.derivWorkspace.cachedParentSvg_.dispatchEvent(new e.constructor(e.type, e));\n    }\n    const gesture = this.getGesture(e);\n    if (gesture) {\n        gesture.handleWsStart(e, this);\n    }\n};\n\n/**\n * Scroll the workspace to center on the given block.\n * @param {?string} id ID of block center on.\n * @public\n */\nBlockly.WorkspaceSvg.prototype.centerOnBlock = function (id, hideChaff = true) {\n    if (!this.scrollbar) {\n        // eslint-disable-next-line no-console\n        console.warn('Tried to scroll a non-scrollable workspace.');\n        return;\n    }\n\n    const block = this.getBlockById(id);\n    if (!block) {\n        return;\n    }\n\n    // XY is in workspace coordinates.\n    const xy = block.getRelativeToSurfaceXY();\n\n    // Height/width is in workspace units.\n    const heightWidth = block.getHeightWidth();\n\n    // Find the enter of the block in workspace units.\n    const blockCenterY = xy.y + heightWidth.height / 2;\n\n    // In RTL the block's position is the top right of the block, not top left.\n    const multiplier = this.RTL ? -1 : 1;\n    const blockCenterX = xy.x + (multiplier * heightWidth.width) / 2;\n\n    // Workspace scale, used to convert from workspace coordinates to pixels.\n    const scale = this.scale;\n\n    // Center in pixels.  0, 0 is at the workspace origin.  These numbers may\n    // be negative.\n    const pixelX = blockCenterX * scale;\n    const pixelY = blockCenterY * scale;\n\n    const metrics = this.getMetrics();\n\n    // Scrolling to here would put the block in the top-left corner of the\n    // visible workspace.\n    const scrollToBlockX = pixelX - metrics.contentLeft;\n    const scrollToBlockY = pixelY - metrics.contentTop;\n\n    // viewHeight and viewWidth are in pixels.\n    const halfViewWidth = metrics.viewWidth / 2;\n    const halfViewHeight = metrics.viewHeight / 2;\n\n    // Put the block in the center of the visible workspace instead.\n    const scrollToCenterX = scrollToBlockX - halfViewWidth;\n    const scrollToCenterY = scrollToBlockY - halfViewHeight;\n\n    if (hideChaff) {\n        Blockly.hideChaff();\n    }\n\n    this.scrollbar.set(scrollToCenterX, scrollToCenterY);\n};\n\n/**\n * Creates a copy of passed block_node on main workspace and positions it\n * below the lowest block on the canvas.\n * @static\n * @param {Element} block_node\n * @public\n */\nBlockly.WorkspaceSvg.prototype.addBlockNode = function (block_node) {\n    const { flyout } = DBotStore.instance;\n    const block = Blockly.Xml.domToBlock(block_node, flyout.getFlyout().workspace_);\n    const top_blocks = this.getTopBlocks(true);\n    const new_block = flyout.getFlyout().createBlock(false, block);\n\n    if (top_blocks.length) {\n        const last_block = top_blocks[top_blocks.length - 1];\n        const last_block_xy = last_block.getRelativeToSurfaceXY();\n        const extra_spacing = last_block.startHat_ ? Blockly.BlockSvg.START_HAT_HEIGHT : 0;\n        const y = last_block_xy.y + last_block.getHeightWidth().height + extra_spacing + 30;\n        new_block.moveBy(last_block_xy.x, y);\n    }\n\n    // Call svgResize to avoid glitching workspace.\n    Blockly.svgResize(new_block.workspace);\n    this.centerOnBlock(new_block.id, false);\n};\n\n/**\n * Clean up the workspace by ordering all the blocks in a column. For deriv-bot\n * root-blocks are sorted in columns first, then all other blocks are positioned below\n * the lowest hanging root-block.\n */\nBlockly.WorkspaceSvg.prototype.cleanUp = function (x = 0, y = 0, blocks_to_clean = []) {\n    this.setResizesEnabled(false);\n    Blockly.Events.setGroup(Blockly.Events.getGroup() || true);\n\n    const is_import = blocks_to_clean.length !== 0;\n    const top_blocks = is_import ? blocks_to_clean : this.getTopBlocks(true);\n    const root_blocks = top_blocks\n        .filter(block => block.isMainBlock())\n        .sort((a, b) => {\n            const blockIndex = block => config.mainBlocks.findIndex(main_block_type => main_block_type === block.type);\n            return blockIndex(a) - blockIndex(b);\n        });\n    const column_count = 2;\n    const blocks_per_column = Math.ceil(root_blocks.length / column_count);\n\n    let original_cursor_y = y;\n\n    if (root_blocks.length) {\n        let column_index = 0;\n\n        root_blocks.forEach((block, index) => {\n            if (index === (column_index + 1) * blocks_per_column) {\n                original_cursor_y = y;\n                column_index++;\n            }\n\n            const xy = block.getRelativeToSurfaceXY();\n            const cursor_x = is_import ? x : -xy.x;\n            const cursor_y = original_cursor_y - (is_import ? 0 : xy.y);\n\n            if (column_index === 0) {\n                block.moveBy(cursor_x, cursor_y);\n            } else {\n                const start = (column_index - 1) * blocks_per_column;\n                const fat_neighbour_block = root_blocks\n                    .slice(start, start + blocks_per_column)\n                    ?.reduce((a, b) => (a.getHeightWidth().width > b.getHeightWidth().width ? a : b));\n\n                let position_x = cursor_x + fat_neighbour_block.getHeightWidth().width + Blockly.BlockSvg.MIN_BLOCK_X;\n                if (!is_import) {\n                    position_x += fat_neighbour_block.getRelativeToSurfaceXY().x;\n                }\n\n                block.moveBy(position_x, cursor_y);\n            }\n\n            block.snapToGrid();\n\n            original_cursor_y =\n                block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n        });\n\n        const lowest_root_block = root_blocks.reduce((a, b) => {\n            const a_metrics = a.getRelativeToSurfaceXY().y + a.getHeightWidth().height;\n            const b_metrics = b.getRelativeToSurfaceXY().y + b.getHeightWidth().height;\n            return a_metrics > b_metrics ? a : b;\n        });\n\n        original_cursor_y =\n            lowest_root_block.getRelativeToSurfaceXY().y +\n            lowest_root_block.getHeightWidth().height +\n            Blockly.BlockSvg.MIN_BLOCK_Y;\n    }\n\n    const filtered_top_blocks = top_blocks.filter(block => !block.isMainBlock());\n\n    filtered_top_blocks.forEach(block => {\n        const xy = block.getRelativeToSurfaceXY();\n        const cursor_x = is_import ? x : -xy.x;\n        const cursor_y = original_cursor_y - (is_import ? 0 : xy.y);\n\n        block.moveBy(cursor_x, cursor_y);\n        block.snapToGrid();\n\n        original_cursor_y =\n            block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n    });\n\n    Blockly.Events.setGroup(false);\n    this.setResizesEnabled(true);\n};\n\n/**\n * Return an object with all the metrics required to size scrollbars for a\n * top level workspace.  The following properties are computed:\n * Coordinate system: pixel coordinates.\n * .viewHeight: Height of the visible rectangle,\n * .viewWidth: Width of the visible rectangle,\n * .contentHeight: Height of the contents,\n * .contentWidth: Width of the content,\n * .viewTop: Offset of top edge of visible rectangle from parent,\n * .viewLeft: Offset of left edge of visible rectangle from parent,\n * .contentTop: Offset of the top-most content from the y=0 coordinate,\n * .contentLeft: Offset of the left-most content from the x=0 coordinate.\n * .absolute_top: Top-edge of view.\n * .absolute_left: Left-edge of view.\n * .toolboxWidth: Width of toolbox, if it exists.  Otherwise zero.\n * .toolboxHeight: Height of toolbox, if it exists.  Otherwise zero.\n * .flyoutWidth: Width of the flyout if it is always open.  Otherwise zero.\n * .flyoutHeight: Height of flyout if it is always open.  Otherwise zero.\n * .toolboxPosition: Top, bottom, left or right.\n * @return {!Object} Contains size and position metrics of a top level\n *   workspace.\n * @private\n * @this Blockly.WorkspaceSvg\n */\nBlockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_ = function () {\n    const toolbox_dimensions = Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_);\n    const flyout_dimensions = Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_);\n\n    // Contains height and width in CSS pixels.\n    // svg_size is equivalent to the size of the injectionDiv at this point.\n    const svg_size = Blockly.svgSize(this.getParentSvg());\n\n    if (this.toolbox_) {\n        if (this.toolboxPosition === Blockly.TOOLBOX_AT_TOP || this.toolboxPosition === Blockly.TOOLBOX_AT_BOTTOM) {\n            svg_size.height -= toolbox_dimensions.height;\n        } else if (\n            this.toolboxPosition === Blockly.TOOLBOX_AT_LEFT ||\n            this.toolboxPosition === Blockly.TOOLBOX_AT_RIGHT\n        ) {\n            svg_size.width -= toolbox_dimensions.width;\n        }\n    }\n\n    // svg_size is now the space taken up by the Blockly workspace, not including the toolbox.\n    const content_dimensions = Blockly.WorkspaceSvg.getContentDimensions_(this, svg_size);\n\n    let absolute_left = 0;\n    let absolute_top = 0;\n\n    if (this.toolbox_ && this.toolboxPosition === Blockly.TOOLBOX_AT_LEFT) {\n        absolute_top = 50; // deriv-bot: Add some spacing for Core header.\n        absolute_left = toolbox_dimensions.width;\n    }\n\n    if (this.toolbox_ && this.toolboxPosition === Blockly.TOOLBOX_AT_TOP) {\n        absolute_top = toolbox_dimensions.height + 50;\n    }\n\n    const metrics = {\n        contentHeight: content_dimensions.height,\n        contentWidth: content_dimensions.width,\n        contentTop: content_dimensions.top,\n        contentLeft: content_dimensions.left,\n        viewHeight: svg_size.height,\n        viewWidth: svg_size.width,\n        viewTop: -this.scrollY, // Must be in pixels, somehow.\n        viewLeft: -this.scrollX, // Must be in pixels, somehow.\n        absoluteTop: absolute_top,\n        absoluteLeft: absolute_left,\n        toolboxWidth: toolbox_dimensions.width,\n        toolboxHeight: toolbox_dimensions.height,\n        flyoutWidth: flyout_dimensions.width,\n        flyoutHeight: flyout_dimensions.height,\n        toolboxPosition: this.toolboxPosition,\n    };\n\n    return metrics;\n};\n\n/**\n * Paste the provided block onto the workspace.\n * @param {!Element} xml_block XML block element.\n */\nBlockly.WorkspaceSvg.prototype.paste = function (xml_block) {\n    if (!this.rendered) {\n        return;\n    }\n\n    if (this.currentGesture_) {\n        this.currentGesture_.cancel(); // Dragging while pasting?  No.\n    }\n\n    if (xml_block.tagName.toLowerCase() === 'comment') {\n        this.pasteWorkspaceComment_(xml_block);\n    } else {\n        removeLimitedBlocks(this, xml_block.getAttribute('type'));\n        this.pasteBlock_(xml_block);\n    }\n};\n\n/**\n * Show the context menu for the workspace.\n * @param {!Event} e Mouse event.\n * @private\n */\nBlockly.WorkspaceSvg.prototype.showContextMenu_ = function (e) {\n    if (this.options.readOnly || this.isFlyout) {\n        return;\n    }\n    const menu_options = [];\n    const top_blocks = this.getTopBlocks(true);\n    const all_blocks = this.getAllBlocks(true);\n\n    // Options to undo/redo previous action.\n    menu_options.push(Blockly.ContextMenu.wsUndoOption(this));\n    menu_options.push(Blockly.ContextMenu.wsRedoOption(this));\n\n    // Option to clean up blocks.\n    if (this.scrollbar) {\n        menu_options.push(Blockly.ContextMenu.wsCleanupOption(this, top_blocks.length));\n    }\n\n    if (this.options.collapse) {\n        const has_collapsed_blocks = all_blocks.some(block => block.isCollapsed());\n        const has_expanded_blocks = all_blocks.some(block => !block.isCollapsed());\n\n        menu_options.push(Blockly.ContextMenu.wsExpandOption(has_collapsed_blocks, all_blocks));\n        menu_options.push(Blockly.ContextMenu.wsCollapseOption(has_expanded_blocks, all_blocks));\n    }\n\n    // Option to add a workspace comment.\n    if (this.options.comments) {\n        menu_options.push(Blockly.ContextMenu.workspaceCommentOption(this, e));\n    }\n\n    menu_options.push(Blockly.ContextMenu.wsDeleteOption(this, top_blocks));\n\n    Blockly.ContextMenu.show(e, menu_options, this.RTL);\n};\n\n/**\n * Dispose of this workspace.\n * Unlink from all DOM elements to prevent memory leaks.\n */\nBlockly.WorkspaceSvg.prototype.dispose = function (should_show_loading = false) {\n    const disposeFn = () => {\n        // Stop rerendering.\n        this.rendered = false;\n        if (this.currentGesture_) {\n            this.currentGesture_.cancel();\n        }\n        Blockly.WorkspaceSvg.superClass_.dispose.call(this);\n        if (this.svgGroup_) {\n            goog.dom.removeNode(this.svgGroup_);\n            this.svgGroup_ = null;\n        }\n        this.svgBlockCanvas_ = null;\n        this.svgBubbleCanvas_ = null;\n        if (this.toolbox_) {\n            this.toolbox_.dispose();\n            this.toolbox_ = null;\n        }\n        if (this.flyout_) {\n            this.flyout_.dispose();\n            this.flyout_ = null;\n        }\n        if (this.trashcan) {\n            this.trashcan.dispose();\n            this.trashcan = null;\n        }\n        if (this.scrollbar) {\n            this.scrollbar.dispose();\n            this.scrollbar = null;\n        }\n        if (this.zoomControls_) {\n            this.zoomControls_.dispose();\n            this.zoomControls_ = null;\n        }\n\n        if (this.audioManager_) {\n            this.audioManager_.dispose();\n            this.audioManager_ = null;\n        }\n\n        if (this.grid_) {\n            this.grid_.dispose();\n            this.grid_ = null;\n        }\n\n        if (this.toolboxCategoryCallbacks_) {\n            this.toolboxCategoryCallbacks_ = null;\n        }\n        if (this.flyoutButtonCallbacks_) {\n            this.flyoutButtonCallbacks_ = null;\n        }\n        if (!this.options.parentWorkspace) {\n            // Top-most workspace.  Dispose of the div that the\n            // SVG is injected into (i.e. injectionDiv).\n            goog.dom.removeNode(this.getParentSvg().parentNode);\n        }\n        if (this.resizeHandlerWrapper_) {\n            Blockly.unbindEvent_(this.resizeHandlerWrapper_);\n            this.resizeHandlerWrapper_ = null;\n        }\n    };\n\n    if (should_show_loading) {\n        const { setLoading } = DBotStore.instance;\n        setLoading(true);\n\n        setTimeout(() => {\n            disposeFn();\n            setLoading(false);\n        }, 50);\n    } else {\n        disposeFn();\n    }\n};\n\n/**\n * Dispose of all blocks in workspace, with an optimization to prevent resizes.\n */\nBlockly.WorkspaceSvg.prototype.asyncClear = function () {\n    const { setLoading } = DBotStore.instance;\n    setLoading(true);\n\n    return new Promise(resolve => {\n        this.clear();\n        setLoading(false);\n        resolve();\n    });\n};\n","import { blueInfo } from '../blocks/images';\n\nBlockly.Tooltip.HOVER_MS = 50;\n\nBlockly.Tooltip.show_ = () => {\n    let params;\n    Blockly.Tooltip.DIV = ((Blockly.Tooltip.poisonedElement_ = Blockly.Tooltip.element_), Blockly.Tooltip.DIV);\n    if (!Blockly.Tooltip.blocked_) {\n        Blockly.Tooltip.DIV.innerHTML = '';\n        for (params = Blockly.Tooltip.element_.tooltip; typeof params === 'function'; ) params = params();\n        params = Blockly.utils.string.wrap(params, Blockly.Tooltip.LIMIT);\n        params = params.split('\\n');\n\n        params.forEach((param, index) => {\n            const div = document.createElement('div');\n            const text_span = document.createElement('span');\n\n            text_span.appendChild(document.createTextNode(param));\n            text_span.style.verticalAlign = 'middle';\n            Blockly.Tooltip.DIV.appendChild(div);\n\n            if (!index) {\n                const img = document.createElement('img');\n                const img_span = document.createElement('span');\n                img.src = blueInfo;\n                img.style.paddingRight = '8px';\n                img.style.verticalAlign = 'middle';\n                div.appendChild(img_span);\n                img_span.appendChild(img);\n            } else {\n                text_span.style.paddingLeft = '24px';\n            }\n\n            div.appendChild(text_span);\n        });\n\n        const direction = Blockly.Tooltip.element_.RTL;\n        const client_width = document.documentElement.clientWidth;\n        const client_height = document.documentElement.clientHeight;\n        if (Blockly.Tooltip.DIV) {\n            Blockly.Tooltip.DIV.style.direction = direction ? 'rtl' : 'ltr';\n        }\n        Blockly.Tooltip.DIV.style.display = 'block';\n        Blockly.Tooltip.visible = true;\n        let last_x = Blockly.Tooltip.lastX_;\n        last_x = direction\n            ? last_x - (Blockly.Tooltip.OFFSET_X + Blockly.Tooltip.DIV.offsetWidth)\n            : last_x + Blockly.Tooltip.OFFSET_X;\n        let last_y = Blockly.Tooltip.lastY_ + Blockly.Tooltip.OFFSET_Y;\n        if (last_y + Blockly.Tooltip.DIV.offsetHeight > client_height + window.scrollY) {\n            last_y -= Blockly.Tooltip.DIV.offsetHeight + 2 * Blockly.Tooltip.OFFSET_Y;\n        }\n        if (direction) {\n            last_x = Math.max(Blockly.Tooltip.MARGINS - window.scrollX, last_x);\n        }\n        if (last_x + Blockly.Tooltip.DIV.offsetWidth > client_width + window.scrollX - 2 * Blockly.Tooltip.MARGINS) {\n            last_x = client_width - Blockly.Tooltip.DIV.offsetWidth - 2 * Blockly.Tooltip.MARGINS;\n        }\n        Blockly.Tooltip.DIV.style.top = `${last_y}px`;\n        Blockly.Tooltip.DIV.style.left = `${last_x}px`;\n    }\n};\n\nBlockly.Tooltip.hide = () => {\n    if (Blockly.Tooltip.visible && Blockly.Tooltip.DIV) {\n        Blockly.Tooltip.visible = false;\n        setTimeout(() => (Blockly.Tooltip.DIV.style.display = 'none'), Blockly.Tooltip.HOVER_MS);\n    }\n    if (Blockly.Tooltip.showPid_) {\n        clearTimeout(Blockly.Tooltip.showPid_);\n    }\n\n    /// For hiding tooltip next to the platform name.\n    if (!Blockly.Tooltip.DIV?.style.direction) {\n        Blockly.Tooltip.visible = false;\n        Blockly.Tooltip.DIV.style.display = 'none';\n    }\n};\n","/* eslint-disble */\n/**\n * Create a main workspace and add it to the SVG.\n * @param {!Element} svg SVG element with pattern defined.\n * @param {!Blockly.Options} options Dictionary of options.\n * @param {!Blockly.BlockDragSurfaceSvg} blockDragSurface Drag surface SVG\n *     for the blocks.\n * @param {!Blockly.WorkspaceDragSurfaceSvg} workspaceDragSurface Drag surface\n *     SVG for the workspace.\n * @return {!Blockly.Workspace} Newly created main workspace.\n * @private\n */\nBlockly.createVirtualWorkspace_ = function (fragment, options, blockDragSurface, workspaceDragSurface) {\n    options.parentWorkspace = null;\n    const mainWorkspace = new Blockly.WorkspaceSvg(options, blockDragSurface, workspaceDragSurface);\n    mainWorkspace.scale = options.zoomOptions.startScale;\n    fragment.appendChild(mainWorkspace.createDom('blocklyMainBackground'));\n\n    return mainWorkspace;\n};\n","/**\n * Change the colour of the associated bubble to match its block.\n * deriv-bot: Use primary colour instead of tertiary. At time of writing\n * we use colour too similar to workspace background colour for tertiary (borders).\n * @package\n */\nBlockly.ScratchBlockComment.prototype.updateColour = function () {\n    if (this.isVisible()) {\n        this.bubble_.setColour(this.block_.getColour());\n    }\n};\n","// deriv-bot: Reference the correct function of wrap. This is due to\n// Scratch using different structure vs Blockly.\nBlockly.utils.string = {\n    wrap: Blockly.utils.wrap,\n};\n","Blockly.VariableMap.prototype.createVariable = function (name, opt_type, opt_id, opt_is_local, opt_is_cloud) {\n    let variable = this.getVariable(name, opt_type);\n\n    if (variable) {\n        return variable;\n    }\n\n    if (opt_id) {\n        variable = this.getVariableById(opt_id);\n\n        if (variable) {\n            return variable;\n        }\n    }\n\n    const optional_id = opt_id || Blockly.utils.genUid();\n    const optional_type = opt_type || '';\n\n    variable = new Blockly.VariableModel(this.workspace, name, optional_type, optional_id, opt_is_local, opt_is_cloud);\n\n    // If opt_type is not a key, create a new list.\n    if (!this.variableMap_[optional_type]) {\n        this.variableMap_[optional_type] = [variable];\n    } else {\n        // Else append the variable to the preexisting list.\n        this.variableMap_[optional_type].push(variable);\n    }\n\n    return variable;\n};\n","/**\n * Find all user-created variables that are in use in the workspace.\n * For use by generators.\n * To get a list of all variables on a workspace, including unused variables,\n * call Workspace.getAllVariables.\n * @deriv/bot: Required for JS generator to work.\n * @param {!Blockly.Workspace} ws The workspace to search for variables.\n * @return {!Array.<!Blockly.VariableModel>} Array of variable models.\n */\nBlockly.Variables.allUsedVarModels = function (ws) {\n    const blocks = ws.getAllBlocks(false);\n    const variableHash = Object.create(null);\n\n    // Iterate through every block and add each variable to the hash.\n    blocks.forEach(block => {\n        const blockVariables = block.getVarModels();\n        if (blockVariables) {\n            blockVariables.forEach(blockVariable => {\n                const id = blockVariable.getId();\n                if (id) {\n                    variableHash[id] = blockVariable;\n                }\n            });\n        }\n    });\n\n    // Flatten the hash into a list.\n    const variableList = [];\n    Object.keys(variableHash).forEach(id => {\n        variableList.push(variableHash[id]);\n    });\n\n    return variableList;\n};\n\n/**\n * Generate DOM objects representing a variable field.\n * @param {!Blockly.VariableModel} variableModel The variable model to\n *     represent.\n * @return {Element} The generated DOM.\n * @public\n */\nBlockly.Variables.generateVariableFieldDom = function (variableModel) {\n    /* Generates the following XML:\n     * <field name=\"VAR\" id=\"goKTKmYJ8DhVHpruv\" variabletype=\"int\">foo</field>\n     */\n    const field = document.createElement('field');\n\n    field.setAttribute('name', 'VAR');\n    field.setAttribute('id', variableModel.getId());\n    field.setAttribute('variabletype', variableModel.type);\n\n    const name = document.createTextNode(variableModel.name);\n    field.appendChild(name);\n    return field;\n};\n","Blockly.WorkspaceAudio.prototype.preload = function () {};\n","Blockly.Xml.NODE_BLOCK = 'BLOCK';\nBlockly.Xml.NODE_BUTTON = 'BUTTON';\nBlockly.Xml.NODE_LABEL = 'LABEL';\nBlockly.Xml.NODE_SHADOW = 'SHADOW';\nBlockly.Xml.NODE_INPUT = 'INPUT';\n","import filesaver from 'file-saver';\nimport { config } from '../constants/config';\n\nexport const saveAs = ({ data, filename, type }) => {\n    const blob = new Blob([data], { type });\n    filesaver.saveAs(blob, filename);\n};\n\nexport const getContractTypeOptions = (contract_type, trade_type) => {\n    const trade_types = config.opposites[trade_type.toUpperCase()];\n\n    if (!trade_types) {\n        return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    const contract_options = trade_types.map(type => Object.entries(type)[0].reverse());\n\n    // When user selected a specific contract, only return the contract type they selected.\n    if (contract_type !== 'both') {\n        return contract_options.filter(option => option[1] === contract_type);\n    }\n\n    return contract_options;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../constants/config';\nimport ApiHelpers from '../services/api/api-helpers';\n\n/* eslint-disable no-underscore-dangle */\nexport default class BlockConversion {\n    constructor() {\n        this.blocks_pending_reconnect = {};\n        this.workspace = this.createWorkspace();\n        this.workspace_variables = {};\n    }\n\n    getConversions() {\n        const generateGrowingListBlock = (block_node, block_type, variable_name, child_value_input_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const block_child_nodes = Array.from(block_node.children);\n            const mutation_dom = block_child_nodes.find(child_node => child_node.tagName.toLowerCase() === 'mutation');\n\n            if (mutation_dom) {\n                const items_amount = parseInt(mutation_dom.getAttribute('items')) || 0;\n\n                if (items_amount > 0) {\n                    // In DBot we have a statement block for each value part of the list, so we need to\n                    // generate blocks for these and connect them to the parent's statement.\n                    for (let i = 0; i < items_amount; i++) {\n                        block.onIconClick();\n                    }\n\n                    // Note that value_input_nodes.length can be different than the items_amount\n                    // user can have empty entries in their list!\n                    block_child_nodes\n                        .filter(child_node => child_node.tagName.toLowerCase() === 'value')\n                        .forEach(child_node => {\n                            const value_input_name = child_node.getAttribute('name');\n                            const value_input_index = parseInt(value_input_name.replace(/[^0-9]+/g, ''));\n\n                            Array.from(child_node.children).forEach(value_block_node => {\n                                const value_block = this.convertBlockNode(value_block_node, block);\n\n                                // Now connect this converted block to the new text_statement.\n                                const statement_block = block\n                                    .getBlocksInStatement('STACK')\n                                    .find((b, i) => value_input_index === i);\n                                const value_input = statement_block.getInput(child_value_input_name);\n\n                                value_input.connection.connect(value_block.outputConnection);\n                            });\n\n                            child_node.parentNode.removeChild(child_node);\n                        });\n                }\n            }\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const generateIndicatorBlock = (block_node, block_type, variable_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const value_input_name_mappings = {\n                input_list: [{ old: 'INPUT', new: 'INPUT_LIST' }],\n                period: [{ old: 'PERIOD', new: 'PERIOD' }],\n                fast_ema_period: [{ old: 'FAST_EMA_PERIOD', new: 'FAST_EMA_PERIOD' }],\n                signal_ema_period: [\n                    // https://github.com/binary-com/binary-bot/pull/1123\n                    { old: 'SMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                    { old: 'SIGNAL_EMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                ],\n                slow_ema_period: [{ old: 'SLOW_EMA_PERIOD', new: 'SLOW_EMA_PERIOD' }],\n                std_dev_multiplier_up: [{ old: 'UPMULTIPLIER', new: 'UPMULTIPLIER' }],\n                std_dev_multiplier_down: [{ old: 'DOWNMULTIPLIER', new: 'DOWNMULTIPLIER' }],\n            };\n\n            // Bollinger Bands + MACDA have some fields we need to carry over.\n            switch (block_type) {\n                case 'bb_statement':\n                case 'bba_statement': {\n                    const bb_result_list = block.getField('BBRESULT_LIST');\n                    if (bb_result_list) {\n                        bb_result_list.setValue(this.getFieldValue(block_node, 'BBRESULT_LIST'));\n                    }\n                    break;\n                }\n                case 'macda_statement': {\n                    const macd_fields_list = block.getField('MACDFIELDS_LIST');\n                    if (macd_fields_list) {\n                        macd_fields_list.setValue(this.getFieldValue(block_node, 'MACDFIELDS_LIST'));\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n\n            // Attach required child blocks (these are defined on each indicator block).\n            const required_child_blocks = block.required_child_blocks || [];\n\n            required_child_blocks.forEach(required_child_block_name => {\n                const child_block = this.workspace.newBlock(required_child_block_name);\n                const last_connection = block.getLastConnectionInStatement('STATEMENT');\n\n                last_connection.connect(child_block.previousConnection);\n            });\n\n            const blocks_in_statement = block.getBlocksInStatement('STATEMENT');\n\n            blocks_in_statement.forEach(block_in_statement => {\n                const value_name_mappings = value_input_name_mappings[block_in_statement.type];\n\n                if (value_name_mappings) {\n                    value_name_mappings.forEach(value_name_mapping => {\n                        const el_value = block_node.querySelector(`value[name=\"${value_name_mapping.old}\"]`);\n\n                        if (el_value) {\n                            const value_input = block_in_statement.getInput(value_name_mapping.new);\n\n                            Array.from(el_value.children).forEach(el_value_child => {\n                                const converted_block = this.convertBlockNode(el_value_child, block);\n                                const input_child_type = el_value_child.tagName.toLowerCase();\n\n                                if (input_child_type === 'shadow') {\n                                    converted_block.setShadow(true);\n                                }\n\n                                value_input.connection.connect(converted_block.outputConnection);\n                            });\n\n                            el_value.parentNode.removeChild(el_value);\n                        }\n                    });\n                }\n            });\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const tradeOptions = (block_node, is_symbol_type = false) => {\n            const block = this.workspace.newBlock('trade_definition_tradeoptions');\n            const block_node_to_use = block_node;\n\n            // Legacy symbol blocks used a statement \"CONDITION\" populated with a trade type block.\n            // This trade type block has the same structure as tradeOptions, hence we can use it here.\n            if (is_symbol_type) {\n                return false;\n            }\n\n            const fields = [\n                'DURATIONTYPE_LIST',\n                'CURRENCY_LIST',\n                'BARRIEROFFSETTYPE_LIST',\n                'SECONDBARRIEROFFSETTYPE_LIST',\n            ];\n            const block_child_nodes = Array.from(block_node_to_use.children);\n\n            let barrier_inputs = 0;\n            let has_prediction = false;\n\n            block_child_nodes\n                .filter(block_child_node => block_child_node.tagName.toLowerCase() === 'value')\n                .forEach(block_child_node => {\n                    const value_input_name = block_child_node.getAttribute('name');\n\n                    if (value_input_name === 'BARRIEROFFSET' || value_input_name === 'SECONDBARRIEROFFSET') {\n                        barrier_inputs++;\n                    } else if (value_input_name === 'PREDICTION') {\n                        has_prediction = true;\n                    }\n                });\n\n            if (barrier_inputs > 0) {\n                block.createBarrierInputs({\n                    allow_both_types: true,\n                    values: [1, -1],\n                });\n            }\n\n            if (has_prediction) {\n                block.createPredictionInput([0]);\n            }\n\n            fields.forEach(field_name => {\n                const field = block.getField(field_name);\n                if (field) {\n                    field.setValue(this.getFieldValue(block_node_to_use, field_name));\n                }\n            });\n\n            return { block_to_attach: block };\n        };\n        const conversions = {\n            bb: block_node => generateIndicatorBlock(block_node, 'bb_statement', 'bb'),\n            bba: block_node => generateIndicatorBlock(block_node, 'bba_statement', 'bba'),\n            ema: block_node => generateIndicatorBlock(block_node, 'ema_statement', 'ema'),\n            emaa: block_node => generateIndicatorBlock(block_node, 'emaa_statement', 'emaa'),\n            lists_create_with: block_node =>\n                generateGrowingListBlock(block_node, 'lists_create_with', localize('list'), 'VALUE'),\n            macda: block_node => generateIndicatorBlock(block_node, 'macda_statement', 'macda'),\n            market: block_node => tradeOptions(block_node),\n            rsi: block_node => generateIndicatorBlock(block_node, 'rsi_statement', 'rsi'),\n            rsia: block_node => generateIndicatorBlock(block_node, 'rsia_statement', 'rsia'),\n            sma: block_node => generateIndicatorBlock(block_node, 'sma_statement', 'sma'),\n            smaa: block_node => generateIndicatorBlock(block_node, 'smaa_statement', 'smaa'),\n            text_join: block_node => generateGrowingListBlock(block_node, 'text_join', localize('text'), 'TEXT'),\n            trade: block_node => {\n                const block = this.workspace.newBlock('trade_definition');\n                const block_fields = {\n                    trade_definition_market: ['MARKET_LIST', 'SUBMARKET_LIST', 'SYMBOL_LIST'],\n                    trade_definition_tradetype: ['TRADETYPECAT_LIST', 'TRADETYPE_LIST'],\n                    trade_definition_contracttype: ['TYPE_LIST'],\n                    trade_definition_candleinterval: ['CANDLEINTERVAL_LIST'],\n                    trade_definition_restartbuysell: ['TIME_MACHINE_ENABLED'],\n                    trade_definition_restartonerror: ['RESTARTONERROR'],\n                };\n\n                const blocks_to_connect = {};\n\n                Object.keys(block_fields).forEach(child_block_name => {\n                    const child_block = this.workspace.newBlock(child_block_name);\n\n                    block_fields[child_block_name].forEach(field_name => {\n                        child_block.setFieldValue(this.getFieldValue(block_node, field_name), field_name);\n                    });\n\n                    blocks_to_connect[child_block_name] = child_block;\n                });\n\n                Object.values(blocks_to_connect).forEach(child_block => {\n                    const last_connection = block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    last_connection.connect(child_block.previousConnection);\n                });\n\n                return { block_to_attach: block };\n            },\n            tradeOptions,\n        };\n\n        return conversions;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getIllegalBlocks() {\n        const illegal_blocks = [];\n\n        // Legacy symbol + trade_type blocks are special cases, they are turned into multiple blocks.\n        // We don't convert these atm, as a workaround users can import to BBot, then export and load\n        // into DBot.\n        const { active_symbols } = ApiHelpers.instance.active_symbols;\n        const { opposites } = config;\n\n        active_symbols.forEach(active_symbol => {\n            const symbol_name = active_symbol.symbol.toLowerCase();\n            if (!illegal_blocks.includes(symbol_name)) {\n                illegal_blocks.push(symbol_name);\n            }\n        });\n\n        // All trade types blocks cannot be converted at this time.\n        Object.keys(opposites).forEach(opposites_name => illegal_blocks.push(opposites_name));\n\n        return illegal_blocks;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    createWorkspace() {\n        const options = new Blockly.Options({ media: `${__webpack_public_path__}media/` });\n        const el_injection_div = new DocumentFragment();\n        const workspace = Blockly.createVirtualWorkspace_(el_injection_div, options, false, false);\n\n        return workspace;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFieldValue(el_block, field_name) {\n        const el_field = el_block.querySelector(`field[name=\"${field_name}\"]`);\n        return el_field ? el_field.textContent : '';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFirstBlockInStack(block) {\n        let current_previous_connection = block.previousConnection;\n        let previous_block = block.getPreviousBlock();\n\n        if (!current_previous_connection) {\n            return block;\n        }\n\n        while (previous_block) {\n            if (previous_block === block.getSurroundParent()) {\n                break;\n            }\n\n            current_previous_connection = previous_block.previousConnection;\n            previous_block = previous_block.getPreviousBlock();\n        }\n\n        return current_previous_connection.sourceBlock_;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    updateRenamedFields(xml) {\n        const renamed_fields = {\n            MARKET_LIST: {\n                volidx: 'synthetic_index',\n            },\n            TRADETYPECAT_LIST: {\n                endsinout: 'inout',\n                staysinout: 'inout',\n                callputequal: 'callput',\n            },\n            TRADETYPE_LIST: {\n                risefall: 'callput',\n                risefallequals: 'callputequal',\n            },\n        };\n\n        Object.keys(renamed_fields).forEach(field_name => {\n            const el_field = xml.querySelector(`field[name=\"${field_name}\"]`);\n\n            if (el_field) {\n                const value = el_field.innerText;\n\n                Object.keys(renamed_fields[field_name]).forEach(old_name => {\n                    if (value === old_name) {\n                        el_field.innerText = renamed_fields[field_name][old_name];\n                    }\n                });\n            }\n        });\n\n        return xml;\n    }\n\n    naivelyFixLegacyStrategyAfterConversion() {\n        // For old \"market\" blocks, move everything in \"Trade options\" except \"DURATION\"\n        // to \"Run once at start\". Legacy \"market\" blocks had no such thing as \"Run once at start\"\n        // not moving everything would kill Martingale strategies as they'd be reinitialised each run.\n        const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n\n        if (trade_definition_block) {\n            trade_definition_block.getBlocksInStatement('SUBMARKET').forEach(block => {\n                if (block.type !== 'trade_definition_tradeoptions') {\n                    const last_connection = trade_definition_block.getLastConnectionInStatement('INITIALIZATION');\n                    block.unplug(true);\n                    last_connection.connect(block.previousConnection);\n                }\n            });\n        }\n    }\n\n    generateUniqueVariable(variable_name) {\n        let current_name = variable_name;\n        let counter = 0;\n\n        while (Object.values(this.workspace_variables).includes(current_name)) {\n            counter++;\n            current_name = variable_name + counter;\n        }\n\n        const ws_variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, '', current_name, '');\n        this.workspace_variables[ws_variable.id_] = current_name; // eslint-disable-line\n\n        return ws_variable;\n    }\n\n    convertStrategy(strategy_node, showIncompatibleStrategyDialog) {\n        // Disable events (globally) to suppress block onchange listeners from firing.\n        Blockly.Events.disable();\n\n        // We only want to update renamed fields for modern strategies.\n        const xml = this.updateRenamedFields(strategy_node);\n\n        // Don't convert already compatible strategies.\n        if (strategy_node.hasAttribute('is_dbot') && strategy_node.getAttribute('is_dbot') === 'true') {\n            Blockly.Events.enable();\n            return xml;\n        }\n\n        const has_illegal_block = this.getIllegalBlocks().some(\n            illegal_block_type => !!xml.querySelector(`block[type=\"${illegal_block_type}\"]`)\n        );\n\n        if (has_illegal_block) {\n            if (showIncompatibleStrategyDialog) {\n                showIncompatibleStrategyDialog();\n            }\n            Blockly.Events.enable();\n            return Blockly.Xml.textToDom('<xml />');\n        }\n\n        const variable_nodes = [];\n        const block_nodes = [];\n\n        Array.from(xml.children).forEach(strategy_child_node => {\n            const tag_name = strategy_child_node.nodeName.toLowerCase();\n\n            switch (tag_name) {\n                case 'block':\n                case 'shadow': {\n                    block_nodes.push(strategy_child_node);\n                    break;\n                }\n                case 'variables': {\n                    variable_nodes.push(...strategy_child_node.children);\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        const registerVariables = el_variables => {\n            el_variables.forEach(el_variable => {\n                const variable_id = el_variable.getAttribute('id');\n                const variable_name = el_variable.textContent;\n\n                if (!this.workspace_variables[variable_id]) {\n                    const variable = Blockly.Variables.getOrCreateVariablePackage(\n                        this.workspace,\n                        variable_id,\n                        variable_name,\n                        ''\n                    );\n                    this.workspace_variables[variable.id_] = variable.name;\n                }\n            });\n        };\n\n        // Register pre-existing variables taken from XML file. Users may register variables\n        // but not use them, we should not delete them nor create only the ones used in the strategy.\n        registerVariables(variable_nodes);\n\n        // Collection strategies don't pre-register variables, find these and register\n        // variable instances for them if they don't exist yet.\n        registerVariables(xml.querySelectorAll('field[name=\"VAR\"]'));\n\n        block_nodes.forEach(block_node => this.convertBlockNode(block_node));\n\n        // Re-connect blocks that have been transformed into multiples. i.e. in the case\n        // of old multiline blocks converted to statement blocks.\n        Object.keys(this.blocks_pending_reconnect).forEach(previous_sibling_id => {\n            const previous_sibling_block = this.workspace.getBlockById(previous_sibling_id);\n            const child_blocks = this.blocks_pending_reconnect[previous_sibling_id];\n            const sibling_previous_connection = previous_sibling_block.previousConnection;\n\n            if (sibling_previous_connection) {\n                const sibling_previous_target_connection = sibling_previous_connection.targetConnection;\n                let highest_previous_connection = sibling_previous_connection;\n\n                // Connect all the blocks to be connected in reverse, we do this to maintain\n                // the original order of statement blocks, although the order mostly doesn't\n                // matter. (This may change, it may matter for other statement blocks.)\n                child_blocks.reverse().forEach(child_block => {\n                    highest_previous_connection.connect(child_block.nextConnection);\n                    highest_previous_connection = child_block.previousConnection;\n                });\n\n                if (sibling_previous_target_connection) {\n                    // Reconnect the first block in this statement to the original parent connection.\n                    let current_previous_connection = previous_sibling_block.previousConnection;\n                    let previous_block = previous_sibling_block.getPreviousBlock();\n\n                    while (previous_block) {\n                        if (previous_block === previous_block.getSurroundParent()) {\n                            break;\n                        }\n\n                        current_previous_connection = previous_block.previousConnection;\n                        previous_block = previous_block.getPreviousBlock();\n                    }\n\n                    sibling_previous_target_connection.connect(current_previous_connection);\n                }\n            }\n        });\n\n        this.naivelyFixLegacyStrategyAfterConversion();\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            block.initSvg();\n            block.render();\n        });\n\n        this.workspace.cleanUp();\n\n        const converted_xml = Blockly.Xml.workspaceToDom(this.workspace);\n\n        if (strategy_node.hasAttribute('collection') && strategy_node.getAttribute('collection') === 'true') {\n            converted_xml.setAttribute('collection', 'true');\n        }\n\n        converted_xml.setAttribute('is_dbot', 'true');\n\n        this.workspace = null;\n\n        Blockly.Events.enable();\n\n        return converted_xml;\n    }\n\n    convertBlockNode(el_block, parent_block = null) {\n        const conversions = this.getConversions();\n        const block_type = el_block.getAttribute('type');\n        const is_old_block = Object.keys(conversions).includes(block_type);\n        let block = null;\n\n        const is_collapsed = el_block.getAttribute('collapsed') && el_block.getAttribute('collapsed') === 'true';\n        const is_immovable = el_block.getAttribute('movable') && el_block.getAttribute('movable') === 'false';\n        const is_undeletable = el_block.getAttribute('deletable') && el_block.getAttribute('deletable') === 'false';\n        const is_disabled = el_block.getAttribute('disabled') && el_block.getAttribute('disabled') === 'true';\n\n        const setBlockAttributes = b => {\n            b.setCollapsed(is_collapsed);\n            b.setMovable(!is_immovable);\n            b.setDeletable(!is_undeletable);\n            b.setDisabled(is_disabled);\n        };\n\n        if (is_old_block) {\n            const conversion_obj = conversions[block_type](el_block);\n\n            // block is a value block that needs to be reattached. TODO?\n            if (conversion_obj.block_to_attach) {\n                block = conversion_obj.block_to_attach;\n                setBlockAttributes(block);\n            }\n\n            // Statement blocks coming from the conversion_obj need to be attached to the block's previousConnection.\n            if (parent_block && conversion_obj.statement_blocks) {\n                conversion_obj.statement_blocks.forEach(statement_block => {\n                    // Persist block attributes.\n                    setBlockAttributes(statement_block);\n\n                    const previous_connection = this.getClosestLegalPreviousConnection(parent_block);\n\n                    if (previous_connection) {\n                        const target_block = previous_connection.sourceBlock_;\n\n                        if (!this.blocks_pending_reconnect[target_block.id]) {\n                            this.blocks_pending_reconnect[target_block.id] = [];\n                        }\n\n                        this.blocks_pending_reconnect[target_block.id].push(statement_block);\n                    }\n                });\n            }\n        } else {\n            const is_legal_block = Object.keys(Blockly.Blocks).includes(block_type);\n\n            if (is_legal_block) {\n                block = this.workspace.newBlock(block_type);\n                setBlockAttributes(block);\n\n                // Ensure mutations are correctly rendered. This logic happens here because\n                // we should ignore mutations on blocks that are already converted i.e mutations\n                // will be taken care of in conversion, not here.\n                if (block) {\n                    const mutation_dom = Array.from(el_block.children).find(\n                        child_node => child_node.tagName.toLowerCase() === 'mutation'\n                    );\n\n                    if (mutation_dom && block.domToMutation) {\n                        block.domToMutation(mutation_dom);\n                    }\n                }\n            }\n        }\n\n        if (!block) {\n            console.warn('Unrecognised block found.', block_type); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Keep track of parent_block, especially important for blocks\n        // nested in <next> statements. This property is only set during conversion.\n        if (parent_block) {\n            block.conversion_parent = parent_block;\n        }\n\n        Array.from(el_block.children).forEach(el_block_child => {\n            const tag_name = el_block_child.tagName.toLowerCase();\n\n            switch (tag_name) {\n                case 'field': {\n                    const field_name = el_block_child.getAttribute('name');\n                    const field = block.getField(field_name);\n\n                    if (field) {\n                        if (field instanceof Blockly.FieldVariable) {\n                            const variable_id = el_block_child.getAttribute('id');\n                            const variable_name = el_block_child.innerText.trim();\n                            const variable = Blockly.Variables.getOrCreateVariablePackage(\n                                this.workspace,\n                                variable_id,\n                                variable_name,\n                                ''\n                            );\n                            this.workspace_variables[variable.id_] = variable_name;\n                            field.setValue(variable.id_);\n                        } else {\n                            field.setValue(el_block_child.innerText);\n                        }\n                    }\n                    break;\n                }\n                case 'value': {\n                    this.processValueInputs(block, el_block_child);\n                    break;\n                }\n                case 'statement': {\n                    const statement_name = el_block_child.getAttribute('name');\n                    this.processStatementInputs(block, statement_name, el_block_child);\n                    break;\n                }\n                case 'next': {\n                    const closest_statement = el_block_child.closest('statement');\n\n                    if (closest_statement) {\n                        const statement_name = closest_statement.getAttribute('name');\n                        this.processStatementInputs(block, statement_name, el_block_child, block.conversion_parent);\n                    } else if (block.nextConnection) {\n                        Array.from(el_block_child.children).forEach(el_sibling_block => {\n                            const sibling_block = this.convertBlockNode(el_sibling_block);\n                            block.nextConnection.connect(sibling_block.previousConnection);\n                        });\n                    }\n                    break;\n                }\n                case 'comment': {\n                    const is_minimised = el_block_child.getAttribute('pinned') !== 'true';\n                    const comment_text = el_block_child.innerText;\n\n                    block.comment = new Blockly.ScratchBlockComment(block, comment_text, null, 0, 0, is_minimised);\n                    block.comment.iconXY_ = { x: 0, y: 0 };\n                    block.comment.setVisible(true); // Scratch comments are always visible.\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        return block;\n    }\n\n    // eslint-disable-next-line consistent-return\n    processValueInputs(block, el_input) {\n        const input_name = el_input.getAttribute('name');\n        const input = block.getInput(input_name);\n\n        if (!input) {\n            console.warn('Unrecognised value input', input_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a value node is a shadow or block node. Recursively\n        // convert these block nodes to their new counterpart and re-connect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_input.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block);\n\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Illegal child.', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Set shadow property for shadow blocks.\n            const input_child_type = el_input_child_block.tagName.toLowerCase();\n            if (input_child_type === 'shadow') {\n                input_child_block.setShadow(true);\n            }\n\n            // Re-connect the child block to the value input.\n            input.connection.connect(input_child_block.outputConnection);\n        });\n    }\n\n    // eslint-disable-next-line consistent-return\n    processStatementInputs(block, statement_name, el_node_with_children, block_to_search = null) {\n        const block_to_use = block_to_search || block;\n        const input = block_to_use.getInput(statement_name);\n\n        if (!input) {\n            console.warn('Unrecognised statement input', statement_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a statement node is a block node. Recursively\n        // convert these block nodes to their new counterpart and reconnect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_node_with_children.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block_to_use);\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Unrecognised child in statement', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Note that blocks are connected recursively so more deeply nested blocks\n            // (i.e. nested in <next>) will be connected before less nested blocks.\n            // Luckily Blockly API works in our favour and helps maintain the correct order.\n            const statement_input = block_to_use.getInput(statement_name);\n\n            if (statement_input && input_child_block.previousConnection) {\n                statement_input.connection.connect(input_child_block.previousConnection);\n            }\n        });\n    }\n\n    getClosestLegalPreviousConnection(supposed_parent_block) {\n        // Procedures are a bit special, it's hard to find the correct connection for them so we\n        // generate a (completely useless) filler block and connect it to the procedure's statement\n        // so we can return that useless block's previousConnection.\n        if (config.procedureDefinitionBlocks.includes(supposed_parent_block.type)) {\n            const blocks_in_statement = supposed_parent_block.getBlocksInStatement('STACK');\n\n            if (blocks_in_statement.length === 0) {\n                const input = supposed_parent_block.getInput('STACK');\n                const useless_block = this.workspace.newBlock('useless_block');\n\n                input.connection.connect(useless_block.previousConnection);\n\n                return useless_block.previousConnection;\n            }\n\n            return supposed_parent_block.getInputTargetBlock('STACK').previousConnection;\n        }\n\n        let current_block = this.getFirstBlockInStack(supposed_parent_block);\n        let is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n\n        while (is_protected_statement) {\n            const new_parent = current_block.getParent();\n\n            if (new_parent) {\n                current_block = new_parent;\n                is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n            }\n        }\n\n        if (current_block.previousConnection) {\n            return current_block.previousConnection;\n        }\n\n        if (supposed_parent_block.conversion_parent) {\n            return this.getClosestLegalPreviousConnection(supposed_parent_block.conversion_parent);\n        }\n\n        return false;\n    }\n\n    isConnectedToProtectedStatementInput(block) {\n        const first_block = this.getFirstBlockInStack(block);\n        const previous_connection = first_block.previousConnection;\n\n        if (previous_connection) {\n            const target_connection = previous_connection.targetConnection;\n\n            if (target_connection) {\n                const target_block = target_connection.sourceBlock_; // eslint-disable-line\n                const input = target_block.getInputWithConnection(target_connection);\n                const protected_statements = target_block.protected_statements || [];\n\n                if (input && protected_statements.includes(input.name)) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n}\n","import { localize } from '@deriv/translations';\nimport { saveAs } from '../shared';\nimport BlockConversion from '../backward-compatibility';\nimport { config } from '../../constants/config';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { removeLimitedBlocks } from '../../utils/workspace';\nimport { saveWorkspaceToRecent } from '../../utils/local-storage';\nimport DBotStore from '../dbot-store';\nimport { log_types } from '../../constants/messages';\n\nexport const updateWorkspaceName = () => {\n    const { save_modal } = DBotStore.instance;\n\n    const file_name = save_modal.bot_name ?? config.default_file_name;\n\n    if (document.title.indexOf('-') > -1) {\n        const string_to_replace = document.title.substr(document.title.indexOf('-'));\n        const new_document_title = document.title.replace(string_to_replace, `- ${file_name}`);\n\n        document.title = new_document_title;\n    } else {\n        document.title += ` - ${file_name}`;\n    }\n};\n\nexport const isMainBlock = block_type => config.mainBlocks.indexOf(block_type) >= 0;\n\nexport const oppositesToDropdownOptions = opposite_name => {\n    return opposite_name.map(contract_type => {\n        // i.e. [['CALL', localize('Rise')]] becomes [[localize('Rise'), 'CALL']];\n        return Object.entries(contract_type)[0].reverse();\n    });\n};\n\nexport const cleanUpOnLoad = (blocks_to_clean, drop_event, workspace) => {\n    const { clientX = 0, clientY = 0 } = drop_event || {};\n    const toolbar_height = 76;\n    const blockly_metrics = workspace.getMetrics();\n    const scale_cancellation = 1 / workspace.scale;\n    const blockly_left = blockly_metrics.absoluteLeft - blockly_metrics.viewLeft;\n    const blockly_top = document.body.offsetHeight - blockly_metrics.viewHeight - blockly_metrics.viewTop;\n    const cursor_x = clientX ? (clientX - blockly_left) * scale_cancellation : 0;\n    const cursor_y = clientY ? (clientY - blockly_top - toolbar_height) * scale_cancellation : 0;\n\n    workspace.cleanUp(cursor_x, cursor_y, blocks_to_clean);\n};\n\nexport const save = (filename = '@deriv/bot', collection = false, xmlDom) => {\n    xmlDom.setAttribute('is_dbot', 'true');\n    xmlDom.setAttribute('collection', collection ? 'true' : 'false');\n\n    const data = Blockly.Xml.domToPrettyText(xmlDom);\n    saveAs({ data, type: 'text/xml;charset=utf-8', filename: `${filename}.xml` });\n};\n\nexport const load = ({\n    block_string,\n    drop_event,\n    file_name,\n    strategy_id,\n    from,\n    workspace,\n    showIncompatibleStrategyDialog,\n}) => {\n    const { setLoading } = DBotStore.instance;\n    setLoading(true);\n\n    setTimeout(async () => {\n        const showInvalidStrategyError = () => {\n            setLoading(false);\n            const error_message = localize('XML file contains unsupported elements. Please check or modify file.');\n            globalObserver.emit('ui.log.error', error_message);\n        };\n\n        // Check if XML can be parsed correctly.\n        try {\n            const xmlDoc = new DOMParser().parseFromString(block_string, 'application/xml');\n\n            if (xmlDoc.getElementsByTagName('parsererror').length) {\n                return showInvalidStrategyError();\n            }\n        } catch (e) {\n            return showInvalidStrategyError();\n        }\n\n        let xml;\n\n        // Check if XML can be parsed into a strategy.\n        try {\n            xml = Blockly.Xml.textToDom(block_string);\n        } catch (e) {\n            return showInvalidStrategyError();\n        }\n\n        const blockConversion = new BlockConversion();\n        xml = blockConversion.convertStrategy(xml, showIncompatibleStrategyDialog);\n\n        const blockly_xml = xml.querySelectorAll('block');\n\n        // Check if there are any blocks in this strategy.\n        if (!blockly_xml.length) {\n            return showInvalidStrategyError();\n        }\n\n        // Check if all block types in XML are allowed.\n        const has_invalid_blocks = Array.from(blockly_xml).some(block => {\n            const block_type = block.getAttribute('type');\n            return !Object.keys(Blockly.Blocks).includes(block_type);\n        });\n\n        if (has_invalid_blocks) {\n            return showInvalidStrategyError();\n        }\n\n        try {\n            const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n            const event_group = is_collection ? `load_collection${Date.now()}` : `dbot-load${Date.now()}`;\n\n            Blockly.Events.setGroup(event_group);\n            removeLimitedBlocks(\n                workspace,\n                Array.from(blockly_xml).map(xml_block => xml_block.getAttribute('type'))\n            );\n\n            if (is_collection) {\n                loadBlocks(xml, drop_event, event_group, workspace);\n            } else {\n                await loadWorkspace(xml, event_group, workspace);\n\n                const is_main_workspace = workspace === Blockly.derivWorkspace;\n                if (is_main_workspace) {\n                    const { save_modal } = DBotStore.instance;\n\n                    save_modal.updateBotName(file_name);\n                    workspace.clearUndo();\n                    workspace.current_strategy_id = strategy_id || Blockly.utils.genUid();\n                    await saveWorkspaceToRecent(xml, from);\n                }\n            }\n\n            // Set user disabled state on all disabled blocks. This ensures we don't change the disabled\n            // state through code, which was implemented for user experience.\n            workspace.getAllBlocks().forEach(block => {\n                if (block.disabled) {\n                    block.is_user_disabled_state = true;\n                }\n            });\n\n            if (workspace === Blockly.derivWorkspace) {\n                globalObserver.emit('ui.log.success', { log_type: log_types.LOAD_BLOCK });\n            }\n        } catch (e) {\n            console.error(e); // eslint-disable-line\n            return showInvalidStrategyError();\n        } finally {\n            setLoading(false);\n        }\n\n        return true;\n    }, 500);\n};\n\nexport const loadBlocks = (xml, drop_event, event_group, workspace) => {\n    Blockly.Events.setGroup(event_group);\n\n    const block_ids = Blockly.Xml.domToWorkspace(xml, workspace);\n    const added_blocks = block_ids.map(block_id => workspace.getBlockById(block_id));\n\n    if (drop_event && Object.keys(drop_event).length !== 0) {\n        cleanUpOnLoad(added_blocks, drop_event, workspace);\n    } else {\n        workspace.cleanUp();\n    }\n};\n\nexport const loadWorkspace = async (xml, event_group, workspace) => {\n    Blockly.Events.setGroup(event_group);\n    await workspace.asyncClear();\n    Blockly.Xml.domToWorkspace(xml, workspace);\n};\n\nconst loadBlocksFromHeader = (xml_string, block) => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let xml;\n\n        try {\n            xml = Blockly.Xml.textToDom(xml_string);\n        } catch (error) {\n            return reject(localize('Unrecognized file format'));\n        }\n\n        try {\n            const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n\n            if (!is_collection) {\n                reject(localize('Remote blocks to load must be a collection.'));\n            }\n\n            addLoaderBlocksFirst(xml)\n                .then(() => {\n                    Array.from(xml.children).forEach(el_block => addDomAsBlock(el_block, block));\n                    resolve();\n                })\n                .catch(() => {\n                    reject();\n                });\n        } catch (e) {\n            reject(localize('Unable to load the block file.'));\n        }\n    });\n};\n\nexport const loadBlocksFromRemote = block => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let url = block.getFieldValue('URL');\n\n        if (url.indexOf('http') === -1) {\n            url = `http://${url}`;\n        }\n\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        const has_possible_missing_index_xml = url.slice(-1)[0] === '/';\n\n        if (!url.match(url_pattern) && !has_possible_missing_index_xml) {\n            return reject(localize('Target must be an XML file'));\n        }\n\n        if (has_possible_missing_index_xml) {\n            url += 'index.xml';\n        }\n\n        if (block.isKnownUrl(url)) {\n            block.setDisabled(true);\n            return reject(localize('This URL is already loaded'));\n        }\n\n        const onFetchError = () => reject(localize('An error occured while trying to load the URL'));\n\n        fetch(url)\n            .then(response => {\n                if (response.ok) {\n                    response.text().then(xml_string => {\n                        loadBlocksFromHeader(xml_string, block)\n                            .then(() => resolve(block))\n                            .catch(onFetchError);\n                    });\n                } else {\n                    onFetchError();\n                }\n            })\n            .catch(onFetchError);\n    });\n};\n\nexport const addLoaderBlocksFirst = xml => {\n    return new Promise((resolve, reject) => {\n        const promises = [];\n\n        Array.from(xml.children).forEach(el_block => {\n            const block_type = el_block.getAttribute('type');\n\n            if (block_type === 'loader') {\n                el_block.remove();\n                const loader = Blockly.Xml.domToBlock(el_block, Blockly.derivWorkspace);\n                promises.push(loadBlocksFromRemote(loader)); // eslint-disable-line no-use-before-define\n            }\n        });\n\n        if (promises.length) {\n            Promise.all(promises).then(resolve, reject);\n        } else {\n            resolve([]);\n        }\n    });\n};\n\nexport const addDomAsBlock = (el_block, parent_block = null) => {\n    if (el_block.tagName.toLowerCase() === 'variables') {\n        return Blockly.Xml.domToVariables(el_block, Blockly.derivWorkspace);\n    }\n\n    const block_type = el_block.getAttribute('type');\n    const block_conversion = new BlockConversion();\n    const block_xml = Blockly.Xml.blockToDom(block_conversion.convertBlockNode(el_block));\n\n    // Fix legacy Blockly `varid` attribute.\n    Array.from(block_xml.getElementsByTagName('arg')).forEach(el => {\n        if (el.hasAttribute('varid')) {\n            el.setAttribute('varId', el.getAttribute('varid'));\n        }\n    });\n\n    removeLimitedBlocks(Blockly.derivWorkspace, block_type);\n\n    const block = Blockly.Xml.domToBlock(block_xml, Blockly.derivWorkspace);\n\n    if (parent_block) {\n        parent_block.blocks_added_by_me.push(block);\n    }\n\n    return block;\n};\n\nexport const hasAllRequiredBlocks = workspace => {\n    const blocks_in_workspace = workspace.getAllBlocks();\n    const trade_type_block = workspace.getAllBlocks(true).find(block => block.type === 'trade_definition_tradetype');\n    if (!trade_type_block) return false;\n    const selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const mandatory_tradeoptions_block =\n        selected_trade_type === 'multiplier' ? 'trade_definition_multiplier' : 'trade_definition_tradeoptions';\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = [mandatory_tradeoptions_block, ...mandatoryMainBlocks];\n    const all_block_types = blocks_in_workspace.map(block => block.type);\n    const has_all_required_blocks = required_block_types.every(block_type => all_block_types.includes(block_type));\n\n    return has_all_required_blocks;\n};\n\nexport const isAllRequiredBlocksEnabled = workspace => {\n    const trade_type_block = workspace.getAllBlocks(true).find(block => block.type === 'trade_definition_tradetype');\n    const selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const mandatory_tradeoptions_block =\n        selected_trade_type === 'multiplier' ? 'trade_definition_multiplier' : 'trade_definition_tradeoptions';\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = [mandatory_tradeoptions_block, ...mandatoryMainBlocks];\n\n    const enabled_blocks_types = workspace\n        .getAllBlocks()\n        .filter(block => !block.disabled)\n        .map(block => block.type);\n\n    return required_block_types.every(required_type => enabled_blocks_types.includes(required_type));\n};\n\nexport const scrollWorkspace = (workspace, scroll_amount, is_horizontal, is_chronological) => {\n    const ws_metrics = workspace.getMetrics();\n\n    let scroll_x = ws_metrics.viewLeft - ws_metrics.contentLeft;\n    let scroll_y = ws_metrics.viewTop - ws_metrics.contentTop;\n\n    if (is_horizontal) {\n        scroll_x += is_chronological ? scroll_amount : -scroll_amount;\n        scroll_y += -20;\n    } else {\n        scroll_x += -20;\n        scroll_y += is_chronological ? scroll_amount : -scroll_amount;\n    }\n\n    workspace.scrollbar.set(scroll_x, scroll_y);\n};\n\n/**\n * Sets the Blockly.Events.group_ and executes the passed callBackFn. Mainly\n * used to ensure undo/redo actions are executed correctly.\n * @param {Boolean} use_existing_group Uses the existing event group if true.\n * @param {Function} callbackFn Logic to execute as part of this event group.\n */\nexport const runGroupedEvents = (use_existing_group, callbackFn, opt_group_name) => {\n    const group = (use_existing_group && Blockly.Events.getGroup()) || opt_group_name || true;\n\n    Blockly.Events.setGroup(group);\n    callbackFn();\n\n    if (!use_existing_group) {\n        Blockly.Events.setGroup(false);\n    }\n};\n\n/**\n * Sets the recordUndo flag to \"false\" globally, this will ensure any events\n * happening as part of the callbackFn logic cannot be undone.\n * @param {*} callbackFn Logic to execute as part of this event group.\n */\nexport const runIrreversibleEvents = callbackFn => {\n    const { recordUndo } = Blockly.Events;\n    Blockly.Events.recordUndo = false;\n\n    callbackFn();\n\n    Blockly.Events.recordUndo = recordUndo;\n};\n\n/**\n * Disables Blockly Events globally and runs the passed callbackFn.\n * (Preference should be given to runIrreversibleEvents).\n * @param {*} callbackFn Logic to completely hide from Blockly\n */\nexport const runInvisibleEvents = callbackFn => {\n    Blockly.Events.disable();\n    callbackFn();\n    Blockly.Events.enable();\n};\n\nexport const updateDisabledBlocks = (workspace, event) => {\n    if (event.type === Blockly.Events.END_DRAG) {\n        workspace.getAllBlocks().forEach(block => {\n            if (!block.getParent() || block.is_user_disabled_state) {\n                return;\n            }\n\n            const restricted_parents = block.restricted_parents || [];\n            if (restricted_parents.length === 0) {\n                return;\n            }\n\n            const should_disable = !restricted_parents.some(restricted_parent =>\n                block.isDescendantOf(restricted_parent)\n            );\n\n            runGroupedEvents(\n                true,\n                () => {\n                    block.setDisabled(should_disable);\n                },\n                event.group\n            );\n\n            Blockly.Events.setGroup(false);\n        });\n    }\n};\n\nexport const emptyTextValidator = input => {\n    return !input || input === \"''\";\n};\n\n/* eslint-disable no-bitwise */\nexport const isDarkRgbColour = string_rgb => {\n    const values = string_rgb.substring(1);\n    const rgb = parseInt(values, 16);\n    const red = (rgb >> 16) & 0xff;\n    const green = (rgb >> 8) & 0xff;\n    const blue = (rgb >> 0) & 0xff;\n    const luma = 0.2126 * red + 0.7152 * green + 0.0722 * blue;\n    return luma < 160;\n};\n/* eslint-enable */\n","import { localize } from '@deriv/translations';\nimport PendingPromise from '../../utils/pending-promise';\nimport { config } from '../../constants/config';\n\nexport default class ActiveSymbols {\n    constructor(ws, trading_times) {\n        this.active_symbols = [];\n        this.disabled_markets = [];\n        this.disabled_symbols = ['frxGBPNOK', 'frxUSDNOK', 'frxUSDNEK', 'frxUSDSEK']; // These are only forward-starting.\n        this.disabled_submarkets = ['energy', 'step_index', 'crash_index'];\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.processed_symbols = {};\n        this.trading_times = trading_times;\n        this.ws = ws;\n    }\n\n    async retrieveActiveSymbols(is_forced_update = false) {\n        await this.trading_times.initialise();\n\n        if (!is_forced_update && this.is_initialised) {\n            await this.init_promise;\n            return this.active_symbols;\n        }\n\n        this.is_initialised = true;\n\n        const { active_symbols } = await this.ws.authorized.activeSymbols();\n\n        this.active_symbols = active_symbols;\n        this.processed_symbols = this.processActiveSymbols();\n        this.trading_times.onMarketOpenCloseChanged = changes => {\n            Object.keys(changes).forEach(symbol_name => {\n                const symbol_obj = this.active_symbols[symbol_name];\n\n                if (symbol_obj) {\n                    symbol_obj.exchange_is_open = changes[symbol_name];\n                }\n            });\n\n            this.changes = changes;\n            this.processActiveSymbols();\n        };\n\n        this.init_promise.resolve();\n\n        return this.active_symbols;\n    }\n\n    processActiveSymbols() {\n        return this.active_symbols.reduce((processed_symbols, symbol) => {\n            if (\n                this.disabled_markets.includes(symbol.market) ||\n                this.disabled_symbols.includes(symbol.symbol) ||\n                this.disabled_submarkets.includes(symbol.submarket)\n            ) {\n                return processed_symbols;\n            }\n\n            const isExistingValue = (object, prop) => Object.keys(object).findIndex(a => a === symbol[prop]) !== -1;\n\n            if (!isExistingValue(processed_symbols, 'market')) {\n                processed_symbols[symbol.market] = {\n                    display_name: symbol.market_display_name,\n                    submarkets: {},\n                };\n            }\n\n            const { submarkets } = processed_symbols[symbol.market];\n\n            if (!isExistingValue(submarkets, 'submarket')) {\n                submarkets[symbol.submarket] = {\n                    display_name: symbol.submarket_display_name,\n                    symbols: {},\n                };\n            }\n\n            const { symbols } = submarkets[symbol.submarket];\n\n            if (!isExistingValue(symbols, 'symbol')) {\n                symbols[symbol.symbol] = {\n                    display_name: symbol.display_name,\n                    pip_size: `${symbol.pip}`.length - 2,\n                    is_active: !symbol.is_trading_suspended && symbol.exchange_is_open,\n                };\n            }\n\n            return processed_symbols;\n        }, {});\n    }\n\n    /**\n     * Retrieves all symbols and returns an array of symbol objects consisting of symbol and their linked market + submarket.\n     * @returns {Array} Symbols and their submarkets + markets.\n     */\n    getAllSymbols(should_be_open = false) {\n        const all_symbols = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            if (should_be_open && this.isMarketClosed(market_name)) {\n                return;\n            }\n\n            const market = this.processed_symbols[market_name];\n            const { submarkets } = market;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const submarket = submarkets[submarket_name];\n                const { symbols } = submarket;\n\n                Object.keys(symbols).forEach(symbol_name => {\n                    const symbol = symbols[symbol_name];\n\n                    all_symbols.push({\n                        market: market_name,\n                        market_display: market.display_name,\n                        submarket: submarket_name,\n                        submarket_display: submarket.display_name,\n                        symbol: symbol_name,\n                        symbol_display: symbol.display_name,\n                    });\n                });\n            });\n        });\n\n        return all_symbols;\n    }\n\n    getMarketDropdownOptions() {\n        const market_options = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            const { display_name } = this.processed_symbols[market_name];\n            const market_display_name =\n                display_name + (this.isMarketClosed(market_name) ? ` ${localize('(Closed)')}` : '');\n            market_options.push([market_display_name, market_name]);\n        });\n\n        if (market_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n        market_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n\n        const has_closed_markets = market_options.some(market_option => this.isMarketClosed(market_option[1]));\n\n        if (has_closed_markets) {\n            const sorted_options = this.sortDropdownOptions(market_options, this.isMarketClosed);\n\n            if (this.isMarketClosed('forex')) {\n                return sorted_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n            }\n\n            return sorted_options;\n        }\n\n        return market_options;\n    }\n\n    getSubmarketDropdownOptions(market) {\n        const submarket_options = [];\n        const market_obj = this.processed_symbols[market];\n\n        if (market_obj) {\n            const { submarkets } = market_obj;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const { display_name } = submarkets[submarket_name];\n                const submarket_display_name =\n                    display_name + (this.isSubmarketClosed(submarket_name) ? ` ${localize('(Closed)')}` : '');\n                submarket_options.push([submarket_display_name, submarket_name]);\n            });\n        }\n\n        if (submarket_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n        if (market === 'synthetic_index') {\n            submarket_options.sort(a => (a[1] === 'random_index' ? -1 : 1));\n        }\n\n        return this.sortDropdownOptions(submarket_options, this.isSubmarketClosed);\n    }\n\n    getSymbolDropdownOptions(submarket) {\n        const symbol_options = Object.keys(this.processed_symbols).reduce((accumulator, market_name) => {\n            const { submarkets } = this.processed_symbols[market_name];\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                if (submarket_name === submarket) {\n                    const { symbols } = submarkets[submarket_name];\n                    Object.keys(symbols).forEach(symbol_name => {\n                        const { display_name } = symbols[symbol_name];\n                        const symbol_display_name =\n                            display_name + (this.isSymbolClosed(symbol_name) ? ` ${localize('(Closed)')}` : '');\n                        accumulator.push([symbol_display_name, symbol_name]);\n                    });\n                }\n            });\n\n            return accumulator;\n        }, []);\n\n        if (symbol_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n\n        return this.sortDropdownOptions(symbol_options, this.isSymbolClosed);\n    }\n\n    isMarketClosed(market_name) {\n        const market = this.processed_symbols[market_name];\n\n        if (!market) {\n            return true;\n        }\n\n        return Object.keys(market.submarkets).every(submarket_name => this.isSubmarketClosed(submarket_name));\n    }\n\n    isSubmarketClosed(submarket_name) {\n        const market_name = Object.keys(this.processed_symbols).find(name => {\n            const market = this.processed_symbols[name];\n            return Object.keys(market.submarkets).includes(submarket_name);\n        });\n\n        if (!market_name) {\n            return true;\n        }\n\n        const market = this.processed_symbols[market_name];\n        const submarket = market.submarkets[submarket_name];\n\n        if (!submarket) {\n            return true;\n        }\n\n        const { symbols } = submarket;\n        return Object.keys(symbols).every(symbol_name => this.isSymbolClosed(symbol_name));\n    }\n\n    isSymbolClosed(symbol_name) {\n        return this.active_symbols.some(\n            active_symbol =>\n                active_symbol.symbol === symbol_name &&\n                (!active_symbol.exchange_is_open || active_symbol.is_trading_suspended)\n        );\n    }\n\n    sortDropdownOptions = (dropdown_options, closedFunc) => {\n        const options = [...dropdown_options];\n\n        options.sort((a, b) => {\n            const is_a_closed = closedFunc.call(this, a[1]);\n            const is_b_closed = closedFunc.call(this, b[1]);\n\n            if (is_a_closed && !is_b_closed) {\n                return 1;\n            } else if (is_a_closed === is_b_closed) {\n                return 0;\n            }\n            return -1;\n        });\n\n        return options;\n    };\n}\n","import DerivAPIBasic from '@deriv/deriv-api/dist/DerivAPIBasic';\nimport { getAppId, getSocketURL, website_name } from '@deriv/shared';\nimport { getLanguage } from '@deriv/translations';\n\nexport const generateDerivApiInstance = () => {\n    const socket_url = `wss://${getSocketURL()}/websockets/v3?app_id=${getAppId()}&l=${getLanguage()}&brand=${website_name.toLowerCase()}`;\n    const deriv_socket = new WebSocket(socket_url);\n    const deriv_api = new DerivAPIBasic({\n        connection: deriv_socket,\n    });\n    return deriv_api;\n};\n\nexport const getLoginId = () => {\n    const login_id = localStorage.getItem('active_loginid');\n    if (login_id && login_id !== 'null') return login_id;\n    return null;\n};\n\nexport const getToken = () => {\n    const active_loginid = getLoginId();\n    const client_accounts = JSON.parse(localStorage.getItem('client.accounts')) || undefined;\n    const active_account = (client_accounts && client_accounts[active_loginid]) || {};\n    return {\n        token: active_account?.token || undefined,\n        account_id: active_loginid || undefined,\n    };\n};\n","import { observer as globalObserver } from '../../utils/observer';\nimport { doUntilDone } from '../tradeEngine/utils/helpers';\nimport { generateDerivApiInstance, getLoginId, getToken } from './appId';\n\nclass APIBase {\n    api;\n    token;\n    account_id;\n    pip_sizes = {};\n    account_info = {};\n    is_running = false;\n    subscriptions = [];\n    time_interval = null;\n    has_activeSymbols = false;\n\n    init(force_update = false) {\n        if (getLoginId()) {\n            this.toggleRunButton(true);\n            if (force_update) this.terminate();\n            this.api = generateDerivApiInstance();\n            this.initEventListeners();\n            this.authorizeAndSubscribe();\n            if (this.time_interval) clearInterval(this.time_interval);\n            this.time_interval = null;\n            this.getTime();\n        }\n    }\n\n    terminate() {\n        // eslint-disable-next-line no-console\n        console.log('connection terminated');\n        if (this.api) this.api.disconnect();\n    }\n\n    initEventListeners() {\n        if (window) {\n            window.addEventListener('online', this.reconnectIfNotConnected);\n            window.addEventListener('focus', this.reconnectIfNotConnected);\n        }\n    }\n\n    createNewInstance(account_id) {\n        if (this.account_id !== account_id) {\n            this.init(true);\n        }\n    }\n\n    reconnectIfNotConnected = () => {\n        // eslint-disable-next-line no-console\n        console.log('connection state: ', this.api.connection.readyState);\n        if (this.api.connection.readyState !== 1) {\n            // eslint-disable-next-line no-console\n            console.log('Info: Connection to the server was closed, trying to reconnect.');\n            this.init();\n        }\n    };\n\n    authorizeAndSubscribe() {\n        const { token, account_id } = getToken();\n        if (token) {\n            this.token = token;\n            this.account_id = account_id;\n            this.api\n                .authorize(this.token)\n                .then(({ authorize }) => {\n                    if (this.has_activeSymbols) {\n                        this.toggleRunButton(false);\n                    } else {\n                        this.getActiveSymbols();\n                    }\n                    this.subscribe();\n                    this.account_info = authorize;\n                })\n                .catch(e => {\n                    globalObserver.emit('Error', e);\n                });\n        }\n    }\n\n    subscribe() {\n        doUntilDone(() => this.api.send({ balance: 1, subscribe: 1 }));\n        doUntilDone(() => this.api.send({ transaction: 1, subscribe: 1 }));\n        doUntilDone(() => this.api.send({ proposal_open_contract: 1, subscribe: 1 }));\n    }\n\n    getActiveSymbols = async () => {\n        doUntilDone(() => this.api.send({ active_symbols: 'brief' })).then(({ active_symbols = [] }) => {\n            const pip_sizes = {};\n            if (active_symbols.length) this.has_activeSymbols = true;\n            active_symbols.forEach(({ symbol, pip }) => {\n                pip_sizes[symbol] = +(+pip).toExponential().substring(3);\n            });\n            this.pip_sizes = pip_sizes;\n            this.toggleRunButton(false);\n        });\n    };\n\n    toggleRunButton = toggle => {\n        const run_button = document.querySelector('#db-animation__run-button');\n        if (!run_button) return;\n        run_button.disabled = toggle;\n    };\n\n    setIsRunning(toggle = false) {\n        this.is_running = toggle;\n    }\n\n    pushSubscription(subscription) {\n        this.subscriptions.push(subscription);\n    }\n\n    clearSubscriptions() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n        this.subscriptions = [];\n\n        // Resetting timeout resolvers\n        const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n\n        global_timeouts.forEach((_, i) => {\n            clearTimeout(i);\n        });\n    }\n\n    getTime() {\n        if (!this.time_interval) {\n            this.time_interval = setInterval(() => {\n                this.api.send({ time: 1 });\n            }, 30000);\n        }\n    }\n}\n\nexport const api_base = new APIBase();\n","export default class AccountLimits {\n    constructor(store) {\n        this.ws = store.ws;\n    }\n    getStakePayoutLimits(currency = 'AUD', landing_company_shortcode = 'svg', selected_market) {\n        return this.ws\n            .send({\n                landing_company_details: landing_company_shortcode,\n            })\n            .then(landing_company => {\n                const currency_config = landing_company?.landing_company_details?.currency_config[selected_market];\n                return currency_config ? currency_config[currency] : {};\n            });\n    }\n}\n","import TradingTimes from './trading-times';\nimport ContractsFor from './contracts-for';\nimport ActiveSymbols from './active-symbols';\nimport AccountLimits from './account-limits';\n\nclass ApiHelpers {\n    static singleton = null;\n\n    constructor(api_helpers_store) {\n        this.trading_times = new TradingTimes(api_helpers_store);\n        this.contracts_for = new ContractsFor(api_helpers_store);\n        this.active_symbols = new ActiveSymbols(api_helpers_store.ws, this.trading_times);\n        this.account_limits = new AccountLimits(api_helpers_store);\n    }\n\n    static setInstance(api_helpers_store) {\n        if (!this.singleton) {\n            this.singleton = new ApiHelpers(api_helpers_store);\n        }\n\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default ApiHelpers;\n","import { config } from '../../constants/config';\nimport PendingPromise from '../../utils/pending-promise';\n\nexport default class ContractsFor {\n    constructor({ ws, server_time }) {\n        this.cache_age_in_min = 10;\n        this.contracts_for = {};\n        this.ws = ws;\n        this.server_time = server_time;\n        // Below you can disable specific trade types and trade type categories, you may specify\n        // market, submarket, symbol, trade_type, and trade_type_category. If one of\n        // the props is left omitted, the rule applies to each of the values of the omitted prop.\n        // e.g. if market omitted, rule will apply to all markets.\n        this.disabled_options = [\n            {\n                submarket: 'forex_basket',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'minor_pairs',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'metals',\n                trade_type: 'callputequal',\n            },\n            {\n                market: 'indices',\n                trade_type: 'callputequal',\n            },\n            {\n                symbol: 'OTC_AS51',\n                trade_type_category: 'inout',\n            },\n            { trade_type_category: 'lookback' },\n            { trade_type_category: 'callputspread' },\n        ];\n        this.retrieving_contracts_for = {};\n    }\n\n    async getBarriers(symbol, trade_type, duration, barrier_types) {\n        const barriers = { values: [] };\n\n        if (!config.BARRIER_TRADE_TYPES.includes(trade_type)) {\n            return barriers;\n        }\n\n        const barrier_props = ['high_barrier', 'low_barrier'];\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = await this.getDurations(symbol, trade_type, false);\n        const offset_regexp = new RegExp('^[-|+]([0-9]+.[0-9]+)$');\n        const isOffset = input => input && offset_regexp.test(input.toString());\n\n        let has_absolute_default_value = true;\n\n        if (contracts_for_category.length > 0) {\n            barrier_types.forEach((barrier_type, index) => {\n                const has_selected_offset_type = ['+', '-'].includes(barrier_type);\n                const real_trade_type = this.getContractCategoryByTradeType(trade_type);\n\n                let contract = contracts_for_category.find(c => {\n                    const { BARRIER_CATEGORIES } = config;\n                    const barrier_category = Object.keys(BARRIER_CATEGORIES).find(b =>\n                        BARRIER_CATEGORIES[b].includes(trade_type)\n                    );\n\n                    const has_matching_category = c.contract_category === real_trade_type;\n                    const has_matching_duration = durations.findIndex(d => d.unit === duration) !== -1;\n                    const has_matching_barrier_category = c.barrier_category === barrier_category;\n                    const has_matching_barrier_type =\n                        // Match offset type barriers.\n                        (has_selected_offset_type && isOffset(c.barrier || c[barrier_props[index]])) ||\n                        // Match absolute type barriers.\n                        (!has_selected_offset_type && !isOffset(c.barrier || c[barrier_props[index]]));\n\n                    return (\n                        has_matching_category &&\n                        has_matching_duration &&\n                        has_matching_barrier_category &&\n                        has_matching_barrier_type\n                    );\n                });\n\n                // Fallback to smallest available barriers if no contract could be found.\n                if (!contract) {\n                    contract = contracts_for_category\n                        // Retrieve contracts with barriers.\n                        .filter(c => c.barrier || c.high_barrier)\n                        // Get contract with smallest barriers.\n                        .sort((a, b) => {\n                            const c = a.barrier || a.high_barrier;\n                            const d = b.barrier || b.high_barrier;\n                            return parseFloat(c) - parseFloat(d);\n                        })\n                        .shift();\n\n                    if (contract && !has_selected_offset_type) {\n                        has_absolute_default_value = false;\n                    }\n                }\n\n                if (contract) {\n                    const barrier_prop_name = contract.barriers === 1 ? 'barrier' : barrier_props[index];\n\n                    if (contract[barrier_prop_name]) {\n                        const barrier_match = `${contract[barrier_prop_name]}`.match(offset_regexp);\n                        barriers.values[index] = barrier_match ? barrier_match[1] : contract[barrier_prop_name];\n                    }\n\n                    Object.assign(barriers, {\n                        allow_both_types:\n                            ['intraday', 'tick'].includes(contract.expiry_type) &&\n                            isOffset(contract[barrier_prop_name]),\n                        allow_absolute_type: barrier_type === 'absolute' && !isOffset(contract[barrier_prop_name]),\n                    });\n\n                    // Finish this loop prematurely if we only have a single barrier.\n                    if (contract.barriers === 1) {\n                        barrier_types.splice(index + 1, 1);\n                    }\n                }\n            });\n\n            if (!has_absolute_default_value) {\n                barriers.values = barriers.values.map(() => false);\n            } else if (\n                barriers.values.length === 2 &&\n                barrier_types.every(barrier_type => barrier_type === barrier_types[0]) &&\n                barriers.values.every(barrier => barrier === barriers.values[0])\n            ) {\n                barriers.values[1] = (barriers.values[0] * 0.95).toFixed(1);\n            }\n        }\n\n        return barriers;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getContractCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING } = config;\n\n        return (\n            Object.keys(TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING).find(category =>\n                TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING[category].includes(trade_type)\n            ) || trade_type\n        );\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getTradeTypeCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORIES } = config;\n        const trade_type_category = Object.keys(TRADE_TYPE_CATEGORIES).find(t =>\n            TRADE_TYPE_CATEGORIES[t].includes(trade_type)\n        );\n\n        return trade_type_category || trade_type;\n    }\n\n    getTradeTypeCategoryNameByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORY_NAMES } = config;\n        const trade_type_category = this.getTradeTypeCategoryByTradeType(trade_type);\n\n        return TRADE_TYPE_CATEGORY_NAMES[trade_type_category];\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getBarrierCategoryByTradeType(trade_type) {\n        const { BARRIER_CATEGORIES } = config;\n        return Object.keys(BARRIER_CATEGORIES).find(barrier_category =>\n            BARRIER_CATEGORIES[barrier_category].includes(trade_type)\n        );\n    }\n\n    async getContractsByTradeType(symbol, trade_type) {\n        const contracts = await this.getContractsFor(symbol);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        const barrier_category = this.getBarrierCategoryByTradeType(trade_type);\n\n        return contracts.filter(contract => {\n            const has_matching_category = contract.contract_category === contract_category;\n            const has_matching_barrier = contract.barrier_category === barrier_category;\n\n            return has_matching_category && has_matching_barrier;\n        });\n    }\n\n    async getContractsFor(symbol) {\n        if (!symbol || symbol === 'na') {\n            return [];\n        }\n\n        const getContractsForFromApi = async () => {\n            if (this.retrieving_contracts_for[symbol]) {\n                await this.retrieving_contracts_for[symbol];\n                return this.contracts_for[symbol].contracts;\n            }\n\n            this.retrieving_contracts_for[symbol] = new PendingPromise();\n            const response = await this.ws.send({ contracts_for: symbol });\n\n            if (response.error) {\n                return [];\n            }\n\n            const {\n                contracts_for: { available: contracts },\n            } = response;\n\n            // We don't offer forward-starting contracts in bot.\n            const filtered_contracts = contracts.filter(c => c.start_type !== 'forward');\n\n            this.contracts_for[symbol] = {\n                contracts: filtered_contracts,\n                timestamp: this.server_time.unix(),\n            };\n\n            this.retrieving_contracts_for[symbol].resolve();\n            delete this.retrieving_contracts_for[symbol];\n\n            return filtered_contracts;\n        };\n\n        if (this.contracts_for[symbol]) {\n            const { contracts, timestamp } = this.contracts_for[symbol];\n            const is_expired = this.server_time.unix() - timestamp > this.cache_age_in_min * 60;\n\n            if (is_expired) {\n                getContractsForFromApi();\n            }\n\n            return contracts;\n        }\n\n        return getContractsForFromApi();\n    }\n\n    async getDurations(symbol, trade_type, convert_day_to_hours = true) {\n        if (trade_type === 'multiplier') {\n            return [];\n        }\n\n        const contracts = await this.getContractsFor(symbol);\n        const { NOT_AVAILABLE_DURATIONS, DEFAULT_DURATION_DROPDOWN_OPTIONS } = config;\n\n        if (contracts.length === 0) {\n            return NOT_AVAILABLE_DURATIONS;\n        }\n\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = [];\n        const getDurationIndex = input =>\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(d => d[1] === input.replace(/\\d+/g, ''));\n        // convert 'duration' to 'unit_to_convert' e.g : convertDuration('10h', 's') will return 10*60*60s\n        const convertDuration = (duration, unit_to_convert) => {\n            const duration_value = duration.replace(/\\D/g, '');\n            const duration_index = getDurationIndex(duration);\n            const target_index = DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(\n                default_duration => default_duration[1] === unit_to_convert\n            );\n\n            let converted_duration = parseInt(duration_value);\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(target_index + 1, duration_index + 1)\n                .reverse()\n                .forEach(default_duration => {\n                    switch (default_duration[1]) {\n                        case 'm':\n                        case 'h':\n                            converted_duration *= 60;\n                            break;\n                        case 'd':\n                            converted_duration *= 24;\n                            break;\n                        default:\n                            break;\n                    }\n                });\n\n            return converted_duration;\n        };\n\n        contracts_for_category.forEach(contract => {\n            if (!contract.min_contract_duration || !contract.max_contract_duration) {\n                return;\n            }\n\n            const start_index = getDurationIndex(contract.min_contract_duration);\n            const end_index = getDurationIndex(\n                contract.max_contract_duration === '1d' && convert_day_to_hours ? '24h' : contract.max_contract_duration\n            );\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(start_index, end_index + 1).forEach((default_duration, index) => {\n                const is_existing_duration = durations.findIndex(d => d.unit === default_duration[1]) !== -1;\n\n                if (!is_existing_duration) {\n                    durations.push({\n                        display: default_duration[0],\n                        unit: default_duration[1],\n                        min: index === 0 ? parseInt(contract.min_contract_duration.replace(/\\D/g, '')) : 1,\n                        max: convertDuration(contract.max_contract_duration, default_duration[1]),\n                    });\n                }\n            });\n        });\n\n        // If only intraday contracts available, remove day durations\n        if (contracts_for_category.every(contract => contract.expiry_type === 'intraday')) {\n            const day_duration_index = durations.findIndex(d => d[1] === 'd');\n\n            if (day_duration_index !== -1) {\n                durations.splice(day_duration_index, 1);\n            }\n        }\n\n        if (durations.length === 0) {\n            return NOT_AVAILABLE_DURATIONS;\n        }\n\n        // Maintain order based on duration unit\n        return durations.sort((a, b) => getDurationIndex(a.unit) - getDurationIndex(b.unit));\n    }\n\n    async getPredictionRange(symbol, trade_type) {\n        const contracts = await this.getContractsByTradeType(symbol, trade_type);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        const prediction_range = [];\n        const { DIGIT_CATEGORIES, opposites } = config;\n\n        if (DIGIT_CATEGORIES.includes(contract_category) && trade_type !== 'evenodd') {\n            const contract = contracts.find(c => {\n                const categories = Object.keys(opposites);\n\n                return categories.some(category =>\n                    opposites[category].map(subcategory => Object.keys(subcategory)[0]).includes(c.contract_type)\n                );\n            });\n\n            if (contract && contract.last_digit_range) {\n                prediction_range.push(...contract.last_digit_range);\n            } else {\n                prediction_range.push(1, 2, 3, 4, 5, 6, 7, 8);\n            }\n        }\n\n        return prediction_range;\n    }\n\n    async getMultiplierRange(symbol, trade_type) {\n        const contracts = await this.getContractsByTradeType(symbol, trade_type);\n        const multiplier_range = [];\n        const { opposites } = config;\n\n        const contract = contracts.find(c => {\n            return Object.keys(opposites).some(category => {\n                return opposites[category].map(subcategory => Object.keys(subcategory)[0]).includes(c.contract_type);\n            });\n        });\n\n        if (contract?.multiplier_range) {\n            multiplier_range.push(...contract.multiplier_range);\n        }\n\n        return multiplier_range;\n    }\n\n    async getMarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].market;\n    }\n\n    async getSubmarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].submarket;\n    }\n\n    async getGroupedTradeTypes(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_options = {};\n\n        for (let i = 0; i < contracts.length; i++) {\n            const market = contracts[i].market;\n            const submarket = contracts[i].submarket;\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contracts[i].contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contracts[i].contract_category);\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    trade_type_options[trade_type_category_name] = trade_types;\n                }\n            }\n        }\n\n        return trade_type_options;\n    }\n\n    async getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config;\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n        const dropdown_options = [];\n\n        if (subcategories && subcategories.length) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    dropdown_options.push({\n                        name: types.map(type => type[Object.keys(type)[0]]).join('/'),\n                        value: trade_type,\n                        icon: [Object.keys(types[0])[0], Object.keys(types[1])[0]],\n                    });\n                }\n            }\n        }\n\n        return dropdown_options;\n    }\n\n    async getTradeTypeCategories(market, submarket, symbol) {\n        const { TRADE_TYPE_CATEGORY_NAMES, NOT_AVAILABLE_DROPDOWN_OPTIONS } = config;\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_categories = [];\n\n        contracts.forEach(contract => {\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contract.contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contract.contract_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    const is_existing_category =\n                        trade_type_categories.findIndex(c => c[1] === trade_type_category) !== -1;\n\n                    if (!is_existing_category) {\n                        trade_type_categories.push([trade_type_category_name, trade_type_category]);\n                    }\n                }\n            }\n        });\n\n        if (trade_type_categories.length > 0) {\n            const category_names = Object.keys(TRADE_TYPE_CATEGORY_NAMES);\n\n            return trade_type_categories.sort((a, b) => {\n                const index_a = category_names.findIndex(c => c === a[1]);\n                const index_b = category_names.findIndex(c => c === b[1]);\n                return index_a - index_b;\n            });\n        }\n\n        return NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    async getTradeTypes(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config;\n        const trade_types = [];\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n\n        if (subcategories) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    // e.g. [['Rise/Fall', 'callput']]\n                    trade_types.push([types.map(type => type[Object.keys(type)[0]]).join('/'), trade_type]);\n                }\n            }\n        }\n\n        return trade_types.length > 0 ? trade_types : config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    isDisabledOption(compare_obj) {\n        return this.disabled_options.some(disabled_obj =>\n            Object.keys(disabled_obj).every(prop => compare_obj[prop] === disabled_obj[prop])\n        );\n    }\n\n    disposeCache() {\n        this.contracts_for = {};\n    }\n}\n","import PendingPromise from '../../utils/pending-promise';\n\nexport default class TradingTimes {\n    constructor({ ws, server_time }) {\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.trading_times = {};\n        this.ws = ws;\n        this.server_time = server_time.clone();\n    }\n\n    async initialise() {\n        if (this.is_initialised) {\n            return this.init_promise;\n        }\n\n        this.is_initialised = true;\n        this.last_update_moment = this.server_time.local();\n\n        if (!Object.keys(this.trading_times).length) {\n            await this.updateTradingTimes();\n            this.init_promise.resolve();\n\n            const periodicUpdate = async () => {\n                const changes = this.updateMarketOpenClosed();\n\n                if (Object.keys(changes).length > 0 && this.onMarketOpenCloseChanged) {\n                    this.onMarketOpenCloseChanged(changes);\n                }\n\n                let next_update_date = this.nextUpdateDate();\n\n                if (!next_update_date) {\n                    const now_moment = this.server_time.local();\n                    const next_update_moment = this.last_update_moment.clone().add(1, 'days');\n\n                    if (now_moment.isAfter(next_update_moment)) {\n                        this.last_update_moment = now_moment.clone();\n                    } else {\n                        this.last_update_moment = next_update_moment.clone();\n                    }\n\n                    // Retain the current market open close status, because the trade times\n                    // will now be the following day:\n                    const is_open_map = {};\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        is_open_map[symbol_name] = this.trading_times[symbol_name].is_opened;\n                    });\n\n                    await this.updateTradingTimes();\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        this.trading_times[symbol_name].is_opened = is_open_map[symbol_name];\n                    });\n\n                    // next update date will be 00:00 hours (UTC) of the following day:\n                    next_update_moment.set({ hour: 0, minute: 0, second: 0 });\n                    next_update_date = next_update_moment.toDate();\n                }\n\n                const wait_period = next_update_date - this.server_time.local().toDate();\n                this.update_timer = setTimeout(periodicUpdate, wait_period);\n            };\n\n            await periodicUpdate();\n        }\n\n        return this.init_promise;\n    }\n\n    async updateTradingTimes() {\n        const last_update_date = this.last_update_moment.format('YYYY-MM-DD');\n        const response = await this.ws.tradingTimes(last_update_date);\n\n        if (response.error) {\n            return;\n        }\n\n        this.trading_times = {};\n\n        const now = this.server_time.local().toDate();\n        const date_str = now.toISOString().substring(0, 11);\n        const getUTCDate = hour => new Date(`${date_str}${hour}Z`);\n        const {\n            trading_times: { markets },\n        } = response;\n\n        if (!markets) {\n            return;\n        }\n\n        markets.forEach(market => {\n            const { submarkets } = market;\n\n            submarkets.forEach(submarket => {\n                const { symbols } = submarket;\n\n                symbols.forEach(symbol_obj => {\n                    const { times, symbol } = symbol_obj;\n                    const { open, close } = times;\n                    const is_open_all_day = open.length === 1 && open[0] === '00:00:00' && close[0] === '23:59:59';\n                    const is_closed_all_day = open.length === 1 && open[0] === '--' && close[0] === '--';\n\n                    let processed_times;\n\n                    if (!is_open_all_day && !is_closed_all_day) {\n                        processed_times = open.map((open_time, index) => ({\n                            open: getUTCDate(open_time),\n                            close: getUTCDate(close[index]),\n                        }));\n                    }\n\n                    this.trading_times[symbol] = {\n                        is_open_all_day,\n                        is_closed_all_day,\n                        times: processed_times,\n                    };\n                });\n            });\n        });\n    }\n\n    updateMarketOpenClosed() {\n        const changes = {};\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const is_opened = this.calcIsMarketOpened(symbol_name);\n            const symbol_obj = this.trading_times[symbol_name];\n\n            if (symbol_obj.is_opened !== is_opened) {\n                symbol_obj.is_opened = is_opened;\n                changes[symbol_name] = is_opened;\n            }\n        });\n\n        return changes;\n    }\n\n    calcIsMarketOpened(symbol_name) {\n        const now = this.server_time.local().unix();\n        const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n        if (is_closed_all_day) {\n            return false;\n        }\n\n        if (is_open_all_day) {\n            return true;\n        }\n\n        return times.some(session => {\n            const { open, close } = session;\n            return now >= open && now < close;\n        });\n    }\n\n    nextUpdateDate() {\n        const now = this.server_time.local().toDate();\n\n        let nextDate;\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n            if (is_open_all_day || is_closed_all_day) {\n                return;\n            }\n\n            times.forEach(session => {\n                const { open, close } = session;\n\n                if (open > now && (!nextDate || open < nextDate)) {\n                    nextDate = open;\n                }\n                if (close > now && (!nextDate || close < nextDate)) {\n                    nextDate = close;\n                }\n            });\n        });\n\n        return nextDate;\n    }\n\n    isMarketOpened(symbol_name) {\n        const symbol_names = Object.keys(this.trading_times);\n\n        if (!symbol_names.length || !symbol_names.includes(symbol_name)) {\n            return false;\n        }\n\n        return this.trading_times[symbol_name].is_opened;\n    }\n}\n","import { observer as globalObserver } from '../../../utils/observer';\nimport { config } from '../../../constants/config';\n\nexport const contract = c => globalObserver.emit('bot.contract', c);\n\nexport const contractStatus = c => globalObserver.emit('contract.status', c);\n\nexport const info = i => globalObserver.emit('bot.info', i);\n\nexport const notify = (className, message) =>\n    globalObserver.emit('ui.log.notify', { className, message, sound: config.lists.NOTIFICATION_SOUND[0][1] });\n\nexport const log = (log_type, extra) => globalObserver.emit('ui.log.success', { log_type, extra });\n\nexport const error = message => globalObserver.emit('ui.log.error', message);\n","import { formatTime, findValueByKeyRecursively, getRoundedNumber, isEmptyObject } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { error as logError } from './broadcast';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nexport const tradeOptionToProposal = (trade_option, purchase_reference) =>\n    trade_option.contractTypes.map(type => {\n        const proposal = {\n            amount: trade_option.amount,\n            basis: trade_option.basis,\n            contract_type: type,\n            currency: trade_option.currency,\n            duration: trade_option.duration,\n            duration_unit: trade_option.duration_unit,\n            multiplier: trade_option.multiplier,\n            passthrough: {\n                contract_type: type,\n                purchase_reference,\n            },\n            proposal: 1,\n            symbol: trade_option.symbol,\n        };\n        if (trade_option.prediction !== undefined) {\n            proposal.selected_tick = trade_option.prediction;\n        }\n        if (!['TICKLOW', 'TICKHIGH'].includes(type) && trade_option.prediction !== undefined) {\n            proposal.barrier = trade_option.prediction;\n        } else if (trade_option.barrierOffset !== undefined) {\n            proposal.barrier = trade_option.barrierOffset;\n        }\n        if (trade_option.secondBarrierOffset !== undefined) {\n            proposal.barrier2 = trade_option.secondBarrierOffset;\n        }\n        if (['MULTUP', 'MULTDOWN'].includes(type)) {\n            proposal.duration = undefined;\n            proposal.duration_unit = undefined;\n        }\n        if (!isEmptyObject(trade_option.limit_order)) {\n            proposal.limit_order = trade_option.limit_order;\n        }\n        return proposal;\n    });\n\nexport const getDirection = ticks => {\n    const { length } = ticks;\n    const [tickOld, tickNew] = ticks.slice(-2);\n\n    let direction = '';\n    if (length >= 2) {\n        direction = tickOld.quote < tickNew.quote ? 'rise' : direction;\n        direction = tickOld.quote > tickNew.quote ? 'fall' : direction;\n    }\n\n    return direction;\n};\n\nexport const getLastDigit = tick => {\n    let number_string = tick;\n    if (typeof number_string === 'number') {\n        number_string = String(number_string);\n    }\n    return Number(number_string[number_string.length - 1]);\n};\n\nexport const getLastDigitForList = (tick, pip_size = 0) => {\n    const value = Number(tick).toFixed(pip_size);\n    return value[value.length - 1];\n};\n\nconst getBackoffDelayInMs = (error, delay_index) => {\n    const base_delay = 2.5;\n    const max_delay = 15;\n    const next_delay_in_seconds = Math.min(base_delay * delay_index, max_delay);\n\n    if (error.error.code === 'RateLimit') {\n        logError(\n            localize('You are rate limited for: {{ message_type }}, retrying in {{ delay }}s (ID: {{ request }})', {\n                message_type: error.msg_type,\n                delay: next_delay_in_seconds,\n                request: error.echo_req.req_id,\n            })\n        );\n    } else if (error.error.code === 'DisconnectError') {\n        logError(\n            localize('You are disconnected, retrying in {{ delay }}s', {\n                delay: next_delay_in_seconds,\n            })\n        );\n    } else if (error.error.code === 'MarketIsClosed') {\n        logError(localize('This market is presently closed.'));\n    } else {\n        logError(\n            localize('Request failed for: {{ message_type }}, retrying in {{ delay }}s', {\n                message_type: error.msg_type || localize('unknown'),\n                delay: next_delay_in_seconds,\n            })\n        );\n    }\n\n    return next_delay_in_seconds * 1000;\n};\n\nexport const updateErrorMessage = error => {\n    if (error.error?.code === 'InputValidationFailed') {\n        if (error.error.details?.duration) {\n            error.error.message = localize('Duration must be a positive integer');\n        }\n        if (error.error.details?.amount) {\n            error.error.message = localize('Amount must be a positive number.');\n        }\n    }\n};\n\nexport const shouldThrowError = (error, errors_to_ignore = []) => {\n    if (!error.error) {\n        return false;\n    }\n\n    const default_errors_to_ignore = [\n        'CallError',\n        'WrongResponse',\n        'GetProposalFailure',\n        'RateLimit',\n        'DisconnectError',\n        'MarketIsClosed',\n    ];\n    updateErrorMessage(error);\n    const is_ignorable_error = errors_to_ignore.concat(default_errors_to_ignore).includes(error.error.code);\n\n    return !is_ignorable_error;\n};\n\nexport const recoverFromError = (promiseFn, recoverFn, errors_to_ignore, delay_index, api_base) => {\n    return new Promise((resolve, reject) => {\n        const promise = promiseFn();\n\n        if (promise) {\n            promise.then(resolve).catch(error => {\n                /**\n                 * if bot is not running there is no point of recovering from error\n                 * `!api_base.is_running` will check the bot status if it is not running it will kick out the control from loop\n                 */\n                if (shouldThrowError(error, errors_to_ignore) || (api_base && !api_base.is_running)) {\n                    reject(error);\n                    return;\n                }\n                recoverFn(\n                    error.error.code,\n                    () =>\n                        new Promise(recoverResolve => {\n                            const getGlobalTimeouts = () => globalObserver.getState('global_timeouts') ?? [];\n\n                            const timeout = setTimeout(() => {\n                                const global_timeouts = getGlobalTimeouts();\n                                delete global_timeouts[timeout];\n                                globalObserver.setState(global_timeouts);\n                                recoverResolve();\n                            }, getBackoffDelayInMs(error, delay_index));\n\n                            const global_timeouts = getGlobalTimeouts();\n                            const cancellable_timeouts = ['buy'];\n                            const msg_type = findValueByKeyRecursively(error, 'msg_type');\n\n                            global_timeouts[timeout] = {\n                                is_cancellable: cancellable_timeouts.includes(msg_type),\n                                msg_type,\n                            };\n\n                            globalObserver.setState({ global_timeouts });\n                        })\n                );\n            });\n        } else {\n            resolve();\n        }\n    });\n};\n\n/**\n * @param {*} promiseFn api call - it could be api call or subscription\n * @param {*} errors_to_ignore list of errors to ignore\n * @param {*} api_base instance of APIBase class to check if the bot is running or not\n * @returns a new promise\n */\nexport const doUntilDone = (promiseFn, errors_to_ignore, api_base) => {\n    let delay_index = 1;\n\n    return new Promise((resolve, reject) => {\n        const recoverFn = (error_code, makeDelay) => {\n            delay_index++;\n            makeDelay().then(repeatFn);\n        };\n\n        const repeatFn = () => {\n            recoverFromError(promiseFn, recoverFn, errors_to_ignore, delay_index, api_base).then(resolve).catch(reject);\n        };\n\n        repeatFn();\n    });\n};\n\nexport const createDetails = contract => {\n    const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n    const profit = getRoundedNumber(sellPrice - buyPrice, currency);\n    const result = profit < 0 ? 'loss' : 'win';\n\n    return [\n        contract.transaction_ids.buy,\n        +contract.buy_price,\n        +contract.sell_price,\n        profit,\n        contract.contract_type,\n        formatTime(parseInt(`${contract.entry_tick_time}000`), 'HH:mm:ss'),\n        +contract.entry_tick,\n        formatTime(parseInt(`${contract.exit_tick_time}000`), 'HH:mm:ss'),\n        +contract.exit_tick,\n        +(contract.barrier ? contract.barrier : 0),\n        result,\n    ];\n};\n\nexport const getUUID = () => `${new Date().getTime() * Math.random()}`;\n","import LZString from 'lz-string';\nimport localForage from 'localforage';\nimport DBotStore from '../scratch/dbot-store';\nimport { save_types } from '../constants/save-type';\n/**\n * Save workspace to localStorage\n * @param {String} save_type // constants/save_types.js (unsaved, local, googledrive)\n * @param {Blockly.Events} event // Blockly event object\n */\nexport const saveWorkspaceToRecent = async (xml, save_type = save_types.UNSAVED) => {\n    // Ensure strategies don't go through expensive conversion.\n    xml.setAttribute('is_dbot', true);\n    const {\n        load_modal: { updateListStrategies },\n        save_modal,\n    } = DBotStore.instance;\n\n    const workspace_id = Blockly.derivWorkspace.current_strategy_id || Blockly.utils.genUid();\n    const workspaces = await getSavedWorkspaces();\n    const current_xml = Blockly.Xml.domToText(xml);\n    const current_timestamp = Date.now();\n    const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n    if (current_workspace_index >= 0) {\n        const current_workspace = workspaces[current_workspace_index];\n        current_workspace.xml = current_xml;\n        current_workspace.name = save_modal.bot_name;\n        current_workspace.timestamp = current_timestamp;\n        current_workspace.save_type = save_type;\n    } else {\n        workspaces.push({\n            id: workspace_id,\n            timestamp: current_timestamp,\n            name: save_modal.bot_name,\n            xml: current_xml,\n            save_type,\n        });\n    }\n\n    workspaces\n        .sort((a, b) => {\n            return new Date(a.timestamp) - new Date(b.timestamp);\n        })\n        .reverse();\n\n    if (workspaces.length > 10) {\n        workspaces.pop();\n    }\n    updateListStrategies(workspaces);\n    localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n};\n\nexport const getSavedWorkspaces = async () => {\n    try {\n        return JSON.parse(LZString.decompress(await localForage.getItem('saved_workspaces'))) || [];\n    } catch (e) {\n        return [];\n    }\n};\n\nexport const removeExistingWorkspace = async workspace_id => {\n    const workspaces = await getSavedWorkspaces();\n    const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n    if (current_workspace_index >= 0) {\n        workspaces.splice(current_workspace_index, 1);\n    }\n\n    await localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n};\n","import { Map, List } from 'immutable';\n/**\nBelow are the list of events we can register to listen to :\n \n-bot.running : Emitted in trade/index.js, in old Binary Bot this is only used\nto set the label to is running.\n\n-bot.stop: Bot was stopped by the user\n\n-bot.contract: Called in OpenContract.js, object consisting of\naccountID and a proposal_open_contract response, this will\nbe emitted on each POC message from the server.\n\n-bot.info: Emitted in trade/Balance.js, it announces account ID and balance,\nwe don't need this in DerivBot. Can also be emitted during running\ncontract, it then announces an object consisting of accountID,\ntotal_runs, transaction_ids, contract_type, and buy_price.\n\n-contract.status:  First emitted in trade/Purchase.js with an idea that's more\nof a flag e.g. contract_purchase_sent (when buy was sent to\nAPI, or contract_purchase_recieved (when buy was acknowledged\nby API), or contract.sold (when a contract was sold/expired).\n\n-contract.settled: this event was emitted to initiate a\nsettlement of a contract, i.e. it would call proposal_open_contract to retrieve\nlatest values for contract, not required atm by DerivBot\n\n-googledrive.authorise : event to start auturize google flow\n\n-ui.log.success: UI Notifications\n\n-ui.log.error: UI errors\n\n-ui.log.warn: UI warning\n\n-Notify: Server Notifications\n\n-Error : Server errors\n\n */\n\nexport default class Observer {\n    constructor() {\n        this.eam = new Map(); // event action map\n    }\n\n    register(event, _action, once, unregisterIfError, unregisterAllBefore) {\n        if (unregisterAllBefore) {\n            this.unregisterAll(event);\n        }\n        const apiError = error => {\n            if (error.type === unregisterIfError.type) {\n                this.unregister('api.error', apiError);\n                unregisterIfError.unregister.forEach(unreg => {\n                    if (unreg instanceof Array) {\n                        this.unregister(...unreg);\n                    } else {\n                        this.unregisterAll(unreg);\n                    }\n                });\n            }\n        };\n        if (unregisterIfError) {\n            this.register('api.error', apiError);\n        }\n        const action = (...args) => {\n            if (once) {\n                this.unregister(event, _action);\n            }\n            if (unregisterIfError) {\n                this.unregister('api.error', apiError);\n            }\n            _action(...args);\n        };\n\n        const actionList = this.eam.get(event);\n\n        this.eam = actionList\n            ? this.eam.set(event, actionList.push({ action, searchBy: _action }))\n            : this.eam.set(event, new List().push({ action, searchBy: _action }));\n    }\n\n    unregister(event, f) {\n        this.eam = this.eam.set(\n            event,\n            this.eam.get(event).filter(r => r.searchBy !== f)\n        );\n    }\n\n    isRegistered(event) {\n        return this.eam.has(event);\n    }\n\n    unregisterAll(event) {\n        this.eam = this.eam.delete(event);\n    }\n\n    emit(event, data) {\n        if (this.eam.has(event)) {\n            this.eam.get(event).forEach(action => action.action(data));\n        }\n    }\n    setState(state = {}) {\n        this.state = { ...this.state, ...state };\n    }\n    getState(key) {\n        return this.state?.[key];\n    }\n}\n\nexport const observer = new Observer();\n","export default function PendingPromise() {\n    let resolve, reject;\n\n    const promise = new Promise((_resolve, _reject) => {\n        resolve = _resolve;\n        reject = _reject;\n    });\n\n    promise.isPending = true;\n\n    promise.resolve = res => {\n        promise.isPending = false;\n        resolve(res);\n    };\n\n    promise.reject = error => {\n        promise.isPending = false;\n        reject(error);\n    };\n\n    return promise;\n}\n","import { config } from '../constants/config';\n\nexport const hasAllRequiredBlocks = () => {\n    const blocks_in_workspace = Blockly.derivWorkspace.getAllBlocks();\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = ['trade_definition_tradeoptions', ...mandatoryMainBlocks];\n    const all_block_types = blocks_in_workspace.map(block => block.type);\n    const has_all_required_blocks = required_block_types.every(required_block_type =>\n        all_block_types.includes(required_block_type)\n    );\n\n    return has_all_required_blocks;\n};\n\nexport const onWorkspaceResize = () => {\n    const workspace = Blockly.derivWorkspace;\n    if (workspace) {\n        workspace.getAllFields().forEach(field => field.forceRerender());\n\n        const el_scratch_div = document.getElementById('scratch_div');\n        if (el_scratch_div) {\n            el_scratch_div.style.width = 'calc(100vw - 3.2rem)';\n            el_scratch_div.style.height = 'var(--bot-content-height)';\n            Blockly.svgResize(workspace);\n        }\n    }\n};\n\nexport const removeLimitedBlocks = (workspace, block_types) => {\n    const types = Array.isArray(block_types) ? block_types : [block_types];\n\n    types.forEach(block_type => {\n        if (config.single_instance_blocks.includes(block_type)) {\n            workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === block_type) {\n                    ws_block.dispose();\n                }\n            });\n        }\n    });\n};\n","import { setSmartChartsPublicPath } from '@deriv/deriv-charts';\n\nconst getUrlBase = (path = '') => {\n    const l = window.location;\n\n    if (!/^\\/(br_)/.test(l.pathname)) return path;\n\n    const get_path = /^\\//.test(path) ? path : `/${path}`;\n\n    return `/${l.pathname.split('/')[1]}${get_path}`;\n};\n\nexport function setBotPublicPath(path: string) {\n    __webpack_public_path__ = path; // eslint-disable-line no-global-assign\n}\n\nexport const getImageLocation = (image_name: string) => getUrlBase(`/public/images/common/${image_name}`);\n\nsetBotPublicPath(getUrlBase('/'));\nsetSmartChartsPublicPath(getUrlBase('/js/smartcharts/'));\n","import { createContext } from 'react';\nimport type { TStores } from '../types';\n\nconst StoreContext = createContext<TStores | null>(null);\n\nexport default StoreContext;\n","import React, { PropsWithChildren } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n// import { ReactQueryDevtools } from '@tanstack/react-query-devtools';\n\nconst queryClient = new QueryClient();\n\nconst APIProvider = ({ children }: PropsWithChildren<unknown>) => (\n    <QueryClientProvider client={queryClient}>\n        {children}\n        {/*Temporary disabled due to the problem on codecov, You can uncomment to use in development environment, DO NOT COMMIT THIS UNCOMMENTED*/}\n        {/*<ReactQueryDevtools />*/}\n    </QueryClientProvider>\n);\n\nexport default APIProvider;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useWS } from '@deriv/shared';\nimport type {\n    TSocketAcceptableProps,\n    TSocketRequestPayload,\n    TSocketResponseData,\n    TSocketSubscribableEndpointNames,\n} from '../types';\n\nconst useSubscription = <T extends TSocketSubscribableEndpointNames>(name: T) => {\n    const [is_loading, setIsLoading] = useState(false);\n    const [is_subscribed, setSubscribed] = useState(false);\n    const [error, setError] = useState<unknown>();\n    const [data, setData] = useState<TSocketResponseData<T>>();\n    const subscriber = useRef<{ unsubscribe?: VoidFunction }>();\n    const WS = useWS();\n\n    const subscribe = useCallback(\n        (...props: TSocketAcceptableProps<T>) => {\n            const prop = props?.[0];\n            const payload = prop && 'payload' in prop ? (prop.payload as TSocketRequestPayload<T>) : undefined;\n\n            setIsLoading(true);\n            setSubscribed(true);\n\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const onData = (response: any) => {\n                setData(response);\n                setIsLoading(false);\n            };\n\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const onError = (response: any) => {\n                setError(response.error);\n                setIsLoading(false);\n            };\n\n            try {\n                subscriber.current = WS.subscribe({ [name]: 1, subscribe: 1, ...(payload || {}) }).subscribe(\n                    onData,\n                    onError\n                );\n            } catch (e) {\n                setError(e);\n            }\n        },\n        [WS, name]\n    );\n\n    const unsubscribe = useCallback(() => {\n        subscriber.current?.unsubscribe?.();\n        setSubscribed(false);\n    }, []);\n\n    useEffect(() => {\n        return () => {\n            unsubscribe();\n        };\n    }, [unsubscribe]);\n\n    return { subscribe, unsubscribe, is_loading, is_subscribed, error, data };\n};\n\nexport default useSubscription;\n","import { useContext } from 'react';\nimport StoreContext from './storeContext';\n\nconst useStore = () => {\n    const store = useContext(StoreContext);\n\n    if (!store) {\n        throw new Error('useStore must be used within StoreProvider');\n    }\n\n    return store;\n};\n\nexport default useStore;\n","import React, { useEffect } from 'react';\nimport { useSubscription } from '@deriv/api';\nimport merge from 'lodash.merge';\nimport useStore from '../useStore';\n\nconst ExchangeRatesProvider = ({ children }: React.PropsWithChildren<unknown>) => {\n    const { data, subscribe } = useSubscription('exchange_rates');\n    const {\n        exchange_rates: { update },\n    } = useStore();\n\n    useEffect(() => {\n        subscribe({ payload: { base_currency: 'USD' } });\n    }, [subscribe]);\n\n    useEffect(() => {\n        if (data) {\n            const { exchange_rates } = data;\n\n            if (exchange_rates) update(prev => merge(prev, exchange_rates));\n        }\n    }, [update, data]);\n\n    return <>{children}</>;\n};\n\nexport default ExchangeRatesProvider;\n","import { action, makeObservable, observable } from 'mobx';\nimport { makePersistable, stopPersisting } from 'mobx-persist-store';\n\nexport default class BaseStore<T> {\n    data: T | undefined = undefined;\n\n    constructor(name: string, onHydrationDone?: VoidFunction) {\n        makeObservable(this, {\n            data: observable,\n            update: action.bound,\n            unmount: action.bound,\n        });\n\n        makePersistable(this, { name, properties: ['data'], storage: window.localStorage }).then(() =>\n            onHydrationDone?.()\n        );\n    }\n\n    update(data: NonNullable<T> | ((previous?: T) => NonNullable<T>)) {\n        this.data = data instanceof Function ? data(this.data) : data;\n    }\n\n    unmount() {\n        stopPersisting(this);\n    }\n}\n","import BaseStore from './BaseStore';\nimport type { ExchangeRatesResponse } from '@deriv/api-types';\n\nexport default class ExchangeRatesStore extends BaseStore<ExchangeRatesResponse['exchange_rates']> {\n    constructor() {\n        super('ExchangeRatesStore');\n    }\n}\n","import BaseStore from './BaseStore';\n\nconst FLAGS = {\n    foo: false,\n    bar: false,\n    baz: false,\n    // Add your flag here \n} satisfies Record<string, boolean>;\n\nexport default class FeatureFlagsStore extends BaseStore<{ [k in keyof typeof FLAGS]: boolean }> {\n    constructor() {\n        super('FeatureFlagsStore', () => {\n            // Set the default values for the first time.\n            if (!this.data) this.update(FLAGS);\n\n            // Update the store data if a new flag was added or removed.\n            if (this.data && Object.keys(this.data).length !== Object.keys(FLAGS).length) {\n                this.update(old => {\n                    const data = FLAGS;\n\n                    Object.keys(FLAGS).forEach(flag => {\n                        // @ts-expect-error flag key is always present in the object, Hence can ignore the TS error.\n                        if (old[flag] !== undefined) data[flag] = old[flag];\n                    });\n\n                    return data;\n                });\n            }\n        });\n    }\n}\n","import React, { useEffect, useMemo } from 'react';\nimport { ExchangeRatesProvider } from './providers';\nimport StoreContext from './storeContext';\nimport { ExchangeRatesStore, FeatureFlagsStore } from './stores';\nimport type { TCoreStores, TStores } from '../types';\n\nconst StoreProvider = ({ children, store }: React.PropsWithChildren<{ store: TCoreStores }>) => {\n    const memoizedValue: TStores = useMemo(() => {\n        // If the store is mocked for testing purposes, then return the mocked value.\n        if ('is_mock' in store && store.is_mock) return store as unknown as TStores;\n\n        // Otherwise, instantiate store and return it.\n        return {\n            ...store,\n            exchange_rates: new ExchangeRatesStore(),\n            feature_flags: new FeatureFlagsStore(),\n        };\n    }, [store]);\n\n    useEffect(() => {\n        return () => {\n            Object.values(memoizedValue).forEach(value => {\n                if (typeof value === 'object' && 'unmount' in value) value.unmount();\n            });\n        };\n    }, [memoizedValue]);\n\n    return (\n        <StoreContext.Provider value={memoizedValue}>\n            <ExchangeRatesProvider>{children}</ExchangeRatesProvider>\n        </StoreContext.Provider>\n    );\n};\n\nexport default StoreProvider;\n","import Audio from './audio';\n\nexport default Audio;\n","import React from 'react';\n\nconst Audio = () => (\n    <>\n        <audio id='announcement' src={`${__webpack_public_path__}media/announcement.mp3`} />\n        <audio id='earned-money' src={`${__webpack_public_path__}media/coins.mp3`} />\n        <audio id='job-done' src={`${__webpack_public_path__}media/job-done.mp3`} />\n        <audio id='error' src={`${__webpack_public_path__}media/out-of-bounds.mp3`} />\n        <audio id='severe-error' src={`${__webpack_public_path__}media/i-am-being-serious.mp3`} />\n    </>\n);\n\nexport default Audio;\n","import React from 'react';\nimport { useObserver } from 'mobx-react';\n\nconst isClassComponent = Component =>\n    !!(typeof Component === 'function' && Component.prototype && Component.prototype.isReactComponent);\n\nexport const MobxContent = React.createContext(null);\n\nfunction injectStorePropsToComponent(propsToSelectFn, BaseComponent) {\n    const Component = own_props => {\n        const store = React.useContext(MobxContent);\n\n        let ObservedComponent = BaseComponent;\n\n        if (isClassComponent(BaseComponent)) {\n            const FunctionalWrapperComponent = props => <BaseComponent {...props} />;\n            ObservedComponent = FunctionalWrapperComponent;\n        }\n\n        return useObserver(() => ObservedComponent({ ...own_props, ...propsToSelectFn(store, own_props) }));\n    };\n\n    Component.displayName = BaseComponent.name;\n    return Component;\n}\n\nexport const MobxContentProvider = ({ store, children }) => {\n    return <MobxContent.Provider value={{ ...store, ...store.core }}>{children}</MobxContent.Provider>;\n};\n\nexport const connect = propsToSelectFn => Component => injectStorePropsToComponent(propsToSelectFn, Component);\n","import React from 'react';\nimport { Icon, Popover, StaticUrl } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\nconst SecurityAndPrivacy: React.FC = () => (\n    <Popover alignment='top' zIndex='10' message={localize('Security and privacy')}>\n        <StaticUrl className='footer__link' href='tnc/security-and-privacy.pdf' is_document>\n            <Icon icon='IcSecurityAndPrivacy' />\n        </StaticUrl>\n    </Popover>\n);\n\nexport default SecurityAndPrivacy;\n","import BotFooterExtensions from './bot-footer-extensions';\nimport './bot-footer-extensions.scss';\n\nexport default BotFooterExtensions;\n","import React from 'react';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport SecurityAndPrivacy from './security-and-privacy';\n\ntype TPopulateFooterExtensionsProps = {\n    position: string;\n    Component: React.FC;\n    has_right_separator: boolean;\n};\n\ntype TBotFooterExtentionsProps = {\n    populateFooterExtensions: (footer_extensions: TPopulateFooterExtensionsProps[]) => void;\n};\n\nconst BotFooterExtensions = ({ populateFooterExtensions }: TBotFooterExtentionsProps) => {\n    React.useEffect(() => populateFooter(), []);\n    React.useEffect(() => () => populateFooterExtensions([]), [populateFooterExtensions]);\n\n    const populateFooter = () => {\n        populateFooterExtensions([\n            // TODO: need to import an icon on the left side of this footer extension\n            {\n                position: 'right',\n                Component: SecurityAndPrivacy,\n                has_right_separator: true,\n            },\n        ]);\n    };\n\n    return null;\n};\n\nexport default connect(({ ui }: RootStore) => ({\n    populateFooterExtensions: ui.populateFooterExtensions,\n}))(BotFooterExtensions);\n","type TTabsTitleProps = {\n    [key: string]: string | number;\n};\n\ntype TDashboardTabsProps = {\n    [key: string]: number;\n};\n\nexport const tabs_title: TTabsTitleProps = Object.freeze({\n    WORKSPACE: 'Workspace',\n    CHART: 'Chart',\n});\n\nexport const DBOT_TABS: TDashboardTabsProps = Object.freeze({\n    DASHBOARD: 0,\n    BOT_BUILDER: 1,\n    CHART: 2,\n    TUTORIAL: 3,\n});\n\nexport const MAX_STRATEGIES = 10;\n\nexport const TAB_IDS = ['id-dbot-dashboard', 'id-bot-builder', 'id-charts', 'id-tutorials'];\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\n\ninterface TBotNotificationMessagesProps {\n    is_drawer_open: boolean;\n    active_tab: number;\n    is_info_panel_visible: boolean;\n    Notifications: React.ComponentType;\n}\n\nconst { BOT_BUILDER, CHART } = DBOT_TABS;\n\nconst BotNotificationMessages = ({\n    is_drawer_open,\n    Notifications,\n    is_info_panel_visible,\n    active_tab,\n}: TBotNotificationMessagesProps) => (\n    <div\n        className={classNames('notifications-container', {\n            'notifications-container__dashboard': active_tab === 0 && is_info_panel_visible,\n            'notifications-container--panel-open': [BOT_BUILDER, CHART].includes(active_tab) && is_drawer_open,\n        })}\n    >\n        <Notifications />\n    </div>\n);\n\nexport default connect(({ core, run_panel, dashboard }: RootStore) => ({\n    is_drawer_open: run_panel.is_drawer_open,\n    Notifications: core.ui.notification_messages_ui,\n    active_tab: dashboard.active_tab,\n    is_info_panel_visible: dashboard.is_info_panel_visible,\n}))(BotNotificationMessages);\n","import BotNotificationMessages from './bot-notification-messages';\nimport './bot-notification-messages.scss';\n\nexport default BotNotificationMessages;\n","import React from 'react';\nimport { ChartMode, DrawTools, Share, StudyLegend, ToolbarWidget, Views } from '@deriv/deriv-charts';\nimport { isDesktop, isMobile } from '@deriv/shared';\n\ntype TToolbarWidgetsProps = {\n    updateChartType: (chart_type: string) => void;\n    updateGranularity: (updateGranularity: number) => void;\n};\n\nconst ToolbarWidgets = ({ updateChartType, updateGranularity }: TToolbarWidgetsProps) => (\n    <ToolbarWidget position={isMobile() ? 'bottom' : null}>\n        <ChartMode portalNodeId='modal_root' onChartType={updateChartType} onGranularity={updateGranularity} />\n        {isDesktop() && (\n            <>\n                <StudyLegend portalNodeId='modal_root' searchInputClassName='data-hj-whitelist' />\n                <Views portalNodeId='modal_root' searchInputClassName='data-hj-whitelist' />\n                <DrawTools portalNodeId='modal_root' />\n                <Share portalNodeId='modal_root' />\n            </>\n        )}\n    </ToolbarWidget>\n);\n\nexport default ToolbarWidgets;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { ActiveSymbols, ForgetRequest } from '@deriv/api-types';\n// TODO Remove this after smartcharts is replaced\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { ChartTitle, SmartChart } from '@deriv/deriv-charts';\nimport { isDesktop, isMobile } from '@deriv/shared';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport ToolbarWidgets from './toolbar-widgets';\n\ninterface TChartProps {\n    chart_type: string;\n    getMarketsOrder: (active_symbols: ActiveSymbols) => string[];\n    granularity: number;\n    is_drawer_open: boolean;\n    is_socket_opened: boolean;\n    onSymbolChange: (symbol: string) => void;\n    setChartStatus: (status: boolean) => void;\n    settings: object;\n    show_digits_stats: boolean;\n    symbol: object;\n    updateChartType: (chart_type: string) => void;\n    updateGranularity: (granularity: number) => void;\n    wsForget: (request: ForgetRequest) => void;\n    wsForgetStream: (stream_id: string) => void;\n    wsSendRequest: (req: { [k: string]: unknown }) => void;\n    wsSubscribe: (req: { [k: string]: unknown }, callback: () => void) => void;\n}\n\nconst Chart = ({\n    chart_type,\n    getMarketsOrder,\n    granularity,\n    is_drawer_open,\n    is_socket_opened,\n    onSymbolChange,\n    setChartStatus,\n    settings,\n    show_digits_stats,\n    symbol,\n    updateChartType,\n    updateGranularity,\n    wsForget,\n    wsForgetStream,\n    wsSendRequest,\n    wsSubscribe,\n}: TChartProps) => {\n    const barriers: [] = [];\n    return (\n        <div\n            className={classNames('dashboard__chart-wrapper', {\n                'dashboard__chart-wrapper--expanded': is_drawer_open && !isMobile(),\n            })}\n        >\n            <SmartChart\n                id='dbot'\n                barriers={barriers}\n                showLastDigitStats={show_digits_stats}\n                chartControlsWidgets={null}\n                enabledChartFooter={false}\n                chartStatusListener={v => setChartStatus(!v)}\n                toolbarWidget={() => (\n                    <ToolbarWidgets updateChartType={updateChartType} updateGranularity={updateGranularity} />\n                )}\n                chartType={chart_type}\n                isMobile={isMobile()}\n                enabledNavigationWidget={isDesktop()}\n                granularity={granularity}\n                requestAPI={wsSendRequest}\n                requestForget={wsForget}\n                requestForgetStream={wsForgetStream}\n                requestSubscribe={wsSubscribe}\n                settings={settings}\n                symbol={symbol}\n                topWidgets={() => <ChartTitle onChange={onSymbolChange} />}\n                isConnectionOpened={is_socket_opened}\n                getMarketsOrder={getMarketsOrder}\n            />\n        </div>\n    );\n};\n\nexport default connect(({ chart_store, common, ui, run_panel }: RootStore) => ({\n    chart_type: chart_store.chart_type,\n    getMarketsOrder: chart_store.getMarketsOrder,\n    granularity: chart_store.granularity,\n    last_contract: {\n        is_digit_contract: false,\n    },\n    is_drawer_open: run_panel.is_drawer_open,\n    is_socket_opened: common.is_socket_opened,\n    onSymbolChange: chart_store.onSymbolChange,\n    setChartStatus: chart_store.setChartStatus,\n    settings: {\n        assetInformation: false, // ui.is_chart_asset_info_visible,\n        countdown: true,\n        isHighestLowestMarkerEnabled: false, // TODO: Pending UI,\n        language: common.current_language.toLowerCase(),\n        position: ui.is_chart_layout_default ? 'bottom' : 'left',\n        theme: ui.is_dark_mode_on ? 'dark' : 'light',\n    },\n    symbol: chart_store.symbol,\n    updateChartType: chart_store.updateChartType,\n    updateGranularity: chart_store.updateGranularity,\n    wsForget: chart_store.wsForget,\n    wsForgetStream: chart_store.wsForgetStream,\n    wsSendRequest: chart_store.wsSendRequest,\n    wsSubscribe: chart_store.wsSubscribe,\n}))(Chart);\n","import Chart from './chart';\nimport './chart.scss';\n\nexport default Chart;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\ntype TContractCardLoader = {\n    speed?: number;\n};\n\nconst ContractCardLoader = ({ speed = 3 }: TContractCardLoader) => (\n    <ContentLoader\n        height={153}\n        width={334}\n        speed={speed}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='12' y='15' rx='0' ry='0' width='41' height='25' />\n        <rect x='61' y='24' rx='0' ry='0' width='91' height='8' />\n        <rect x='180' y='15' rx='0' ry='0' width='41' height='25' />\n        <rect x='229' y='24' rx='0' ry='0' width='91' height='8' />\n        <rect x='12' y='48' rx='0' ry='0' width='60' height='8' />\n        <rect x='12' y='64' rx='0' ry='0' width='308' height='8' />\n        <rect x='12' y='80' rx='0' ry='0' width='308' height='1' />\n        <rect x='12' y='89' rx='0' ry='0' width='140' height='8' />\n        <rect x='12' y='105' rx='0' ry='0' width='60' height='8' />\n        <rect x='12' y='121' rx='0' ry='0' width='140' height='8' />\n        <rect x='12' y='137' rx='0' ry='0' width='60' height='8' />\n        <rect x='180' y='89' rx='0' ry='0' width='140' height='8' />\n        <rect x='180' y='105' rx='0' ry='0' width='60' height='8' />\n        <rect x='180' y='121' rx='0' ry='0' width='140' height='8' />\n        <rect x='180' y='137' rx='0' ry='0' width='60' height='8' />\n    </ContentLoader>\n);\n\nexport default ContractCardLoader;\n","import ContractCardLoader from './contract-card-loading';\n\nexport default ContractCardLoader;\n","import ContractResultOverlay from './contract-result-overlay';\nimport './contract-result-overlay.scss';\n\nexport default ContractResultOverlay;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\ntype TContractResultOverlayProps = {\n    profit: number;\n    className: string;\n};\n\nconst ContractResultOverlay = ({ profit, className }: TContractResultOverlayProps) => {\n    const has_won_contract = profit >= 0;\n\n    return (\n        <div\n            className={classNames('db-contract-card__result', className, {\n                'db-contract-card__result--won': has_won_contract,\n                'db-contract-card__result--lost': !has_won_contract,\n            })}\n        >\n            <Text weight='bold' className='db-contract-card__result-caption'>\n                {has_won_contract ? (\n                    <React.Fragment>\n                        {localize('Won')}\n                        <Icon icon='IcCheckmarkCircle' className='db-contract-card__result-icon' color='green' />\n                    </React.Fragment>\n                ) : (\n                    <React.Fragment>\n                        {localize('Lost')}\n                        <Icon icon='IcCrossCircle' className='db-contract-card__result-icon' color='red' />\n                    </React.Fragment>\n                )}\n            </Text>\n        </div>\n    );\n};\n\nexport default ContractResultOverlay;\n","export const initTrashCan = (margin = 16, height = 36) => {\n    /**\n     * Distance between trashcan and bottom edge of workspace.\n     * @type {number}\n     * @private\n     */\n    Blockly.Trashcan.prototype.MARGIN_BOTTOM_ = margin * 2 + height; // eslint-disable-line\n\n    /**\n     * Distance between trashcan and right edge of workspace.\n     * @type {number}\n     * @private\n     */\n    Blockly.Trashcan.prototype.MARGIN_SIDE_ = margin; // eslint-disable-line\n\n    /**\n     * Inspect the contents of the trash.\n     * @deriv/bot: Noop for us, restore original functionality when trashcan can be inspected.\n     */\n    Blockly.Trashcan.prototype.click = function () {};\n\n    window.dispatchEvent(new Event('resize')); // trigger UI update\n};\n","export const contract_stages = Object.freeze({\n    NOT_RUNNING: 0,\n    STARTING: 1,\n    PURCHASE_SENT: 2,\n    PURCHASE_RECEIVED: 3,\n    IS_STOPPING: 4,\n    CONTRACT_CLOSED: 5,\n});\n","import React from 'react';\nimport { TDateItemProps } from '../journal.types';\n\nconst DateItem = ({ date, time }: TDateItemProps) => (\n    <>\n        <span className='journal__text-date'>{date}</span> | <span className='journal__text-time'>{time}</span>\n    </>\n);\n\nexport default DateItem;\n","import React from 'react';\nimport { useOnClickOutside } from '@deriv/components';\nimport { TFilterDialogProps } from '../journal.types';\nimport { Filters } from '.';\n\nconst FilterDialog = ({\n    toggle_ref,\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TFilterDialogProps) => {\n    const wrapper_ref = React.useRef<HTMLDivElement>(null);\n    const validateClickOutside = (event: React.ChangeEvent<HTMLInputElement>) =>\n        is_filter_dialog_visible && !toggle_ref.current?.contains(event.target);\n\n    useOnClickOutside(wrapper_ref, toggleFilterDialog, validateClickOutside);\n\n    return (\n        <Filters\n            wrapper_ref={wrapper_ref}\n            checked_filters={checked_filters}\n            filters={filters}\n            filterMessage={filterMessage}\n            className='filter-dialog'\n        />\n    );\n};\n\nexport default FilterDialog;\n","import React from 'react';\nimport { Checkbox } from '@deriv/components';\nimport { TFiltersProps } from '../journal.types';\n\nconst Filters = ({\n    wrapper_ref,\n    checked_filters,\n    filters,\n    filterMessage,\n    className,\n    classNameLabel,\n}: TFiltersProps) => (\n    <div ref={wrapper_ref} className={className}>\n        {filters.map(item => {\n            const hasFilter = Array.isArray(checked_filters) && checked_filters.includes(item.id);\n            return (\n                <Checkbox\n                    key={item.id}\n                    classNameLabel={classNameLabel}\n                    value={hasFilter}\n                    defaultChecked={hasFilter}\n                    label={item.label}\n                    onChange={() => filterMessage(!hasFilter, item.id)}\n                />\n            );\n        })}\n    </div>\n);\n\nexport default Filters;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { Text } from '@deriv/components';\nimport { formatMoney, getCurrencyDisplayCode } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { TFormatMessageProps } from '../journal.types';\n\nconst FormatMessage = ({ logType, className, extra }: TFormatMessageProps) => {\n    const getLogMessage = () => {\n        switch (logType) {\n            case log_types.LOAD_BLOCK: {\n                return localize('Blocks are loaded successfully');\n            }\n            case log_types.NOT_OFFERED: {\n                return localize('Resale of this contract is not offered.');\n            }\n            case log_types.PURCHASE: {\n                const { longcode, transaction_id } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Bought</0>: {{longcode}} (ID: {{transaction_id}})'\n                        values={{ longcode, transaction_id }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-info)' }} />]}\n                        options={{ interpolation: { escapeValue: false } }}\n                    />\n                );\n            }\n            case log_types.SELL: {\n                const { sold_for } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Sold for</0>: {{sold_for}}'\n                        values={{ sold_for }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-warning)' }} />]}\n                    />\n                );\n            }\n            case log_types.PROFIT: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Profit amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-success)' }} />]}\n                    />\n                );\n            }\n            case log_types.LOST: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Loss amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-danger)' }} />]}\n                    />\n                );\n            }\n            case log_types.WELCOME_BACK: {\n                return <Localize i18n_default_text='Welcome back! Your messages have been restored.' />;\n            }\n            default:\n                return null;\n        }\n    };\n\n    return <div className={classnames('journal__text', className)}>{getLogMessage()}</div>;\n};\n\nexport default FormatMessage;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { message_types } from '@deriv/bot-skeleton';\nimport { useNewRowTransition } from '@deriv/shared';\nimport { TJournalItemExtra, TJournalItemProps } from '../journal.types';\nimport { DateItem, FormatMessage } from '.';\n\nconst getJournalItemContent = (\n    message: string | ((value: () => void) => string),\n    type: string,\n    className: string,\n    extra: TJournalItemExtra,\n    measure: () => void\n) => {\n    switch (type) {\n        case message_types.SUCCESS: {\n            return <FormatMessage logType={message as string} extra={extra} className={className} />;\n        }\n        case message_types.NOTIFY: {\n            if (typeof message === 'function') {\n                return <div className={classnames('journal__text', className)}>{message(measure)}</div>;\n            }\n            return <div className={classnames('journal__text', className)}>{message}</div>;\n        }\n        case message_types.ERROR: {\n            return <div className='journal__text--error journal__text'>{message as string}</div>;\n        }\n        default:\n            return null;\n    }\n};\n\nconst JournalItem = ({ row, is_new_row, measure }: TJournalItemProps) => {\n    const { in_prop } = useNewRowTransition(is_new_row);\n    const { date, time, message, message_type, className, extra } = row;\n    const date_el = DateItem({ date, time });\n\n    return (\n        <CSSTransition in={in_prop} timeout={500} classNames='list__animation'>\n            <div className='journal__item'>\n                <div className='journal__item-content'>\n                    {getJournalItemContent(message, message_type, className, extra as TJournalItemExtra, measure)}\n                </div>\n                <div className='journal__text-datetime'>{date_el}</div>\n            </div>\n        </CSSTransition>\n    );\n};\n\nexport default JournalItem;\n","import React from 'react';\nimport classnames from 'classnames';\nimport ContentLoader from 'react-content-loader';\n\nconst JournalLoader = ({ is_mobile }: { is_mobile: boolean }) => (\n    <ContentLoader\n        className={classnames('journal__loader', { 'journal__loader--mobile': is_mobile })}\n        speed={3}\n        width={350}\n        height={92}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='15' y='15' rx='5' ry='5' width='320' height='40' />\n        <rect x='15' y='60' rx='5' ry='5' width='180' height='7' />\n    </ContentLoader>\n);\n\nexport default JournalLoader;\n","import React from 'react';\nimport { Button, Icon, Popover } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\n\ntype TDownloadProps = {\n    onClickDownloadTransaction: () => void;\n    onClickDownloadJournal: () => void;\n    tab: string;\n    is_clear_stat_disabled: boolean;\n};\n\nconst Download = ({\n    tab,\n    onClickDownloadTransaction,\n    onClickDownloadJournal,\n    is_clear_stat_disabled,\n}: TDownloadProps) => {\n    let clickFunction, popover_message;\n    if (tab === 'transactions') {\n        clickFunction = onClickDownloadTransaction;\n        popover_message = localize('Download your transaction history.');\n    } else if (tab === 'journal') {\n        clickFunction = onClickDownloadJournal;\n        popover_message = localize('Download your journal.');\n    }\n    return (\n        <Popover\n            className='run-panel__info'\n            classNameBubble='run-panel__info--bubble'\n            alignment='bottom'\n            message={popover_message}\n            zIndex={5}\n        >\n            <Button\n                id='download-button'\n                is_disabled={is_clear_stat_disabled}\n                className='download__button'\n                icon={\n                    <Icon icon='IcDownload' color={is_clear_stat_disabled && 'disabled'} className='download__icon' />\n                }\n                onClick={clickFunction}\n            />\n        </Popover>\n    );\n};\n\nexport default connect(({ download, run_panel }: RootStore) => ({\n    onClickDownloadTransaction: download.onClickDownloadTransaction,\n    onClickDownloadJournal: download.onClickDownloadJournal,\n    is_clear_stat_disabled: run_panel.is_clear_stat_disabled,\n}))(Download);\n","import Download from './download';\nimport './download.scss';\n\nexport default Download;\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { DesktopWrapper, Icon, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport Download from 'Components/download';\nimport { TJournalToolsProps } from '../journal.types';\nimport { FilterDialog } from '.';\n\nconst JournalTools = ({\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TJournalToolsProps) => {\n    const toggle_ref = React.useRef<HTMLDivElement>(null);\n\n    return (\n        <>\n            <div className='journal-tools__container'>\n                <DesktopWrapper>\n                    <Download tab='journal' />\n                </DesktopWrapper>\n                <div ref={toggle_ref} className='journal-tools__container-filter' onClick={toggleFilterDialog}>\n                    <Text size='xs' className='journal-tools__container-filter--label'>\n                        <Localize i18n_default_text='Filters' />\n                    </Text>\n                    <Icon icon='IcFilter' size={16} />\n                </div>\n            </div>\n            <CSSTransition\n                in={is_filter_dialog_visible}\n                classNames={{\n                    enter: 'filter-dialog--enter',\n                    enterDone: 'filter-dialog--enter-done',\n                    exit: 'filter-dialog--exit',\n                }}\n                timeout={150}\n                unmountOnExit\n            >\n                <FilterDialog\n                    toggle_ref={toggle_ref}\n                    checked_filters={checked_filters}\n                    filters={filters}\n                    filterMessage={filterMessage}\n                    is_filter_dialog_visible={is_filter_dialog_visible}\n                    toggleFilterDialog={toggleFilterDialog}\n                />\n            </CSSTransition>\n        </>\n    );\n};\n\nexport default JournalTools;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { DataList, Icon, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { TCheckedFilters, TFilterMessageValues, TJournalDataListArgs, TJournalProps } from './journal.types';\nimport { JournalItem, JournalLoader, JournalTools } from './journal-components';\n\nconst Journal = ({\n    contract_stage,\n    filtered_messages,\n    is_stop_button_visible,\n    unfiltered_messages,\n    ...props\n}: TJournalProps) => {\n    const filtered_messages_length = Array.isArray(filtered_messages) && filtered_messages.length;\n    const unfiltered_messages_length = Array.isArray(unfiltered_messages) && unfiltered_messages.length;\n    const { checked_filters } = props;\n    const is_mobile = isMobile();\n\n    return (\n        <div\n            className={classnames('journal run-panel-tab__content--no-stat', {\n                'run-panel-tab__content': !is_mobile,\n            })}\n        >\n            <JournalTools {...props} />\n            <div className='journal__item-list'>\n                {filtered_messages_length ? (\n                    <DataList\n                        className='journal'\n                        data_source={filtered_messages}\n                        rowRenderer={(args: TJournalDataListArgs) => <JournalItem {...args} />}\n                        keyMapper={(row: TFilterMessageValues) => row.unique_id}\n                    />\n                ) : (\n                    <>\n                        {contract_stage >= contract_stages.STARTING &&\n                        !!Object.keys(checked_filters as TCheckedFilters).length &&\n                        !unfiltered_messages_length &&\n                        is_stop_button_visible ? (\n                            <JournalLoader is_mobile={is_mobile} />\n                        ) : (\n                            <div className='journal-empty'>\n                                <Icon icon='IcBox' className='journal-empty__icon' size={64} color='secondary' />\n                                <Text\n                                    as='h4'\n                                    size='xs'\n                                    weight='bold'\n                                    align='center'\n                                    color='less-prominent'\n                                    line_height='xxs'\n                                    className='journal-empty__header'\n                                >\n                                    {localize('There are no messages to display')}\n                                </Text>\n                                <div className='journal-empty__message'>\n                                    <Text size='xxs' color='less-prominent'>\n                                        {localize('Here are the possible reasons:')}\n                                    </Text>\n                                    <ul className='journal-empty__list'>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('The bot is not running')}\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('The stats are cleared')}\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('All messages are filtered out')}\n                                            </Text>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default connect(({ journal, run_panel }: RootStore) => ({\n    checked_filters: journal.checked_filters,\n    filterMessage: journal.filterMessage,\n    filters: journal.filters,\n    filtered_messages: journal.filtered_messages,\n    is_filter_dialog_visible: journal.is_filter_dialog_visible,\n    toggleFilterDialog: journal.toggleFilterDialog,\n    unfiltered_messages: journal.unfiltered_messages,\n    is_stop_button_visible: run_panel.is_stop_button_visible,\n    contract_stage: run_panel.contract_stage,\n}))(Journal);\n","import Journal from './journal';\nimport './journal.scss';\n\nexport default Journal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport PropTypes from 'prop-types';\nimport { Button, Div100vhContainer, FadeWrapper, Input, MobileWrapper, Modal, PageOverlay } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\n\nconst SelfExclusionForm = props => {\n    const [max_losses_error, setMaxLossesError] = React.useState('');\n    const {\n        is_onscreen_keyboard_active,\n        is_logged_in,\n        initial_values,\n        api_max_losses,\n        onRunButtonClick,\n        resetSelfExclusion,\n        updateSelfExclusion,\n        setRunLimit,\n        reality_check_is_visible,\n    } = props;\n\n    React.useEffect(() => {\n        if (reality_check_is_visible || !is_logged_in) {\n            resetSelfExclusion();\n        }\n    });\n\n    const onSubmitLimits = async values => {\n        if (values.form_max_losses !== api_max_losses) {\n            const set_losses = await updateSelfExclusion({ max_losses: values.form_max_losses });\n            if (set_losses?.error) {\n                setMaxLossesError(localize(set_losses.error.message));\n                return;\n            }\n        }\n        setRunLimit(values.run_limit);\n        onRunButtonClick();\n    };\n    const validateFields = values => {\n        const errors = {};\n        // Regex\n        const is_number = /^\\d+(\\.\\d+)?$/;\n        const is_integer = /^\\d+$/;\n        const max_number = 9999999999999;\n\n        // Messages\n        const requested_field_message = localize('This field is required.');\n        const valid_number_message = localize('Should be a valid number');\n        const max_number_message = localize('Reached maximum number of digits');\n        const max_decimal_message = localize('Reached maximum number of decimals');\n        const max_losses_limit_message = localize('Please enter a number between 0 and {{api_max_losses}}.', {\n            api_max_losses,\n        });\n        const requested_fields = ['run_limit', 'form_max_losses'];\n        const only_numbers = ['run_limit', 'form_max_losses'];\n        const decimal_limit = ['form_max_losses'];\n        const has_max_limit = ['form_max_losses'];\n\n        const only_integers = ['run_limit'];\n\n        requested_fields.forEach(item => {\n            if (!values[item]) {\n                errors[item] = requested_field_message;\n            }\n        });\n\n        only_numbers.forEach(item => {\n            if (values[item]) {\n                if (!is_number.test(values[item])) {\n                    errors[item] = valid_number_message;\n                } else if (+values[item] > max_number) {\n                    errors[item] = max_number_message;\n                }\n            }\n        });\n\n        only_integers.forEach(item => {\n            if (values[item]) {\n                if (!is_integer.test(values[item])) {\n                    errors[item] = valid_number_message;\n                }\n            }\n        });\n\n        decimal_limit.forEach(item => {\n            const amount_decimal_array = values[item].toString().split('.')[1];\n            const amount_decimal_places = amount_decimal_array ? amount_decimal_array.length || 0 : 0;\n            if (amount_decimal_places > 2) {\n                errors[item] = max_decimal_message;\n            }\n        });\n        has_max_limit.forEach(item => {\n            if (api_max_losses !== 0 && api_max_losses !== values[item] && api_max_losses < values[item]) {\n                errors[item] = max_losses_limit_message;\n            } else {\n                setMaxLossesError('');\n            }\n        });\n\n        return errors;\n    };\n\n    return (\n        <div className='db-self-exclusion'>\n            <div className='db-self-exclusion__content'>\n                <div className='db-self-exclusion__info'>\n                    {localize('Enter limits to stop your bot from trading when any of these conditions are met.')}\n                </div>\n                <Formik initialValues={initial_values} validate={validateFields} onSubmit={onSubmitLimits}>\n                    {({ values, touched, errors, isValid, handleChange }) => {\n                        return (\n                            <Form>\n                                <div className='db-self-exclusion__form-group'>\n                                    <Field name='form_max_losses'>\n                                        {({ field }) => (\n                                            <Input\n                                                {...field}\n                                                className='db-self-exclusion__input'\n                                                type='text'\n                                                label={localize('Daily loss limit')}\n                                                value={values.form_max_losses}\n                                                onChange={handleChange}\n                                                error={max_losses_error || (touched[field.name] && errors[field.name])}\n                                                hint={localize(\n                                                    'Limits your potential losses for the day across all Deriv platforms.'\n                                                )}\n                                            />\n                                        )}\n                                    </Field>\n                                </div>\n                                <div className='db-self-exclusion__form-group'>\n                                    <Field name='run_limit'>\n                                        {({ field }) => {\n                                            return (\n                                                <Input\n                                                    {...field}\n                                                    className='db-self-exclusion__input'\n                                                    type='text'\n                                                    label={localize('Maximum consecutive trades')}\n                                                    value={values.run_limit}\n                                                    onChange={handleChange}\n                                                    error={touched[field.name] && errors.run_limit}\n                                                    hint={localize(\n                                                        'Maximum number of trades your bot will execute for this run.'\n                                                    )}\n                                                />\n                                            );\n                                        }}\n                                    </Field>\n                                </div>\n                                <div\n                                    className={classNames('db-self-exclusion__footer', {\n                                        'db-self-exclusion__footer--relative':\n                                            isMobile() && is_onscreen_keyboard_active,\n                                    })}\n                                >\n                                    <div className='db-self-exclusion__footer-btn-group'>\n                                        <Button\n                                            large\n                                            text={localize('Cancel')}\n                                            onClick={resetSelfExclusion}\n                                            secondary\n                                            type='button'\n                                        />\n                                        <Button\n                                            type='submit'\n                                            large\n                                            text={localize('Apply and run')}\n                                            is_disabled={\n                                                !isValid ||\n                                                !values.run_limit ||\n                                                !values.form_max_losses ||\n                                                max_losses_error !== ''\n                                            }\n                                            primary\n                                        />\n                                    </div>\n                                </div>\n                            </Form>\n                        );\n                    }}\n                </Formik>\n            </div>\n        </div>\n    );\n};\n\nconst SelfExclusion = props => {\n    const { is_restricted, resetSelfExclusion } = props;\n    return (\n        <>\n            {isMobile() ? (\n                <FadeWrapper is_visible={is_restricted} className='limits__wrapper' keyname='limitis__wrapper'>\n                    <PageOverlay header={localize('Limits')} onClickClose={resetSelfExclusion}>\n                        <MobileWrapper>\n                            <Div100vhContainer className='limits__wrapper--is-mobile'>\n                                <SelfExclusionForm {...props} />\n                            </Div100vhContainer>\n                        </MobileWrapper>\n                    </PageOverlay>\n                </FadeWrapper>\n            ) : (\n                <Modal\n                    is_open={is_restricted}\n                    has_close_icon\n                    width='440px'\n                    height='374px'\n                    toggleModal={resetSelfExclusion}\n                    className='db-self-exclusion__modal'\n                    title={localize('Limits')}\n                >\n                    <SelfExclusionForm {...props} />\n                </Modal>\n            )}\n        </>\n    );\n};\n\nSelfExclusion.propTypes = {\n    is_onscreen_keyboard_active: PropTypes.bool,\n    is_logged_in: PropTypes.bool,\n    is_restricted: PropTypes.bool,\n    initial_values: PropTypes.object,\n    api_max_losses: PropTypes.number,\n    run_limit: PropTypes.PropTypes.number,\n    resetSelfExclusion: PropTypes.func,\n    reality_check_is_visible: PropTypes.bool,\n    setRunLimit: PropTypes.func,\n    updateSelfExclusion: PropTypes.func,\n    virtual_account_loginid: PropTypes.string,\n};\n\nexport default connect(({ client, self_exclusion, ui }) => ({\n    initial_values: self_exclusion.initial_values,\n    is_onscreen_keyboard_active: ui.is_onscreen_keyboard_active,\n    is_logged_in: client.is_logged_in,\n    is_restricted: self_exclusion.is_restricted,\n    api_max_losses: self_exclusion.api_max_losses,\n    run_limit: self_exclusion.run_limit,\n    resetSelfExclusion: self_exclusion.resetSelfExclusion,\n    reality_check_is_visible: client.is_reality_check_visible,\n    setRunLimit: self_exclusion.setRunLimit,\n    updateSelfExclusion: client.updateSelfExclusion,\n    virtual_account_loginid: client.virtual_account_loginid,\n}))(SelfExclusion);\n","import SelfExclusion from './self-exclusion';\n\nexport default SelfExclusion;\n","import { getLimitOrderAmount } from '@deriv/shared';\nimport { connect } from 'Stores/connect';\n\nexport const getBuyPrice = contract_store => {\n    return contract_store.contract_info.buy_price;\n};\n\n/**\n * Set contract update form initial values\n * @param {object} contract_update - contract_update response\n * @param {object} limit_order - proposal_open_contract.limit_order response\n */\nexport const getContractUpdateConfig = ({ contract_update, limit_order }) => {\n    const { stop_loss, take_profit } = getLimitOrderAmount(limit_order || contract_update);\n\n    return {\n        // convert stop_loss, take_profit value to string for validation to work\n        contract_update_stop_loss: stop_loss ? Math.abs(stop_loss).toString() : '',\n        contract_update_take_profit: take_profit ? take_profit.toString() : '',\n        has_contract_update_stop_loss: !!stop_loss,\n        has_contract_update_take_profit: !!take_profit,\n    };\n};\n\n// eslint-disable-next-line no-empty-pattern\nexport const connectWithContractUpdate = connect(({}, { contract = {} }) => {\n    return {\n        validation_errors: contract.validation_errors,\n        contract_update_take_profit: contract.contract_update_take_profit,\n        contract_update_stop_loss: contract.contract_update_stop_loss,\n        has_contract_update_take_profit: contract.has_contract_update_take_profit,\n        has_contract_update_stop_loss: contract.has_contract_update_stop_loss,\n    };\n});\n","import { getTotalProfit } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { getBuyPrice } from 'Utils/multiplier';\n\nexport const getCardLabels = () => ({\n    APPLY: localize('Apply'),\n    STAKE: localize('Stake:'),\n    CLOSE: localize('Close'),\n    CANCEL: localize('Cancel'),\n    CURRENT_STAKE: localize('Current stake:'),\n    DEAL_CANCEL_FEE: localize('Deal cancel. fee:'),\n    TAKE_PROFIT: localize('Take profit:'),\n    BUY_PRICE: localize('Buy price:'),\n    STOP_LOSS: localize('Stop loss:'),\n    TOTAL_PROFIT_LOSS: localize('Total profit/loss:'),\n    PROFIT_LOSS: localize('Profit/Loss:'),\n    POTENTIAL_PROFIT_LOSS: localize('Potential profit/loss:'),\n    INDICATIVE_PRICE: localize('Indicative price:'),\n    INITIAL_STAKE: localize('Initial stake:'),\n    PAYOUT: localize('Sell Price:'),\n    PURCHASE_PRICE: localize('Buy price:'),\n    POTENTIAL_PAYOUT: localize('Payout limit:'),\n    TICK: localize('Tick '),\n    WON: localize('Won'),\n    LOST: localize('Lost'),\n    DAYS: localize('Days'),\n    DAY: localize('Day'),\n    SELL: localize('Sell'),\n    INCREMENT_VALUE: localize('Increment value'),\n    DECREMENT_VALUE: localize('Decrement value'),\n    TAKE_PROFIT_LOSS_NOT_AVAILABLE: localize(\n        'Take profit and/or stop loss are not available while deal cancellation is active.'\n    ),\n    DONT_SHOW_THIS_AGAIN: localize(\"Don't show this again\"),\n    RESALE_NOT_OFFERED: localize('Resale not offered'),\n    NOT_AVAILABLE: localize('N/A'),\n});\n\nexport const getSupportedContracts = is_high_low => ({\n    ASIANU: {\n        name: localize('Asian Up'),\n        position: 'top',\n    },\n    ASIAND: {\n        name: localize('Asian Down'),\n        position: 'bottom',\n    },\n    CALL: {\n        name: is_high_low ? localize('Higher') : localize('Rise'),\n        position: 'top',\n    },\n    PUT: {\n        name: is_high_low ? localize('Lower') : localize('Fall'),\n        position: 'bottom',\n    },\n    CALLE: {\n        name: localize('Rise'),\n        position: 'top',\n    },\n    PUTE: {\n        name: localize('Fall'),\n        position: 'bottom',\n    },\n    CALLSPREAD: {\n        name: localize('Spread Up'),\n        position: 'top',\n    },\n    PUTSPREAD: {\n        name: localize('Spread Down'),\n        position: 'bottom',\n    },\n    DIGITMATCH: {\n        name: localize('Matches'),\n        position: 'top',\n    },\n    DIGITDIFF: {\n        name: localize('Differs'),\n        position: 'bottom',\n    },\n    DIGITEVEN: {\n        name: localize('Even'),\n        position: 'top',\n    },\n    DIGITODD: {\n        name: localize('Odd'),\n        position: 'bottom',\n    },\n    DIGITOVER: {\n        name: localize('Over'),\n        position: 'top',\n    },\n    DIGITUNDER: {\n        name: localize('Under'),\n        position: 'bottom',\n    },\n    EXPIRYMISS: {\n        name: localize('Ends Outside'),\n        position: 'top',\n    },\n    EXPIRYRANGE: {\n        name: localize('Ends Between'),\n        position: 'bottom',\n    },\n    LBFLOATCALL: {\n        name: localize('Close-to-Low'),\n        position: 'top',\n    },\n    LBFLOATPUT: {\n        name: localize('High-to-Close'),\n        position: 'top',\n    },\n    LBHIGHLOW: {\n        name: localize('High-to-Low'),\n        position: 'top',\n    },\n    MULTUP: {\n        name: localize('Up'),\n        position: 'top',\n    },\n    MULTDOWN: {\n        name: localize('Down'),\n        position: 'bottom',\n    },\n    ONETOUCH: {\n        name: localize('Touch'),\n        position: 'top',\n    },\n    NOTOUCH: {\n        name: localize('No Touch'),\n        position: 'bottom',\n    },\n    RANGE: {\n        name: localize('Stays Between'),\n        position: 'top',\n    },\n    UPORDOWN: {\n        name: localize('Goes Outside'),\n        position: 'bottom',\n    },\n    RESETCALL: {\n        name: localize('Reset Call'),\n        position: 'top',\n    },\n    RESETPUT: {\n        name: localize('Reset Put'),\n        position: 'bottom',\n    },\n    RUNHIGH: {\n        name: localize('Only Ups'),\n        position: 'top',\n    },\n    RUNLOW: {\n        name: localize('Only Downs'),\n        position: 'bottom',\n    },\n    TICKHIGH: {\n        name: localize('High Tick'),\n        position: 'top',\n    },\n    TICKLOW: {\n        name: localize('Low Tick'),\n        position: 'bottom',\n    },\n});\n\nexport const getContractConfig = is_high_low => ({\n    ...getSupportedContracts(is_high_low),\n});\n\nexport const getContractTypeDisplay = (type, is_high_low = false) =>\n    getContractConfig(is_high_low)[type] ? getContractConfig(is_high_low)[type.toUpperCase()].name : '';\n\nexport const getValidationRules = () => ({\n    has_contract_update_stop_loss: {\n        trigger: 'contract_update_stop_loss',\n    },\n    contract_update_stop_loss: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_stop_loss,\n                    message: localize('Please enter a stop loss amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit < 0 && -value > profit);\n                    },\n                    message: localize(\"Please enter a stop loss amount that's higher than the current potential loss.\"),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const stake = getBuyPrice(contract_store);\n                        return value < stake + 1;\n                    },\n                    message: localize('Invalid stop loss. Stop loss cannot be more than stake.'),\n                },\n            ],\n        ],\n    },\n    has_contract_update_take_profit: {\n        trigger: 'contract_update_take_profit',\n    },\n    contract_update_take_profit: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_take_profit,\n                    message: localize('Please enter a take profit amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit > 0 && +value < profit);\n                    },\n                    message: localize(\n                        \"Please enter a take profit amount that's higher than the current potential profit.\"\n                    ),\n                },\n            ],\n        ],\n    },\n});\n","import React from 'react';\nimport classNames from 'classnames';\nimport { ContractCard, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport ContractCardLoader from 'Components/contract-card-loading';\nimport { getCardLabels, getContractTypeDisplay } from 'Constants/contract';\nimport { connectWithContractUpdate } from 'Utils/multiplier';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { TSummaryCardProps } from './summary-card.types';\n\nconst SummaryCard = ({\n    addToast,\n    contract_info,\n    contract_store,\n    current_focus,\n    is_contract_completed,\n    is_contract_loading,\n    is_contract_inactive,\n    is_multiplier,\n    onClickSell,\n    is_sell_requested,\n    removeToast,\n    server_time,\n    setCurrentFocus,\n}: TSummaryCardProps) => {\n    const is_mobile = isMobile();\n    const card_header = (\n        <ContractCard.Header\n            contract_info={contract_info}\n            getCardLabels={getCardLabels}\n            getContractTypeDisplay={getContractTypeDisplay}\n            has_progress_slider={!is_multiplier}\n            is_mobile={is_mobile}\n            is_sold={is_contract_completed}\n            server_time={server_time}\n        />\n    );\n\n    const card_body = (\n        <ContractCard.Body\n            addToast={addToast}\n            connectWithContractUpdate={connectWithContractUpdate}\n            contract_info={contract_info}\n            currency={contract_info && contract_info.currency}\n            current_focus={current_focus}\n            error_message_alignment='left'\n            getCardLabels={getCardLabels}\n            getContractById={() => contract_store}\n            is_mobile={is_mobile}\n            is_multiplier={is_multiplier}\n            is_sold={is_contract_completed}\n            removeToast={removeToast}\n            server_time={server_time}\n            setCurrentFocus={setCurrentFocus}\n        />\n    );\n\n    const card_footer = (\n        <ContractCard.Footer\n            contract_info={contract_info}\n            getCardLabels={getCardLabels}\n            is_multiplier={is_multiplier}\n            is_sell_requested={is_sell_requested}\n            onClickSell={onClickSell}\n        />\n    );\n\n    const contract_el = (\n        <React.Fragment>\n            {card_header}\n            {card_body}\n            {card_footer}\n        </React.Fragment>\n    );\n\n    return (\n        <div\n            className={classNames('db-summary-card', {\n                'db-summary-card--mobile': is_mobile,\n                'db-summary-card--inactive': is_contract_inactive && !is_contract_loading && !contract_info,\n                'db-summary-card--is-loading': is_contract_loading,\n                'db-summary-card--completed': is_contract_completed,\n                'db-summary-card--completed-mobile': is_contract_completed && is_mobile,\n            })}\n        >\n            {is_contract_loading && <ContractCardLoader speed={2} />}\n            {!is_contract_loading && contract_info && (\n                <ContractCard\n                    contract_info={contract_info}\n                    getCardLabels={getCardLabels}\n                    is_multiplier={is_multiplier}\n                    profit_loss={contract_info.profit}\n                    should_show_result_overlay={true}\n                >\n                    <div\n                        className={classNames('dc-contract-card', {\n                            'dc-contract-card--green': contract_info.profit > 0,\n                            'dc-contract-card--red': contract_info.profit < 0,\n                        })}\n                    >\n                        {contract_el}\n                    </div>\n                </ContractCard>\n            )}\n            {!is_contract_loading && !contract_info && (\n                <Text as='p' line_height='s' size='xs'>\n                    {localize('When youre ready to trade, hit ')}\n                    <strong>{localize('Run')}</strong>\n                    {localize('. Youll be able to track your bots performance here.')}\n                </Text>\n            )}\n        </div>\n    );\n};\n\nexport default connect(({ summary_card, common, run_panel, ui }: RootStore) => ({\n    addToast: ui.addToast,\n    contract_store: summary_card,\n    current_focus: ui.current_focus,\n    is_contract_completed: summary_card.is_contract_completed,\n    is_contract_inactive: summary_card.is_contract_inactive,\n    is_multiplier: summary_card.is_multiplier,\n    onClickSell: run_panel.onClickSell,\n    is_sell_requested: run_panel.is_sell_requested,\n    removeToast: ui.removeToast,\n    server_time: common.server_time,\n    setCurrentFocus: ui.setCurrentFocus,\n}))(SummaryCard);\n","import React from 'react';\nimport classnames from 'classnames';\nimport { ThemedScrollbars } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport SummaryCard from './summary-card';\nimport { TContractInfo } from './summary-card.types';\n\ntype TSummary = {\n    is_drawer_open: boolean;\n    is_contract_loading: boolean;\n    contract_info?: TContractInfo;\n};\n\nconst Summary = ({ is_drawer_open, is_contract_loading, contract_info }: TSummary) => {\n    const is_mobile = isMobile();\n    return (\n        <div\n            className={classnames({\n                'run-panel-tab__content': !is_mobile,\n                'run-panel-tab__content--mobile': is_mobile && is_drawer_open,\n                'run-panel-tab__content--summary-tab': !is_mobile && is_drawer_open,\n            })}\n        >\n            <ThemedScrollbars\n                className={classnames({\n                    summary: !is_contract_loading && !contract_info,\n                    'summary--loading':\n                        (is_mobile && is_contract_loading) || (is_mobile && !is_contract_loading && contract_info),\n                })}\n            >\n                <SummaryCard is_contract_loading={is_contract_loading} contract_info={contract_info} />\n            </ThemedScrollbars>\n        </div>\n    );\n};\n\nexport default connect(({ summary_card }: RootStore) => ({\n    is_contract_loading: summary_card.is_contract_loading,\n    contract_info: summary_card.contract_info,\n}))(Summary);\n","import Summary from './summary';\nimport './summary.scss';\nimport './summary-card.scss';\n\nexport default Summary;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { Button, Icon, Modal, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport ContractResultOverlay from 'Components/contract-result-overlay';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { connect } from 'Stores/connect';\n\nconst CircularWrapper = ({ className }) => (\n    <div className={classNames('circular-wrapper', className)}>\n        <span className='static-circle' />\n        <span className='dynamic-circle' />\n    </div>\n);\n\nconst AnimationInfo = ({ toggleAnimationInfoModal }) => {\n    return (\n        <div className='animation__info' onClick={toggleAnimationInfoModal}>\n            <Icon icon='IcInfoOutline' id='db-animation__clear-stat' />\n        </div>\n    );\n};\n\nconst AnimationInfoModal = ({ is_mobile, is_animation_info_modal_open, toggleAnimationInfoModal }) => {\n    return (\n        <Modal\n            className={classNames('animation__modal', { 'animation__modal--mobile': is_mobile })}\n            title={localize('Stopping the bot is risky')}\n            is_open={is_animation_info_modal_open}\n            toggleModal={toggleAnimationInfoModal}\n            width={'440px'}\n        >\n            <Modal.Body>\n                <div className={classNames({ 'animation__modal-body--mobile': is_mobile })}>\n                    <Text as='p'>\n                        {localize(\n                            'Stopping the bot will prevent further trades. Any ongoing trades will be completed by our system.'\n                        )}\n                    </Text>\n                    <Text as='p' className='animation__modal-body--content'>\n                        {localize(\n                            'Please be aware that some completed transactions may not be displayed in the transaction table if the bot is stopped while placing trades.'\n                        )}\n                    </Text>\n                    <Text as='p' className='animation__modal-body--content'>\n                        {localize('You may refer to the statement page for details of all completed transactions.')}\n                    </Text>\n                </div>\n            </Modal.Body>\n        </Modal>\n    );\n};\n\nconst ContractStageText = ({ contract_stage }) => {\n    switch (contract_stage) {\n        case contract_stages.NOT_RUNNING:\n        default:\n            return <Localize i18n_default_text='Bot is not running' />;\n        case contract_stages.STARTING:\n            return <Localize i18n_default_text='Bot is starting' />;\n        case contract_stages.PURCHASE_SENT:\n            return <Localize i18n_default_text='Buying contract' />;\n        case contract_stages.PURCHASE_RECEIVED:\n            return <Localize i18n_default_text='Contract bought' />;\n        case contract_stages.IS_STOPPING:\n            return <Localize i18n_default_text='Bot is stopping' />;\n        case contract_stages.CONTRACT_CLOSED:\n            return <Localize i18n_default_text='Contract closed' />;\n    }\n};\n\nconst TradeAnimation = ({\n    className,\n    contract_stage,\n    is_animation_info_modal_open,\n    is_contract_completed,\n    is_stop_button_visible,\n    is_stop_button_disabled,\n    profit,\n    should_show_overlay,\n    onRunButtonClick,\n    onStopButtonClick,\n    info_direction,\n    toggleAnimationInfoModal,\n    cashier_validation,\n    performSelfExclusionCheck,\n}) => {\n    const [is_button_disabled, updateIsButtonDisabled] = React.useState(false);\n    const is_unavailable_for_payment_agent = cashier_validation?.includes('WithdrawServiceUnavailableForPA');\n    // perform self-exclusion checks which will be stored under the self-exclusion-store\n    React.useEffect(() => {\n        performSelfExclusionCheck();\n    }, []);\n\n    React.useEffect(() => {\n        if (is_button_disabled) {\n            setTimeout(() => {\n                updateIsButtonDisabled(false);\n            }, 1000);\n        }\n    }, [is_button_disabled]);\n\n    const status_classes = ['', '', ''];\n    let progress_status =\n        contract_stage -\n        (contract_stage === contract_stages.PURCHASE_SENT || contract_stage === contract_stages.PURCHASE_RECEIVED\n            ? 2\n            : 3);\n\n    if (progress_status >= 0) {\n        if (progress_status < status_classes.length) {\n            status_classes[progress_status] = 'active';\n        }\n\n        if (is_contract_completed) {\n            progress_status += 1;\n        }\n\n        for (let i = 0; i < progress_status; i++) {\n            status_classes[i] = 'completed';\n        }\n    }\n\n    return (\n        <div className={classNames('animation__wrapper', className)}>\n            {info_direction === 'left' && <AnimationInfo toggleAnimationInfoModal={toggleAnimationInfoModal} />}\n            <Button\n                is_disabled={(is_stop_button_disabled || is_button_disabled) && !is_unavailable_for_payment_agent}\n                className='animation__button'\n                id={is_stop_button_visible ? 'db-animation__stop-button' : 'db-animation__run-button'}\n                text={is_stop_button_visible ? localize('Stop') : localize('Run')}\n                icon={<Icon icon={is_stop_button_visible ? 'IcPause' : 'IcPlay'} color='active' />}\n                onClick={() => {\n                    updateIsButtonDisabled(true);\n                    if (is_stop_button_visible) {\n                        onStopButtonClick();\n                        return;\n                    }\n                    onRunButtonClick();\n                }}\n                has_effect\n                {...(is_stop_button_visible || !is_unavailable_for_payment_agent ? { primary: true } : { green: true })}\n            />\n            <div\n                className={classNames('animation__container', className, {\n                    'animation--running': contract_stage > 0,\n                    'animation--completed': should_show_overlay && is_contract_completed,\n                })}\n            >\n                {should_show_overlay && is_contract_completed && <ContractResultOverlay profit={profit} />}\n                <span className='animation__text'>\n                    <ContractStageText contract_stage={contract_stage} />\n                </span>\n                <div className='animation__progress'>\n                    <div className='animation__progress-line'>\n                        <div className={`animation__progress-bar animation__progress-${contract_stage}`} />\n                    </div>\n                    {status_classes.map((status_class, i) => (\n                        <CircularWrapper key={i} className={status_class} />\n                    ))}\n                </div>\n            </div>\n            {info_direction === 'right' && <AnimationInfo toggleAnimationInfoModal={toggleAnimationInfoModal} />}\n            <AnimationInfoModal\n                is_mobile={isMobile()}\n                is_animation_info_modal_open={is_animation_info_modal_open}\n                toggleAnimationInfoModal={toggleAnimationInfoModal}\n            />\n        </div>\n    );\n};\n\nTradeAnimation.propTypes = {\n    className: PropTypes.string,\n    contract_stage: PropTypes.number,\n    is_animation_info_modal_open: PropTypes.bool,\n    is_contract_completed: PropTypes.bool,\n    is_stop_button_visible: PropTypes.bool,\n    is_stop_button_disabled: PropTypes.bool,\n    onRunButtonClick: PropTypes.func,\n    onStopButtonClick: PropTypes.func,\n    performSelfExclusionCheck: PropTypes.func,\n    profit: PropTypes.number,\n    should_show_overlay: PropTypes.bool,\n};\n\nexport default connect(({ summary_card, run_panel, toolbar, client }) => ({\n    contract_stage: run_panel.contract_stage,\n    is_animation_info_modal_open: toolbar.is_animation_info_modal_open,\n    is_contract_completed: summary_card.is_contract_completed,\n    is_stop_button_visible: run_panel.is_stop_button_visible,\n    is_stop_button_disabled: run_panel.is_stop_button_disabled,\n    onRunButtonClick: run_panel.onRunButtonClick,\n    onStopButtonClick: run_panel.onStopButtonClick,\n    performSelfExclusionCheck: run_panel.performSelfExclusionCheck,\n    profit: summary_card.profit,\n    should_show_overlay: run_panel.should_show_overlay,\n    toggleAnimationInfoModal: toolbar.toggleAnimationInfoModal,\n    cashier_validation: client.account_status.cashier_validation,\n}))(TradeAnimation);\n","import TradeAnimation from './trade-animation.jsx';\nimport './trade-animation.scss';\n\nexport default TradeAnimation;\n","export const transaction_elements = Object.freeze({\n    CONTRACT: 'contract',\n    DIVIDER: 'divider',\n});\n","export const popover_zindex = Object.freeze({\n    QUICK_STRATEGY: 99999,\n    TOOLBAR: 100,\n    TRANSACTION: 10,\n    SUMMARY_TOOLTIPS: 5,\n    RUN_PANEL: 8,\n});\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@deriv/bot-skeleton';\nimport { Icon, IconTradeTypes, Money, Popover } from '@deriv/components';\nimport { convertDateFormat } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { popover_zindex } from 'Constants/z-indexes';\nimport { connect } from 'Stores/connect';\n\nconst TransactionIconWithText = ({ icon, title, message, className }) => (\n    <React.Fragment>\n        <Popover\n            className={classNames(className, 'transactions__icon')}\n            alignment='left'\n            message={title}\n            zIndex={popover_zindex.TRANSACTION}\n        >\n            {icon}\n        </Popover>\n        {message}\n    </React.Fragment>\n);\n\nconst TransactionFieldLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        height={10}\n        width={80}\n        speed={3}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nconst TransactionIconLoader = () => (\n    <ContentLoader\n        className='transactions__loader-icon'\n        speed={3}\n        width={24}\n        height={24}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='5' ry='5' width='24' height='24' />\n    </ContentLoader>\n);\n\nconst PopoverItem = ({ icon, title, children }) => (\n    <div className='transactions__popover-item'>\n        {icon && <div className='transaction__popover-icon'>{icon}</div>}\n        <div className='transactions__popover-details'>\n            <div className='transactions__popover-title'>{title}</div>\n            {children}\n        </div>\n    </div>\n);\n\nconst PopoverContent = ({ contract }) => (\n    <div className='transactions__popover-content'>\n        {contract.transaction_ids && (\n            <PopoverItem title={localize('Reference IDs')}>\n                {contract.transaction_ids.buy && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.buy} ${localize('(Buy)')}`}\n                    </div>\n                )}\n                {contract.transaction_ids.sell && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.sell} ${localize('(Sell)')}`}\n                    </div>\n                )}\n            </PopoverItem>\n        )}\n        {contract.tick_count && (\n            <PopoverItem title={localize('Duration')}>\n                <div className='transactions__popover-value'>{`${contract.tick_count} ${localize('ticks')}`}</div>\n            </PopoverItem>\n        )}\n        {(contract.barrier && (\n            <PopoverItem title={localize('Barrier')}>\n                <div className='transactions__popover-value'>{contract.barrier}</div>\n            </PopoverItem>\n        )) ||\n            (contract.high_barrier && contract.low_barrier && (\n                <PopoverItem title={localize('Barriers')}>\n                    <div className='transactions__popover-value'>{`${contract.high_barrier} ${localize(\n                        '(High)'\n                    )}`}</div>\n                    <div className='transactions__popover-value'>{`${contract.low_barrier} ${localize('(Low)')}`}</div>\n                </PopoverItem>\n            ))}\n        {contract.date_start && (\n            <PopoverItem title={localize('Start time')}>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.date_start, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )}\n        {\n            contract.entry_tick && (\n                <PopoverItem title={localize('Entry spot')}>\n                    <div className='transactions__popover-value'>{contract.entry_tick}</div>\n                    {contract.entry_tick_time && (\n                        <div className='transactions__popover-value'>\n                            {convertDateFormat(\n                                contract.entry_tick_time,\n                                'YYYY-M-D HH:mm:ss [GMT]',\n                                'YYYY-MM-DD HH:mm:ss [GMT]'\n                            )}\n                        </div>\n                    )}\n                </PopoverItem>\n            )\n            // TODO: Durations for non-tick contracts, requires helpers from Trader.\n        }\n        {(contract.exit_tick && contract.exit_tick_time && (\n            <PopoverItem title={localize('Exit spot')}>\n                <div className='transactions__popover-value'>{contract.exit_tick}</div>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )) ||\n            (contract.exit_tick && (\n                <PopoverItem title={localize('Exit time')}>\n                    <div className='transactions__popover-value'>{contract.exit_tick}</div>\n                </PopoverItem>\n            ))}\n    </div>\n);\n\nconst Transaction = ({ active_transaction_id, contract, setActiveTransactionId }) => (\n    <Popover\n        zIndex={popover_zindex.TRANSACTION}\n        alignment='left'\n        className='transactions__item-wrapper'\n        is_open={contract && active_transaction_id === contract.transaction_ids.buy}\n        message={contract && <PopoverContent contract={contract} />}\n    >\n        <div\n            className='transactions__item'\n            onClick={contract && (() => setActiveTransactionId(contract.transaction_ids.buy))}\n        >\n            <div className='transactions__cell transactions__trade-type'>\n                <div className='transactions__loader-container'>\n                    {contract ? (\n                        <TransactionIconWithText\n                            icon={<Icon icon={`IcUnderlying${contract.underlying}`} size={16} />}\n                            title={contract.display_name}\n                        />\n                    ) : (\n                        <TransactionIconLoader />\n                    )}\n                </div>\n                <div className='transactions__loader-container'>\n                    {contract ? (\n                        <TransactionIconWithText\n                            icon={<IconTradeTypes type={contract.contract_type} size={16} />}\n                            title={getContractTypeName(contract)}\n                        />\n                    ) : (\n                        <TransactionIconLoader />\n                    )}\n                </div>\n            </div>\n            <div className='transactions__cell transactions__entry-spot'>\n                <TransactionIconWithText\n                    icon={<Icon icon='IcContractEntrySpot' />}\n                    title={localize('Entry spot')}\n                    message={(contract && contract.entry_tick) || <TransactionFieldLoader />}\n                />\n            </div>\n            <div className='transactions__cell transactions__exit-spot'>\n                <TransactionIconWithText\n                    icon={<Icon icon='IcContractExitSpot' />}\n                    title={localize('Exit spot')}\n                    message={(contract && contract.exit_tick) || <TransactionFieldLoader />}\n                />\n            </div>\n            <div className='transactions__cell transactions__stake'>\n                {contract ? (\n                    <Money amount={contract.buy_price} currency={contract.currency} show_currency />\n                ) : (\n                    <TransactionFieldLoader />\n                )}\n            </div>\n            <div className='transactions__cell transactions__profit'>\n                {contract?.is_completed ? (\n                    <div\n                        className={classNames({\n                            'transactions__profit--win': contract.profit >= 0,\n                            'transactions__profit--loss': contract.profit < 0,\n                        })}\n                    >\n                        <Money amount={Math.abs(contract.profit)} currency={contract.currency} show_currency />\n                    </div>\n                ) : (\n                    <TransactionFieldLoader />\n                )}\n            </div>\n        </div>\n    </Popover>\n);\n\nTransaction.propTypes = {\n    active_transaction_id: PropTypes.number,\n    contract: PropTypes.object,\n    setActiveTransactionId: PropTypes.func,\n};\n\nexport default connect(({ transactions }) => ({\n    active_transaction_id: transactions.active_transaction_id,\n    setActiveTransactionId: transactions.setActiveTransactionId,\n}))(Transaction);\n","import React from 'react';\nimport classnames from 'classnames';\nimport { PropTypes } from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\nimport { DataList, DesktopWrapper, Icon, Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile, useNewRowTransition } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport Download from 'Components/download';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { transaction_elements } from 'Constants/transactions';\nimport { connect } from 'Stores/connect';\nimport Transaction from './transaction.jsx';\n\nconst TransactionItem = ({ row, is_new_row }) => {\n    const { in_prop } = useNewRowTransition(is_new_row);\n\n    switch (row.type) {\n        case transaction_elements.CONTRACT: {\n            const { data: contract } = row;\n            return (\n                <CSSTransition in={in_prop} timeout={500} classNames='list__animation'>\n                    <Transaction contract={contract} />\n                </CSSTransition>\n            );\n        }\n        case transaction_elements.DIVIDER: {\n            return (\n                <div className='transactions__divider'>\n                    <div className='transactions__divider-line' />\n                </div>\n            );\n        }\n        default: {\n            return null;\n        }\n    }\n};\n\nconst Transactions = ({ contract_stage, elements, is_drawer_open, onMount, onUnmount }) => {\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    const is_mobile = isMobile();\n\n    return (\n        <div\n            className={classnames('transactions', {\n                'run-panel-tab__content': !is_mobile,\n                'run-panel-tab__content--mobile': is_mobile && is_drawer_open,\n            })}\n        >\n            <DesktopWrapper>\n                <div className='download__container'>\n                    <Download tab='transactions' />\n                </div>\n            </DesktopWrapper>\n            <div className='transactions__header'>\n                <span className='transactions__header-column transactions__header-type'>{localize('Type')}</span>\n                <span className='transactions__header-column transactions__header-spot'>\n                    {localize('Entry/Exit spot')}\n                </span>\n                <span className='transactions__header-column transactions__header-profit'>\n                    {localize('Buy price and P/L')}\n                </span>\n            </div>\n            <div\n                className={classnames({\n                    transactions__content: !is_mobile,\n                    'transactions__content--mobile': is_mobile,\n                })}\n            >\n                <div className='transactions__scrollbar'>\n                    {elements.length ? (\n                        <DataList\n                            className='transactions'\n                            data_source={elements}\n                            rowRenderer={props => <TransactionItem {...props} />}\n                            keyMapper={row => {\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return row.data.transaction_ids.buy;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return row.data;\n                                    }\n                                    default: {\n                                        return null;\n                                    }\n                                }\n                            }}\n                            getRowSize={({ index }) => {\n                                const row = elements[index];\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return 50;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return 21;\n                                    }\n                                    default: {\n                                        return 0;\n                                    }\n                                }\n                            }}\n                        />\n                    ) : (\n                        <>\n                            {contract_stage >= contract_stages.STARTING ? (\n                                <Transaction contract={null} />\n                            ) : (\n                                <ThemedScrollbars>\n                                    <div className='transactions-empty-box'>\n                                        <div className='transactions-empty'>\n                                            <div className='transactions-empty__icon-box'>\n                                                <Icon\n                                                    icon='IcBox'\n                                                    className='transactions-empty__icon'\n                                                    size={64}\n                                                    color='secondary'\n                                                />\n                                            </div>\n                                            <Text\n                                                as='h4'\n                                                size='xs'\n                                                weight='bold'\n                                                align='center'\n                                                color='less-prominent'\n                                                line_height='xxs'\n                                                className='transactions-empty__header'\n                                            >\n                                                {localize('There are no transactions to display')}\n                                            </Text>\n                                            <div className='transactions-empty__message'>\n                                                <Text size='xxs' color='less-prominent'>\n                                                    {localize('Here are the possible reasons:')}\n                                                </Text>\n                                                <ul className='transactions-empty__list'>\n                                                    <li>{localize('The bot is not running')}</li>\n                                                    <li>{localize('The stats are cleared')}</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </ThemedScrollbars>\n                            )}\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nTransactions.propTypes = {\n    contract_stage: PropTypes.number,\n    elements: PropTypes.array,\n    is_drawer_open: PropTypes.bool,\n    onMount: PropTypes.func,\n    onUnmount: PropTypes.func,\n};\n\nexport default connect(({ transactions, run_panel }) => ({\n    contract_stage: run_panel.contract_stage,\n    elements: transactions.elements,\n    onMount: transactions.onMount,\n    onUnmount: transactions.onUnmount,\n}))(Transactions);\n","import Transactions from './transactions.jsx';\nimport './transactions.scss';\n\nexport default Transactions;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { Button, Drawer, Modal, Money, Tabs, Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport Journal from 'Components/journal';\nimport SelfExclusion from 'Components/self-exclusion';\nimport Summary from 'Components/summary';\nimport TradeAnimation from 'Components/trade-animation';\nimport Transactions from 'Components/transactions';\nimport { popover_zindex } from 'Constants/z-indexes';\nimport { connect } from 'Stores/connect';\n\nconst StatisticsTile = ({ content, contentClassName, title }) => (\n    <div className='run-panel__tile'>\n        <div className='run-panel__tile-title'>{title}</div>\n        <div className={classNames('run-panel__tile-content', contentClassName)}>{content}</div>\n    </div>\n);\n\nconst StatisticsSummary = ({\n    currency,\n    is_mobile,\n    lost_contracts,\n    number_of_runs,\n    total_stake,\n    total_payout,\n    has_started_onboarding_tour,\n    toggleStatisticsInfoModal,\n    total_profit,\n    won_contracts,\n}) => (\n    <div\n        className={classNames('run-panel__stat', {\n            'run-panel__stat--tour-active': has_started_onboarding_tour,\n            'run-panel__stat--mobile': is_mobile,\n        })}\n    >\n        <div className='run-panel__stat--info' onClick={toggleStatisticsInfoModal}>\n            <div className='run-panel__stat--info-item'>\n                <Localize i18n_default_text=\"What's this?\" />\n            </div>\n        </div>\n        <div className='run-panel__stat--tiles'>\n            <StatisticsTile\n                title={localize('Total stake')}\n                alignment='top'\n                content={<Money amount={total_stake} currency={currency} show_currency />}\n            />\n            <StatisticsTile\n                title={localize('Total payout')}\n                alignment='top'\n                content={<Money amount={total_payout} currency={currency} show_currency />}\n            />\n            <StatisticsTile title={localize('No. of runs')} alignment='top' content={number_of_runs} />\n            <StatisticsTile title={localize('Contracts lost')} alignment='bottom' content={lost_contracts} />\n            <StatisticsTile title={localize('Contracts won')} alignment='bottom' content={won_contracts} />\n            <StatisticsTile\n                title={localize('Total profit/loss')}\n                content={<Money amount={total_profit} currency={currency} has_sign show_currency />}\n                alignment='bottom'\n                contentClassName={classNames('run-panel__stat-amount', {\n                    'run-panel__stat-amount--positive': total_profit > 0,\n                    'run-panel__stat-amount--negative': total_profit < 0,\n                })}\n            />\n        </div>\n    </div>\n);\n\nconst DrawerHeader = ({ is_clear_stat_disabled, is_mobile, is_drawer_open, onClearStatClick }) =>\n    is_mobile &&\n    is_drawer_open && (\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__clear-button'\n            is_disabled={is_clear_stat_disabled}\n            text={localize('Reset')}\n            onClick={onClearStatClick}\n            secondary\n        />\n    );\n\nconst DrawerContent = ({ active_index, is_drawer_open, has_started_onboarding_tour, setActiveTabIndex, ...props }) => {\n    return (\n        <>\n            <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top>\n                <div id='db-run-panel-tab__summary' label={localize('Summary')}>\n                    <Summary is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__transactions' label={localize('Transactions')}>\n                    <Transactions is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__journal' label={localize('Journal')}>\n                    <Journal />\n                </div>\n            </Tabs>\n            {is_drawer_open && active_index !== 2 && (\n                <StatisticsSummary has_started_onboarding_tour={has_started_onboarding_tour} {...props} />\n            )}\n        </>\n    );\n};\n\nconst DrawerFooter = ({ is_clear_stat_disabled, onClearStatClick }) => (\n    <div className='run-panel__footer'>\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__footer-button'\n            is_disabled={is_clear_stat_disabled}\n            text={localize('Reset')}\n            onClick={onClearStatClick}\n            has_effect\n            secondary\n        />\n    </div>\n);\n\nconst MobileDrawerFooter = () => {\n    return (\n        <div className='controls__section'>\n            <div className='controls__buttons'>\n                <TradeAnimation className='controls__animation' should_show_overlay info_direction={'right'} />\n            </div>\n        </div>\n    );\n};\n\nconst StatisticsInfoModal = ({ is_mobile, is_statistics_info_modal_open, toggleStatisticsInfoModal }) => {\n    return (\n        <Modal\n            className={classNames('statistics__modal', { 'statistics__modal--mobile': is_mobile })}\n            title={localize(\"What's this?\")}\n            is_open={is_statistics_info_modal_open}\n            toggleModal={toggleStatisticsInfoModal}\n            width={'440px'}\n        >\n            <Modal.Body>\n                <div className={classNames('statistics__modal-body', { 'statistics__modal-body--mobile': is_mobile })}>\n                    <ThemedScrollbars className='statistics__modal-scrollbar'>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content no-margin'>\n                            {localize('Total stake')}\n                        </Text>\n                        <Text as='p'>{localize('Total stake since you last cleared your stats.')}</Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Total payout')}\n                        </Text>\n                        <Text as='p'>{localize('Total payout since you last cleared your stats.')}</Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('No. of runs')}\n                        </Text>\n                        <Text as='p'>\n                            {localize(\n                                'The number of times your bot has run since you last cleared your stats. Each run includes the execution of all the root blocks.'\n                            )}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Contracts lost')}\n                        </Text>\n                        <Text as='p'>\n                            {localize('The number of contracts you have lost since you last cleared your stats.')}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Contracts won')}\n                        </Text>\n                        <Text as='p'>\n                            {localize('The number of contracts you have won since you last cleared your stats.')}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Total profit/loss')}\n                        </Text>\n                        <Text as='p'>\n                            {localize(\n                                'Your total profit/loss since you last cleared your stats. It is the difference between your total payout and your total stake.'\n                            )}\n                        </Text>\n                    </ThemedScrollbars>\n                </div>\n            </Modal.Body>\n        </Modal>\n    );\n};\n\nconst RunPanel = ({\n    active_index,\n    currency,\n    has_started_onboarding_tour,\n    is_clear_stat_disabled,\n    is_drawer_open,\n    is_statistics_info_modal_open,\n    lost_contracts,\n    number_of_runs,\n    onClearStatClick,\n    onMount,\n    onRunButtonClick,\n    onUnmount,\n    setActiveTabIndex,\n    toggleDrawer,\n    toggleStatisticsInfoModal,\n    total_payout,\n    total_profit,\n    total_stake,\n    won_contracts,\n}) => {\n    const is_mobile = isMobile();\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    React.useEffect(() => {\n        if (is_mobile) {\n            toggleDrawer(false);\n        }\n    }, []);\n\n    const content = (\n        <DrawerContent\n            active_index={active_index}\n            currency={currency}\n            is_drawer_open={is_drawer_open}\n            is_mobile={is_mobile}\n            lost_contracts={lost_contracts}\n            number_of_runs={number_of_runs}\n            setActiveTabIndex={setActiveTabIndex}\n            toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            total_payout={total_payout}\n            total_profit={total_profit}\n            total_stake={total_stake}\n            won_contracts={won_contracts}\n            has_started_onboarding_tour={has_started_onboarding_tour}\n        />\n    );\n\n    const footer = <DrawerFooter is_clear_stat_disabled={is_clear_stat_disabled} onClearStatClick={onClearStatClick} />;\n\n    const header = (\n        <DrawerHeader\n            is_clear_stat_disabled={is_clear_stat_disabled}\n            is_mobile={is_mobile}\n            is_drawer_open={is_drawer_open}\n            onClearStatClick={onClearStatClick}\n        />\n    );\n\n    return (\n        <>\n            <div className={is_mobile && is_drawer_open ? 'run-panel__container--mobile' : 'run-panel'}>\n                <Drawer\n                    anchor='right'\n                    className={classNames('run-panel', {\n                        'run-panel__container': !is_mobile,\n                        'run-panel__container--tour-active': !is_mobile && has_started_onboarding_tour,\n                    })}\n                    contentClassName='run-panel__content'\n                    header={header}\n                    footer={!is_mobile && footer}\n                    is_open={is_drawer_open}\n                    toggleDrawer={toggleDrawer}\n                    width={366}\n                    zIndex={popover_zindex.RUN_PANEL}\n                >\n                    {content}\n                </Drawer>\n                {is_mobile && <MobileDrawerFooter />}\n            </div>\n            <SelfExclusion onRunButtonClick={onRunButtonClick} />\n            <StatisticsInfoModal\n                is_mobile={is_mobile}\n                is_statistics_info_modal_open={is_statistics_info_modal_open}\n                toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            />\n        </>\n    );\n};\n\nRunPanel.propTypes = {\n    active_index: PropTypes.number,\n    currency: PropTypes.string,\n    is_clear_stat_disabled: PropTypes.bool,\n    is_drawer_open: PropTypes.bool,\n    is_statistics_info_modal_open: PropTypes.bool,\n    lost_contracts: PropTypes.number,\n    number_of_runs: PropTypes.number,\n    onClearStatClick: PropTypes.func,\n    onMount: PropTypes.func,\n    onRunButtonClick: PropTypes.func,\n    onUnmount: PropTypes.func,\n    setActiveTabIndex: PropTypes.func,\n    toggleDrawer: PropTypes.func,\n    toggleStatisticsInfoModal: PropTypes.func,\n    total_payout: PropTypes.number,\n    total_profit: PropTypes.number,\n    total_stake: PropTypes.number,\n    won_contracts: PropTypes.number,\n};\n\nexport default connect(({ run_panel, core, dashboard }) => ({\n    active_index: run_panel.active_index,\n    currency: core.client.currency,\n    has_started_onboarding_tour: dashboard.has_started_onboarding_tour,\n    is_clear_stat_disabled: run_panel.is_clear_stat_disabled,\n    is_drawer_open: run_panel.is_drawer_open,\n    is_statistics_info_modal_open: run_panel.is_statistics_info_modal_open,\n    lost_contracts: run_panel.statistics.lost_contracts,\n    number_of_runs: run_panel.statistics.number_of_runs,\n    onClearStatClick: run_panel.onClearStatClick,\n    onMount: run_panel.onMount,\n    onRunButtonClick: run_panel.onRunButtonClick,\n    onUnmount: run_panel.onUnmount,\n    setActiveTabIndex: run_panel.setActiveTabIndex,\n    toggleDrawer: run_panel.toggleDrawer,\n    toggleStatisticsInfoModal: run_panel.toggleStatisticsInfoModal,\n    total_payout: run_panel.statistics.total_payout,\n    total_profit: run_panel.statistics.total_profit,\n    total_stake: run_panel.statistics.total_stake,\n    won_contracts: run_panel.statistics.won_contracts,\n}))(RunPanel);\n","import RunPanel from './run-panel.jsx';\nimport './run-panel.scss';\n\nexport default RunPanel;\n","import React from 'react';\nimport TradeAnimation from 'Components/trade-animation';\n\nconst RunStrategy = () => (\n    <div className='toolbar__section'>\n        <TradeAnimation should_show_overlay info_direction='left' />\n    </div>\n);\n\nexport default RunStrategy;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Toast } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\n\ntype TBotNotification = {\n    show_toast: boolean;\n    toast_message: string;\n    setOpenSettings: (toast_message: string, show_toast: boolean) => void;\n};\n\nconst BotNotification = ({ show_toast, toast_message, setOpenSettings }: TBotNotification) => {\n    React.useEffect(() => {\n        setTimeout(() => {\n            setOpenSettings(toast_message, false);\n        }, 3000);\n    }, [show_toast]);\n    const el_portal = document.getElementById('popup_root');\n\n    if (el_portal && show_toast) {\n        return ReactDOM.createPortal(\n            <div className='import-notification'>\n                <div>\n                    <Toast>\n                        {toast_message === 'delete'\n                            ? localize('Youve successfully deleted a bot.')\n                            : localize('Youve successfully imported a bot.')}\n                    </Toast>\n                </div>\n            </div>,\n            el_portal\n        );\n    }\n    return null;\n};\n\nexport default connect(({ dashboard }: RootStore) => ({\n    show_toast: dashboard.show_toast,\n    toast_message: dashboard.toast_message,\n    setOpenSettings: dashboard.setOpenSettings,\n}))(BotNotification);\n","import { action, makeObservable, reaction } from 'mobx';\nimport { ApiHelpers, DBot, runIrreversibleEvents } from '@deriv/bot-skeleton';\nimport { isEuResidenceWithOnlyVRTC, routes, showDigitalOptionsUnavailableError } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport default class AppStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            onMount: action.bound,\n            onUnmount: action.bound,\n            onBeforeUnload: action.bound,\n            registerReloadOnLanguageChange: action.bound,\n            registerCurrencyReaction: action.bound,\n            registerOnAccountSwitch: action.bound,\n            registerLandingCompanyChangeReaction: action.bound,\n            registerResidenceChangeReaction: action.bound,\n            setDBotEngineStores: action.bound,\n            onClickOutsideBlockly: action.bound,\n            showDigitalOptionsMaltainvestError: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.dbot_store = null;\n        this.api_helpers_store = null;\n    }\n\n    onMount() {\n        const { blockly_store } = this.root_store;\n        const { client, common } = this.core;\n        this.showDigitalOptionsMaltainvestError(client, common);\n\n        blockly_store.setLoading(true);\n        DBot.initWorkspace(__webpack_public_path__, this.dbot_store, this.api_helpers_store).then(() => {\n            blockly_store.setContainerSize();\n            blockly_store.setLoading(false);\n        });\n        this.registerReloadOnLanguageChange(this);\n        this.registerCurrencyReaction.call(this);\n        this.registerOnAccountSwitch.call(this);\n        this.registerLandingCompanyChangeReaction.call(this);\n        this.registerResidenceChangeReaction.call(this);\n\n        window.addEventListener('click', this.onClickOutsideBlockly);\n        window.addEventListener('beforeunload', this.onBeforeUnload);\n\n        blockly_store.getCachedActiveTab();\n    }\n\n    onUnmount() {\n        DBot.terminateBot();\n        DBot.terminateConnection();\n        if (Blockly.derivWorkspace) {\n            clearInterval(Blockly.derivWorkspace.save_workspace_interval);\n            Blockly.derivWorkspace.dispose();\n        }\n        if (typeof this.disposeReloadOnLanguageChangeReaction === 'function') {\n            this.disposeReloadOnLanguageChangeReaction();\n        }\n        if (typeof this.disposeCurrencyReaction === 'function') {\n            this.disposeCurrencyReaction();\n        }\n        if (typeof this.disposeSwitchAccountListener === 'function') {\n            this.disposeSwitchAccountListener();\n        }\n        if (typeof this.disposeLandingCompanyChangeReaction === 'function') {\n            this.disposeLandingCompanyChangeReaction();\n        }\n        if (typeof this.disposeResidenceChangeReaction === 'function') {\n            this.disposeResidenceChangeReaction();\n        }\n\n        window.removeEventListener('click', this.onClickOutsideBlockly);\n        window.removeEventListener('beforeunload', this.onBeforeUnload);\n\n        // Ensure account switch is re-enabled.\n        const { ui } = this.core;\n\n        ui.setAccountSwitcherDisabledMessage(false);\n        ui.setPromptHandler(false);\n    }\n\n    onBeforeUnload = event => {\n        const { is_stop_button_visible } = this.root_store.run_panel;\n\n        if (is_stop_button_visible) {\n            event.returnValue = true;\n        }\n    };\n    registerReloadOnLanguageChange() {\n        this.disposeReloadOnLanguageChangeReaction = reaction(\n            () => this.core.common.current_language,\n            () => {\n                // temporarily added this to refresh just dbot in case of changing language,\n                // otherwise it should change language without refresh.\n                const { pathname } = window.location;\n                const is_bot =\n                    /^\\/bot/.test(pathname) || (/^\\/(br_)/.test(pathname) && pathname.split('/')[2] === 'bot');\n                if (is_bot) window.location.reload();\n            }\n        );\n    }\n    registerCurrencyReaction() {\n        // Syncs all trade options blocks' currency with the client's active currency.\n        this.disposeCurrencyReaction = reaction(\n            () => this.core.client.currency,\n            currency => {\n                if (!Blockly.derivWorkspace) return;\n\n                const trade_options_blocks = Blockly.derivWorkspace\n                    .getAllBlocks()\n                    .filter(\n                        b =>\n                            b.type === 'trade_definition_tradeoptions' ||\n                            b.type === 'trade_definition_multiplier' ||\n                            (b.isDescendantOf('trade_definition_multiplier') && b.category_ === 'trade_parameters')\n                    );\n\n                trade_options_blocks.forEach(trade_options_block => trade_options_block.setCurrency(currency));\n            }\n        );\n    }\n\n    registerOnAccountSwitch() {\n        const { client, common } = this.core;\n\n        this.disposeSwitchAccountListener = reaction(\n            () => client.switch_broadcast,\n            switch_broadcast => {\n                if (!switch_broadcast) return;\n                this.showDigitalOptionsMaltainvestError(client, common);\n\n                const { active_symbols, contracts_for } = ApiHelpers.instance;\n\n                if (Blockly.derivWorkspace) {\n                    active_symbols.retrieveActiveSymbols(true).then(() => {\n                        contracts_for.disposeCache();\n                        Blockly.derivWorkspace\n                            .getAllBlocks()\n                            .filter(block => block.type === 'trade_definition_market')\n                            .forEach(block => {\n                                runIrreversibleEvents(() => {\n                                    const fake_create_event = new Blockly.Events.Create(block);\n                                    Blockly.Events.fire(fake_create_event);\n                                });\n                            });\n                    });\n                }\n            }\n        );\n    }\n\n    registerLandingCompanyChangeReaction() {\n        const { client, common } = this.core;\n\n        this.disposeLandingCompanyChangeReaction = reaction(\n            () => client.landing_company_shortcode,\n            () => {\n                if (\n                    (!client.is_logged_in && client.is_eu_country) ||\n                    (client.is_eu && window.location.pathname === routes.bot) ||\n                    isEuResidenceWithOnlyVRTC(client.active_accounts) ||\n                    client.is_options_blocked\n                ) {\n                    showDigitalOptionsUnavailableError(common.showError, {\n                        text: localize(\n                            'Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a Deriv MT5 Financial.'\n                        ),\n                        title: localize('DBot is not available for this account'),\n                        link: localize('Go to Deriv MT5 dashboard'),\n                    });\n                }\n            }\n        );\n    }\n\n    registerResidenceChangeReaction() {\n        const { client, common } = this.core;\n\n        this.disposeResidenceChangeReaction = reaction(\n            () => client.account_settings.country_code,\n            () => {\n                if (\n                    (!client.is_logged_in && client.is_eu_country) ||\n                    (client.is_eu && window.location.pathname === routes.bot) ||\n                    isEuResidenceWithOnlyVRTC(client.active_accounts) ||\n                    client.is_options_blocked\n                ) {\n                    showDigitalOptionsUnavailableError(common.showError, {\n                        text: localize(\n                            'Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a Deriv MT5 Financial.'\n                        ),\n                        title: localize('DBot is not available for this account'),\n                        link: localize('Go to Deriv MT5 dashboard'),\n                    });\n                }\n            }\n        );\n    }\n\n    setDBotEngineStores() {\n        // DO NOT pass the rootstore in, if you need a prop define it in dbot-skeleton-store ans pass it through.\n        const { flyout, toolbar, save_modal, dashboard, quick_strategy, load_modal, blockly_store, summary_card } =\n            this.root_store;\n        const { client } = this.core;\n        const { handleFileChange } = load_modal;\n        const { loadDataStrategy } = quick_strategy;\n        const { setLoading } = blockly_store;\n        const { setContractUpdateConfig } = summary_card;\n\n        this.dbot_store = {\n            client,\n            flyout,\n            toolbar,\n            save_modal,\n            dashboard,\n            load_modal,\n            setLoading,\n            setContractUpdateConfig,\n            loadDataStrategy,\n            handleFileChange,\n        };\n\n        this.api_helpers_store = {\n            server_time: this.core.common.server_time,\n            ws: this.root_store.ws,\n        };\n    }\n\n    onClickOutsideBlockly = event => {\n        if (document.querySelector('.injectionDiv')) {\n            const path = event.path || (event.composedPath && event.composedPath());\n            const is_click_outside_blockly = !path.some(el => el.classList && el.classList.contains('injectionDiv'));\n\n            if (is_click_outside_blockly) {\n                Blockly?.hideChaff(/* allowToolbox */ false);\n            }\n        }\n    };\n\n    showDigitalOptionsMaltainvestError = (client, common) => {\n        if (\n            (!client.is_logged_in && client.is_eu_country) ||\n            (client.is_eu && window.location.pathname === routes.bot) ||\n            isEuResidenceWithOnlyVRTC(client.active_accounts) ||\n            client.is_options_blocked\n        ) {\n            showDigitalOptionsUnavailableError(common.showError, {\n                text: localize(\n                    'Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a Deriv MT5 Financial.'\n                ),\n                title: localize('DBot is not available for this account'),\n                link: localize('Go to Deriv MT5 dashboard'),\n            });\n        } else if (common.has_error) {\n            common.setError(false, null);\n        }\n    };\n}\n","const getSettingsFromLocal = () => {\n    return JSON.parse(localStorage.getItem('dbot_settings'));\n};\n\nexport const getSetting = key => {\n    const settings = getSettingsFromLocal();\n\n    if (!settings) {\n        return null;\n    }\n\n    return settings[key];\n};\n\nexport const storeSetting = (key, value) => {\n    const settings = getSettingsFromLocal() || {};\n\n    settings[key] = value;\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n\nexport const removeKeyValue = key => {\n    const settings = getSettingsFromLocal() || {};\n    delete settings[key];\n\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n","import { action, makeObservable, observable } from 'mobx';\nimport { onWorkspaceResize } from '@deriv/bot-skeleton';\nimport { tabs_title } from 'Constants/bot-contents';\nimport { getSetting, storeSetting } from 'Utils/settings';\nimport RootStore from './root-store';\n\nexport interface IBlocklyStore {\n    is_loading: boolean;\n    active_tab: string;\n    setActiveTab: (tab: string) => void;\n    setContainerSize: () => void;\n    onMount: () => void;\n    onUnmount: () => void;\n    setLoading: () => void;\n    getCachedActiveTab: () => void;\n}\n\nexport default class BlocklyStore implements IBlocklyStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_loading: observable,\n            active_tab: observable,\n            setActiveTab: action.bound,\n            setContainerSize: action.bound,\n            onMount: action.bound,\n            getCachedActiveTab: action.bound,\n            onUnmount: action.bound,\n            setLoading: action.bound,\n        });\n        this.root_store = root_store;\n    }\n\n    is_loading = false;\n\n    active_tab = tabs_title.WORKSPACE;\n\n    setActiveTab(tab: string): void {\n        this.active_tab = tab;\n        storeSetting('active_tab', this.active_tab);\n    }\n\n    setContainerSize(): void {\n        if (this.active_tab === tabs_title.WORKSPACE) {\n            onWorkspaceResize();\n        }\n    }\n\n    onMount(): void {\n        window.addEventListener('resize', this.setContainerSize);\n    }\n\n    getCachedActiveTab(): void {\n        if (getSetting('active_tab')) {\n            this.active_tab = getSetting('active_tab');\n        }\n    }\n\n    onUnmount(): void {\n        window.removeEventListener('resize', this.setContainerSize);\n    }\n\n    setLoading(is_loading: boolean): void {\n        this.is_loading = is_loading;\n    }\n}\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\n// import { tabs_title } from '../constants/bot-contents';\nimport { ServerTime } from '@deriv/bot-skeleton';\n\nconst g_subscribers_map = {};\nlet WS;\n\nexport default class ChartStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            symbol: observable,\n            is_chart_loading: observable,\n            chart_type: observable,\n            granularity: observable,\n            is_contract_ended: computed,\n            onStartBot: action.bound,\n            onStopBot: action.bound,\n            updateSymbol: action.bound,\n            onSymbolChange: action.bound,\n            updateGranularity: action.bound,\n            updateChartType: action.bound,\n            setChartStatus: action.bound,\n            wsSubscribe: action.bound,\n            wsForget: action.bound,\n            wsForgetStream: action.bound,\n            wsSendRequest: action.bound,\n            getMarketsOrder: action.bound,\n        });\n\n        this.root_store = root_store;\n        WS = root_store.ws;\n        const { run_panel } = root_store;\n\n        reaction(\n            () => run_panel.is_running,\n            () => (run_panel.is_running ? this.onStartBot() : this.onStopBot())\n        );\n    }\n\n    symbol;\n    is_chart_loading;\n    chart_type;\n    granularity;\n\n    get is_contract_ended() {\n        const { transactions } = this.root_store;\n\n        return transactions.contracts.length > 0 && transactions.contracts[0].is_ended;\n    }\n\n    onStartBot() {\n        this.updateSymbol();\n\n        // const { main_content } = this.root_store;\n        // main_content.setActiveTab(tabs_title.CHART);\n    }\n\n    // eslint-disable-next-line\n    onStopBot() {\n        // const { main_content } = this.root_store;\n        // main_content.setActiveTab(tabs_title.WORKSPACE);\n    }\n\n    updateSymbol() {\n        const workspace = Blockly.derivWorkspace;\n        const market_block = workspace.getAllBlocks().find(block => {\n            return block.type === 'trade_definition_market';\n        });\n\n        if (market_block && market_block !== 'na') {\n            const symbol = market_block.getFieldValue('SYMBOL_LIST');\n            this.symbol = symbol;\n        }\n    }\n\n    onSymbolChange(symbol) {\n        this.symbol = symbol;\n    }\n\n    updateGranularity(granularity) {\n        this.granularity = granularity;\n    }\n\n    updateChartType(chart_type) {\n        this.chart_type = chart_type;\n    }\n\n    setChartStatus(status) {\n        this.is_chart_loading = status;\n    }\n\n    // #region WS\n    wsSubscribe = (req, callback) => {\n        if (req.subscribe === 1) {\n            const key = JSON.stringify(req);\n            const subscriber = WS.subscribeTicksHistory(req, callback);\n            g_subscribers_map[key] = subscriber;\n        }\n    };\n\n    wsForget = req => {\n        const key = JSON.stringify(req);\n        if (g_subscribers_map[key]) {\n            g_subscribers_map[key].unsubscribe();\n            delete g_subscribers_map[key];\n        }\n    };\n\n    wsForgetStream = stream_id => {\n        WS.forgetStream(stream_id);\n    };\n\n    wsSendRequest = req => {\n        if (req.time) {\n            return ServerTime.timePromise().then(() => {\n                return {\n                    msg_type: 'time',\n                    time: ServerTime.get().unix(),\n                };\n            });\n        }\n        if (req.active_symbols) {\n            return WS.activeSymbols();\n        }\n        return WS.storage.send(req);\n    };\n\n    getMarketsOrder = active_symbols => {\n        const synthetic_index = 'synthetic_index';\n\n        const has_synthetic_index = !!active_symbols.find(s => s.market === synthetic_index);\n        return active_symbols\n            .slice()\n            .sort((a, b) => (a.display_name < b.display_name ? -1 : 1))\n            .map(s => s.market)\n            .reduce(\n                (arr, market) => {\n                    if (arr.indexOf(market) === -1) arr.push(market);\n                    return arr;\n                },\n                has_synthetic_index ? [synthetic_index] : []\n            );\n    };\n    // #endregion\n}\n","export const tabs_title = Object.freeze({\n    TAB_LOCAL: 'local_tab',\n    TAB_GOOGLE: 'google_tab',\n    TAB_RECENT: 'recent_tab',\n});\n\nexport const clearInjectionDiv = (type, el_ref) => {\n    if (type === 'store') {\n        if (el_ref && el_ref.getElementsByClassName('injectionDiv').length > 1) {\n            el_ref.removeChild(el_ref.getElementsByClassName('injectionDiv')[0]);\n        }\n    } else {\n        el_ref?.current?.removeChild(el_ref?.current?.children[0]);\n    }\n};\n","import React from 'react';\nimport { Loading, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\n\ntype TTourGuide = {\n    content: string[];\n    img?: string;\n    label: string | boolean;\n    onCloseTour: () => void;\n    step_index: number;\n};\n\nconst TourGuide = ({ content, img, label, onCloseTour, step_index }: TTourGuide) => {\n    const [has_image_loaded, setImageLoaded] = React.useState(false);\n\n    React.useEffect(() => {\n        if (img) {\n            const tour_image = new Image();\n            tour_image.onload = () => {\n                setImageLoaded(true);\n            };\n            tour_image.src = img;\n        }\n    }, [step_index]);\n\n    return (\n        <React.Fragment>\n            <div className='onboard'>\n                <div className='onboard__header'>\n                    <Text color='less-prominent' line_height='l'>\n                        {step_index}/6\n                    </Text>\n                    <Text className='onboard__header--close' line_height='l' onClick={onCloseTour}>\n                        {localize('Exit tour')}\n                    </Text>\n                </div>\n                <div className='onboard__label'>\n                    <Text as='h' line_height='l' weight='bold'>\n                        {label}\n                    </Text>\n                </div>\n\n                {img && (\n                    <div className='onboard__container'>\n                        {has_image_loaded ? <img src={img} loading='eager' /> : <Loading />}\n                    </div>\n                )}\n\n                <div className='onboard__content'>\n                    {content.map(content_text => {\n                        return (\n                            <div className='onboard__content__block' key={content_text}>\n                                <Text align='left' as='h' size='xs' line_height='l'>\n                                    {content_text}\n                                </Text>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </React.Fragment>\n    );\n};\nexport default connect(({ dashboard }: RootStore) => ({\n    setOnBoardTourRunState: dashboard.setOnBoardTourRunState,\n    setTourActive: dashboard.setTourActive,\n    onCloseTour: dashboard.onCloseTour,\n}))(TourGuide);\n","import { getImageLocation } from '../../public-path';\nimport React from 'react';\nimport { CallBackProps } from 'react-joyride';\nimport { Icon, Text } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\nimport { getSetting, storeSetting } from '../../utils/settings';\nimport TourGuide from './tour-guide';\n\ntype TJoyrideConfig = Record<\n    'showProgress' | 'spotlightClicks' | 'disableBeacon' | 'disableOverlay' | 'disableCloseOnEsc',\n    boolean\n>;\n\ntype TStep = {\n    label?: string;\n    content: Array<string | React.ReactElement>;\n    type?: 'list' | 'text';\n};\n\ntype TTourStatus = {\n    key: string;\n    toggle: string;\n    type: string;\n};\n\nexport type TTourType = Pick<TTourStatus, 'key'>;\n\nexport const setTourSettings = (param: number | { [key: string]: string }, type: string) => {\n    if (type === `${tour_type.key}_token`) {\n        return storeSetting(`${tour_type.key}_token`, param);\n    }\n    return storeSetting(`${tour_type.key}_status`, param);\n};\n\nexport const getTourSettings = (type: string) => {\n    if (type === 'token') {\n        return getSetting(`${tour_type.key}_token`);\n    }\n    return getSetting(`${tour_type.key}_status`);\n};\n\nexport const Step = ({ label, content }: TStep) => {\n    return (\n        <div className='db-tour'>\n            <Text line_height='xl' as='p' weight='bold'>\n                {label}\n            </Text>\n            {content.map(item => item)}\n        </div>\n    );\n};\n\nexport const tour_type: TTourType = {\n    key: 'onboard_tour',\n};\n\nexport const setTourType = (param: string) => {\n    tour_type.key = param;\n};\n\nexport const tour_status_ended: TTourStatus = {\n    key: '',\n    toggle: '',\n    type: `${tour_type.key}_status`,\n};\n\nlet tour: { [key: string]: string } = {};\nlet current_target: number | undefined;\nexport const handleJoyrideCallback = (data: CallBackProps) => {\n    const { action, index, status } = data;\n    if (status === 'finished') {\n        tour_status_ended.key = status;\n    }\n    if (action === 'close') {\n        tour_status_ended.toggle = action;\n    }\n    if (current_target !== index) {\n        tour = {};\n        tour.status = status;\n        tour.action = action;\n    }\n    current_target = index;\n    setTourSettings(tour, 'tour');\n    //added trigger to create new listner on local storage\n    window.dispatchEvent(new Event('storage'));\n    setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n};\n\nconst joyride_props: TJoyrideConfig = {\n    showProgress: false,\n    spotlightClicks: false,\n    disableBeacon: true,\n    disableOverlay: true,\n    disableCloseOnEsc: true,\n};\n\nexport const DBOT_ONBOARDING = [\n    {\n        target: '#id-bot-builder',\n        content: (\n            <TourGuide\n                label={localize('Build from scratch')}\n                content={[\n                    localize(\n                        'Create your bot easily using our drag-and-drop blocks to match your desired trading strategy, or choose from our pre-made Quick Strategies.'\n                    ),\n                    localize(\n                        'We also provide a tutorial on this tab to show you how you can build and execute a simple strategy.'\n                    ),\n                ]}\n                img={getImageLocation('dbot-onboarding-tour-step-1.gif')}\n                dashboard_tab_index={0}\n                step_index={1}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-charts',\n        content: (\n            <TourGuide\n                label={localize('Monitor the market')}\n                content={[localize('View the market price of your favourite assets.')]}\n                img={getImageLocation('dbot-onboarding-tour-step-2.gif')}\n                dashboard_tab_index={0}\n                step_index={2}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-tutorials',\n        content: (\n            <TourGuide\n                label={localize('Guides and FAQs to help you')}\n                content={[localize('Start with a video guide and the FAQs.')]}\n                img={getImageLocation('dbot-onboarding-tour-step-3.gif')}\n                dashboard_tab_index={0}\n                step_index={3}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#tab__dashboard__table__tiles',\n        content: (\n            <TourGuide\n                label={localize('Shortcuts')}\n                content={[localize('You can also use these shortcuts to import or build your bot.')]}\n                dashboard_tab_index={0}\n                step_index={4}\n            />\n        ),\n        placement: 'right',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '[data-testid=\"drawer\"]',\n        content: (\n            <TourGuide\n                label={localize('How is my bot doing?')}\n                content={[localize(\"See your bot's performance in real-time.\")]}\n                img={getImageLocation('dbot-onboarding-tour-step-5.gif')}\n                dashboard_tab_index={0}\n                step_index={5}\n            />\n        ),\n        placement: 'left',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '.animation__wrapper',\n        content: (\n            <TourGuide\n                label={localize('Run or stop your bot')}\n                content={[localize('Click Run when you want to start trading, and click Stop when you want to stop.')]}\n                img={getImageLocation('dbot-onboarding-tour-step-6.gif')}\n                dashboard_tab_index={0}\n                step_index={6}\n            />\n        ),\n        locale: { last: localize('Next') },\n        ...joyride_props,\n        disableOverlay: false,\n    },\n];\n\nconst Step1 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 1 :' />\n            </div>\n        )}\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text={`First, set the <0>Trade parameters</0> block.`}\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>1. Trade parameters:<0>' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='First, set <0>Market</0> to Derived > Continuous Indices > Volatility 100 (1s) Index.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, set <0>Trade type</0> to Up/Down > Rise/Fall.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Contract type,</0> set it to Both.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Default candle interval,</0> set it to 1 minute'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step1A = () => (\n    <div className='joyride-content'>\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='For <0>Trade options</0>, set it as below:'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Duration</0>: Ticks 1' components={[<strong key={0} />]} />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='<0>Stake: USD</0> 10 (min: 0.35 - max: 50000)'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step2 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 2 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Then, set the <0>Purchase conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>2. Purchase conditions</0>:' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Purchase</0>: Rise' components={[<strong key={0} />]} />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step3 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left joyride-content__left__step-three'>\n                <Localize i18n_default_text='Step 3 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='The third block is <0>optional</0>. You may use this block if you want to sell your contract before it expires. For now, leave the block as it is. '\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nconst Step4 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 4 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Next, go to <0>Utility tab</0> under the Blocks menu. Tap the drop-down arrow and hit <0>Loops</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Look for the <0>Repeat While/Until</0>, and click the + icon to add the block to the workspace area.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Choose <0>until</0> as the repeat option.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n            <div className='joyride-content__left joyride-content__with-icon'>\n                <div className='joyride-content__with-icon__left'>\n                    <Icon icon='IcCheckmarkCircle' className='db-contract-card__result-icon' color='green' />\n                </div>\n                <div className='joyride-content__with-icon__right'>\n                    <Localize\n                        i18n_default_text='Pro tip: You can also click and drag out the desired block'\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n            </div>\n        </div>\n        <div>\n            <img src={getImageLocation('bot-builder-tour-step-4.gif')} alt='step4' />\n        </div>\n    </div>\n);\n\nconst Step5 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 5 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Now, tap the <0>Analysis</0> drop-down arrow and hit <0>Contract</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Go to the <0>Last trade result</0> block and click + icon to add the <0>Result is Win</0> block to the workspace.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, drag the <0>Result is win</0> into the empty slot next to <0>repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Now, go to the <0>Restart trading conditions</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Drag the <0>Trade again</0> block and add it into the <0>do</0> part of the <0>Repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n        <div>\n            <img src={getImageLocation('bot-builder-tour-step-5.gif')} alt='step5' />\n        </div>\n    </div>\n);\n\nconst Step6 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 6 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Finally, drag and add the whole <0>Repeat</0> block to the <0>Restart trading conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nexport const BOT_BUILDER_TOUR = [\n    {\n        target: '.animation__wrapper',\n        content: <Step1 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step1A />,\n        placement: 'bottom',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step2 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step3 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step4 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step5 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step6 show_label />,\n        locale: { last: localize('Next') },\n        ...joyride_props,\n    },\n];\n\nexport type TStepMobile = {\n    header: string;\n    content: React.ReactElement;\n    key: number;\n};\n\nexport const BOT_BUILDER_MOBILE: TStepMobile[] = [\n    {\n        header: localize('Step 1'),\n        content: <Localize i18n_default_text={`First, click the Import icon on the tool bar.`} />,\n        key: 1,\n    },\n    {\n        header: localize('Step 2'),\n        content: (\n            <Localize\n                i18n_default_text={`Next, import your bot directly from your mobile device or from Google Drive.`}\n            />\n        ),\n        key: 2,\n    },\n    {\n        header: localize('Step 3'),\n        content: (\n            <Localize\n                i18n_default_text={`Once imported, you will see a preview of the bot on the workspace. Click run to start trading with this bot.`}\n            />\n        ),\n        key: 3,\n    },\n];\n\nexport const DBOT_ONBOARDING_MOBILE = [\n    {\n        header: localize('Get started on DBot'),\n        content: [\n            <Localize\n                key='get-started=mobile'\n                i18n_default_text='Hi! Hit <0>Start</0> for a quick tour to help you get started.'\n                components={[<strong key={0} />]}\n            />,\n        ],\n        key: 1,\n        step_key: 0,\n    },\n    {\n        header: localize('Build from scratch'),\n        img: getImageLocation('dbot-mobile-onboarding-step-1.gif'),\n        content: [\n            localize(\n                'Import a bot from your mobile device or from Google drive, see a preview in the bot builder, and start trading by running the bot, or choose from our pre-made Quick Strategies. '\n            ),\n        ],\n        key: 2,\n        step_key: 1,\n    },\n    {\n        header: localize('Monitor the market'),\n        img: getImageLocation('dbot-mobile-onboarding-step-2.png'),\n        content: [localize('View the market price of your favourite assets.')],\n        key: 3,\n        step_key: 2,\n    },\n    {\n        header: localize('Guides and FAQs to help you'),\n        img: getImageLocation('dbot-mobile-onboarding-step-3.gif'),\n        content: [localize('Start with a video guide and the FAQs.')],\n        key: 4,\n        step_key: 3,\n    },\n    {\n        header: localize('Shortcuts'),\n        img: getImageLocation('dbot-mobile-onboarding-step-4.png'),\n        content: [localize('You can also use these shortcuts to import or build your bot.')],\n        key: 5,\n        step_key: 4,\n    },\n    {\n        header: localize('How is my bot doing?'),\n        img: getImageLocation('dbot-mobile-onboarding-step-5.gif'),\n        content: [localize(\"See your bot's performance in real-time.\")],\n        key: 6,\n        step_key: 5,\n    },\n    {\n        header: localize('Run or stop your bot'),\n        img: getImageLocation('dbot-mobile-onboarding-step-6.gif'),\n        content: [localize('Click Run when you want to start trading, and click Stop when you want to stop.')],\n        key: 7,\n        step_key: 6,\n    },\n];\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { blocksCoordinate, setColors } from '@deriv/bot-skeleton';\nimport { isMobile } from '@deriv/shared';\nimport { clearInjectionDiv } from 'Constants/load-modal';\nimport { setTourSettings, tour_type, TTourType } from '../components/dashboard/joyride-config';\nimport RootStore from './root-store';\n\nexport interface IDashboardStore {\n    active_tab: number;\n    dialog_options: { [key: string]: string };\n    faq_search_value: string | null;\n    has_builder_token: string | number;\n    has_mobile_preview_loaded: boolean;\n    has_onboarding_token: string | number;\n    has_started_bot_builder_tour: boolean;\n    has_started_onboarding_tour: boolean;\n    has_tour_ended: boolean;\n    initInfoPanel: () => void;\n    is_dialog_open: boolean;\n    is_file_supported: boolean;\n    is_info_panel_visible: boolean;\n    is_preview_on_popup: boolean;\n    onCloseDialog: () => void;\n    onCloseTour: (param: Partial<string>) => void;\n    onTourEnd: (step: number, has_started_onboarding_tour: boolean) => void;\n    setActiveTab: (active_tab: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n    setFAQSearchValue: (faq_search_value: string) => void;\n    setHasTourEnded: (has_tour_ended: boolean) => void;\n    setInfoPanelVisibility: (visibility: boolean) => void;\n    setIsFileSupported: (is_file_supported: boolean) => void;\n    setOnBoardTourRunState: (has_started_onboarding_tour: boolean) => void;\n    setOpenSettings: (toast_message: string, show_toast: boolean) => void;\n    setPreviewOnDialog: (has_mobile_preview_loaded: boolean) => void;\n    show_toast: boolean;\n    showVideoDialog: (param: { [key: string]: string }) => void;\n    strategy_save_type: string;\n    toast_message: string;\n}\n\nexport default class DashboardStore implements IDashboardStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            active_tab_tutorials: observable,\n            active_tab: observable,\n            dialog_options: observable,\n            faq_search_value: observable,\n            getFileArray: observable,\n            has_builder_token: observable,\n            has_file_loaded: observable,\n            has_mobile_preview_loaded: observable,\n            has_onboarding_token: observable,\n            has_started_bot_builder_tour: observable,\n            has_started_onboarding_tour: observable,\n            has_tour_ended: observable,\n            has_tour_started: observable,\n            initInfoPanel: action.bound,\n            is_dialog_open: observable,\n            is_file_supported: observable,\n            is_info_panel_visible: observable,\n            is_preview_on_popup: observable,\n            is_tour_dialog_visible: observable,\n            is_dark_mode: computed,\n            onCloseDialog: action.bound,\n            onCloseTour: action.bound,\n            onTourEnd: action.bound,\n            setActiveTab: action.bound,\n            setActiveTabTutorial: action.bound,\n            setBotBuilderTokenCheck: action.bound,\n            setBotBuilderTourState: action.bound,\n            setFAQSearchValue: action.bound,\n            setFileLoaded: action.bound,\n            setHasTourEnded: action.bound,\n            setInfoPanelVisibility: action.bound,\n            setIsFileSupported: action.bound,\n            setOnBoardingTokenCheck: action.bound,\n            setOnBoardTourRunState: action.bound,\n            setPreviewOnDialog: action.bound,\n            setPreviewOnPopup: action.bound,\n            setTourActive: action.bound,\n            setTourDialogVisibility: action.bound,\n            setOpenSettings: action.bound,\n            show_toast: observable,\n            showVideoDialog: action.bound,\n            strategy_save_type: observable,\n            toggleOnConfirm: action.bound,\n            toast_message: observable,\n            setStrategySaveType: action.bound,\n        });\n        this.root_store = root_store;\n        const {\n            load_modal: { previewRecentStrategy, current_workspace_id },\n        } = this.root_store;\n\n        const refreshBotBuilderTheme = () => {\n            Blockly.derivWorkspace.asyncClear();\n            Blockly.Xml.domToWorkspace(\n                Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                Blockly.derivWorkspace\n            );\n        };\n\n        reaction(\n            () => this.is_dark_mode,\n            () => {\n                setColors(this.is_dark_mode);\n                if (this.active_tab === 1) {\n                    refreshBotBuilderTheme();\n                } else {\n                    refreshBotBuilderTheme();\n                    previewRecentStrategy(current_workspace_id);\n                }\n            }\n        );\n        reaction(\n            () => this.is_preview_on_popup,\n            async is_preview_on_popup => {\n                if (is_preview_on_popup) {\n                    this.setPreviewOnPopup(false);\n                }\n            }\n        );\n        this.initInfoPanel();\n    }\n\n    active_tab = 0;\n    active_tab_tutorials = 0;\n    active_tour_step_number = 0;\n    dialog_options = {};\n    faq_search_value = null || '';\n    getFileArray = [];\n    has_builder_token = '';\n    has_file_loaded = false;\n    has_mobile_preview_loaded = false;\n    has_onboarding_token = '';\n    has_started_bot_builder_tour = false;\n    has_started_onboarding_tour = false;\n    has_tour_ended = false;\n    has_tour_started = false;\n    is_dialog_open = false;\n    is_file_supported = false;\n    is_info_panel_visible = false;\n    is_preview_on_popup = false;\n    is_tour_dialog_visible = false;\n    show_toast = false;\n    strategy_save_type = 'unsaved';\n    toast_message = '';\n\n    get is_dark_mode() {\n        const {\n            app: {\n                core: {\n                    ui: { is_dark_mode_on },\n                },\n            },\n        } = this.root_store;\n        return is_dark_mode_on;\n    }\n\n    setOpenSettings = (toast_message: string, show_toast = true) => {\n        this.toast_message = toast_message;\n        this.show_toast = show_toast;\n    };\n\n    setIsFileSupported = (is_file_supported: boolean) => {\n        this.is_file_supported = is_file_supported;\n    };\n\n    initInfoPanel() {\n        if (!localStorage.getItem('dbot_should_show_info')) this.is_info_panel_visible = true;\n    }\n\n    setTourActiveStep = (active_tour_step_number: number) => {\n        this.active_tour_step_number = active_tour_step_number;\n    };\n\n    setPreviewOnDialog = (has_mobile_preview_loaded: boolean) => {\n        this.has_mobile_preview_loaded = has_mobile_preview_loaded;\n        const {\n            load_modal: { onLoadModalClose },\n        } = this.root_store;\n        onLoadModalClose();\n    };\n\n    setStrategySaveType = (strategy_save_type: string) => {\n        this.strategy_save_type = strategy_save_type;\n    };\n\n    setHasTourEnded = (has_tour_ended: boolean): void => {\n        this.has_tour_ended = has_tour_ended;\n    };\n\n    setBotBuilderTokenCheck = (has_builder_token: string | number): void => {\n        this.has_builder_token = has_builder_token;\n    };\n\n    setOnBoardingTokenCheck = (has_onboarding_token: string | number): void => {\n        this.has_onboarding_token = has_onboarding_token;\n    };\n\n    setBotBuilderTourState = (has_started_bot_builder_tour: boolean): void => {\n        this.has_started_bot_builder_tour = has_started_bot_builder_tour;\n    };\n\n    setPreviewOnPopup = (is_preview_on_popup: boolean): void => {\n        this.is_preview_on_popup = is_preview_on_popup;\n    };\n\n    setOnBoardTourRunState = (has_started_onboarding_tour: boolean): void => {\n        this.has_started_onboarding_tour = has_started_onboarding_tour;\n    };\n\n    setTourDialogVisibility = (is_tour_dialog_visible: boolean): void => {\n        this.is_tour_dialog_visible = is_tour_dialog_visible;\n    };\n\n    setTourActive = (has_tour_started: boolean): void => {\n        this.has_tour_started = has_tour_started;\n    };\n\n    setFileLoaded = (has_file_loaded: boolean): void => {\n        this.has_file_loaded = has_file_loaded;\n        clearInjectionDiv('store', document.getElementById('load-strategy__blockly-container'));\n    };\n\n    onCloseDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    setActiveTab = (active_tab: number): void => {\n        this.active_tab = active_tab;\n        if (this.has_started_bot_builder_tour) {\n            this.setTourActive(false);\n            this.setBotBuilderTourState(false);\n        }\n        if (this.active_tab === 1) {\n            blocksCoordinate();\n        }\n    };\n\n    setActiveTabTutorial = (active_tab_tutorials: number): void => {\n        this.active_tab_tutorials = active_tab_tutorials;\n    };\n\n    setFAQSearchValue = (faq_search_value: string): void => {\n        this.faq_search_value = faq_search_value;\n    };\n\n    showVideoDialog = (param: { [key: string]: string }): void => {\n        const { url, type } = param;\n        const dialog_type = ['google', 'url'];\n        if (dialog_type.includes(type)) {\n            if (type === 'url') {\n                this.dialog_options = {\n                    url,\n                };\n            }\n            this.is_dialog_open = true;\n        } else {\n            this.is_dialog_open = false;\n        }\n    };\n\n    setInfoPanelVisibility = (is_info_panel_visible: boolean): void => {\n        this.is_info_panel_visible = is_info_panel_visible;\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = Blockly.mainWorkspace;\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    toggleOnConfirm = (active_tab: number, value: boolean): void => {\n        if (active_tab === 0) {\n            this.setTourActive(value);\n            this.setOnBoardTourRunState(value);\n        } else {\n            this.setBotBuilderTourState(value);\n        }\n        this.setHasTourEnded(value);\n    };\n\n    onCloseTour = (): void => {\n        this.setOnBoardTourRunState(false);\n        this.setBotBuilderTourState(false);\n        setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        this.setTourActive(false);\n    };\n    setTourEnd = (param: TTourType): void => {\n        const { key } = param;\n        this.setHasTourEnded(true);\n        if (!isMobile()) this.setTourDialogVisibility(true);\n        this.setTourActive(false);\n        setTourSettings(new Date().getTime(), `${key}_token`);\n    };\n\n    onTourEnd = (step: number, has_started_onboarding_tour: boolean): void => {\n        if (step === 7) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n            this.setTourDialogVisibility(true);\n        }\n        if (!has_started_onboarding_tour && step === 3) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n        }\n    };\n}\n","import crc32 from 'crc-32/crc32';\nimport { action, makeObservable, observable, reaction } from 'mobx';\nimport { DBot } from '@deriv/bot-skeleton';\nimport { cloneObject, isProduction } from '@deriv/shared';\n\nexport default class DataCollectionStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            IS_PENDING: observable,\n            IS_PROCESSED: observable,\n            endpoint: observable,\n            run_id: observable,\n            run_start: observable,\n            should_post_xml: observable,\n            strategy_content: observable,\n            transaction_ids: observable,\n            trackRun: action.bound,\n            trackTransaction: action.bound,\n            setRunId: action.bound,\n            setRunStart: action.bound,\n            setStrategyContent: action.bound,\n            cleanXmlDom: action.bound,\n            getHash: action.bound,\n        });\n        this.root_store = root_store;\n        this.core = core;\n        if (isProduction() || /(.*?)\\.binary.sx$/.test(window.location.hostname)) {\n            this.root_store = root_store;\n\n            reaction(\n                () => this.root_store.run_panel.is_running,\n                () => (this.root_store.run_panel.is_running ? this.trackRun() : undefined)\n            );\n            reaction(\n                () => this.root_store.transactions.transactions,\n                transactions => {\n                    if (this.run_id) this.trackTransaction(transactions);\n                }\n            );\n        }\n    }\n\n    // Constants\n    IS_PENDING = false;\n    IS_PROCESSED = true;\n\n    endpoint = 'https://dbot-conf-dot-business-intelligence-240201.df.r.appspot.com/dbotconf';\n    run_id = '';\n    run_start = 0;\n    should_post_xml = true;\n    strategy_content = '';\n    transaction_ids = {};\n\n    async trackRun() {\n        const xml_dom = this.cleanXmlDom(Blockly.Xml.workspaceToDom(DBot.workspace, /* opt_noId */ true));\n        const xml_string = Blockly.Xml.domToText(xml_dom);\n        const xml_hash = this.getHash(xml_string);\n\n        if (this.getHash(this.strategy_content) !== xml_hash) {\n            this.should_post_xml = true;\n            this.setStrategyContent(xml_string);\n        }\n\n        this.setRunId(this.getHash(xml_hash + this.core.client.loginid + Math.random()));\n        this.setRunStart(this.core.common.server_time.unix());\n    }\n\n    async trackTransaction(contracts) {\n        const pako = await import(/* webpackChunkName: \"dbot-collection\" */ 'pako');\n        const contract = contracts[0]; // Most recent contract.\n\n        if (!contract) {\n            return;\n        }\n\n        const { buy: transaction_id } = contract.data.transaction_ids;\n        const is_known_transaction = Object.keys(this.transaction_ids).includes(transaction_id.toString());\n\n        if (!is_known_transaction) {\n            this.transaction_ids[transaction_id] = this.IS_PENDING;\n\n            const getPayload = () => {\n                const content = pako.gzip(this.strategy_content);\n                return {\n                    body: content,\n                    headers: {\n                        'Content-Encoding': 'gzip',\n                        'Content-Type': 'application/xml',\n                        Referer: window.location.hostname,\n                    },\n                };\n            };\n\n            fetch(\n                `${this.endpoint}/${this.run_id}/${transaction_id}/${this.run_start}/${this.getHash(\n                    this.strategy_content\n                )}`,\n                {\n                    ...(this.should_post_xml ? getPayload() : {}),\n                    method: 'POST',\n                    mode: 'cors',\n                }\n            )\n                .then(() => {\n                    this.should_post_xml = false;\n                    this.transaction_ids[transaction_id] = this.IS_PROCESSED;\n                })\n                .catch(() => {\n                    delete this.transaction_ids[transaction_id];\n                });\n        }\n    }\n\n    setRunId(run_id) {\n        this.run_id = run_id;\n    }\n\n    setRunStart(timestamp) {\n        this.run_start = timestamp;\n    }\n\n    setStrategyContent(strategy_content) {\n        this.strategy_content = strategy_content;\n    }\n\n    cleanXmlDom = xml_dom => {\n        const useless_attributes = ['x', 'y', 'id'];\n        const updated_dom = cloneObject(xml_dom);\n        const removeAttributesRecursively = element => {\n            useless_attributes.forEach(useless_attribute => element.removeAttribute(useless_attribute));\n            Array.from(element.children).forEach(child => removeAttributesRecursively(child));\n        };\n\n        removeAttributesRecursively(updated_dom);\n        return updated_dom;\n    };\n\n    getHash = string => btoa(crc32.str(string));\n}\n","import { action, makeObservable } from 'mobx';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\n\nexport default class DownloadStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            onClickDownloadTransaction: action.bound,\n            onClickDownloadJournal: action.bound,\n            getSuccessJournalMessage: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    getSuccessJournalMessage = (message, extra) => {\n        const { profit, sold_for, longcode, transaction_id } = extra;\n        switch (message) {\n            case log_types.LOAD_BLOCK: {\n                return localize('Blocks are loaded successfully');\n            }\n            case log_types.NOT_OFFERED: {\n                return localize('Resale of this contract is not offered.');\n            }\n            case log_types.PURCHASE: {\n                return localize('Bought: {{longcode}} (ID: {{transaction_id}})', { longcode, transaction_id });\n            }\n            case log_types.SELL: {\n                return localize('Sold for: {{sold_for}}', { sold_for });\n            }\n            case log_types.PROFIT: {\n                return localize('Profit amount: {{profit}}', { profit });\n            }\n            case log_types.LOST: {\n                return localize('Loss amount: {{profit}}', { profit });\n            }\n            case log_types.WELCOME_BACK: {\n                return localize('Welcome back! Your messages have been restored.');\n            }\n            default:\n                return null;\n        }\n    };\n\n    onClickDownloadTransaction = () => {\n        // Transaction Array\n        const transaction_csv_titles = [\n            [\n                localize('Market'),\n                localize('Reference ID (buy)'),\n                localize('Reference ID (sell)'),\n                localize('Barrier'),\n                localize('Start Time'),\n                localize('Entry Spot'),\n                localize('Entry Spot Time'),\n                localize('Exit Spot'),\n                localize('Exit Spot Time'),\n                localize('Buy Price'),\n                localize('Profit/Loss'),\n            ],\n        ];\n        this.root_store.transactions.transactions.forEach(item =>\n            transaction_csv_titles.push([\n                item.data.display_name,\n                item.data.transaction_ids.buy,\n                item.data.transaction_ids.sell,\n                item.data.barrier,\n                item.data.date_start,\n                item.data.entry_tick,\n                item.data.entry_tick_time,\n                item.data.exit_tick,\n                item.data.exit_tick_time,\n                item.data.buy_price,\n                item.data.profit,\n            ])\n        );\n\n        // Push Transaction array to CSV\n        const transaction_csv_content = `data:text/csv;charset=utf-8, ${transaction_csv_titles\n            .map(e => e.join(','))\n            .join('\\n')}`;\n        const transaction_encoded_uri = encodeURI(transaction_csv_content);\n        const transaction_link = document.createElement('a');\n        transaction_link.setAttribute('href', transaction_encoded_uri);\n        transaction_link.setAttribute('download', localize('Transactions.csv'));\n        document.body.appendChild(transaction_link);\n\n        transaction_link.click();\n\n        transaction_link.parentNode.removeChild(transaction_link);\n    };\n\n    onClickDownloadJournal = () => {\n        // Journal Array\n        const journal_csv_titles = [[localize('Date'), localize('Time'), localize('Message')]];\n\n        const journal_messages = this.root_store.journal.filtered_messages;\n\n        journal_messages.map(item => {\n            let array_message;\n            if (item.message_type !== 'success') {\n                array_message = JSON.stringify(item.message);\n            } else {\n                array_message = this.getSuccessJournalMessage(item.message.toString(), item.extra);\n            }\n            const arr = [item.date, item.time, array_message.replace('&#x2F;', '/')];\n            journal_csv_titles.push(arr);\n        });\n\n        // Push Journal array to CSV\n        const journal_csv_content = `data:text/csv;charset=utf-8, ${journal_csv_titles\n            .map(e => e.join(','))\n            .join('\\n')}`;\n        const journal_encoded_uri = encodeURI(journal_csv_content);\n        const journal_link = document.createElement('a');\n        journal_link.setAttribute('href', journal_encoded_uri);\n        journal_link.setAttribute('download', localize('Journal.csv'));\n        document.body.appendChild(journal_link);\n\n        journal_link.click();\n\n        journal_link.parentNode.removeChild(journal_link);\n    };\n}\n","export const help_content_types = {\n    TEXT: 'text',\n    VIDEO: 'video',\n    IMAGE: 'image',\n    BLOCK: 'block',\n    EXAMPLE: 'example',\n};\n\nconst { TEXT, IMAGE, BLOCK, EXAMPLE } = help_content_types;\n\nexport const help_content_config = public_path => {\n    __webpack_public_path__ = public_path; // eslint-disable-line no-global-assign\n    return {\n        //= ================= Functions ==================\n        procedures_ifreturn: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'if-return' },\n        ],\n        //= ================= Math ==================\n        math_arithmetic: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_single: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_constrain: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'constrain' },\n        ],\n        // math_number: [\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/Bb0HnaYNUx4' },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/mi18spqE7R4?controls=0' },\n        //     { type: BLOCK },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        // ],\n        //= ================= Text ==================\n        text_print: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        text_prompt_ext: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        //= ================= Tick analysis ==================\n        tick_analysis: [{ type: TEXT }, { type: BLOCK }],\n        read_details: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        last_digit: [{ type: TEXT }, { type: BLOCK }],\n        read_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'in_candle_list_read' },\n        ],\n        read_ohlc_obj: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'read_candle_value' },\n        ],\n        check_direction: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        get_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'get_candle' },\n            { type: TEXT },\n        ],\n        ohlc: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list_1' }],\n        ohlc_values: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list' }],\n        is_candle_black: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/is_candle_black.jpeg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/is_candle_black_1.jpeg` },\n            { type: TEXT },\n        ],\n        ohlc_values_in_list: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'candle_list_1' },\n        ],\n        //= ================= Variables ==================\n        variables_gets: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        variables_set: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/create_variable.jpg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/set_variable.png` },\n        ],\n        // =============== Time blocks ============\n        epoch: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'epoch' },\n        ],\n        todatetime: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'todatetime' },\n            { type: TEXT },\n        ],\n        totimestamp: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'totimestamp' },\n            { type: TEXT },\n        ],\n        // =============== Notifications blocks ============\n        notify_telegram: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'notify_telegram' },\n        ],\n        // =============== Misc blocks ============\n        console: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        balance: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        // =============== Indicators blocks ============\n        sma_statement: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: IMAGE, width: '60%', url: `${__webpack_public_path__}media/sma_formula.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_chart_1.png` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_chart_2.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example_1' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_array' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_array_explanation.jpeg` },\n        ],\n        // =============== Root blocks ============\n        trade_definition: [\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: BLOCK },\n        ],\n        trade_definition_tradeoptions: [{ type: TEXT }, { type: BLOCK }],\n        trade_definition_multiplier: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        before_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        during_purchase: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        sell_at_market: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        after_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        trade_again: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'trade_again' }],\n        // =============== Contract ============\n        contract_check_result: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'check_result' },\n        ],\n        sell_price: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'sell_pl' }],\n        // =============== Logic ============\n        controls_if: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_if' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'compare_logic' },\n            { type: EXAMPLE, example_id: 'compare_logic_1' },\n        ],\n        logic_operation: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '40%', url: `${__webpack_public_path__}media/logic.png` },\n        ],\n        // =============== Loops ============\n        controls_whileUntil: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_while' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_until' },\n        ],\n        controls_for: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_for' },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_forEach: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_forEach' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_flow_statements: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'break_out' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'continue' },\n        ],\n    };\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is mandatory. Here is where you can decide if your bot should continue trading. Only one copy of this block is allowed.'\n        ),\n        localize(\n            'This block is commonly used to adjust the parameters of your next trade and to implement stop loss/take profit logic.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block returns current account balance.'),\n        localize(\n            'The only input parameter determines how block output is going to be formatted. In case if the input parameter is \"string\" then the account currency will be added.'\n        ),\n        localize('Example output of the below example will be:'),\n        localize('1. for \"string\": 1325.68 USD'),\n        localize('2. for \"number\": 1325.68'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is mandatory. Only one copy of this block is allowed. It is added to the canvas by default when you open DBot.'\n        ),\n        localize(\n            'After defining trade parameters and trade options, you may want to instruct your bot to purchase contracts when specific conditions are met. To do that you can use conditional blocks and indicators blocks to help your bot to make decisions.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of \"True\" or \"False\".'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. If the selected direction is \"Rise\", and the previous tick value is less than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n        localize(\n            '2. If the selected direction is \"Fall\", and the previous tick value is more than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays messages in the developers console with an input that can be either a string of text, a number, boolean, or an array of data.'\n        ),\n        localize('There are 4 message types:'),\n        localize(\"1. 'Log' displays a regular message.\"),\n        localize(\"2. 'Warn' displays a message in yellow to highlight something that needs attention.\"),\n        localize(\"3. 'Error' displays a message in red to highlight something that needs to be resolved immediately.\"),\n        localize(\"4. 'Table' takes an array of data, such as a list of candles, and displays it in a table format.\"),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'You can check the result of the last trade with this block. It can only be placed within the \"Restart trading conditions\" root block.'\n        ),\n        localize(\n            'If \"Win\" is selected, it will return \"True\" if your last trade was successful. Otherwise, it will return an empty string.'\n        ),\n        localize(\n            'If \"Loss\" is selected, it will return \"True\" if your last trade was unsuccessful. Otherwise, it will return an empty string.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. In the below example the loop is terminated in case \"x\" is \"False\" even though only one iteration is complete'\n        ),\n        localize(\n            '2. In the below example the loop jumps to the next iteration without executing below block in case if \"x\" is \"False\"'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            '\"i\" starts with the value of 1, and it will be increased by 2 at every iteration. The loop will repeat until \"i\" reaches the value of 12, and then the loop is terminated.'\n        ),\n        localize('You can use \"i\" inside the loop, for example to access list items'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            'In this example, the loop will repeat three times, as that is the number of items in the given list. During each iteration, the variable \"i\" will be assigned a value from the list. '\n        ),\n        localize('Please note that changing the value of \"i\" won\\'t change the value of the original item in the list'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block evaluates a statement and will perform an action only when the statement is true.'),\n        localize('Click the plus icon to extend the functionality of this block.'),\n        localize('You can also use \"Compare\" and \"Logic operation\" blocks to make test variables.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block repeats instructions as long as a given condition is true.'),\n        localize('Examples:'),\n        localize(\n            '1. In the example below, the instructions are repeated as long as the value of x is less than or equal to 10. Once the value of x exceeds 10, the loop is terminated.'\n        ),\n        localize(\n            '2. In this example, the instructions are repeated as long as the value of x is greater than or equal to 10. Once the value of x drops below 10, the loop is terminated.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('\"Seconds Since Epoch\" block returns the number of seconds since January 1st, 1970.'),\n        localize('Example:'),\n        localize('1551661986 seconds since Jan 01 1970 (UTC) translates to 03/04/2019 @ 1:13am (UTC).'),\n        localize('You might need it when you want to repeat an actions after certain amount of time.'),\n        localize('The example below restarts trading after 30 or more seconds after 1 minute candle was started.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you a specific candle from within the selected time interval.'),\n        localize('In this example, the open price of a candle is assigned to the variable \"candle_open_price\".'),\n        localize(\n            'In the above example it is assumed that variable candle_open_price is processed somewhere within other blocks.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block returns \"True\" if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n        ),\n        localize(\n            'The term \"candle\" refers to each bar on the candlestick chart. Each candle represents four market prices for the selected time interval:'\n        ),\n        localize('Each candlestick on the chart represents 4 market prices for the selected time interval:'),\n        localize('- Open price: the opening price'),\n        localize('- High price: the highest price'),\n        localize('- Low price: the lowest price'),\n        localize('- Close price: the closing price'),\n        localize(\n            'A black (or red) candle indicates that the open price is higher than the close price. This represents a downward movement of the market price.'\n        ),\n        localize(\n            'A white (or green) candle indicates that the open price is lower than the close price. This represents an upward movement of the market price.'\n        ),\n        localize('The time interval for each candle can be set from one minute to one day.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the last digit of the latest tick value of the selected market. If the latest tick value is 1410.90, this block will return 0. Its useful for digit-based contracts such as Even/Odd, Matches/Differs, or Higher/Lower.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs the \"AND\" or the \"OR\" logic operation with the given values.'),\n        localize(\n            'In case if the \"AND\" operation is selected, the block returns \"True\" only if both given values are \"True\"'\n        ),\n        localize(\n            'In case if the \"OR\" operation is selected, the block returns \"True\" in case if one or both given values are \"True\"'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs arithmetic operations between two numbers.'),\n        localize('Available operations:'),\n        localize('- Addition'),\n        localize('- Subtraction'),\n        localize('- Multiplication'),\n        localize('- Division'),\n        localize('- Raise the first number to the power of the second number'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block constrains a given number within a set range.'),\n        localize(\n            'In case if the given number is less than the lower boundary of the range, the block returns the lower boundary value. Similarly, if the given number is greater than the higher boundary, the block will return the higher boundary value. In case if the given value is between boundaries, the block will return the given value unchanged.'\n        ),\n        localize(\n            'In the below example the block returns the value of 10 as the given value (5) is less than the lower boundary (10)'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs the following operations to a given number'),\n        localize('Available operations are:'),\n        localize('- Square root'),\n        localize('- Absolute'),\n        localize('- Negation'),\n        localize('- Natural log'),\n        localize('- Eulers number (2.71) to the power of a given number'),\n        localize('- 10 to the power of a given number'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block sends a message to a Telegram channel. You will need to create your own Telegram bot to use this block.'\n        ),\n        localize('Heres how:'),\n        localize(\n            '1. Create a Telegram bot and get your Telegram API token. Read more on how to create bots in Telegram here: https://core.telegram.org/bots#6-botfather'\n        ),\n        localize(\n            '2. Start a chat with your newly created Telegram bot and make sure to send it some messages before proceeding to the next step. (e.g. Hello Bot!)'\n        ),\n        localize(\n            '3. Get the chat ID using the Telegram REST API (read more: https://core.telegram.org/bots/api#getupdates)'\n        ),\n        localize(\n            '- Visit the following URL, make sure to replace <access_token> with the Telegram API token you created in Step 1: https://api.telegram.org/bot<access_token>/getUpdates'\n        ),\n        localize('- Find the chat ID property in the response, and copy the value of the id property'),\n        localize(\n            '4. Come back to DBot and add the Notify Telegram block to the workspace. Paste the Telegram API token and chat ID into the block fields accordingly.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you a list of candles within a selected time interval.'),\n        localize(\n            'In this example, this block is used with another block to get the open prices from a list of candles. The open prices are then assigned to the variable called \"cl\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value from a list of candles within the selected time interval. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize(\n            'In this example, the open prices from a list of candles are assigned to a variable called \"candle_list\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value from a list of candles. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize('This block requires a list of candles as an input parameter.'),\n        localize('In this example, the open prices from a list of candles are assigned to a variable called \"cl\".'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('Used within a function block, this block returns a value when a specific condition is true.'),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you information about your last contract.'),\n        localize('You can choose to see one of the following:'),\n        localize('- Deal reference ID: the reference ID of the contract'),\n        localize('- Purchase price: the purchase price (stake) of the contract'),\n        localize('- Payout: the payout of the contract'),\n        localize('- Profit: the profit youve earned'),\n        localize('- Contract type: the name of the contract type such as Rise, Fall, Touch, No Touch, et.'),\n        localize('- Entry time: the starting time of the contract'),\n        localize('- Entry value: the value of the first tick of the contract'),\n        localize('- Exit time: the contract expiration time'),\n        localize('- Exit value: the value of the last tick of the contract'),\n        localize(\n            '- Barrier: the barrier value of the contract (applicable to barrier-based trade types such as stays in/out, touch/no touch, etc.)'\n        ),\n        localize('- Result: the result of the last contract: \"win\" or \"loss\"'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the specified candle value for a selected time interval. You can choose which value you want:'\n        ),\n        localize('- Open: the opening price'),\n        localize('- High: the highest price'),\n        localize('- Low: the lowest price'),\n        localize('- Close: the closing price'),\n        localize('- Open time: the opening time stamp'),\n        localize(\n            'In the example below, the opening price is selected, which is then assigned to a variable called \"op\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value such as open price, close price, high price, low price, and open time. It requires a candle as an input parameter.'\n        ),\n        localize('In the example below, the open price is assigned to the variable \"op\".'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Use this block to sell your contract at the market price. Selling your contract is optional. You may choose to sell if the market trend is unfavourable.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the potential profit or loss if you decide to sell your contract. It can only be used within the \"Sell conditions\" root block.'\n        ),\n        localize(\n            'In the example below, the contract will only be sold if the potential profit or loss is more than the stake.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'SMA adds the market price in a list of ticks or candles for a number of time periods, and divides the sum by that number of time periods.'\n        ),\n        localize('The formula for SMA is:'),\n        localize('where n is the number of periods.'),\n        '',\n        localize('What SMA tells you'),\n        localize(\n            'SMA serves as an indicator of the trend. If the SMA points up then the market price is increasing and vice versa. The larger the period number, the smoother SMA line is.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 10 days.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 50 days.'\n        ),\n        '',\n        localize('How to use the SMA block'),\n        localize('Input list accepts a list of ticks or candles, while period is the specified time period.'),\n        localize('Example:'),\n        localize('This will display the SMA for the specified period, using a candle list.'),\n        localize('SMA places equal weight to the entire distribution of values.'),\n        localize('This is the same as the above example, using a tick list.'),\n        localize(\n            'You may compare SMA values calculated on every bot run to identify the market trend direction. Alternatively, you may also use a variation of the SMA block, the Simple Moving Average Array block. '\n        ),\n        localize('This block returns the entire SMA line, containing a list of all values for a given period.'),\n        localize(\n            'If a period of 10 is entered, the Simple Moving Average Array block will return a list of SMA values calculated based on period of 10.'\n        ),\n        localize('The below image illustrates how Simple Moving Average Array block works:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Any blocks placed within this block will be executed at every tick. If the default candle interval is set to 1 minute in the Trade Parameters root block, the instructions in this block will be executed once every minute. Place this block outside of any root block.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block converts the number of seconds since the Unix Epoch to a date and time format such as 2019-08-01 00:00:00.'\n        ),\n        localize('Example:'),\n        localize('In this example, the date and time will be displayed in a green notification box.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block converts the date and time to the number of seconds since the Unix Epoch (1970-01-01 00:00:00).'\n        ),\n        localize('Example:'),\n        localize('In this example, a Rise contract will be purchased at midnight on 1 August 2019.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract without manually stopping and restarting your bot.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            \"This block is mandatory. It's added to your strategy by default when you create new strategy. You can not add more than one copy of this block to the canvas.\"\n        ),\n        localize('1. Market'),\n        localize('Select your desired market and asset type. For example, Forex > Major pairs > AUD/JPY'),\n        localize('2. Trade Type'),\n        localize('Select your desired trade type. For example, Up/Down > Rise/Fall'),\n        localize('3. Contract Type'),\n        localize(\n            'Choose what type of contract you want to trade. For example, for the Rise/Fall trade type you can choose one of three options: Rise, Fall, or Both. Selected option will determine available options for the Purchase block.'\n        ),\n        localize('4. Default Candle Interval'),\n        localize('Sets the default time interval for blocks that read list of candles.'),\n        localize('5. Restart buy/sell on error'),\n        localize('Restarts the bot when an error is encountered.'),\n        localize('6. Restart last trade on error'),\n        localize('Repeats the previous trade when an error is encountered.'),\n        localize('7. Run Once at Start'),\n        localize('Place blocks here to perform tasks once when your bot starts running.'),\n        localize('8. Trade Options'),\n        localize('The desired duration, stake, prediction, and/or barrier(s) for the contract is defined here.'),\n    ],\n};\n","import React from 'react';\nimport { StaticUrl } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('Use this block when you want to use multipliers as your trade type.'),\n        localize('Click the multiplier drop-down menu and choose the multiplier value you want to trade with.'),\n        localize('Your potential profit will be multiplied by the multiplier value youve chosen.'),\n        <Localize\n            key={0}\n            i18n_default_text='To learn more about multipliers, please go to the <0>Multipliers</0> page.'\n            components={[<StaticUrl key={0} className='link' href='trade-types/multiplier' />]}\n        />,\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to define trade options within the Trade parameters root block. Some options are only applicable for certain trade types. Parameters such as duration and stake are common among most trade types. Prediction is used for trade types such as Digits, while barrier offsets are for trade types that involve barriers such as Touch/No Touch, Ends In/Out, etc.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\"This block assigns a given value to a variable, creating the variable if it doesn't already exist.\"),\n        localize(\n            'A variable is among the most important and powerful components in creating a bot. It is a way to store information, either as text or numbers. The information stored as a variable can be used and changed according to the given instructions. Variables can be given any name, but usually they are given useful, symbolic names so that it is easier to call them during the execution of instructions.'\n        ),\n        localize('Creating a variable'),\n        localize('1. From the block library, enter a name for the new variable and click Create.'),\n        localize('2. The new variable will appear as a block under Set variable.'),\n    ],\n};\n","import { action, makeObservable, observable, runInAction } from 'mobx';\nimport { config } from '@deriv/bot-skeleton';\nimport { help_content_config } from 'Utils/help-content/help-content.config';\nimport * as help_strings from 'Utils/help-content/help-strings';\n\nexport default class FlyoutHelpStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            block_node: observable,\n            block_type: observable,\n            examples: observable,\n            help_string: observable,\n            title: observable,\n            should_next_disable: observable,\n            should_previous_disable: observable,\n            active_helper: observable,\n            setHelpContent: action.bound,\n            setActiveHelper: action.bound,\n            onBackClick: action.bound,\n            onSequenceClick: action.bound,\n            initFlyoutHelp: action.bound,\n            updateSequenceButtons: action.bound,\n            setExamples: action.bound,\n            getHelpContent: action.bound,\n            getFilledBlocksIndex: action.bound,\n            getNextHelpContentIndex: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    options = {\n        css: false,\n        media: `${__webpack_public_path__}media/`,\n        move: { scrollbars: false, drag: true, wheel: false },\n        zoom: { startScale: config.workspaces.flyoutWorkspacesStartScale },\n        sounds: false,\n    };\n\n    block_node = null;\n    block_type = '';\n    examples = [];\n    help_string = {};\n    title = '';\n    should_next_disable = false;\n    should_previous_disable = false;\n    active_helper = '';\n\n    setHelpContent = async block_node => {\n        const block_type = block_node.getAttribute('type');\n        const title = Blockly.Blocks[block_type].meta().display_name;\n        if (block_type !== '') {\n            this.active_helper = block_type;\n        }\n\n        const { flyout } = this.root_store;\n        this.setExamples(block_type);\n        const example_blocks = this.examples.map(example => example.childNodes[0]);\n        setTimeout(() => flyout.setFlyoutWidth([block_node, ...example_blocks]), 50);\n\n        runInAction(() => {\n            flyout.is_help_content = true;\n            this.block_node = block_node;\n            this.block_type = block_type;\n            this.title = title;\n            this.help_string = help_strings[block_type];\n        });\n\n        if (!flyout.is_search_flyout) {\n            this.updateSequenceButtons();\n        }\n    };\n\n    getHelpContent = async block_node => {\n        let block_content;\n\n        if (block_node) {\n            const target_blocks = this.xml_list_group[block_node];\n            const block_type = target_blocks[0].getAttribute('type');\n            block_content = help_strings[block_type];\n        }\n        return block_content;\n    };\n\n    getFilledBlocksIndex = async blocks_type => {\n        const blocks_content = await Promise.all(blocks_type.map(block => this.getHelpContent(block)));\n        return blocks_content.map((key, index) => (key ? index : null)).filter(value => value !== null);\n    };\n\n    getNextHelpContentIndex = async is_last => {\n        const filled_blocks_index = await this.getFilledBlocksIndex(Object.keys(this.xml_list_group));\n        return is_last ? filled_blocks_index[filled_blocks_index.length - 1] : filled_blocks_index[0];\n    };\n\n    setActiveHelper(active_helper) {\n        this.active_helper = active_helper;\n    }\n\n    onBackClick() {\n        const { toolbox, flyout } = this.root_store;\n\n        if (flyout.is_search_flyout) {\n            const search = document.getElementsByName('search')[0].value;\n            toolbox.onSearch({ search });\n        } else {\n            flyout.refreshCategory();\n        }\n    }\n\n    async onSequenceClick(should_go_next) {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n\n        let current_block_index;\n\n        Object.keys(this.xml_list_group).forEach((key, index) => {\n            if (current_block.getAttribute('type') === key) {\n                current_block_index = index;\n            }\n        });\n\n        const getNextBlock = async (xml, current_index, is_next) => {\n            const next_index = current_index + (is_next ? 1 : -1);\n            const next_blocks_type = Object.keys(xml).filter((key, index) =>\n                is_next ? next_index <= index : next_index >= index\n            );\n            const next_filled_block = await this.getFilledBlocksIndex(next_blocks_type);\n\n            const next_filled_block_index = is_next\n                ? next_filled_block[0]\n                : next_filled_block[next_filled_block.length - 1];\n            const next_block_type = next_blocks_type[next_filled_block_index];\n\n            if (!next_block_type) {\n                return false;\n            }\n\n            try {\n                await import(/* webpackChunkName: `[request]` */ '@deriv/bot-skeleton');\n                return next_block_type;\n            } catch (e) {\n                return getNextBlock(xml, next_index, is_next);\n            }\n        };\n\n        const block_type = await getNextBlock(this.xml_list_group, current_block_index, should_go_next);\n        if (block_type) {\n            const target_blocks = this.xml_list_group[block_type];\n            this.setHelpContent(target_blocks[0]);\n        }\n    }\n\n    initFlyoutHelp(block_node) {\n        const { flyout, toolbox } = this.root_store;\n        this.xml_list = toolbox.getCategoryContents(flyout.selected_category);\n        this.xml_list_group = this.groupBy(this.xml_list, true);\n\n        this.setHelpContent(block_node);\n    }\n\n    async updateSequenceButtons() {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n        const current_index = Object.keys(this.xml_list_group).findIndex(\n            key => current_block.getAttribute('type') === key\n        );\n\n        const last_filled_content_index = await this.getNextHelpContentIndex(true);\n        const first_filled_content_index = await this.getNextHelpContentIndex(false);\n\n        runInAction(() => {\n            this.should_previous_disable = current_index === 0 || current_index === first_filled_content_index;\n            this.should_next_disable =\n                current_index === Object.keys(this.xml_list_group).length - 1 ||\n                current_index === last_filled_content_index;\n        });\n    }\n\n    // eslint-disable-next-line\n    groupBy(nodes, should_include_block_only = false) {\n        return Array.from(nodes).reduce((block_group, node) => {\n            const type = node.getAttribute('type');\n\n            if (should_include_block_only && type === null) {\n                return block_group;\n            }\n\n            if (!block_group[type]) {\n                block_group[type] = [];\n            }\n\n            if (!should_include_block_only || (should_include_block_only && type !== null)) {\n                block_group[type].push(node);\n            }\n\n            return block_group;\n        }, {});\n    }\n\n    setExamples(block_type) {\n        const { toolbox } = this.root_store;\n        const all_examples = [...toolbox.toolbox_examples.childNodes];\n        const help_content = help_content_config(__webpack_public_path__)[block_type];\n        const examples_ids = help_content.filter(el => el.type === 'example').map(example => example.example_id);\n        const examples = examples_ids.map(id => all_examples.find(example => example.id === id));\n\n        this.examples = examples;\n    }\n}\n","import { reaction } from 'mobx';\n\nconst GTM = (() => {\n    let root_store;\n\n    const getLoginId = () => {\n        return root_store.core.client.loginid;\n    };\n\n    const getServerTime = () => {\n        return root_store.server_time.unix();\n    };\n\n    const pushDataLayer = data => {\n        return root_store.core.gtm.pushDataLayer(data);\n    };\n\n    const init = _root_store => {\n        try {\n            root_store = _root_store;\n\n            const { run_panel, transactions } = root_store;\n            const run_statistics = run_panel.statistics;\n\n            reaction(\n                () => run_panel.is_running,\n                () => run_panel.is_running && onRunBot(run_statistics)\n            );\n\n            reaction(\n                () => transactions.contracts,\n                () => onTransactionClosed(transactions.contracts)\n            );\n        } catch (error) {\n            console.warn('Error initializing GTM reactions ', error); // eslint-disable-line no-console\n        }\n    };\n\n    const onRunBot = statistics => {\n        try {\n            const run_id = `${getLoginId()}-${getServerTime()}`;\n            const counters = `tr:${statistics.number_of_runs},\\\n                ts:${statistics.total_stake},\\\n                py:${statistics.total_payout},\\\n                lc:${statistics.lost_contracts},\\\n                wc:${statistics.won_contracts},\\\n                pr:${statistics.total_profit}`;\n\n            const data = {\n                counters: counters.replace(/\\s/g, ''),\n                event: 'dbot_run',\n                run_id,\n            };\n            pushDataLayer(data);\n        } catch (error) {\n            console.warn('Error pushing run data to datalayer', error); // eslint-disable-line no-console\n        }\n    };\n\n    const onTransactionClosed = contracts => {\n        try {\n            const contract = contracts.length > 0 && contracts[0];\n            if (contract && contract.is_completed) {\n                const data = {\n                    event: 'dbot_run_transaction',\n                    reference_id: contract.refrence_id,\n                };\n                pushDataLayer(data);\n            }\n        } catch (error) {\n            console.warn('Error pushing transaction to datalayer', error); // eslint-disable-line no-console\n        }\n    };\n\n    return {\n        init,\n        pushDataLayer,\n    };\n})();\n\nexport default GTM;\n","/* eslint-disable no-underscore-dangle */\nimport { action, computed, makeObservable, observable } from 'mobx';\nimport { config } from '@deriv/bot-skeleton';\nimport GTM from 'Utils/gtm';\n\nexport default class FlyoutStore {\n    block_listeners = [];\n    block_workspaces = [];\n    flyout_min_width = 440;\n    options = {\n        css: false,\n        media: `${__webpack_public_path__}media/`,\n        move: { scrollbars: false, drag: true, wheel: false },\n        zoom: { startScale: config.workspaces.flyoutWorkspacesStartScale },\n        sounds: false,\n    };\n\n    is_help_content = false;\n    flyout_content = [];\n    flyout_width = this.flyout_min_width;\n    is_visible = false;\n    is_search_flyout = false;\n    is_loading = false;\n    search_term = '';\n    selected_category = null;\n\n    constructor(root_store) {\n        makeObservable(this, {\n            is_help_content: observable,\n            flyout_content: observable,\n            flyout_width: observable,\n            is_visible: observable,\n            is_search_flyout: observable,\n            is_loading: observable,\n            search_term: observable,\n            selected_category: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            initFlyout: action.bound,\n            initBlockWorkspace: action.bound,\n            getFlyout: action.bound,\n            setContents: action.bound,\n            setFlyoutWidth: action.bound,\n            setVisibility: action.bound,\n            setIsSearchFlyout: action.bound,\n            setSelectedCategory: action.bound,\n            getSelectedCategory: action.bound,\n            onClickOutsideFlyout: action.bound,\n            refreshCategory: action.bound,\n            variables_blocks_count: computed,\n            first_get_variable_block_index: computed,\n        });\n\n        this.root_store = root_store;\n    }\n\n    onMount() {\n        this.initFlyout();\n        window.addEventListener('click', this.onClickOutsideFlyout);\n    }\n\n    onUnmount() {\n        window.removeEventListener('click', this.onClickOutsideFlyout);\n    }\n\n    initFlyout() {\n        const workspace = Blockly.derivWorkspace;\n        const options = {\n            parentWorkspace: workspace,\n            RTL: workspace.RTL,\n            horizontalLayout: workspace.horizontalLayout,\n        };\n\n        if (workspace.horizontalLayout) {\n            this.flyout = new Blockly.HorizontalFlyout(options);\n        } else {\n            this.flyout = new Blockly.VerticalFlyout(options);\n        }\n\n        this.flyout.targetWorkspace_ = workspace;\n        this.flyout.workspace_.targetWorkspace = workspace;\n\n        // A flyout connected to a workspace doesn't have its own current gesture.\n        this.flyout.workspace_.getGesture = this.flyout.targetWorkspace_.getGesture.bind(this.flyout.targetWorkspace_);\n\n        // Get variables from the main workspace rather than the target workspace.\n        workspace.variableMap_ = this.flyout.targetWorkspace_.getVariableMap();\n\n        this.flyout.workspace_.createPotentialVariableMap();\n\n        workspace.flyout_ = this.flyout;\n    }\n\n    /**\n     * Intialises a workspace unique to the passed block_node\n     * @param {Element} el_block_workspace Element where Blockly.Workspace will be mounted on\n     * @param {Element} block_node DOM of a Blockly.Block\n     * @memberof FlyoutStore\n     */\n    initBlockWorkspace(el_block_workspace, block_node) {\n        const workspace = Blockly.inject(el_block_workspace, this.options);\n\n        workspace.isFlyout = true;\n        workspace.targetWorkspace = Blockly.derivWorkspace;\n\n        const block = Blockly.Xml.domToBlock(block_node, workspace);\n        // Using block.getHeightWidth() here because getDimentions() also calls Blockly.Xml.domToBlock\n        const block_hw = block.getHeightWidth();\n\n        block.isInFlyout = true;\n\n        // Update block workspace widths to accommodate block widths.\n        // addind 1px to highet and then moving the block 1px down to make block top border visible\n        el_block_workspace.style.height = `${Math.ceil(block_hw.height * this.options.zoom.startScale) + 1}px`;\n        el_block_workspace.style.width = `${Math.ceil(block_hw.width * this.options.zoom.startScale) + 1}px`;\n        block.moveBy(1, 1);\n\n        // Use original Blockly flyout functionality to create block on drag.\n        const block_svg_root = block.getSvgRoot();\n\n        this.block_listeners.push(\n            Blockly.bindEventWithChecks_(block_svg_root, 'mousedown', null, event => {\n                GTM.pushDataLayer({\n                    event: 'dbot_drag_block',\n                    block_type: block.type,\n                });\n                this.flyout.blockMouseDown_(block)(event);\n            }),\n            Blockly.bindEvent_(block_svg_root, 'mouseout', block, block.removeSelect),\n            Blockly.bindEvent_(block_svg_root, 'mouseover', block, block.addSelect)\n        );\n\n        this.block_workspaces.push(workspace);\n        Blockly.svgResize(workspace);\n    }\n\n    getFlyout() {\n        return this.flyout;\n    }\n\n    /**\n     * Parses XML contents passed by Blockly.Toolbox. Supports all default\n     * Blockly.Flyout elements i.e. <block>, <label>, <button> in their\n     * original format, e.g. <label text=\"Hello World\" />\n     * @param {Element[]} xml_list list of XML nodes\n     * @memberof FlyoutStore\n     */\n    setContents(xml_list, search_term = '') {\n        const text_limit = 20;\n        const processed_xml = xml_list;\n\n        this.block_listeners.forEach(listener => Blockly.unbindEvent_(listener));\n        this.block_workspaces.forEach(workspace => workspace.dispose());\n        this.block_listeners = [];\n        this.block_workspaces = [];\n\n        this.is_help_content = false;\n        this.search_term = search_term.length > text_limit ? `${search_term.substring(0, text_limit)}...` : search_term;\n        this.flyout_content = xml_list;\n\n        this.setFlyoutWidth(processed_xml);\n        this.setVisibility(true);\n\n        // apparently setFlyoutWidth doesn't calculate blocks dimentions until they're visible\n        // using setTimeout is a workaround to solve this issue\n        setTimeout(() => this.setFlyoutWidth(processed_xml), 50);\n    }\n\n    /**\n     * Walks through xmlList and finds width of the longest block while setting\n     * height and width (in workspace pixels) attributes on each of the block nodes.\n     * @param {Element[]} xmlList\n     * @memberof FlyoutStore\n     */\n    setFlyoutWidth(xmlList) {\n        let longest_block_width = 0;\n\n        xmlList.forEach(node => {\n            const tag_name = node.tagName.toUpperCase();\n\n            if (tag_name === Blockly.Xml.NODE_BLOCK) {\n                const block_hw = Blockly.Block.getDimensions(node);\n\n                node.setAttribute('width', Math.ceil(block_hw.width * this.options.zoom.startScale));\n                node.setAttribute('height', Math.ceil(block_hw.height * this.options.zoom.startScale));\n                longest_block_width = Math.max(\n                    longest_block_width,\n                    Math.ceil(block_hw.width * this.options.zoom.startScale)\n                );\n            }\n        });\n\n        this.flyout_width = Math.max(this.flyout_min_width, longest_block_width + 65);\n    }\n\n    /**\n     * Sets whether the flyout is visible or not.\n     * @param {boolean} is_visible\n     * @memberof FlyoutStore\n     */\n    setVisibility(is_visible) {\n        this.is_visible = is_visible;\n\n        if (!is_visible) {\n            this.setSelectedCategory(null);\n            this.flyout_content = [];\n        }\n    }\n\n    /**\n     * Sets whether the flyout is search or not.\n     * @param {boolean} is_search\n     * @memberof FlyoutStore\n     */\n    setIsSearchFlyout(is_search) {\n        this.is_search_flyout = is_search;\n    }\n\n    setSelectedCategory(selected_category) {\n        this.selected_category = selected_category;\n    }\n\n    getSelectedCategory() {\n        return this.selected_category;\n    }\n\n    /**\n     * Close the flyout on click outside itself or parent toolbox.\n     */\n    onClickOutsideFlyout(event) {\n        if (!this.is_visible || !Blockly.derivWorkspace) {\n            return;\n        }\n\n        const toolbox = document.getElementById('gtm-toolbox');\n        const path = event.path || (event.composedPath && event.composedPath());\n        const is_flyout_click = path.some(el => el.classList && el.classList.contains('flyout'));\n        const is_search_focus = this.root_store.toolbox.is_search_focus;\n        const isToolboxClick = () => toolbox.contains(event.target);\n\n        if (!is_flyout_click && !isToolboxClick() && !is_search_focus) {\n            this.setVisibility(false);\n            this.setSelectedCategory(null);\n        }\n    }\n\n    refreshCategory() {\n        const category = this.getSelectedCategory();\n        const { toolbox } = this.root_store;\n        const flyout_content = toolbox.getCategoryContents(category);\n        this.setContents(flyout_content);\n    }\n\n    get variables_blocks_count() {\n        return this.flyout_content.filter(block => block.getAttribute('type') === 'variables_get').length;\n    }\n\n    get first_get_variable_block_index() {\n        return this.flyout_content.length - this.variables_blocks_count;\n    }\n}\n","export const button_status = Object.freeze({\n    NORMAL: 0,\n    LOADING: 1,\n    COMPLETED: 2,\n});\n","import { action, makeObservable, observable } from 'mobx';\nimport { config, importExternal } from '@deriv/bot-skeleton';\nimport { getLanguage, localize } from '@deriv/translations';\nimport { button_status } from 'Constants/button-status';\n\nexport default class GoogleDriveStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            is_authorised: observable,\n            updateSigninStatus: action.bound,\n            saveFile: action.bound,\n            loadFile: action.bound,\n            setKey: action.bound,\n            initialise: action.bound,\n            signIn: action.bound,\n            signOut: action.bound,\n            getPickerLanguage: action.bound,\n            checkFolderExists: action.bound,\n            createSaveFilePicker: action.bound,\n            createLoadFilePicker: action.bound,\n            showGoogleDriveFilePicker: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.bot_folder_name = `Binary Bot - ${localize('Strategies')}`;\n        this.google_auth = null;\n        this.setKey();\n        this.client = null;\n        this.access_token = localStorage.getItem('google_access_token') || '';\n        importExternal('https://accounts.google.com/gsi/client').then(() => this.initialiseClient());\n        importExternal('https://apis.google.com/js/api.js').then(() => this.initialise());\n    }\n\n    is_authorised = !!localStorage.getItem('google_access_token');\n\n    setKey = () => {\n        const { scope, discovery_docs } = config.gd;\n        this.client_id = process.env.GD_CLIENT_ID;\n        this.app_id = process.env.GD_APP_ID;\n        this.api_key = process.env.GD_API_KEY;\n        this.scope = scope;\n        this.discovery_docs = discovery_docs;\n    };\n\n    initialise = () => {\n        gapi.load('client:picker', () => gapi.client.load(this.discovery_docs));\n    };\n\n    initialiseClient = () => {\n        this.client = google.accounts.oauth2.initTokenClient({\n            client_id: this.client_id,\n            scope: this.scope,\n            callback: response => {\n                this.access_token = response.access_token;\n                this.updateSigninStatus(true);\n                localStorage.setItem('google_access_token', response.access_token);\n            },\n        });\n    };\n\n    updateSigninStatus(is_signed_in) {\n        this.is_authorised = is_signed_in;\n    }\n\n    signIn() {\n        if (!this.is_authorised) {\n            this.client.requestAccessToken();\n        }\n    }\n\n    signOut() {\n        if (this.access_token) {\n            gapi.client.setToken('');\n            google.accounts.oauth2.revoke(this.access_token);\n            localStorage.removeItem('google_access_token');\n            this.access_token = '';\n        }\n        this.updateSigninStatus(false);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getPickerLanguage() {\n        const language = getLanguage();\n\n        if (language === 'zhTw') {\n            return 'zh-TW';\n        } else if (language === 'zhCn') {\n            return 'zh-CN';\n        }\n        return language;\n    }\n\n    async saveFile(options) {\n        try {\n            await this.signIn();\n            if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n            await this.checkFolderExists();\n            await this.createSaveFilePicker('application/vnd.google-apps.folder', localize('Select a folder'), options);\n        } catch (err) {\n            if (err.status === 401) {\n                this.signOut();\n            }\n        }\n    }\n\n    async loadFile() {\n        await this.signIn();\n\n        if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n        try {\n            await gapi.client.drive.files.list({\n                pageSize: 10,\n                fields: 'files(id, name)',\n            });\n        } catch (err) {\n            if (err?.status === 401) {\n                await this.signOut();\n                setTimeout(() => {\n                    const picker = document.getElementsByClassName('picker-dialog-content')[0];\n                    picker.parentNode.removeChild(picker);\n                    const pickerBackground = document.getElementsByClassName('picker-dialog-bg');\n                    if (pickerBackground.length) {\n                        for (let i = 0; i < pickerBackground.length; i++) {\n                            pickerBackground[i].style.display = 'none';\n                        }\n                    }\n                }, 500);\n            }\n        }\n\n        const xml_doc = await this.createLoadFilePicker(\n            'text/xml,application/xml',\n            localize('Select a Deriv Bot Strategy')\n        );\n\n        return xml_doc;\n    }\n\n    async checkFolderExists() {\n        const { files } = gapi.client.drive;\n        const response = await files.list({ q: 'trashed=false' });\n        const mime_type = 'application/vnd.google-apps.folder';\n        const folder = response.result.files.find(file => file.mimeType === mime_type);\n\n        if (folder) {\n            return;\n        }\n\n        await files.create({\n            resource: {\n                name: this.bot_folder_name,\n                mimeType: mime_type,\n                fields: 'id',\n            },\n        });\n    }\n\n    createSaveFilePicker(mime_type, title, options) {\n        const { setButtonStatus } = this.root_store.save_modal;\n        return new Promise(resolve => {\n            const savePickerCallback = data => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const folder_id = data.docs[0].id;\n                    const strategy_file = new Blob([options.content], { type: options.mimeType });\n                    const strategy_file_metadata = JSON.stringify({\n                        name: options.name,\n                        mimeType: options.mimeType,\n                        parents: [folder_id],\n                    });\n\n                    const form_data = new FormData();\n                    form_data.append('metadata', new Blob([strategy_file_metadata], { type: 'application/json' }));\n                    form_data.append('file', strategy_file);\n\n                    const xhr = new XMLHttpRequest();\n                    xhr.responseType = 'json';\n                    xhr.open('POST', 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart');\n                    xhr.setRequestHeader('Authorization', `Bearer ${this.access_token}`);\n                    xhr.onload = () => {\n                        if (xhr.status === 401) {\n                            this.signOut();\n                        }\n\n                        setButtonStatus(button_status.NORMAL);\n                        resolve();\n                    };\n                    xhr.send(form_data);\n                } else if (data.action === google.picker.Action.CANCEL) {\n                    setButtonStatus(button_status.NORMAL);\n                }\n            };\n\n            this.showGoogleDriveFilePicker(true, mime_type, title, savePickerCallback);\n        });\n    }\n\n    createLoadFilePicker(mime_type, title) {\n        return new Promise(resolve => {\n            const loadPickerCallback = async data => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const file = data.docs[0];\n                    const file_name = file.name;\n                    const fileId = file.id;\n                    const { files } = gapi.client.drive;\n\n                    const response = await files.get({\n                        alt: 'media',\n                        fileId,\n                        mimeType: 'text/plain',\n                    });\n\n                    resolve({ xml_doc: response.body, file_name });\n                }\n            };\n\n            this.showGoogleDriveFilePicker(false, mime_type, title, loadPickerCallback);\n        });\n    }\n\n    showGoogleDriveFilePicker(is_save, mime_type, title, callback) {\n        const docs_view = new google.picker.DocsView();\n        docs_view.setIncludeFolders(true);\n        docs_view.setMimeTypes(mime_type);\n\n        if (is_save) {\n            docs_view.setSelectFolderEnabled(true);\n        }\n        const picker = new google.picker.PickerBuilder();\n        picker\n            .setOrigin(`${window.location.protocol}//${window.location.host}`)\n            .setTitle(localize(title))\n            .setLocale(this.getPickerLanguage())\n            .setAppId(this.app_id)\n            .setOAuthToken(this.access_token)\n            .addView(docs_view)\n            .setDeveloperKey(this.api_key)\n            .setSize(1051, 650)\n            .setCallback(callback)\n            .build()\n            .setVisible(true);\n    }\n}\n","import { localize } from '@deriv/translations';\nimport { arrayAsMessage, messageWithButton } from 'Components';\n\nconst showErrorMessageWithButton = (message, block_id, showErrorMessage, centerAndHighlightBlock) => {\n    showErrorMessage(\n        messageWithButton({\n            unique_id: block_id,\n            type: 'error',\n            message,\n            btn_text: localize('Go to block'),\n            onClick: () => {\n                centerAndHighlightBlock();\n            },\n        })\n    );\n};\n\nexport const isCustomJournalMessage = (\n    { message, block_id, variable_name },\n    showErrorMessage,\n    centerAndHighlightBlock,\n    pushMessage\n) => {\n    // notify undefined variable block\n    if (message === undefined && variable_name != null) {\n        showErrorMessageWithButton(\n            localize(\n                \"Variable '{{variable_name}}' has no value. Please set a value for variable '{{variable_name}}' to notify.\",\n                { variable_name }\n            ),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify null variable block\n    if (message === null) {\n        pushMessage('NULL');\n        return true;\n    }\n    // notify NaN variable block\n    if (Object.is(message, NaN)) {\n        showErrorMessageWithButton(\n            localize('Tried to perform an invalid operation.'),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify list block\n    if (Array.isArray(message)) {\n        const message_length = message.length;\n        const parsedArray = {\n            header:\n                variable_name !== 'null'\n                    ? `${variable_name}: (${message_length})`\n                    : localize('List: ({{message_length}})', { message_length }),\n            content: parseArray(message),\n        };\n        pushMessage(arrayAsMessage(parsedArray));\n        return true;\n    }\n    // notify boolean results\n    if (typeof message === 'boolean') {\n        pushMessage(message.toString());\n        return true;\n    }\n\n    return false;\n};\n\nconst parseArray = message => {\n    return message.map(item => {\n        return {\n            id: new Date().getTime() * Math.random(),\n            value: item && Array.isArray(item) ? parseArray(item) : item,\n        };\n    });\n};\n","import LZString from 'lz-string';\n\nexport const getStoredItemsByUser = (storage_key, loginid, default_value) => {\n    if (!loginid) {\n        return default_value;\n    }\n\n    const storage = getStoredItemsByKey(storage_key, default_value);\n    return storage[loginid] || default_value;\n};\n\nexport const getStoredItemsByKey = (storage_key, default_value) => {\n    try {\n        const session_storage_item = sessionStorage.getItem(storage_key);\n        const decompressed_item = LZString.decompress(session_storage_item);\n        const stored_items = JSON.parse(decompressed_item);\n\n        if (stored_items) {\n            return stored_items;\n        }\n    } catch (e) {\n        // Do nothing.\n    }\n\n    return default_value;\n};\n\nexport const setStoredItemsByKey = (storage_key, value) => {\n    try {\n        const compressed_value = LZString.compress(JSON.stringify(value));\n        sessionStorage.setItem(storage_key, compressed_value);\n    } catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Could not write to storage.');\n    }\n};\n","import { action, computed, makeObservable, observable, reaction, when } from 'mobx';\nimport { log_types, message_types } from '@deriv/bot-skeleton';\nimport { config } from '@deriv/bot-skeleton/src/constants/config';\nimport { formatDate } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { isCustomJournalMessage } from '../utils/journal-notifications';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\nimport { getSetting, storeSetting } from '../utils/settings';\n\nexport default class JournalStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            is_filter_dialog_visible: observable,\n            journal_filters: observable.shallow,\n            filters: observable.shallow,\n            unfiltered_messages: observable.shallow,\n            toggleFilterDialog: action.bound,\n            onLogSuccess: action.bound,\n            onError: action.bound,\n            onNotify: action.bound,\n            pushMessage: action.bound,\n            filtered_messages: computed,\n            getServerTime: action.bound,\n            playAudio: action.bound,\n            checked_filters: computed,\n            filterMessage: action.bound,\n            clear: action.bound,\n            welcomeBackUser: action.bound,\n            registerReactions: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n\n        // Add a \"Welcome back!\" message when messages were restored.\n        when(\n            () => this.unfiltered_messages,\n            () => {\n                if (this.unfiltered_messages.length > 0) {\n                    this.welcomeBackUser();\n                }\n            }\n        );\n    }\n\n    JOURNAL_CACHE = 'journal_cache';\n\n    is_filter_dialog_visible = false;\n\n    filters = [\n        { id: message_types.ERROR, label: localize('Errors') },\n        { id: message_types.NOTIFY, label: localize('Notifications') },\n        { id: message_types.SUCCESS, label: localize('System') },\n    ];\n\n    journal_filters = getSetting('journal_filter') || this.filters.map(filter => filter.id);\n    unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, this.core?.client.loginid, []);\n\n    getServerTime() {\n        return this.core?.common.server_time.get();\n    }\n\n    playAudio = sound => {\n        if (sound !== config.lists.NOTIFICATION_SOUND[0][1]) {\n            const audio = document.getElementById(sound);\n            audio.play();\n        }\n    };\n\n    toggleFilterDialog() {\n        this.is_filter_dialog_visible = !this.is_filter_dialog_visible;\n    }\n\n    onLogSuccess(message) {\n        const { log_type, extra } = message;\n        this.pushMessage(log_type, message_types.SUCCESS, '', extra);\n    }\n\n    onError(message) {\n        this.pushMessage(message, message_types.ERROR);\n    }\n\n    onNotify(data) {\n        const { run_panel, dbot } = this.root_store;\n        const { message, className, message_type, sound, block_id, variable_name } = data;\n\n        if (\n            isCustomJournalMessage(\n                { message, block_id, variable_name },\n                run_panel.showErrorMessage,\n                () => dbot.centerAndHighlightBlock(block_id, true),\n                parsed_message => this.pushMessage(parsed_message, message_type || message_types.NOTIFY, className)\n            )\n        ) {\n            this.playAudio(sound);\n            return;\n        }\n        this.pushMessage(message, message_type || message_types.NOTIFY, className);\n        this.playAudio(sound);\n    }\n\n    pushMessage(message, message_type, className, extra = {}) {\n        const date = formatDate(this.getServerTime());\n        const time = formatDate(this.getServerTime(), 'HH:mm:ss [GMT]');\n        const unique_id = Blockly.utils.genUid();\n\n        this.unfiltered_messages.unshift({ date, time, message, message_type, className, unique_id, extra });\n        this.unfiltered_messages = this.unfiltered_messages.slice(); // force array update\n    }\n\n    get filtered_messages() {\n        return (\n            this.unfiltered_messages\n                // filter messages based on filtered-checkbox\n                .filter(\n                    message =>\n                        this.journal_filters.length &&\n                        this.journal_filters.some(filter => message.message_type === filter)\n                )\n        );\n    }\n\n    get checked_filters() {\n        return this.journal_filters.filter(filter => filter != null);\n    }\n\n    filterMessage(checked, item_id) {\n        if (checked) {\n            this.journal_filters.push(item_id);\n        } else {\n            this.journal_filters.splice(this.journal_filters.indexOf(item_id), 1);\n        }\n\n        storeSetting('journal_filter', this.journal_filters);\n    }\n\n    clear() {\n        this.unfiltered_messages = this.unfiltered_messages.slice(0, 0);\n    }\n\n    welcomeBackUser() {\n        this.pushMessage(log_types.WELCOME_BACK, message_types.SUCCESS, 'journal__text');\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n\n        // Write journal messages to session storage on each change in unfiltered messages.\n        const disposeWriteJournalMessageListener = reaction(\n            () => this.unfiltered_messages,\n            unfiltered_messages => {\n                const stored_journals = getStoredItemsByKey(this.JOURNAL_CACHE, {});\n\n                stored_journals[client.loginid] = unfiltered_messages.slice(0, 5000).filter(unfiltered_message => {\n                    // Filter out \"Welcome back!\" message. This can be extended.\n                    const is_welcome_back =\n                        unfiltered_message.message_type === message_types.SUCCESS &&\n                        unfiltered_message.message === log_types.WELCOME_BACK;\n\n                    return !is_welcome_back;\n                });\n                setStoredItemsByKey(this.JOURNAL_CACHE, stored_journals);\n            }\n        );\n\n        // Attempt to load cached journal messages on client loginid change.\n        const disposeJournalMessageListener = reaction(\n            () => client.loginid,\n            () => {\n                this.unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, client.loginid, []);\n\n                if (this.unfiltered_messages.length > 0) {\n                    this.welcomeBackUser();\n                }\n            }\n        );\n\n        return () => {\n            disposeWriteJournalMessageListener();\n            disposeJournalMessageListener();\n        };\n    }\n}\n","import React from 'react';\nimport { action, autorun, computed, makeObservable, observable, reaction } from 'mobx';\nimport {\n    config,\n    getSavedWorkspaces,\n    load,\n    observer as globalObserver,\n    removeExistingWorkspace,\n    save_types,\n    setColors,\n} from '@deriv/bot-skeleton';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { clearInjectionDiv, tabs_title } from 'Constants/load-modal';\nimport RootStore from './root-store';\n\nexport type TWorkspace = {\n    id: string;\n    xml: string;\n    name: string;\n    timestamp: number;\n    save_type: string;\n};\n\ninterface ILoadModalStore {\n    active_index: number;\n    is_load_modal_open: boolean;\n    is_explanation_expand: boolean;\n    is_open_button_loading: boolean;\n    is_strategy_loaded: boolean;\n    loaded_local_file: boolean | null;\n    recent_strategies: string[];\n    dashboard_strategies: Array<TWorkspace>;\n    selected_strategy_id: string[] | string | undefined;\n    is_strategy_removed: boolean;\n    is_delete_modal_open: boolean;\n    current_workspace_id: string;\n    getSelectedStrategyID: (current_workspace_id: string) => void;\n    refreshStrategies: () => void;\n    refreshStrategiesTheme: () => void;\n    preview_workspace: () => void;\n    handleFileChange: (\n        event: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body: boolean\n    ) => boolean;\n    loadFileFromLocal: () => void;\n    onActiveIndexChange: () => void;\n    onDriveConnect: () => void;\n    onDriveOpen: () => void;\n    onEntered: () => void;\n    onLoadModalClose: () => void;\n    onToggleDeleteDialog: (is_delete_modal_open: boolean) => void;\n    onZoomInOutClick: (is_zoom_in: string) => void;\n    previewRecentStrategy: (workspace_id: string) => void;\n    setActiveTabIndex: (index: number) => void;\n    setLoadedLocalFile: (loaded_local_file: boolean | null) => void;\n    setRecentStrategies: (recent_strategies: string[]) => void;\n    setSelectedStrategyId: (selected_strategy_id: string[] | undefined) => void;\n    toggleExplanationExpand: () => void;\n    toggleLoadModal: () => void;\n    toggleTourLoadModal: (toggle: boolean) => void;\n    readFile: (is_preview: boolean, drop_event: DragEvent, file: File) => void;\n    updateListStrategies: (workspaces: Array<TWorkspace>) => void;\n    getRecentFileIcon: (save_type: { [key: string]: string } | string) => string;\n    getSaveType: (save_type: { [key: string]: string } | string) => string;\n}\n\nexport default class LoadModalStore implements ILoadModalStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            active_index: observable,\n            is_load_modal_open: observable,\n            is_explanation_expand: observable,\n            is_open_button_loading: observable,\n            is_strategy_loaded: observable,\n            is_delete_modal_open: observable,\n            is_strategy_removed: observable,\n            loaded_local_file: observable,\n            recent_strategies: observable,\n            dashboard_strategies: observable,\n            selected_strategy_id: observable,\n            current_workspace_id: observable,\n            preview_workspace: computed,\n            selected_strategy: computed,\n            tab_name: computed,\n            getSelectedStrategyID: action.bound,\n            refreshStrategies: action.bound,\n            refreshStrategiesTheme: action.bound,\n            handleFileChange: action.bound,\n            loadFileFromRecent: action.bound,\n            loadFileFromLocal: action.bound,\n            onActiveIndexChange: action.bound,\n            onDriveConnect: action.bound,\n            onDriveOpen: action.bound,\n            onEntered: action.bound,\n            onLoadModalClose: action.bound,\n            onZoomInOutClick: action.bound,\n            previewRecentStrategy: action.bound,\n            setActiveTabIndex: action.bound,\n            setLoadedLocalFile: action.bound,\n            setRecentStrategies: action.bound,\n            setSelectedStrategyId: action.bound,\n            toggleExplanationExpand: action.bound,\n            toggleLoadModal: action.bound,\n            toggleTourLoadModal: action.bound,\n            readFile: action.bound,\n            setDashboardStrategies: action.bound,\n            updateListStrategies: action.bound,\n        });\n\n        this.root_store = root_store;\n\n        reaction(\n            () => this.active_index,\n            () => this.onActiveIndexChange()\n        );\n        reaction(\n            () => this.is_load_modal_open,\n            async is_load_modal_open => {\n                if (is_load_modal_open) {\n                    this.setRecentStrategies((await getSavedWorkspaces()) || []);\n                } else {\n                    this.onLoadModalClose();\n                }\n            }\n        );\n    }\n\n    recent_workspace;\n    local_workspace;\n    drop_zone;\n\n    active_index = 0;\n    is_load_modal_open = false;\n    is_explanation_expand = false;\n    is_open_button_loading = false;\n    loaded_local_file = null;\n    recent_strategies = [];\n    dashboard_strategies = [];\n    selected_strategy_id = undefined;\n    is_strategy_loaded = false;\n    is_delete_modal_open = false;\n    is_strategy_removed = false;\n    current_workspace_id = '';\n\n    get preview_workspace() {\n        if (this.tab_name === tabs_title.TAB_LOCAL) return this.local_workspace;\n        if (this.tab_name === tabs_title.TAB_RECENT) return this.recent_workspace;\n        return null;\n    }\n\n    get selected_strategy() {\n        return (\n            this.dashboard_strategies.find(ws => ws.id === this.selected_strategy_id) || this.dashboard_strategies[0]\n        );\n    }\n\n    get tab_name() {\n        if (isMobile()) {\n            if (this.active_index === 0) return tabs_title.TAB_LOCAL;\n            if (this.active_index === 1) return tabs_title.TAB_GOOGLE;\n        }\n        if (this.active_index === 0) return tabs_title.TAB_RECENT;\n        if (this.active_index === 1) return tabs_title.TAB_LOCAL;\n        if (this.active_index === 2) return tabs_title.TAB_GOOGLE;\n        return '';\n    }\n\n    getSelectedStrategyID = (current_workspace_id: string) => {\n        this.current_workspace_id = current_workspace_id;\n    };\n\n    setDashboardStrategies(strategies: Array<TWorkspace>) {\n        this.dashboard_strategies = strategies;\n        if (!strategies.length) {\n            this.selected_strategy_id = undefined;\n        }\n    }\n\n    async getDashboardStrategies() {\n        const recent_strategies = await getSavedWorkspaces();\n        this.dashboard_strategies = recent_strategies;\n    }\n\n    handleFileChange = (\n        event: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body = true\n    ): boolean => {\n        let files;\n        if (event.type === 'drop') {\n            event.stopPropagation();\n            event.preventDefault();\n\n            ({ files } = event.dataTransfer);\n        } else {\n            ({ files } = event.target);\n        }\n\n        const [file] = files;\n\n        if (!is_body) {\n            if (file.name.includes('xml')) {\n                this.setLoadedLocalFile(file);\n                this.getDashboardStrategies();\n            } else {\n                return false;\n            }\n        }\n        this.readFile(!is_body, event, file);\n        event.target.value = '';\n        return true;\n    };\n    refreshStrategiesTheme = (strategy = this.selected_strategy?.xml): void => {\n        if (strategy) load({ block_string: strategy, drop_event: {}, workspace: this.recent_workspace });\n    };\n    loadFileFromRecent = async (): void => {\n        this.is_open_button_loading = true;\n        if (!this.selected_strategy) {\n            Blockly.derivWorkspace.asyncClear();\n            Blockly.Xml.domToWorkspace(\n                Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                Blockly.derivWorkspace\n            );\n            this.is_open_button_loading = false;\n            return;\n        }\n\n        removeExistingWorkspace(this.selected_strategy.id);\n        load({\n            block_string: this.selected_strategy.xml,\n            strategy_id: this.selected_strategy.id,\n            file_name: this.selected_strategy.name,\n            workspace: Blockly.derivWorkspace,\n            from: this.selected_strategy.save_type,\n        });\n        const recent_files = await getSavedWorkspaces();\n        recent_files.map(strategy => {\n            const { xml, id } = strategy;\n            if (this.selected_strategy.id === id) {\n                Blockly.derivWorkspace.strategy_to_load = xml;\n            }\n        });\n        this.is_open_button_loading = false;\n    };\n\n    loadFileFromLocal = (): void => {\n        this.is_open_button_loading = true;\n        this.readFile(false, {}, this.loaded_local_file);\n        this.is_open_button_loading = false;\n    };\n\n    onActiveIndexChange = (): void => {\n        if (this.tab_name === tabs_title.TAB_RECENT) {\n            this.previewRecentStrategy(this.selected_strategy_id);\n        } else {\n            // eslint-disable-next-line no-lonely-if\n            if (this.recent_workspace) {\n                setTimeout(() => {\n                    // Dispose of recent workspace when switching away from Recent tab.\n                    // Process in next cycle so user doesn't have to wait.\n                    this.recent_workspace.dispose();\n                    this.recent_workspace = null;\n                });\n            }\n        }\n\n        if (this.tab_name === tabs_title.TAB_LOCAL) {\n            if (!this.drop_zone) {\n                this.drop_zone = document.querySelector('load-strategy__local-dropzone-area');\n\n                if (this.drop_zone) {\n                    this.drop_zone.addEventListener('drop', event => this.handleFileChange(event, false));\n                }\n            }\n        } else {\n            // Dispose of local workspace when switching away from Local tab.\n            // eslint-disable-next-line no-lonely-if\n            if (this.local_workspace) {\n                setTimeout(() => {\n                    this.local_workspace.dispose();\n                    this.local_workspace = null;\n                    this.setLoadedLocalFile(null);\n                }, 0);\n            }\n        }\n\n        // Forget about drop zone when not on Local tab.\n        if (this.tab_name !== tabs_title.TAB_LOCAL && this.drop_zone) {\n            this.drop_zone.removeEventListener('drop', event => this.handleFileChange(event, false));\n        }\n    };\n\n    onDriveConnect = (): void => {\n        const { google_drive } = this.root_store;\n\n        if (google_drive.is_authorised) {\n            google_drive.signOut();\n        } else {\n            google_drive.signIn();\n        }\n    };\n\n    async onDriveOpen() {\n        const { loadFile } = this.root_store.google_drive;\n        const { xml_doc, file_name } = await loadFile();\n        load({ block_string: xml_doc, file_name, workspace: Blockly.derivWorkspace, from: save_types.GOOGLE_DRIVE });\n        const { active_tab } = this.root_store.dashboard;\n        if (active_tab === 1) this.toggleLoadModal();\n\n        this.root_store.dashboard.is_dialog_open = false;\n    }\n\n    onEntered = (): void => {\n        this.previewRecentStrategy(this.selected_strategy_id);\n    };\n\n    onLoadModalClose = (): void => {\n        if (this.recent_workspace) {\n            this.recent_workspace = null;\n        }\n        if (this.local_workspace) {\n            this.local_workspace = null;\n        }\n\n        this.setActiveTabIndex(0); // Reset to first tab.\n        this.setLoadedLocalFile(null);\n    };\n\n    onZoomInOutClick = (is_zoom_in: string): void => {\n        if (this.preview_workspace) {\n            this.preview_workspace.zoomCenter(is_zoom_in ? 1 : -1);\n        }\n    };\n\n    previewRecentStrategy = (workspace_id: string): void => {\n        this.setSelectedStrategyId(workspace_id);\n        if (!workspace_id) this.setSelectedStrategyId(this.current_workspace_id);\n        if (!this.selected_strategy) {\n            return;\n        }\n        const {\n            dashboard: { active_tab },\n        } = this.root_store;\n        //removed the dispose here so on switch of tab it does not\n        //throw xml error\n        if (active_tab === 1 && !this.is_load_modal_open) {\n            this.recent_workspace = null;\n            this.setLoadedLocalFile(null);\n        }\n        //to load the bot on first load\n        if (this.tab_name !== tabs_title.TAB_LOCAL && this.recent_workspace) {\n            clearInjectionDiv('store', document.getElementById('load-strategy__blockly-container'));\n            this.recent_workspace.dispose();\n            this.recent_workspace = null;\n        }\n        if (!this.recent_workspace || !this.recent_workspace.rendered) {\n            const ref = document.getElementById('load-strategy__blockly-container');\n            if (!ref) {\n                // eslint-disable-next-line no-console\n                console.warn('Could not find preview workspace element.');\n                return;\n            }\n\n            this.recent_workspace = Blockly.inject(ref, {\n                media: `${__webpack_public_path__}media/`,\n                zoom: {\n                    wheel: true,\n                    startScale: config.workspaces.previewWorkspaceStartScale,\n                },\n                readOnly: true,\n                scrollbars: true,\n            });\n        }\n        const dark_mode = document.body.classList.contains('theme--dark');\n        setColors(dark_mode);\n        this.refreshStrategiesTheme();\n        const {\n            save_modal: { updateBotName },\n        } = this.root_store;\n        updateBotName(this.selected_strategy.name);\n    };\n\n    setActiveTabIndex = (index: number): void => {\n        this.active_index = index;\n    };\n\n    setLoadedLocalFile = (loaded_local_file: boolean | null): void => {\n        this.loaded_local_file = loaded_local_file;\n    };\n\n    setRecentStrategies = (recent_strategies: string[]): void => {\n        this.recent_strategies = recent_strategies;\n    };\n\n    refreshStrategies = (): void => {\n        this.setRecentStrategies(this.recent_strategies);\n    };\n\n    setSelectedStrategyId = (selected_strategy_id: string[] | undefined): void => {\n        this.selected_strategy_id = selected_strategy_id;\n    };\n\n    toggleExplanationExpand = (): void => {\n        this.is_explanation_expand = !this.is_explanation_expand;\n    };\n\n    toggleLoadModal = (): void => {\n        this.is_load_modal_open = !this.is_load_modal_open;\n        if (this.selected_strategy_id) this.previewRecentStrategy(this.selected_strategy_id);\n    };\n\n    toggleTourLoadModal = (toggle = !this.is_load_modal_open) => {\n        this.is_load_modal_open = toggle;\n    };\n\n    updateListStrategies = (workspaces: Array<TWorkspace>): void => {\n        if (workspaces) {\n            (this.dashboard_strategies as Array<TWorkspace>) = workspaces;\n        }\n    };\n\n    getRecentFileIcon = (save_type: { [key: string]: string } | string): string => {\n        switch (save_type) {\n            case save_types.UNSAVED:\n                return 'IcReports';\n            case save_types.LOCAL:\n                return 'IcMyComputer';\n            case save_types.GOOGLE_DRIVE:\n                return 'IcGoogleDrive';\n            default:\n                return 'IcReports';\n        }\n    };\n\n    getSaveType = (save_type: { [key: string]: string } | string): string => {\n        switch (save_type) {\n            case save_types.UNSAVED:\n                return localize('Unsaved');\n            case save_types.LOCAL:\n                return localize('Local');\n            case save_types.GOOGLE_DRIVE:\n                return localize('Google Drive');\n            default:\n                return localize('Unsaved');\n        }\n    };\n\n    onToggleDeleteDialog = (is_delete_modal_open: boolean): void => {\n        this.is_delete_modal_open = is_delete_modal_open;\n    };\n\n    readFile = (is_preview: boolean, drop_event: DragEvent, file: File): void => {\n        const file_name = file && file.name.replace(/\\.[^/.]+$/, '');\n        const reader = new FileReader();\n        reader.onload = action(e => {\n            const load_options = { block_string: e.target.result, drop_event, from: save_types.LOCAL };\n            if (is_preview) {\n                const ref = document.getElementById('load-strategy__blockly-container');\n\n                this.local_workspace = Blockly.inject(ref, {\n                    media: `${__webpack_public_path__}media/`, // eslint-disable-line\n                    zoom: {\n                        wheel: false,\n                        startScale: config.workspaces.previewWorkspaceStartScale,\n                    },\n                    readOnly: true,\n                    scrollbars: true,\n                });\n                load_options.workspace = this.local_workspace;\n            } else {\n                load_options.workspace = Blockly.derivWorkspace;\n                load_options.file_name = file_name;\n            }\n            load(load_options);\n        });\n        reader.readAsText(file);\n    };\n}\n","import { action, computed, makeObservable, observable, runInAction } from 'mobx';\nimport { ApiHelpers, config, load } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { localize } from '@deriv/translations';\nimport GTM from 'Utils/gtm';\nimport { getSetting, storeSetting } from 'Utils/settings';\nimport {\n    TDropdownItems,\n    TDropdowns,\n    TDurationOptions,\n    TDurations,\n    TDurationUnitDropdown,\n    TFieldMapData,\n    TFieldsToUpdate,\n    TInputCommonFields,\n    TKeysStrategies,\n    TMarketOption,\n    TQSCache,\n    TSelectedValuesSelect,\n    TSelectsFieldNames,\n    TSetFieldValue,\n    TStrategies,\n    TSymbol,\n    TSymbolDropdown,\n    TTradeType,\n    TTradeTypeContractsFor,\n    TTradeTypeDropdown,\n    TTypeStrategiesDropdown,\n    TTypeStrategy,\n} from '../components/dashboard/quick-strategy/quick-strategy.types';\nimport RootStore from './root-store';\n\nexport default class QuickStrategyStore {\n    root_store: RootStore;\n    qs_cache: TQSCache = (getSetting('quick_strategy') as TQSCache) || {};\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            selected_symbol: observable,\n            selected_trade_type: observable,\n            selected_type_strategy: observable,\n            selected_duration_unit: observable,\n            input_duration_value: observable,\n            input_stake: observable,\n            input_alembert_unit: observable,\n            input_martingale_size: observable,\n            input_oscar_unit: observable,\n            input_loss: observable,\n            input_profit: observable,\n            is_strategy_modal_open: observable,\n            active_index: observable,\n            symbol_dropdown: observable,\n            trade_type_dropdown: observable,\n            duration_unit_dropdown: observable,\n            description: observable,\n            is_contract_dialog_open: observable,\n            is_stop_bot_dialog_open: observable,\n            initial_values: computed,\n            types_strategies_dropdown: observable,\n            onScrollStopDropdownList: action.bound,\n            getSizeDesc: action.bound,\n            getFieldMap: action.bound,\n            getFieldValue: action.bound,\n            getQuickStrategyFields: action.bound,\n            setDescription: action.bound,\n            setActiveTypeStrategyIndex: action.bound,\n            setDurationUnitDropdown: action.bound,\n            setSymbolDropdown: action.bound,\n            setTradeTypeDropdown: action.bound,\n            setTypesStrategiesDropdown: action.bound,\n            setSelectedTypeStrategy: action.bound,\n            setSelectedDurationUnit: action.bound,\n            setSelectedSymbol: action.bound,\n            setSelectedTradeType: action.bound,\n            setDurationInputValue: action.bound,\n            onChangeDropdownItem: action.bound,\n            onChangeInputValue: action.bound,\n            onHideDropdownList: action.bound,\n            loadDataStrategy: action.bound,\n            createStrategy: action.bound,\n            updateSymbolDropdown: action.bound,\n            updateTypesStrategiesDropdown: action.bound,\n            updateTradeTypeDropdown: action.bound,\n            updateDurationDropdown: action.bound,\n            updateDurationValue: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n    selected_symbol: TMarketOption = (this.qs_cache.selected_symbol as TMarketOption) || {};\n    selected_trade_type: TTradeType = (this.qs_cache.selected_trade_type as TTradeType) || {};\n    selected_type_strategy: TTypeStrategy = (this.qs_cache.selected_type_strategy as TTypeStrategy) || {};\n    selected_duration_unit: TDurationOptions = (this.qs_cache.selected_duration_unit as TDurationOptions) || {};\n    input_duration_value: string | number = this.qs_cache.input_duration_value || '';\n    input_stake: string = this.qs_cache.input_stake || '';\n    input_martingale_size: string = this.qs_cache.input_martingale_size || '';\n    input_alembert_unit: string = this.qs_cache.input_alembert_unit || '';\n    input_oscar_unit: string = this.qs_cache.input_oscar_unit || '';\n    input_loss: string = this.qs_cache.input_loss || '';\n    input_profit: string = this.qs_cache.input_profit || '';\n    active_index: number = this.selected_type_strategy.index || 0;\n    description: string = this.qs_cache.selected_type_strategy?.description || '';\n    types_strategies_dropdown: TTypeStrategiesDropdown = [];\n    symbol_dropdown: TSymbolDropdown = [];\n    trade_type_dropdown: TTradeTypeDropdown = [];\n    duration_unit_dropdown: TDurationUnitDropdown = [];\n    is_contract_dialog_open = false;\n    is_stop_bot_dialog_open = false;\n    is_strategy_modal_open = false;\n\n    get initial_values() {\n        const init = {\n            'quick-strategy__type-strategy':\n                this.getFieldValue(this.types_strategies_dropdown, this.selected_type_strategy.value) || '',\n            'quick-strategy__symbol': this.getFieldValue(this.symbol_dropdown, this.selected_symbol.value) || '',\n            'quick-strategy__trade-type':\n                this.getFieldValue(this.trade_type_dropdown, this.selected_trade_type.value) || '',\n            'quick-strategy__duration-unit':\n                this.getFieldValue(this.duration_unit_dropdown, this.selected_duration_unit.value) || '',\n            'quick-strategy__duration-value': this.input_duration_value || '',\n            'quick-strategy__stake': this.input_stake,\n            ...(this.active_index === 0 && { 'martingale-size': this.input_martingale_size || '' }),\n            ...(this.active_index === 1 && { 'alembert-unit': this.input_alembert_unit || '' }),\n            ...(this.active_index === 2 && { 'oscar-unit': this.input_oscar_unit || '' }),\n\n            'quick-strategy__loss': this.input_loss || '',\n            'quick-strategy__profit': this.input_profit || '',\n        };\n        storeSetting('quick_strategy', this.qs_cache);\n\n        return init;\n    }\n\n    setActiveTypeStrategyIndex(index: number): void {\n        this.active_index = index;\n    }\n\n    setDescription(type_strategy: TTypeStrategy): void {\n        this.description =\n            this.types_strategies_dropdown?.find(strategy => strategy.value === type_strategy.value)?.description || '';\n    }\n\n    setDurationUnitDropdown(duration_unit_options: TDurationUnitDropdown): void {\n        this.duration_unit_dropdown = duration_unit_options;\n    }\n\n    setSymbolDropdown(symbol_options: TSymbolDropdown): void {\n        this.symbol_dropdown = symbol_options;\n    }\n\n    setTradeTypeDropdown(trade_type_options: TTradeTypeDropdown): void {\n        this.trade_type_dropdown = trade_type_options;\n    }\n\n    setSelectedDurationUnit(duration_unit: TDurationOptions): void {\n        this.qs_cache.selected_duration_unit = duration_unit;\n        this.selected_duration_unit = duration_unit;\n    }\n\n    setTypesStrategiesDropdown(types_strategies_options: TTypeStrategiesDropdown): void {\n        this.types_strategies_dropdown = types_strategies_options;\n    }\n\n    setSelectedTypeStrategy(type_strategy: TTypeStrategy): void {\n        this.qs_cache.selected_type_strategy = type_strategy;\n        this.selected_type_strategy = type_strategy;\n        this.setDescription(type_strategy);\n    }\n\n    setSelectedSymbol(symbol: TMarketOption): void {\n        this.qs_cache.selected_symbol = symbol;\n        this.selected_symbol = symbol;\n        delete this.qs_cache.selected_duration_unit;\n        delete this.qs_cache.selected_trade_type;\n    }\n\n    setSelectedTradeType(trade_type: TTradeType): void {\n        this.qs_cache.selected_trade_type = trade_type;\n        this.selected_trade_type = trade_type;\n        delete this.qs_cache.selected_duration_unit;\n    }\n\n    setDurationInputValue(duration_value: string | number): void {\n        this.qs_cache.input_duration_value = duration_value;\n        this.input_duration_value = duration_value;\n    }\n\n    onChangeDropdownItem(type: TDropdownItems, value: string, setFieldValue: TSetFieldValue): void {\n        if (!value) {\n            return;\n        }\n\n        const field_map = this.getFieldMap(type);\n        if (type === 'symbol') {\n            this.updateTradeTypeDropdown(value, setFieldValue);\n\n            const symbol = this.symbol_dropdown.find(item => item.value === value);\n\n            if (symbol) {\n                this.setSelectedSymbol(symbol);\n                setFieldValue(field_map?.field_name, symbol.text);\n            }\n        } else if (type === 'trade-type') {\n            this.updateDurationDropdown(this.selected_symbol.value, value, setFieldValue);\n\n            const trade_type = this.trade_type_dropdown.find(item => item.value === value);\n\n            if (trade_type) {\n                this.setSelectedTradeType(trade_type);\n                setFieldValue(field_map?.field_name, trade_type.text);\n            }\n        } else if (type === 'duration-unit') {\n            this.updateDurationValue(value, setFieldValue);\n\n            const duration_unit = this.duration_unit_dropdown.find(item => item.value === value);\n\n            if (duration_unit) {\n                this.setSelectedDurationUnit(duration_unit);\n                setFieldValue(field_map?.field_name, duration_unit.text);\n            }\n        } else if (type === 'type-strategy') {\n            const typeStrategy = this.types_strategies_dropdown.find(item => item.value === value);\n\n            if (typeStrategy) {\n                this.setSelectedTypeStrategy(typeStrategy);\n                this.setActiveTypeStrategyIndex(typeStrategy.index);\n                setFieldValue(field_map?.field_name, typeStrategy.text);\n            }\n        }\n    }\n\n    onChangeInputValue(field: TInputCommonFields, event: React.ChangeEvent<HTMLInputElement>): void {\n        this.qs_cache[field] = event.currentTarget.value;\n        this[field] = event.currentTarget.value;\n        storeSetting('quick_strategy', this.qs_cache);\n    }\n\n    onHideDropdownList(type: TDropdownItems, value: TSelectsFieldNames, setFieldValue: TSetFieldValue): void {\n        const field_map = this.getFieldMap(type);\n        const item = field_map.dropdown?.find(i => i.text.toLowerCase() === value.toLowerCase()) || field_map.selected;\n\n        // Don't allow bogus input.\n        if (!item) {\n            setFieldValue(field_map?.field_name, '');\n            return;\n        }\n        // Restore value if user closed list.\n        if (item.text !== value) {\n            setFieldValue(field_map?.field_name, item.text);\n        }\n        // Update item if different item was typed.\n        if (item !== field_map.selected) {\n            field_map.setSelected(item);\n        }\n    }\n\n    async loadDataStrategy() {\n        this.root_store.flyout.setVisibility(false);\n        this.is_strategy_modal_open = !this.is_strategy_modal_open;\n\n        if (this.is_strategy_modal_open) {\n            await this.updateSymbolDropdown();\n            await this.updateTypesStrategiesDropdown();\n        }\n    }\n\n    async createStrategy({ button }: Record<'button', 'run' | 'edit'>) {\n        const symbol = this.selected_symbol.value;\n        const trade_type = this.selected_trade_type.value;\n        const duration_unit = this.selected_duration_unit.value;\n        const duration_value = this.input_duration_value;\n        const stake = this.input_stake;\n        const size = this.input_martingale_size;\n        const alembert_unit = this.input_alembert_unit;\n        const oscar_unit = this.input_oscar_unit;\n        const loss = this.input_loss;\n        const profit = this.input_profit;\n\n        const { contracts_for } = ApiHelpers.instance;\n        const market = await contracts_for.getMarketBySymbol(symbol);\n        const submarket = await contracts_for.getSubmarketBySymbol(symbol);\n        const trade_type_cat = await contracts_for.getTradeTypeCategoryByTradeType(trade_type);\n\n        const { strategies } = config;\n        const strategy_name = Object.keys(strategies).find(s => strategies[s].index === this.active_index);\n        const strategy_xml = await import(/* webpackChunkName: `[request]` */ `../xml/${strategy_name}.xml`);\n        const strategy_dom = Blockly.Xml.textToDom(strategy_xml.default);\n\n        const modifyValueInputs = (key: string, value: number) => {\n            const el_value_inputs = strategy_dom.querySelectorAll(`value[strategy_value=\"${key}\"]`);\n\n            el_value_inputs.forEach((el_value_input: HTMLElement) => {\n                el_value_input.innerHTML = `<shadow type=\"math_number\"><field name=\"NUM\">${value}</field></shadow>`;\n            });\n        };\n\n        const modifyFieldDropdownValues = (name: string, value: string) => {\n            const name_list = `${name.toUpperCase()}_LIST`;\n            const el_blocks = strategy_dom.querySelectorAll(`field[name=\"${name_list}\"]`);\n\n            el_blocks.forEach((el_block: HTMLElement) => {\n                el_block.innerHTML = value;\n            });\n        };\n\n        const fields_to_update: TFieldsToUpdate = {\n            market,\n            submarket,\n            symbol,\n            tradetype: trade_type,\n            tradetypecat: trade_type_cat,\n            durationtype: duration_unit,\n            duration: duration_value,\n            stake,\n            size,\n            alembert_unit,\n            oscar_unit,\n            loss,\n            profit,\n        };\n\n        Object.keys(fields_to_update).forEach(key => {\n            const value = fields_to_update[key as keyof typeof fields_to_update];\n\n            if (!isNaN(value as number)) {\n                modifyValueInputs(key, value as number);\n            } else if (typeof value === 'string') {\n                modifyFieldDropdownValues(key, value);\n            }\n        });\n\n        const file_name = (strategies as TStrategies)?.[strategy_name as TKeysStrategies]?.label || localize('Unknown');\n\n        const { derivWorkspace: workspace } = Blockly;\n\n        load({ block_string: Blockly.Xml.domToText(strategy_dom), file_name, workspace, from: save_types.UNSAVED });\n\n        if (button === 'run') {\n            workspace\n                .waitForBlockEvent({\n                    block_type: 'trade_definition',\n                    event_type: Blockly.Events.BLOCK_CREATE,\n                    timeout: 5000,\n                })\n                .then(() => {\n                    this.root_store.run_panel.onRunButtonClick();\n                });\n        }\n        if (this.is_strategy_modal_open) {\n            this.loadDataStrategy();\n        }\n    }\n\n    async updateSymbolDropdown() {\n        const { active_symbols } = ApiHelpers.instance;\n        const symbols = active_symbols.getAllSymbols(/* should_be_open */ true);\n\n        const symbol_options = symbols.map((symbol: TSymbol) => ({\n            group: symbol.submarket_display,\n            text: symbol.symbol_display,\n            value: symbol.symbol,\n        }));\n\n        this.setSymbolDropdown(symbol_options);\n\n        if (!this.selected_symbol.value && symbol_options.length) {\n            this.selected_symbol = symbol_options[0];\n        }\n\n        await this.updateTradeTypeDropdown(this.selected_symbol.value);\n    }\n\n    async updateTradeTypeDropdown(symbol: string, setFieldValue?: TSetFieldValue) {\n        const { contracts_for } = ApiHelpers.instance;\n        const trade_type_options: TTradeTypeDropdown = [];\n        const market = contracts_for.getMarketBySymbol(symbol);\n        const submarket = contracts_for.getSubmarketBySymbol(symbol);\n        const trade_type_categories = await contracts_for.getTradeTypeCategories(market, submarket, symbol);\n\n        const filtered_trade_type_categories = [];\n\n        for (let i = 0; i < trade_type_categories.length; i++) {\n            const trade_type_category = trade_type_categories[i];\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await contracts_for.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            const hidden_categories = this.getHiddenCategories(trade_types);\n\n            if (hidden_categories < trade_types.length) {\n                filtered_trade_type_categories.push(trade_type_category);\n            }\n        }\n\n        for (let i = 0; i < filtered_trade_type_categories.length; i++) {\n            const trade_type_category = filtered_trade_type_categories[i]; // e.g. ['Up/Down', 'callput']\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await contracts_for.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            trade_type_options.push(...this.getTradeTypeOptions(trade_types, trade_type_category));\n        }\n\n        this.setTradeTypeDropdown(trade_type_options);\n        let first_trade_type = trade_type_options[0];\n\n        if (this.selected_trade_type && trade_type_options.some(e => e.value === this.selected_trade_type.value)) {\n            first_trade_type = this.selected_trade_type;\n            runInAction(() => {\n                first_trade_type.text = this.getFieldValue(this.trade_type_dropdown, this.selected_trade_type.value);\n            });\n        } else {\n            delete this.qs_cache?.selected_trade_type;\n        }\n        if (first_trade_type) {\n            this.setSelectedTradeType(first_trade_type);\n            await this.updateDurationDropdown(\n                this.selected_symbol.value,\n                this.selected_trade_type.value,\n                setFieldValue\n            );\n\n            if (setFieldValue) {\n                setFieldValue('quick-strategy__trade-type', first_trade_type.text);\n            }\n        }\n    }\n\n    async updateTypesStrategiesDropdown() {\n        const { strategies } = config;\n        const types_strategies = Object.values(strategies as TStrategies).map(strategy => ({\n            index: strategy.index,\n            text: strategy.label,\n            value: strategy.label,\n            description: strategy.description,\n        }));\n\n        this.setTypesStrategiesDropdown(types_strategies);\n        let first_type_strategy = types_strategies[0];\n        if (this.selected_type_strategy && types_strategies.some(e => e.value === this.selected_type_strategy.value)) {\n            first_type_strategy = this.selected_type_strategy;\n            runInAction(() => {\n                first_type_strategy.text = this.getFieldValue(types_strategies, this.selected_type_strategy.value);\n            });\n        } else {\n            delete this.qs_cache.selected_type_strategy;\n        }\n        if (first_type_strategy) {\n            this.setSelectedTypeStrategy(first_type_strategy);\n        }\n    }\n\n    async updateDurationDropdown(symbol: string, trade_type: string, setFieldValue?: TSetFieldValue) {\n        const { contracts_for } = ApiHelpers.instance;\n        const durations = await contracts_for.getDurations(symbol, trade_type);\n\n        const duration_options = (durations as TDurations).map(duration => ({\n            text: duration.display,\n            value: duration.unit,\n            min: duration.min,\n            max: duration.max,\n        }));\n        this.setDurationUnitDropdown(duration_options);\n        let first_duration_unit: TDurationOptions = duration_options[0];\n        if (this.selected_duration_unit && duration_options?.some(e => e.value === this.selected_duration_unit.value)) {\n            first_duration_unit =\n                duration_options?.find(e => e.value === this.selected_duration_unit.value) ||\n                this.selected_duration_unit;\n            runInAction(() => {\n                first_duration_unit.text = this.getFieldValue(duration_options, this.selected_duration_unit.value);\n            });\n        } else {\n            delete this.qs_cache?.selected_duration_unit;\n        }\n        if (first_duration_unit) {\n            this.setSelectedDurationUnit(first_duration_unit);\n            this.updateDurationValue(\n                this.qs_cache?.selected_duration_unit?.value || this.selected_duration_unit.value,\n                setFieldValue\n            );\n\n            if (setFieldValue) {\n                setFieldValue('quick-strategy__duration-unit', first_duration_unit.text);\n            }\n        }\n    }\n\n    async updateDurationValue(duration_type: string, setFieldValue?: TSetFieldValue) {\n        const { contracts_for } = ApiHelpers.instance;\n        const durations = await contracts_for.getDurations(this.selected_symbol.value, this.selected_trade_type.value);\n        const min_duration = (durations as TDurations).find(duration => duration.unit === duration_type);\n        if (min_duration) {\n            let duration_input_value: number | string = min_duration.min;\n            const cache_unit = this.qs_cache?.input_duration_value;\n            if (cache_unit && cache_unit < min_duration.max && cache_unit > min_duration.min) {\n                duration_input_value = cache_unit;\n            } else {\n                delete this.qs_cache?.input_duration_value;\n            }\n            this.setDurationInputValue(duration_input_value);\n\n            if (setFieldValue) {\n                setFieldValue('quick-strategy__duration-value', duration_input_value);\n            }\n        }\n    }\n\n    onScrollStopDropdownList = (type: TDropdownItems): void => {\n        GTM.pushDataLayer({ event: `dbot_quick_strategy_scroll_${type}` });\n    };\n\n    getSizeDesc = (index: number): string => {\n        switch (index) {\n            case 0:\n                return 'The multiplier amount used to increase your stake if youre losing a trade. Value must be higher than 2.';\n            case 1:\n                return 'The amount that you may add to your stake if youre losing a trade.';\n            case 2:\n                return 'The amount that you may add to your stake after each successful trade.';\n            default:\n                return '';\n        }\n    };\n\n    getFieldMap = (type: TDropdownItems): TFieldMapData => {\n        const field_mapping = {\n            symbol: {\n                field_name: 'quick-strategy__symbol',\n                dropdown: this.symbol_dropdown,\n                selected: this.selected_symbol,\n                setSelected: this.setSelectedSymbol,\n            },\n            'trade-type': {\n                field_name: 'quick-strategy__trade-type',\n                dropdown: this.trade_type_dropdown,\n                selected: this.selected_trade_type,\n                setSelected: this.setSelectedTradeType,\n            },\n            'duration-unit': {\n                field_name: 'quick-strategy__duration-unit',\n                dropdown: this.duration_unit_dropdown,\n                selected: this.selected_duration_unit,\n                setSelected: this.setSelectedDurationUnit,\n            },\n            'type-strategy': {\n                field_name: 'quick-strategy__type-strategy',\n                dropdown: this.types_strategies_dropdown,\n                selected: this.selected_type_strategy,\n                setSelected: this.setSelectedTypeStrategy,\n            },\n        };\n        return field_mapping[type] as TFieldMapData;\n    };\n\n    getFieldValue = (list_items: TDropdowns, value: string): string => {\n        const list_obj: TSelectedValuesSelect =\n            list_items?.find(item =>\n                typeof item.value !== 'string'\n                    ? item.value === value\n                    : item.value?.toLowerCase() === value?.toLowerCase()\n            ) || {};\n\n        return typeof list_obj !== 'string' ? list_obj?.text : '';\n    };\n\n    getQuickStrategyFields = (): void => {\n        return getSetting('quick_strategy');\n    };\n\n    getHiddenCategories = (trade_types: Array<TTradeTypeContractsFor>) => {\n        // TODO: Temporary filtering of barrier + prediction types. Should later\n        // render more inputs for these types. We should only filter out trade type\n        // categories which only feature prediction/barrier trade types. e.g.\n        // in Digits category, users can still purchase Even/Odd types.\n        let hidden_categories = 0;\n\n        for (let j = 0; j < trade_types.length; j++) {\n            const trade_type = trade_types[j];\n            const has_barrier = config.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n\n            if (has_barrier || has_prediction) {\n                hidden_categories++;\n            }\n        }\n\n        return hidden_categories;\n    };\n\n    getTradeTypeOptions = (trade_types: Array<TTradeTypeContractsFor>, trade_type_category: Array<string>) => {\n        const trade_type_options: TTradeTypeDropdown = [];\n        trade_types.forEach((trade_type: TTradeTypeContractsFor) => {\n            const has_barrier = config.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n            const is_muliplier = ['multiplier'].includes(trade_type.value);\n\n            // TODO: Render extra inputs for barrier + prediction and multiplier types.\n            if (!has_barrier && !has_prediction && !is_muliplier) {\n                trade_type_options.push({\n                    text: trade_type.name,\n                    value: trade_type.value,\n                    group: trade_type_category[0],\n                    icon: trade_type.icon,\n                });\n            }\n        });\n        return trade_type_options;\n    };\n\n    toggleStopBotDialog = (): void => {\n        this.is_contract_dialog_open = !this.is_contract_dialog_open;\n        this.is_stop_bot_dialog_open = !this.is_stop_bot_dialog_open;\n    };\n}\n","import { action, makeObservable, observable } from 'mobx';\n\nexport default class RoutePromptDialogStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            should_show: observable,\n            is_confirmed: observable,\n            last_location: observable,\n            shouldNavigateAfterPrompt: action.bound,\n            onConfirm: action.bound,\n            onCancel: action.bound,\n            continueRoute: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    should_show = false;\n    is_confirmed = false;\n    last_location = null;\n\n    shouldNavigateAfterPrompt(next_location) {\n        if (!this.is_confirmed) {\n            this.last_location = next_location;\n            this.should_show = true;\n            return false;\n        }\n\n        return true;\n    }\n\n    onConfirm() {\n        this.should_show = false;\n        this.is_confirmed = true;\n    }\n\n    onCancel() {\n        this.should_show = false;\n    }\n\n    continueRoute() {\n        const { common } = this.core;\n        if (this.is_confirmed && this.last_location) common.routeTo(this.last_location.pathname);\n    }\n}\n","export const run_panel = Object.freeze({\n    SUMMARY: 0,\n    TRANSACTIONS: 1,\n    JOURNAL: 2,\n});\n","import { platform_name } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport const switch_account_notification = {\n    key: 'bot_switch_account',\n    header: localize('You have switched accounts.'),\n    message: localize(\n        'Our system will finish any DBot trades that are running, and DBot will not place any new trades.'\n    ),\n    type: 'warning',\n    is_persistent: true,\n};\n\nexport const journalError = onClick => {\n    return {\n        key: 'bot_error',\n        header: localize('The bot encountered an error while running.'),\n        action: {\n            text: localize('View in Journal'),\n            onClick,\n        },\n        type: 'danger',\n        platform: [platform_name.DBot],\n        is_disposable: true,\n    };\n};\n","import React from 'react';\nimport { action, computed, makeObservable, observable, reaction, runInAction } from 'mobx';\nimport { error_types, message_types, observer, unrecoverable_errors } from '@deriv/bot-skeleton';\nimport { isSafari, mobileOSDetect } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { run_panel } from 'Constants/run-panel';\nimport { journalError, switch_account_notification } from 'Utils/bot-notifications';\n\nexport default class RunPanelStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            active_index: observable,\n            contract_stage: observable,\n            dialog_options: observable,\n            has_open_contract: observable,\n            is_running: observable,\n            is_statistics_info_modal_open: observable,\n            is_drawer_open: observable,\n            is_dialog_open: observable,\n            is_sell_requested: observable,\n            run_id: observable,\n            error_type: observable,\n            statistics: computed,\n            is_stop_button_visible: computed,\n            is_stop_button_disabled: computed,\n            is_clear_stat_disabled: computed,\n            onStopButtonClick: action.bound,\n            stopBot: action.bound,\n            onClearStatClick: action.bound,\n            clearStat: action.bound,\n            toggleStatisticsInfoModal: action.bound,\n            toggleDrawer: action.bound,\n            setActiveTabIndex: action.bound,\n            onCloseDialog: action.bound,\n            performSelfExclusionCheck: action.bound,\n            showStopMultiplierContractDialog: action.bound,\n            showLoginDialog: action.bound,\n            showRealAccountDialog: action.bound,\n            showClearStatDialog: action.bound,\n            showIncompatibleStrategyDialog: action.bound,\n            showContractUpdateErrorDialog: action.bound,\n            onBotSellEvent: action.bound,\n            onBotStopEvent: action.bound,\n            onBotTradeAgain: action.bound,\n            onContractStatusEvent: action.bound,\n            onClickSell: action.bound,\n            onBotContractEvent: action.bound,\n            onError: action.bound,\n            showErrorMessage: action.bound,\n            switchToJournal: action.bound,\n            setContractStage: action.bound,\n            setHasOpenContract: action.bound,\n            setIsRunning: action.bound,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            handleInvalidToken: action.bound,\n            onRunButtonClick: action.bound,\n            registerBotListeners: action.bound,\n            registerReactions: action.bound,\n            onBotRunningEvent: action.bound,\n            unregisterBotListeners: action.bound,\n            clear: action.bound,\n            preloadAudio: action.bound,\n            stopMyBot: action.bound,\n            closeMultiplierContract: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.dbot = this.root_store.dbot;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n\n    active_index = 0;\n    contract_stage = contract_stages.NOT_RUNNING;\n    dialog_options = {};\n    has_open_contract = false;\n    is_running = false;\n    is_statistics_info_modal_open = false;\n    is_drawer_open = true;\n    is_dialog_open = false;\n    is_sell_requested = false;\n\n    run_id = '';\n\n    // when error happens, if it is unrecoverable_errors we reset run-panel\n    // we activate run-button and clear trade info and set the ContractStage to NOT_RUNNING\n    // otherwise we keep opening new contracts and set the ContractStage to PURCHASE_SENT\n    error_type = undefined;\n\n    get statistics() {\n        let total_runs = 0;\n        const { transactions } = this.root_store.transactions;\n        const statistics = transactions.reduce(\n            (stats, { data: trx }) => {\n                if (trx.is_completed) {\n                    if (trx.profit > 0) {\n                        stats.won_contracts += 1;\n                        stats.total_payout += trx.payout;\n                    } else {\n                        stats.lost_contracts += 1;\n                    }\n\n                    stats.total_profit += trx.profit;\n                    stats.total_stake += trx.buy_price;\n                    total_runs += 1;\n                }\n\n                return stats;\n            },\n            {\n                lost_contracts: 0,\n                number_of_runs: 0,\n                total_profit: 0,\n                total_payout: 0,\n                total_stake: 0,\n                won_contracts: 0,\n            }\n        );\n\n        statistics.number_of_runs = total_runs;\n        return statistics;\n    }\n\n    get is_stop_button_visible() {\n        return this.is_running || this.has_open_contract;\n    }\n\n    get is_stop_button_disabled() {\n        return [contract_stages.PURCHASE_SENT, contract_stages.IS_STOPPING].includes(this.contract_stage);\n    }\n\n    get is_clear_stat_disabled() {\n        const { journal, transactions } = this.root_store;\n\n        return (\n            this.is_running ||\n            this.has_open_contract ||\n            (journal.unfiltered_messages.length === 0 && transactions.elements.length === 0)\n        );\n    }\n\n    async performSelfExclusionCheck() {\n        const { self_exclusion } = this.root_store;\n        await self_exclusion.checkRestriction();\n    }\n\n    async onRunButtonClick() {\n        const { summary_card, route_prompt_dialog, self_exclusion } = this.root_store;\n        const { client, ui } = this.core;\n        const is_ios = mobileOSDetect() === 'iOS';\n        this.dbot.saveRecentWorkspace();\n        this.dbot.unHighlightAllBlocks();\n        if (!client.is_logged_in) {\n            this.showLoginDialog();\n            return;\n        }\n\n        /**\n         * Due to Apple's policy on cellular data usage in ios audioElement.play() should be initially called on\n         * user action(e.g click/touch) to be downloaded, otherwise throws an error. Also it should be called\n         * syncronously, so keep above await.\n         */\n        if (is_ios || isSafari()) this.preloadAudio();\n\n        if (!self_exclusion.should_bot_run) {\n            self_exclusion.setIsRestricted(true);\n            return;\n        }\n        self_exclusion.setIsRestricted(false);\n\n        this.registerBotListeners();\n\n        if (!this.dbot.shouldRunBot()) {\n            this.unregisterBotListeners();\n            return;\n        }\n\n        ui.setAccountSwitcherDisabledMessage(\n            localize(\n                'Account switching is disabled while your bot is running. Please stop your bot before switching accounts.'\n            )\n        );\n        runInAction(() => {\n            this.setIsRunning(true);\n            ui.setPromptHandler(true, route_prompt_dialog.shouldNavigateAfterPrompt);\n            this.toggleDrawer(true);\n            this.run_id = `run-${Date.now()}`;\n\n            summary_card.clear();\n            this.setContractStage(contract_stages.STARTING);\n            this.dbot.runBot();\n        });\n    }\n\n    onStopButtonClick() {\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.showStopMultiplierContractDialog();\n        } else {\n            this.stopBot();\n        }\n    }\n\n    stopBot() {\n        const { ui } = this.core;\n\n        this.dbot.stopBot();\n\n        ui.setPromptHandler(false);\n\n        if (this.error_type) {\n            // when user click stop button when there is a error but bot is retrying\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.setIsRunning(false);\n        } else if (this.has_open_contract) {\n            // when user click stop button when bot is running\n            this.setContractStage(contract_stages.IS_STOPPING);\n        } else {\n            // when user click stop button before bot start running\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            this.unregisterBotListeners();\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.setIsRunning(false);\n        }\n\n        if (this.error_type) {\n            this.error_type = undefined;\n        }\n    }\n\n    onClearStatClick() {\n        this.showClearStatDialog();\n    }\n\n    clearStat() {\n        const { summary_card, journal, transactions } = this.root_store;\n\n        this.setIsRunning(false);\n        this.setHasOpenContract(false);\n        this.clear();\n        journal.clear();\n        summary_card.clear();\n        transactions.clear();\n        this.setContractStage(contract_stages.NOT_RUNNING);\n    }\n\n    toggleStatisticsInfoModal() {\n        this.is_statistics_info_modal_open = !this.is_statistics_info_modal_open;\n    }\n\n    toggleDrawer(is_open) {\n        this.is_drawer_open = is_open;\n    }\n\n    setActiveTabIndex(index) {\n        this.active_index = index;\n\n        if (this.active_index !== 1) {\n            this.root_store.transactions.setActiveTransactionId(null);\n        }\n    }\n\n    onCloseDialog() {\n        this.is_dialog_open = false;\n    }\n\n    stopMyBot() {\n        const { summary_card, quick_strategy } = this.root_store;\n        const { ui } = this.core;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        ui.setPromptHandler(false);\n        this.dbot.terminateBot();\n        this.onCloseDialog();\n        summary_card.clear();\n        toggleStopBotDialog();\n    }\n\n    closeMultiplierContract() {\n        const { quick_strategy } = this.root_store;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        this.onClickSell();\n        this.stopBot();\n        this.onCloseDialog();\n        toggleStopBotDialog();\n    }\n\n    showStopMultiplierContractDialog() {\n        const { summary_card } = this.root_store;\n        const { ui } = this.core;\n\n        this.onOkButtonClick = () => {\n            ui.setPromptHandler(false);\n            this.dbot.terminateBot();\n            this.onCloseDialog();\n            summary_card.clear();\n        };\n        this.onCancelButtonClick = () => {\n            this.onClickSell();\n            this.stopBot();\n            this.onCloseDialog();\n        };\n        this.dialog_options = {\n            title: localize('Keep your current contract?'),\n            message: (\n                <Localize\n                    i18n_default_text='Would you like to keep your current contract or close it? If you decide to keep it running, you can check and close it later on the <0>Reports</0> page.'\n                    components={[\n                        <a\n                            key={0}\n                            className='link'\n                            rel='noopener noreferrer'\n                            target='_blank'\n                            href='/reports/positions'\n                        />,\n                    ]}\n                />\n            ),\n            ok_button_text: localize('Keep my contract'),\n            cancel_button_text: localize('Close my contract'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showLoginDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Please log in'),\n            message: localize('You need to log in to run the bot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showRealAccountDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize(\"DBot isn't quite ready for real accounts\"),\n            message: localize('Please switch to your demo account to run your DBot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showClearStatDialog() {\n        this.onOkButtonClick = () => {\n            this.clearStat();\n            this.onCloseDialog();\n        };\n        this.onCancelButtonClick = this.onCloseDialog;\n        this.dialog_options = {\n            title: localize('Are you sure?'),\n            message: localize(\n                'This will clear all data in the summary, transactions, and journal panels. All counters will be reset to zero.'\n            ),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showIncompatibleStrategyDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Import error'),\n            message: localize('This strategy is currently not compatible with DBot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showContractUpdateErrorDialog(message) {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Contract Update Error'),\n            message: localize(message),\n        };\n        this.is_dialog_open = true;\n    }\n\n    registerBotListeners() {\n        const { summary_card, transactions } = this.root_store;\n\n        observer.register('bot.running', this.onBotRunningEvent);\n        observer.register('bot.sell', this.onBotSellEvent);\n        observer.register('bot.stop', this.onBotStopEvent);\n        observer.register('bot.click_stop', this.onStopButtonClick);\n        observer.register('bot.trade_again', this.onBotTradeAgain);\n        observer.register('contract.status', this.onContractStatusEvent);\n        observer.register('bot.contract', this.onBotContractEvent);\n        observer.register('bot.contract', summary_card.onBotContractEvent);\n        observer.register('bot.contract', transactions.onBotContractEvent);\n        observer.register('Error', this.onError);\n    }\n\n    registerReactions() {\n        const { client, common, notifications } = this.core;\n\n        const registerIsSocketOpenedListener = () => {\n            if (common.is_socket_opened) {\n                this.disposeIsSocketOpenedListener = reaction(\n                    () => client.loginid,\n                    loginid => {\n                        if (loginid && this.is_running) {\n                            notifications.addNotificationMessage(switch_account_notification);\n                        }\n                        this.dbot.terminateBot();\n                        this.unregisterBotListeners();\n                    }\n                );\n            } else if (typeof this.disposeLogoutListener === 'function') {\n                this.disposeLogoutListener();\n            }\n        };\n\n        registerIsSocketOpenedListener();\n\n        this.disposeLogoutListener = reaction(\n            () => common.is_socket_opened,\n            () => registerIsSocketOpenedListener()\n        );\n\n        this.disposeStopBotListener = reaction(\n            () => !this.is_running,\n            () => {\n                if (!this.is_running) this.setContractStage(contract_stages.NOT_RUNNING);\n            }\n        );\n\n        return () => {\n            if (typeof this.disposeIsSocketOpenedListener === 'function') {\n                this.disposeIsSocketOpenedListener();\n            }\n\n            if (typeof this.disposeLogoutListener === 'function') {\n                this.disposeLogoutListener();\n            }\n\n            if (typeof this.disposeStopBotListener === 'function') {\n                this.disposeStopBotListener();\n            }\n        };\n    }\n\n    onBotRunningEvent() {\n        this.setHasOpenContract(true);\n\n        // prevent new version update\n        const ignore_new_version = new Event('IgnorePWAUpdate');\n        document.dispatchEvent(ignore_new_version);\n        const { self_exclusion } = this.root_store;\n\n        if (self_exclusion.should_bot_run && self_exclusion.run_limit !== -1) {\n            self_exclusion.run_limit -= 1;\n            if (self_exclusion.run_limit < 0) {\n                this.onStopButtonClick();\n            }\n        }\n    }\n\n    onBotSellEvent() {\n        this.is_sell_requested = true;\n    }\n\n    onBotStopEvent() {\n        const { self_exclusion, summary_card } = this.root_store;\n        const { ui } = this.core;\n        const indicateBotStopped = () => {\n            this.error_type = undefined;\n            this.setIsRunning(false);\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.unregisterBotListeners();\n            self_exclusion.resetSelfExclusion();\n        };\n        if (this.error_type === error_types.RECOVERABLE_ERRORS) {\n            // Bot should indicate it started in below cases:\n            // - When error happens it's a recoverable error\n            const { shouldRestartOnError, timeMachineEnabled } = this.dbot.interpreter.bot.tradeEngine.options;\n            const is_bot_recoverable = shouldRestartOnError || timeMachineEnabled;\n\n            if (is_bot_recoverable) {\n                this.error_type = undefined;\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n            } else {\n                indicateBotStopped();\n            }\n        } else if (this.error_type === error_types.UNRECOVERABLE_ERRORS) {\n            // Bot should indicate it stopped in below cases:\n            // - When error happens and it's an unrecoverable error\n            indicateBotStopped();\n        } else if (this.has_open_contract) {\n            // Bot should indicate the contract is closed in below cases:\n            // - When bot was running and an error happens\n            this.error_type = undefined;\n            this.setIsRunning(false);\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.unregisterBotListeners();\n            self_exclusion.resetSelfExclusion();\n        }\n\n        this.setHasOpenContract(false);\n\n        summary_card.clearContractUpdateConfigValues();\n\n        // listen for new version update\n        const listen_new_version = new Event('ListenPWAUpdate');\n        document.dispatchEvent(listen_new_version);\n    }\n\n    onBotTradeAgain(is_trade_again) {\n        if (!is_trade_again) {\n            this.onStopButtonClick();\n        }\n    }\n\n    onContractStatusEvent(contract_status) {\n        switch (contract_status.id) {\n            case 'contract.purchase_sent': {\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n                break;\n            }\n            case 'contract.purchase_received': {\n                this.setContractStage(contract_stages.PURCHASE_RECEIVED);\n\n                // Close transaction-specific popover, if any.\n                this.root_store.transactions.setActiveTransactionId(null);\n\n                const { buy } = contract_status;\n                const { is_virtual } = this.core.client;\n\n                if (!is_virtual) {\n                    this.core.gtm.pushDataLayer({ event: 'dbot_purchase', buy_price: buy.buy_price });\n                }\n\n                break;\n            }\n            case 'contract.sold': {\n                this.is_sell_requested = false;\n                this.setContractStage(contract_stages.CONTRACT_CLOSED);\n                break;\n            }\n            default:\n                break;\n        }\n    }\n\n    onClickSell() {\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.setContractStage(contract_stages.IS_STOPPING);\n        }\n\n        this.dbot.interpreter.bot.getInterface().sellAtMarket();\n    }\n\n    clear = () => {\n        observer.emit('statistics.clear');\n    };\n\n    onBotContractEvent(data) {\n        if (data?.is_sold) {\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n        }\n    }\n\n    onError(data) {\n        // data.error for API errors, data for code errors\n        const error = data.error || data;\n        if (unrecoverable_errors.includes(error.code)) {\n            this.root_store.summary_card.clear();\n            this.error_type = error_types.UNRECOVERABLE_ERRORS;\n        } else {\n            this.error_type = error_types.RECOVERABLE_ERRORS;\n        }\n\n        const error_message = error?.message;\n        this.showErrorMessage(error_message);\n    }\n\n    showErrorMessage(data) {\n        const { journal } = this.root_store;\n        const { notifications } = this.core;\n        journal.onError(data);\n        if (journal.journal_filters.some(filter => filter === message_types.ERROR)) {\n            this.toggleDrawer(true);\n            this.setActiveTabIndex(run_panel.JOURNAL);\n        } else {\n            notifications.addNotificationMessage(journalError(this.switchToJournal));\n            notifications.removeNotificationMessage({ key: 'bot_error' });\n        }\n    }\n\n    switchToJournal() {\n        const { journal } = this.root_store;\n        const { notifications } = this.core;\n        journal.journal_filters.push(message_types.ERROR);\n        this.setActiveTabIndex(run_panel.JOURNAL);\n        this.toggleDrawer(true);\n        notifications.toggleNotificationsModal();\n        notifications.removeNotificationByKey({ key: 'bot_error' });\n    }\n\n    unregisterBotListeners = () => {\n        observer.unregisterAll('bot.running');\n        observer.unregisterAll('bot.stop');\n        observer.unregisterAll('bot.trade_again');\n        observer.unregisterAll('contract.status');\n        observer.unregisterAll('bot.contract');\n        observer.unregisterAll('Error');\n    };\n\n    setContractStage(contract_stage) {\n        this.contract_stage = contract_stage;\n    }\n\n    setHasOpenContract(has_open_contract) {\n        this.has_open_contract = has_open_contract;\n    }\n\n    setIsRunning(is_running) {\n        this.is_running = is_running;\n    }\n\n    onMount() {\n        const { journal } = this.root_store;\n        observer.register('ui.log.error', this.showErrorMessage);\n        observer.register('ui.log.notify', journal.onNotify);\n        observer.register('ui.log.success', journal.onLogSuccess);\n        observer.register('client.invalid_token', this.handleInvalidToken);\n    }\n\n    onUnmount() {\n        const { journal, summary_card, transactions } = this.root_store;\n\n        if (!this.is_running) {\n            this.unregisterBotListeners();\n            this.disposeReactionsFn();\n            journal.disposeReactionsFn();\n            summary_card.disposeReactionsFn();\n            transactions.disposeReactionsFn();\n        }\n\n        observer.unregisterAll('ui.log.error');\n        observer.unregisterAll('ui.log.notify');\n        observer.unregisterAll('ui.log.success');\n        observer.unregisterAll('client.invalid_token');\n    }\n\n    async handleInvalidToken() {\n        const { client } = this.core;\n        await client.logout();\n        this.setActiveTabIndex(run_panel.SUMMARY);\n    }\n\n    preloadAudio() {\n        const strategy_sounds = this.dbot.getStrategySounds();\n\n        strategy_sounds.forEach(sound => {\n            const audioElement = document.getElementById(sound);\n\n            audioElement.muted = true;\n            audioElement.play().catch(() => {\n                // suppressing abort error, thrown on immediate .pause()\n            });\n            audioElement.pause();\n            audioElement.muted = false;\n        });\n    }\n}\n","import localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { action, makeObservable, observable } from 'mobx';\nimport {\n    getSavedWorkspaces,\n    observer as globalObserver,\n    save,\n    save_types,\n    saveWorkspaceToRecent,\n    updateWorkspaceName,\n} from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\nimport { MAX_STRATEGIES } from 'Constants/bot-contents';\nimport { button_status } from 'Constants/button-status';\nimport RootStore from './root-store';\n\ninterface ISaveModalStore {\n    is_save_modal_open: boolean;\n    button_status: { [key: string]: string } | number;\n    bot_name: { [key: string]: string } | string;\n    toggleSaveModal: () => void;\n    validateBotName: (values: string) => { [key: string]: string };\n    onConfirmSave: () => void;\n    updateBotName: (bot_name: { [key: string]: string } | string) => void;\n    setButtonStatus: (status: { [key: string]: string } | string | number) => void;\n}\n\nexport default class SaveModalStore implements ISaveModalStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_save_modal_open: observable,\n            button_status: observable,\n            bot_name: observable,\n            toggleSaveModal: action.bound,\n            validateBotName: action.bound,\n            onConfirmSave: action.bound,\n            updateBotName: action.bound,\n            onDriveConnect: action.bound,\n            setButtonStatus: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n    is_save_modal_open = false;\n    button_status = button_status.NORMAL;\n    bot_name = '';\n\n    toggleSaveModal = (): void => {\n        if (!this.is_save_modal_open) {\n            this.setButtonStatus(button_status.NORMAL);\n        }\n\n        this.is_save_modal_open = !this.is_save_modal_open;\n    };\n\n    validateBotName = (values: string): { [key: string]: string } => {\n        const errors = {};\n\n        if (values.bot_name.trim() === '') {\n            errors.bot_name = localize('Strategy name cannot be empty');\n        }\n\n        return errors;\n    };\n\n    addStrategyToWorkspace = async (\n        workspace_id: string,\n        is_local: boolean,\n        save_as_collection: boolean,\n        bot_name: string,\n        xml: string\n    ) => {\n        try {\n            const workspace = await getSavedWorkspaces();\n            const current_workspace_index = workspace.findIndex(strategy => strategy.id === workspace_id);\n            const {\n                load_modal: { getSaveType },\n            } = this.root_store;\n            const local_type = is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE;\n            const save_collection = save_as_collection ? save_types.UNSAVED : local_type;\n            const type = save_collection;\n\n            const save_type = getSaveType(type)?.toLowerCase();\n\n            const workspace_structure = {\n                id: workspace_id,\n                xml: Blockly.Xml.domToText(xml),\n                name: bot_name,\n                timestamp: Date.now(),\n                save_type,\n            };\n\n            if (current_workspace_index >= 0) {\n                const current_workspace = workspace_structure;\n                workspace[current_workspace_index] = current_workspace;\n            } else {\n                workspace.push(workspace_structure);\n            }\n\n            workspace\n                .sort((a, b) => {\n                    return new Date(a.timestamp) - new Date(b.timestamp);\n                })\n                .reverse();\n\n            if (workspace.length > MAX_STRATEGIES) {\n                workspace.pop();\n            }\n            const {\n                load_modal: { setRecentStrategies },\n            } = this.root_store;\n            localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspace)));\n            const updated_strategies = await getSavedWorkspaces();\n            setRecentStrategies(updated_strategies);\n            const {\n                dashboard: { setStrategySaveType },\n            } = this.root_store;\n            setStrategySaveType(save_type);\n        } catch (error) {\n            globalObserver.emit('Error', error);\n        }\n    };\n\n    async onConfirmSave({ is_local, save_as_collection, bot_name }) {\n        this.setButtonStatus(button_status.LOADING);\n\n        const { saveFile } = this.root_store.google_drive;\n        const xml = Blockly.Xml.workspaceToDom(Blockly.derivWorkspace);\n\n        xml.setAttribute('is_dbot', 'true');\n        xml.setAttribute('collection', save_as_collection ? 'true' : 'false');\n\n        if (is_local) {\n            save(bot_name, save_as_collection, xml);\n        } else {\n            await saveFile({\n                name: bot_name,\n                content: Blockly.Xml.domToPrettyText(xml),\n                mimeType: 'application/xml',\n            });\n\n            this.setButtonStatus(button_status.COMPLETED);\n        }\n        const {\n            dashboard: { active_tab },\n        } = this.root_store;\n        const {\n            load_modal: { selected_strategy_id },\n        } = this.root_store;\n\n        if (active_tab === 0) {\n            const workspace_id = selected_strategy_id || Blockly.utils.genUid();\n            this.addStrategyToWorkspace(workspace_id, is_local, save_as_collection, bot_name, xml);\n        } else {\n            saveWorkspaceToRecent(xml, is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE);\n        }\n        this.updateBotName(bot_name);\n        this.toggleSaveModal();\n    }\n\n    updateBotName = (bot_name: { [key: string]: string } | string): void => {\n        this.bot_name = bot_name;\n        updateWorkspaceName();\n    };\n\n    async onDriveConnect() {\n        const { google_drive } = this.root_store;\n\n        if (google_drive.is_authorised) {\n            google_drive.signOut();\n        } else {\n            google_drive.signIn();\n        }\n    }\n\n    setButtonStatus = (status: { [key: string]: string } | string | number): void => {\n        this.button_status = status;\n    };\n}\n","import { action, computed, makeObservable, observable } from 'mobx';\n\nexport default class SelfExclusionStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            api_max_losses: observable,\n            run_limit: observable,\n            is_restricted: observable,\n            initial_values: computed,\n            should_bot_run: computed,\n            setIsRestricted: action.bound,\n            setApiMaxLosses: action.bound,\n            setRunLimit: action.bound,\n            resetSelfExclusion: action.bound,\n            checkRestriction: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    api_max_losses = 0;\n    run_limit = -1;\n    is_restricted = false;\n    get initial_values() {\n        return {\n            form_max_losses: this.api_max_losses || '',\n            run_limit: this.run_limit !== -1 ? this.run_limit : '',\n        };\n    }\n\n    get should_bot_run() {\n        const { client } = this.core;\n        if (client.is_eu && !client.is_virtual && (this.api_max_losses === 0 || this.run_limit === -1)) {\n            return false;\n        }\n        return true;\n    }\n\n    setIsRestricted(is_restricted) {\n        this.is_restricted = is_restricted;\n    }\n\n    setApiMaxLosses(api_max_losses) {\n        this.api_max_losses = api_max_losses;\n    }\n\n    setRunLimit(run_limit) {\n        this.run_limit = run_limit;\n    }\n\n    resetSelfExclusion() {\n        this.is_restricted = false;\n        this.api_max_losses = 0;\n        this.form_max_losses = 0;\n        this.run_limit = -1;\n    }\n\n    async checkRestriction() {\n        const { client } = this.core;\n        await client.getSelfExclusion();\n        if (client.self_exclusion.max_losses) {\n            this.setApiMaxLosses(client.self_exclusion.max_losses);\n        }\n    }\n}\n","class Errors {\n    constructor() {\n        this.errors = {};\n    }\n\n    add(attribute, message) {\n        if (!this.has(attribute)) {\n            this.errors[attribute] = [];\n        }\n\n        if (this.errors[attribute].indexOf(message) === -1) {\n            this.errors[attribute].push(message);\n        }\n    }\n\n    all() {\n        return this.errors;\n    }\n\n    first(attribute) {\n        if (this.has(attribute)) {\n            return this.errors[attribute][0];\n        }\n        return null;\n    }\n\n    get(attribute) {\n        if (this.has(attribute)) {\n            return this.errors[attribute];\n        }\n\n        return [];\n    }\n\n    has(attribute) {\n        return Object.prototype.hasOwnProperty.call(this.errors, attribute);\n    }\n}\n\nexport default Errors;\n","import { getPreBuildDVRs } from '@deriv/shared';\nimport Error from './errors';\n\nconst template = (string, content) => {\n    let to_replace = content;\n    if (content && !Array.isArray(content)) {\n        to_replace = [content];\n    }\n    return string.replace(/\\[_(\\d+)]/g, (s, index) => to_replace[+index - 1]);\n};\n\nclass Validator {\n    constructor(input, rules, store = null) {\n        this.input = input;\n        this.rules = rules;\n        this.store = store;\n        this.errors = new Error();\n\n        this.error_count = 0;\n    }\n\n    /**\n     * Add failure and error message for given rule\n     *\n     * @param {string} attribute\n     * @param {object} rule\n     */\n    addFailure(attribute, rule, error_message) {\n        let message = error_message || rule.options.message || getPreBuildDVRs()[rule.name].message();\n        if (rule.name === 'length') {\n            message = template(message, [\n                rule.options.min === rule.options.max ? rule.options.min : `${rule.options.min}-${rule.options.max}`,\n            ]);\n        } else if (rule.name === 'min') {\n            message = template(message, [rule.options.min]);\n        } else if (rule.name === 'not_equal') {\n            message = template(message, [rule.options.name1, rule.options.name2]);\n        }\n        this.errors.add(attribute, message);\n        this.error_count++;\n    }\n\n    /**\n     * Runs validator\n     *\n     * @return {boolean} Whether it passes; true = passes, false = fails\n     */\n    check() {\n        Object.keys(this.input).forEach(attribute => {\n            if (!Object.prototype.hasOwnProperty.call(this.rules, attribute)) {\n                return;\n            }\n\n            this.rules[attribute].forEach(rule => {\n                const ruleObject = Validator.getRuleObject(rule);\n\n                if (!ruleObject.validator && typeof ruleObject.validator !== 'function') {\n                    return;\n                }\n\n                if (ruleObject.options.condition && !ruleObject.options.condition(this.store)) {\n                    return;\n                }\n\n                if (this.input[attribute] === '' && ruleObject.name !== 'req') {\n                    return;\n                }\n\n                let is_valid, error_message;\n                if (ruleObject.name === 'number') {\n                    const { is_ok, message } = ruleObject.validator(\n                        this.input[attribute],\n                        ruleObject.options,\n                        this.store,\n                        this.input\n                    );\n                    is_valid = is_ok;\n                    error_message = message;\n                } else {\n                    is_valid = ruleObject.validator(this.input[attribute], ruleObject.options, this.store, this.input);\n                }\n\n                if (!is_valid) {\n                    this.addFailure(attribute, ruleObject, error_message);\n                }\n            });\n        });\n        return !this.error_count;\n    }\n\n    /**\n     * Determine if validation passes\n     *\n     * @return {boolean}\n     */\n    isPassed() {\n        return this.check();\n    }\n\n    /**\n     * Converts the rule array to an object\n     *\n     * @param {array} rule\n     * @return {object}\n     */\n    static getRuleObject(rule) {\n        const is_rule_string = typeof rule === 'string';\n        const rule_object = {\n            name: is_rule_string ? rule : rule[0],\n            options: is_rule_string ? {} : rule[1] || {},\n        };\n\n        rule_object.validator = rule_object.name === 'custom' ? rule[1].func : getPreBuildDVRs()[rule_object.name].func;\n\n        return rule_object;\n    }\n}\n\nexport default Validator;\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { getIndicativePrice, isEqualObject, isMultiplierContract } from '@deriv/shared';\nimport { getValidationRules } from 'Constants/contract';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { getContractUpdateConfig } from 'Utils/multiplier';\nimport Validator from 'Utils/validator';\n\nexport default class SummaryCardStore {\n    contract_info = null;\n    indicative_movement = '';\n    profit_movement = '';\n\n    validation_errors = {};\n    validation_rules = getValidationRules();\n\n    // Multiplier contract update config\n    contract_update_take_profit = '';\n    contract_update_stop_loss = '';\n    has_contract_update_take_profit = false;\n    has_contract_update_stop_loss = false;\n    contract_update_config = {};\n\n    contract_id = null;\n    profit = 0;\n    indicative = 0;\n\n    constructor(root_store, core) {\n        makeObservable(this, {\n            contract_info: observable,\n            indicative_movement: observable,\n            profit_movement: observable,\n            validation_errors: observable,\n            validation_rules: observable,\n            contract_update_take_profit: observable,\n            contract_update_stop_loss: observable,\n            has_contract_update_take_profit: observable,\n            has_contract_update_stop_loss: observable,\n            contract_update_config: observable,\n            contract_id: observable,\n            profit: observable,\n            indicative: observable,\n            is_contract_completed: computed,\n            is_contract_loading: computed,\n            is_contract_inactive: computed,\n            is_multiplier: computed,\n            clear: action.bound,\n            clearContractUpdateConfigValues: action.bound,\n            getLimitOrder: action.bound,\n            onBotContractEvent: action.bound,\n            onChange: action.bound,\n            populateContractUpdateConfig: action.bound,\n            setContractUpdateConfig: action.bound,\n            updateLimitOrder: action.bound,\n            setValidationErrorMessages: action,\n            validateProperty: action,\n            registerReactions: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n\n    get is_contract_completed() {\n        return (\n            !!this.contract_info?.is_sold &&\n            this.root_store.run_panel.contract_stage !== contract_stages.PURCHASE_RECEIVED\n        );\n    }\n\n    get is_contract_loading() {\n        return (\n            (this.root_store.run_panel.is_running && this.contract_info === null) ||\n            this.root_store.run_panel.contract_stage === contract_stages.PURCHASE_SENT ||\n            this.root_store.run_panel.contract_stage === contract_stages.STARTING\n        );\n    }\n\n    get is_contract_inactive() {\n        return !this.contract_info && !this.is_loading;\n    }\n\n    get is_multiplier() {\n        return isMultiplierContract(this.contract_info?.contract_type);\n    }\n\n    clear(should_unset_contract = true) {\n        if (should_unset_contract) {\n            this.contract_info = null;\n        }\n\n        this.profit = 0;\n        this.profit_loss = 0;\n        this.indicative = 0;\n        this.indicative_movement = '';\n        this.profit_movement = '';\n    }\n\n    clearContractUpdateConfigValues() {\n        if (this.contract_info) {\n            Object.assign(this, getContractUpdateConfig(this.contract_info));\n        }\n    }\n\n    getLimitOrder() {\n        const limit_order = {};\n\n        // send positive take_profit to update or null to cancel\n        limit_order.take_profit = this.has_contract_update_take_profit ? +this.contract_update_take_profit : null;\n\n        // send positive stop_loss to update or null to cancel\n        limit_order.stop_loss = this.has_contract_update_stop_loss ? +this.contract_update_stop_loss : null;\n\n        return limit_order;\n    }\n\n    onBotContractEvent(contract) {\n        const { profit } = contract;\n        const indicative = getIndicativePrice(contract);\n\n        if (this.contract_id !== contract.id) {\n            this.clear(false);\n            this.contract_id = contract.id;\n            this.profit = profit;\n            this.indicative = indicative;\n        }\n\n        const movements = { profit, indicative };\n\n        Object.keys(movements).forEach(name => {\n            if (movements[name] !== this[name]) {\n                this[`${name}_movement`] = movements[name] > this[name] ? 'profit' : 'loss';\n            } else if (this[`${name}_movement`] !== '') {\n                this.indicative_movement = '';\n            }\n\n            this[name] = movements[name];\n        });\n\n        // TODO only add props that is being used\n        this.contract_info = contract;\n    }\n\n    onChange({ name, value }) {\n        this[name] = value;\n        this.validateProperty(name, this[name]);\n    }\n\n    populateContractUpdateConfig(response) {\n        const contract_update_config = getContractUpdateConfig(response);\n\n        if (!isEqualObject(this.contract_update_config, contract_update_config)) {\n            Object.assign(this, contract_update_config);\n            this.contract_update_config = contract_update_config;\n\n            const { contract_update, error } = response;\n            if (contract_update && !error) {\n                this.contract_info.limit_order = Object.assign(this.contract_info.limit_order || {}, contract_update);\n            }\n        }\n    }\n\n    setContractUpdateConfig(contract_update_take_profit, contract_update_stop_loss) {\n        this.has_contract_update_take_profit = !!contract_update_take_profit;\n        this.has_contract_update_stop_loss = !!contract_update_stop_loss;\n        this.contract_update_take_profit = this.has_contract_update_take_profit ? +contract_update_take_profit : null;\n        this.contract_update_stop_loss = this.has_contract_update_stop_loss ? +contract_update_stop_loss : null;\n    }\n\n    updateLimitOrder() {\n        const limit_order = this.getLimitOrder();\n\n        this.root_store.ws.contractUpdate(this.contract_info.contract_id, limit_order).then(response => {\n            if (response.error) {\n                this.root_store.run_panel.showContractUpdateErrorDialog(response.error.message);\n                return;\n            }\n\n            // Update contract store\n            this.populateContractUpdateConfig(response);\n        });\n    }\n\n    /**\n     * Sets validation error messages for an observable property of the store\n     *\n     * @param {String} propertyName - The observable property's name\n     * @param [{String}] messages - An array of strings that contains validation error messages for the particular property.\n     *\n     */\n    setValidationErrorMessages(propertyName, messages) {\n        const is_different = () =>\n            !!this.validation_errors[propertyName]\n                .filter(x => !messages.includes(x))\n                .concat(messages.filter(x => !this.validation_errors[propertyName].includes(x))).length;\n        if (!this.validation_errors[propertyName] || is_different()) {\n            this.validation_errors[propertyName] = messages;\n        }\n    }\n\n    /**\n     * Validates a particular property of the store\n     *\n     * @param {String} property - The name of the property in the store\n     * @param {object} value    - The value of the property, it can be undefined.\n     *\n     */\n    validateProperty(property, value) {\n        const trigger = this.validation_rules[property].trigger;\n        const inputs = { [property]: value !== undefined ? value : this[property] };\n        const validation_rules = { [property]: this.validation_rules[property].rules || [] };\n\n        if (!!trigger && Object.hasOwnProperty.call(this, trigger)) {\n            inputs[trigger] = this[trigger];\n            validation_rules[trigger] = this.validation_rules[trigger].rules || [];\n        }\n\n        const validator = new Validator(inputs, validation_rules, this);\n\n        validator.isPassed();\n\n        Object.keys(inputs).forEach(key => {\n            this.setValidationErrorMessages(key, validator.errors.get(key));\n        });\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n        this.disposeSwitchAcountListener = reaction(\n            () => client.loginid,\n            () => this.clear()\n        );\n\n        return () => {\n            if (typeof this.disposeSwitchAcountListener === 'function') {\n                this.disposeSwitchAcountListener();\n            }\n        };\n    }\n}\n","export default class SummaryStore {\n    constructor(root_store) {\n        this.root_store = root_store;\n    }\n}\n","import { action, makeObservable, observable } from 'mobx';\nimport { config, load, runGroupedEvents } from '@deriv/bot-skeleton';\nimport RootStore from './root-store';\n\ninterface IToolbarStore {\n    is_animation_info_modal_open: boolean;\n    is_dialog_open: boolean;\n    file_name: { [key: string]: string };\n    has_undo_stack: boolean;\n    has_redo_stack: boolean;\n    toggleAnimationInfoModal: () => void;\n    onResetClick: () => void;\n    closeResetDialog: () => void;\n    onResetOkButtonClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: (is_redo: boolean) => void;\n    onZoomInOutClick: (is_zoom_in: boolean) => void;\n    setHasUndoStack: () => void;\n    setHasRedoStack: () => void;\n}\n\nexport default class ToolbarStore implements IToolbarStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_animation_info_modal_open: observable,\n            is_dialog_open: observable,\n            file_name: observable,\n            has_undo_stack: observable,\n            has_redo_stack: observable,\n            toggleAnimationInfoModal: action.bound,\n            onResetClick: action.bound,\n            closeResetDialog: action.bound,\n            onResetOkButtonClick: action.bound,\n            onUndoClick: action.bound,\n            setHasUndoStack: action.bound,\n            setHasRedoStack: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    is_animation_info_modal_open = false;\n    is_dialog_open = false;\n    file_name = config.default_file_name;\n    has_undo_stack = false;\n    has_redo_stack = false;\n\n    toggleAnimationInfoModal = (): void => {\n        this.is_animation_info_modal_open = !this.is_animation_info_modal_open;\n    };\n\n    onResetClick = (): void => {\n        this.is_dialog_open = true;\n    };\n\n    closeResetDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    onResetOkButtonClick = (): void => {\n        runGroupedEvents(\n            false,\n            () => {\n                const workspace = Blockly.derivWorkspace;\n                workspace.current_strategy_id = Blockly.utils.genUid();\n                load({\n                    block_string: workspace.cached_xml.main,\n                    file_name: config.default_file_name,\n                    workspace,\n                });\n                Blockly.derivWorkspace.strategy_to_load = workspace.cached_xml.main;\n            },\n            'reset'\n        );\n        this.is_dialog_open = false;\n\n        const { run_panel } = this.root_store;\n        if (run_panel.is_running) {\n            this.root_store.run_panel.stopBot();\n        }\n    };\n\n    onSortClick = () => {\n        Blockly.derivWorkspace.cleanUp();\n    };\n\n    onUndoClick = (is_redo: boolean): void => {\n        Blockly.Events.setGroup('undo_clicked');\n        Blockly.derivWorkspace.undo(is_redo);\n        Blockly.svgResize(Blockly.derivWorkspace); // Called for CommentDelete event.\n        this.setHasRedoStack();\n        this.setHasUndoStack();\n        Blockly.Events.setGroup(false);\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = Blockly.derivWorkspace;\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    setHasUndoStack = (): void => {\n        this.has_undo_stack = Blockly.derivWorkspace?.hasUndoStack();\n    };\n\n    setHasRedoStack = (): void => {\n        this.has_redo_stack = Blockly.derivWorkspace?.hasRedoStack();\n    };\n}\n","import { action, makeObservable, observable, reaction } from 'mobx';\nimport { scrollWorkspace } from '@deriv/bot-skeleton';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport default class ToolboxStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            is_toolbox_open: observable,\n            is_search_loading: observable,\n            is_search_focus: observable,\n            sub_category_index: observable,\n            toolbox_dom: observable,\n            toolbox_examples: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            setWorkspaceOptions: action.bound,\n            adjustWorkspace: action.bound,\n            toggleDrawer: action.bound,\n            onToolboxItemClick: action.bound,\n            onToolboxItemExpand: action.bound,\n            getCategoryContents: action.bound,\n            getAllCategories: action.bound,\n            hasSubCategory: action.bound,\n            onSearch: action.bound,\n            onSearchBlur: action.bound,\n            onSearchClear: action.bound,\n            onSearchKeyUp: action.bound,\n            showSearch: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    is_toolbox_open = true;\n    is_search_loading = false;\n    is_search_focus = false;\n    sub_category_index = [];\n    toolbox_dom = null;\n    toolbox_examples = null;\n\n    onMount(toolbox_ref) {\n        this.adjustWorkspace();\n\n        this.toolbox_dom = Blockly.Xml.textToDom(toolbox_ref?.current);\n        this.toolbox_examples = [...this.toolbox_dom.childNodes].find(el => el.tagName === 'examples');\n        this.setWorkspaceOptions();\n        this.disposeToolboxToggleReaction = reaction(\n            () => this.is_toolbox_open,\n            is_toolbox_open => {\n                if (is_toolbox_open) {\n                    this.adjustWorkspace();\n                    // Emit event to GTM\n                    const { gtm } = this.core;\n                    gtm.pushDataLayer({ event: 'dbot_toolbox_visible', value: true });\n                }\n            }\n        );\n    }\n\n    onUnmount() {\n        if (typeof this.disposeToolboxToggleReaction === 'function') {\n            this.disposeToolboxToggleReaction();\n        }\n    }\n\n    setWorkspaceOptions() {\n        const workspace = Blockly.derivWorkspace;\n        const readOnly = !!workspace.options.readOnly;\n        let languageTree, hasCategories, hasCollapse, hasComments, hasDisable;\n\n        if (readOnly) {\n            languageTree = null;\n            hasCategories = false;\n            hasCollapse = false;\n            hasComments = false;\n            hasDisable = false;\n        } else {\n            languageTree = this.toolbox_dom;\n            hasCategories = Boolean(languageTree && languageTree.getElementsByTagName('category').length);\n            hasCollapse = hasCategories;\n            hasComments = hasCategories;\n            hasDisable = hasCategories;\n        }\n\n        workspace.options.collapse = hasCollapse;\n        workspace.options.comments = hasComments;\n        workspace.options.disable = hasDisable;\n        workspace.options.hasCategories = hasCategories;\n        workspace.options.languageTree = languageTree;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    adjustWorkspace() {\n        const workspace = Blockly.derivWorkspace;\n        const toolbox_width = document.getElementById('gtm-toolbox')?.getBoundingClientRect().width || 0;\n        const block_canvas_rect = workspace.svgBlockCanvas_?.getBoundingClientRect(); // eslint-disable-line\n\n        if (Math.round(block_canvas_rect?.left) <= toolbox_width) {\n            const scroll_distance = isMobile()\n                ? toolbox_width - block_canvas_rect.left + 20\n                : toolbox_width - block_canvas_rect.left + 36;\n            scrollWorkspace(workspace, scroll_distance, true, false);\n        }\n    }\n\n    toggleDrawer() {\n        this.is_toolbox_open = !this.is_toolbox_open;\n    }\n\n    onToolboxItemClick(category) {\n        const { flyout } = this.root_store;\n        const category_id = category.getAttribute('id');\n        const flyout_content = this.getCategoryContents(category);\n\n        flyout.setIsSearchFlyout(false);\n\n        if (flyout.selected_category?.getAttribute('id') === category_id) {\n            flyout.setVisibility(false);\n        } else {\n            flyout.setSelectedCategory(category);\n            flyout.setContents(flyout_content);\n        }\n    }\n\n    onToolboxItemExpand(index) {\n        if (this.sub_category_index.includes(index)) {\n            const open_ids = this.sub_category_index.filter(open_id => open_id !== index);\n            this.sub_category_index = open_ids;\n        } else {\n            this.sub_category_index = [...this.sub_category_index, index];\n        }\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getCategoryContents(category) {\n        const workspace = Blockly.derivWorkspace;\n        const dynamic = category.getAttribute('dynamic');\n        let xml_list = Array.from(category.childNodes);\n\n        // Dynamic categories\n        if (typeof dynamic === 'string') {\n            const fnToApply = workspace.getToolboxCategoryCallback(dynamic);\n            xml_list = fnToApply(workspace);\n        }\n\n        return xml_list;\n    }\n\n    getAllCategories() {\n        const categories = [];\n        Array.from(this.toolbox_dom.childNodes).forEach(category => {\n            categories.push(category);\n            if (this.hasSubCategory(category.children)) {\n                Array.from(category.children).forEach(subCategory => {\n                    categories.push(subCategory);\n                });\n            }\n        });\n        return categories;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    hasSubCategory(category) {\n        // eslint-disable-next-line consistent-return\n        const subCategory = Object.keys(category).filter(key => {\n            if (category[key].tagName.toUpperCase() === 'CATEGORY') {\n                return category[key];\n            }\n        });\n        if (subCategory.length) {\n            return true;\n        }\n        return false;\n    }\n\n    onSearch({ search }) {\n        this.is_search_focus = true;\n        this.showSearch(search);\n    }\n\n    onSearchBlur() {\n        this.is_search_focus = false;\n    }\n\n    onSearchClear(setFieldValue) {\n        setFieldValue('search', '');\n        this.showSearch('');\n    }\n\n    onSearchKeyUp(submitForm) {\n        this.is_search_loading = true;\n\n        clearTimeout(this.typing_timer);\n        this.typing_timer = setTimeout(\n            action(() => {\n                submitForm();\n                this.is_search_loading = false;\n            }),\n            1000\n        );\n    }\n\n    showSearch(search) {\n        const workspace = Blockly.derivWorkspace;\n        const flyout_content = [];\n        const search_term = search.replace(/\\s+/g, ' ').trim().toUpperCase();\n        const search_words = search_term.split(' ');\n        const all_variables = workspace.getVariablesOfType('');\n        const all_procedures = Blockly.Procedures.allProcedures(workspace);\n        const { flyout } = this.root_store;\n\n        flyout.setVisibility(false);\n\n        // avoid general term which the result will return most of the blocks\n        const general_term = [\n            localize('THE'),\n            localize('OF'),\n            localize('YOU'),\n            localize('IS'),\n            localize('THIS'),\n            localize('THEN'),\n            localize('A'),\n            localize('AN'),\n        ];\n\n        if (search_term.length === 0) {\n            return;\n        } else if (search_term.length <= 1 || search_words.every(term => general_term.includes(term))) {\n            flyout.setIsSearchFlyout(true);\n            flyout.setContents(flyout_content, search);\n            return;\n        }\n\n        const all_categories = this.getAllCategories();\n\n        const block_contents = all_categories\n            .filter(category => !this.hasSubCategory(category.children))\n            .map(category => {\n                const contents = this.getCategoryContents(category);\n\n                const only_block_contents = Array.from(contents).filter(\n                    content => content.tagName.toUpperCase() === 'BLOCK'\n                );\n                return only_block_contents;\n            })\n            .flat();\n\n        const pushIfNotExists = (array, element_to_push) => {\n            if (!array.some(element => element === element_to_push)) {\n                array.push(element_to_push);\n            }\n        };\n\n        const pushBlockWithPriority = priority => {\n            block_contents.forEach(block_content => {\n                const block_type = block_content.getAttribute('type');\n                const block = Blockly.Blocks[block_type];\n                const block_meta = block.meta instanceof Function && block.meta();\n                const block_definitions = block.definition instanceof Function && block.definition();\n                const block_name = block_meta.display_name;\n                const block_type_terms = block_type.toUpperCase().split('_');\n                const block_name_terms = block_name.toUpperCase().split(' ');\n                const definition_key_to_search = /^((message)|(tooltip)|(category))/;\n\n                switch (priority) {\n                    // when the search text match exactly the block's name\n                    case 'exact_block_name': {\n                        if (search_term === block_name.toUpperCase() || search_term === block_type.toUpperCase()) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when there's multiple search text and all the search text match block's name or block type\n                    case 'match_words': {\n                        if (\n                            search_words.every(word => block_name_terms.some(term => term.includes(word))) ||\n                            search_words.every(word => block_type_terms.some(term => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when some of search word match block's name or block's type\n                    case 'block_term': {\n                        if (\n                            block_type_terms.some(term => search_words.some(word => term.includes(word))) ||\n                            block_name_terms.some(term => search_words.some(word => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    case 'block_definitions': {\n                        // eslint-disable-next-line consistent-return\n                        Object.keys(block_definitions).forEach(key => {\n                            const definition = block_definitions[key];\n\n                            if (\n                                definition_key_to_search.test(key) &&\n                                search_words.some(word => definition.includes(word))\n                            ) {\n                                pushIfNotExists(flyout_content, block_content);\n                            }\n\n                            if (definition instanceof Array) {\n                                definition.forEach(def => {\n                                    const definition_strings = JSON.stringify(def).toUpperCase();\n\n                                    if (\n                                        def.type === 'field_dropdown' &&\n                                        search_term.length > 2 &&\n                                        search_words.some(word => definition_strings.includes(word))\n                                    ) {\n                                        pushIfNotExists(flyout_content, block_content);\n                                    }\n                                });\n                            }\n                        });\n                        break;\n                    }\n                    case 'block_meta': {\n                        // block_meta matched\n                        const matched_meta = Object.keys(block_meta)\n                            .filter(key => key !== 'display_name')\n                            .find(key => {\n                                const block_meta_strings = block_meta[key]\n                                    .toUpperCase()\n                                    .replace(/[^\\w\\s]/gi, '')\n                                    .split(' ');\n\n                                return search_words.some(word => block_meta_strings.some(meta => meta.includes(word)));\n                            });\n\n                        if (matched_meta && matched_meta.length) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            });\n        };\n\n        const priority_order = ['exact_block_name', 'match_words', 'block_term', 'block_definitions', 'block_meta'];\n\n        priority_order.forEach(priority => pushBlockWithPriority(priority));\n\n        // block_variable_name matched\n        const matched_variables = all_variables.filter(variable => variable.name.toUpperCase().includes(search_term));\n        const variables_blocks = Blockly.DataCategory.search(matched_variables);\n        // eslint-disable-next-line consistent-return\n        const unique_var_blocks = variables_blocks.filter(variable_block => {\n            return flyout_content.indexOf(variable_block) === -1;\n        });\n        if (unique_var_blocks && unique_var_blocks.length) {\n            flyout_content.unshift(...unique_var_blocks);\n        }\n\n        // block_procedure_name matched\n        const searched_procedures = { 0: [], 1: [] };\n        const procedures_callnoreturn = all_procedures[0];\n        const procedures_callreturn = all_procedures[1];\n        Object.keys(procedures_callnoreturn).forEach(key => {\n            const procedure = procedures_callnoreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['0'].unshift(procedure);\n            }\n        });\n\n        Object.keys(procedures_callreturn).forEach(key => {\n            const procedure = procedures_callreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['1'].unshift(procedure);\n            }\n        });\n\n        const procedures_blocks = Blockly.Procedures.populateDynamicProcedures(searched_procedures);\n        // eslint-disable-next-line consistent-return\n        const unique_proce_blocks = procedures_blocks.filter(procedure_block => {\n            return flyout_content.indexOf(procedure_block) === -1;\n        });\n        if (unique_proce_blocks.length) {\n            flyout_content.unshift(...unique_proce_blocks);\n        }\n\n        flyout.setIsSearchFlyout(true);\n        flyout.setContents(flyout_content, search);\n    }\n}\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { formatDate, isBot, isEnded } from '@deriv/shared';\nimport { transaction_elements } from '../constants/transactions';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\n\nexport default class TransactionsStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            elements: observable,\n            active_transaction_id: observable,\n            recovered_completed_transactions: observable,\n            recovered_transactions: observable,\n            is_called_proposal_open_contract: observable,\n            transactions: computed,\n            onBotContractEvent: action.bound,\n            pushTransaction: action.bound,\n            onClickOutsideTransaction: action.bound,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            clear: action.bound,\n            setActiveTransactionId: action.bound,\n            registerReactions: action.bound,\n            recoverPendingContracts: action.bound,\n            updateResultsCompletedContract: action.bound,\n            sortOutPositionsBeforeAction: action.bound,\n            recoverPendingContractsById: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n\n    TRANSACTION_CACHE = 'transaction_cache';\n\n    elements = getStoredItemsByUser(this.TRANSACTION_CACHE, this.core?.client.loginid, []);\n    active_transaction_id = null;\n    recovered_completed_transactions = [];\n    recovered_transactions = [];\n    is_called_proposal_open_contract = false;\n\n    get transactions() {\n        return this.elements.filter(element => element.type === transaction_elements.CONTRACT);\n    }\n\n    onBotContractEvent(data) {\n        this.pushTransaction(data);\n    }\n\n    pushTransaction(data) {\n        const is_completed = isEnded(data);\n        const { run_id } = this.root_store.run_panel;\n        const contract = {\n            barrier: data.barrier,\n            buy_price: data.buy_price,\n            contract_id: data.contract_id,\n            contract_type: data.contract_type,\n            currency: data.currency,\n            date_start: formatDate(data.date_start, 'YYYY-M-D HH:mm:ss [GMT]'),\n            display_name: data.display_name,\n            entry_tick: data.entry_tick_display_value,\n            entry_tick_time: data.entry_tick_time && formatDate(data.entry_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            exit_tick: data.exit_tick_display_value,\n            exit_tick_time: data.exit_tick_time && formatDate(data.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            high_barrier: data.high_barrier,\n            is_completed,\n            low_barrier: data.low_barrier,\n            payout: data.payout,\n            profit: is_completed && data.profit,\n            run_id,\n            shortcode: data.shortcode,\n            tick_count: data.tick_count,\n            transaction_ids: data.transaction_ids,\n            underlying: data.underlying,\n        };\n\n        const same_contract_index = this.elements.findIndex(\n            c =>\n                c.type === transaction_elements.CONTRACT &&\n                c.data.transaction_ids &&\n                c.data.transaction_ids.buy === data.transaction_ids.buy\n        );\n\n        if (same_contract_index === -1) {\n            // Render a divider if the \"run_id\" for this contract is different.\n            if (this.elements.length > 0) {\n                const is_new_run =\n                    this.elements[0].type === transaction_elements.CONTRACT &&\n                    contract.run_id !== this.elements[0].data.run_id;\n\n                if (is_new_run) {\n                    this.elements.unshift({\n                        type: transaction_elements.DIVIDER,\n                        data: contract.run_id,\n                    });\n                }\n            }\n\n            this.elements.unshift({\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        } else {\n            // If data belongs to existing contract in memory, update it.\n            this.elements.splice(same_contract_index, 1, {\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        }\n\n        this.elements = this.elements.slice(); // force array update\n    }\n\n    setActiveTransactionId(transaction_id) {\n        // Toggle transaction popover if passed transaction_id is the same.\n        if (transaction_id && this.active_transaction_id === transaction_id) {\n            this.active_transaction_id = null;\n        } else {\n            this.active_transaction_id = transaction_id;\n        }\n    }\n\n    onClickOutsideTransaction(event) {\n        const path = event.path || (event.composedPath && event.composedPath());\n        const is_transaction_click = path.some(\n            el => el.classList && el.classList.contains('transactions__item-wrapper')\n        );\n        if (!is_transaction_click) {\n            this.setActiveTransactionId(null);\n        }\n    }\n\n    onMount() {\n        window.addEventListener('click', this.onClickOutsideTransaction);\n        this.recoverPendingContracts();\n    }\n\n    onUnmount() {\n        window.removeEventListener('click', this.onClickOutsideTransaction);\n    }\n\n    clear() {\n        this.elements = this.elements.slice(0, 0);\n        this.recovered_completed_transactions = this.recovered_completed_transactions.slice(0, 0);\n        this.recovered_transactions = this.recovered_transactions.slice(0, 0);\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n\n        // Write transactions to session storage on each change in transaction elements.\n        const disposeTransactionElementsListener = reaction(\n            () => this.elements,\n            elements => {\n                const stored_transactions = getStoredItemsByKey(this.TRANSACTION_CACHE, {});\n                stored_transactions[client.loginid] = elements.slice(0, 5000);\n                setStoredItemsByKey(this.TRANSACTION_CACHE, stored_transactions);\n            }\n        );\n\n        // User could've left the page mid-contract. On initial load, try\n        // to recover any pending contracts so we can reflect accurate stats\n        // and transactions.\n        const disposeRecoverContracts = reaction(\n            () => this.transactions.length,\n            () => this.recoverPendingContracts()\n        );\n\n        return () => {\n            disposeTransactionElementsListener();\n            disposeRecoverContracts();\n        };\n    }\n\n    recoverPendingContracts() {\n        this.transactions.forEach(({ data: trx }) => {\n            if (trx.is_completed || this.recovered_transactions.includes(trx.contract_id)) return;\n            this.recoverPendingContractsById(trx.contract_id);\n        });\n    }\n\n    updateResultsCompletedContract(contract) {\n        const { journal, summary_card } = this.root_store;\n        const { contract_info } = summary_card;\n        const { currency, profit } = contract;\n\n        if (contract.contract_id !== contract_info?.contract_id) {\n            this.onBotContractEvent(contract);\n\n            if (!this.recovered_transactions.includes(contract.contract_id)) {\n                this.recovered_transactions.push(contract.contract_id);\n            }\n            if (!this.recovered_completed_transactions.includes(contract.contract_id) && isEnded(contract)) {\n                this.recovered_completed_transactions.push(contract.contract_id);\n\n                journal.onLogSuccess({\n                    log_type: profit > 0 ? log_types.PROFIT : log_types.LOST,\n                    extra: { currency, profit },\n                });\n            }\n        }\n    }\n\n    sortOutPositionsBeforeAction(positions, element_id = false) {\n        positions.forEach(position => {\n            if (!element_id || (element_id && position.id === element_id)) {\n                const contract_details = position.contract_info;\n                this.updateResultsCompletedContract(contract_details);\n            }\n        });\n    }\n\n    recoverPendingContractsById(contract_id) {\n        const { ws } = this.root_store;\n        const positions = this.core.portfolio.positions;\n\n        // TODO: the idea is to remove the POC calls completely\n        // but adding this check to prevent making POC calls only for bot as of now\n        if (!isBot()) {\n            ws.authorized.subscribeProposalOpenContract(contract_id, response => {\n                this.is_called_proposal_open_contract = true;\n                if (!response.error) {\n                    const { proposal_open_contract } = response;\n                    this.updateResultsCompletedContract(proposal_open_contract);\n                }\n            });\n        }\n\n        if (!this.is_called_proposal_open_contract) {\n            if (!this.elements.length) {\n                this.sortOutPositionsBeforeAction(positions);\n            }\n            if (this.elements.length && !this.elements[0].data.profit) {\n                const element_id = this.elements[0].data.contract_id;\n                this.sortOutPositionsBeforeAction(positions, element_id);\n            }\n        }\n    }\n}\n","import type { TDbot, TRootStore, TWebSocket } from 'Types';\nimport AppStore from './app-store';\nimport BlocklyStore from './blockly-store';\nimport ChartStore from './chart-store';\nimport DashboardStore from './dashboard-store';\nimport DataCollectionStore from './data-collection-store';\nimport DownloadStore from './download-store';\nimport FlyoutHelpStore from './flyout-help-store';\nimport FlyoutStore from './flyout-store';\nimport GoogleDriveStore from './google-drive-store';\nimport JournalStore from './journal-store';\nimport LoadModalStore from './load-modal-store';\nimport QuickStrategyStore from './quick-strategy-store';\nimport RoutePromptDialogStore from './route-prompt-dialog-store';\nimport RunPanelStore from './run-panel-store';\nimport SaveModalStore from './save-modal-store';\nimport SelfExclusionStore from './self-exclusion-store';\nimport SummaryCardStore from './summary-card-store';\nimport SummaryStore from './summary-store';\nimport ToolbarStore from './toolbar-store';\nimport ToolboxStore from './toolbox-store';\nimport TransactionsStore from './transactions-store';\n\n// TODO: need to write types for the individual classes and convert them to ts\nexport default class RootStore {\n    public ws: TWebSocket;\n    public dbot: TDbot;\n    public app: AppStore;\n    public summary_card: SummaryCardStore;\n    public download: DownloadStore;\n    public flyout: FlyoutStore;\n    public flyout_help: FlyoutHelpStore;\n    public google_drive: GoogleDriveStore;\n    public journal: JournalStore;\n    public load_modal: LoadModalStore;\n    public run_panel: RunPanelStore;\n    public save_modal: SaveModalStore;\n    public summary: SummaryStore;\n    public transactions: TransactionsStore;\n    public toolbar: ToolbarStore;\n    public toolbox: ToolboxStore;\n    public quick_strategy: QuickStrategyStore;\n    public route_prompt_dialog: RoutePromptDialogStore;\n    public self_exclusion: SelfExclusionStore;\n    public dashboard: DashboardStore;\n\n    public chart_store: ChartStore;\n    public blockly_store: BlocklyStore;\n    public data_collection_store: DataCollectionStore;\n\n    constructor(core: TRootStore, ws: TWebSocket, dbot: TDbot) {\n        this.ws = ws;\n        this.dbot = dbot;\n        this.app = new AppStore(this, core);\n        this.summary_card = new SummaryCardStore(this, core);\n        this.download = new DownloadStore(this);\n        this.flyout = new FlyoutStore(this);\n        this.flyout_help = new FlyoutHelpStore(this);\n        this.google_drive = new GoogleDriveStore(this);\n        this.journal = new JournalStore(this, core);\n        this.load_modal = new LoadModalStore(this);\n        this.run_panel = new RunPanelStore(this, core);\n        this.save_modal = new SaveModalStore(this);\n        this.summary = new SummaryStore(this);\n        this.transactions = new TransactionsStore(this, core);\n        this.toolbar = new ToolbarStore(this);\n        this.toolbox = new ToolboxStore(this, core);\n        this.quick_strategy = new QuickStrategyStore(this);\n        this.route_prompt_dialog = new RoutePromptDialogStore(this, core);\n        this.self_exclusion = new SelfExclusionStore(this, core);\n        this.dashboard = new DashboardStore(this);\n\n        // need to be at last for dependency\n        this.chart_store = new ChartStore(this);\n        this.blockly_store = new BlocklyStore(this);\n        this.data_collection_store = new DataCollectionStore(this, core);\n    }\n}\n","import React, { createContext, PropsWithChildren, useContext, useMemo } from 'react';\nimport { DBot } from '@deriv/bot-skeleton';\nimport { useStore } from '@deriv/stores';\nimport type { TWebSocket } from 'Types';\nimport RootStore from './root-store';\n\nconst DBotStoreContext = createContext<RootStore | null>(null);\n\nconst DBotStoreProvider = ({ children, ws }: PropsWithChildren<{ ws: TWebSocket }>) => {\n    const stores = useStore();\n    const memoizedValue = useMemo(() => new RootStore(stores, ws, DBot), []);\n\n    return <DBotStoreContext.Provider value={memoizedValue}>{children}</DBotStoreContext.Provider>;\n};\n\nconst useDBotStore = () => {\n    const store = useContext(DBotStoreContext);\n\n    if (!store) {\n        throw new Error('useDBotStore must be used within DBotStoreProvider');\n    }\n\n    return store;\n};\n\nexport { DBotStoreProvider, useDBotStore };\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\n\ntype TWorkspaceControl = {\n    onZoomInOutClick: (param: boolean) => void;\n};\n\nconst WorkspaceControl = ({ onZoomInOutClick }: TWorkspaceControl) => (\n    <div className='load-strategy__preview-workspace-controls'>\n        <Icon\n            icon={'IcAddRounded'}\n            className='load-strategy__preview-workspace-icon'\n            custom_color='$color-black-1'\n            onClick={() => onZoomInOutClick(true)}\n        />\n        <Icon\n            icon={'IcMinusRounded'}\n            className='load-strategy__preview-workspace-icon'\n            custom_color='$color-black-1'\n            onClick={() => onZoomInOutClick(false)}\n        />\n    </div>\n);\n\nexport default connect(({ dashboard }: RootStore) => ({\n    onZoomInOutClick: dashboard.onZoomInOutClick,\n}))(WorkspaceControl);\n","import React from 'react';\nimport WorkspaceControl from './workspace-control';\n\ntype TBotPreview = {\n    id_ref: HTMLElement | React.ReactNode | null;\n};\n\nconst BotPreview = ({ id_ref }: TBotPreview) => {\n    return (\n        <div className='load-strategy__preview-workspace-container' id='load-strategy__blockly-container' ref={id_ref}>\n            <WorkspaceControl />\n        </div>\n    );\n};\n\nexport default BotPreview;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { clearInjectionDiv } from 'Constants/load-modal';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport BotPreview from './bot-preview';\nimport './index.scss';\n\ntype TWorkspace = {\n    id: string;\n    xml: string;\n    name: string;\n    timestamp: number;\n    save_type: string;\n};\n\ntype Nullable<T> = T | null;\ntype TLocalComponent = {\n    handleFileChange: (e: React.ChangeEvent<HTMLInputElement>, data: boolean) => boolean;\n    loadFileFromRecent: () => void;\n    onConfirmSave: () => void;\n    onDrop: () => void;\n    previewRecentStrategy: () => void;\n    setActiveTab: (param: number) => void;\n    dashboard_strategies: Array<TWorkspace>;\n    setFileLoaded: (param: boolean) => void;\n    setLoadedLocalFile: (data: Nullable<string>) => void;\n    setTourDialogVisibility: (param: boolean) => boolean;\n    setPreviewOnDialog: (param: boolean) => boolean;\n    has_mobile_preview_loaded: boolean;\n    setActiveTabTutorial: (param: boolean) => void;\n};\n\nconst LocalComponent = ({\n    handleFileChange,\n    loadFileFromRecent,\n    onConfirmSave,\n    setActiveTab,\n    dashboard_strategies,\n    setPreviewOnDialog,\n    has_mobile_preview_loaded,\n    setActiveTabTutorial,\n}: TLocalComponent) => {\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n    const is_mobile = isMobile();\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n\n    React.useEffect(() => {\n        if (el_ref.current?.children.length === 3) {\n            el_ref?.current?.removeChild(el_ref?.current?.children[1]);\n        }\n    }, [el_ref.current?.children.length]);\n\n    const renderOpenButton = () => (\n        <button\n            className='load-strategy__button-group--open'\n            onClick={() => {\n                setPreviewOnDialog(false);\n                loadFileFromRecent();\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n            }}\n        >\n            {localize('Open')}\n        </button>\n    );\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            {is_file_supported && (\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--listed': has_dashboard_strategies,\n                    })}\n                >\n                    <div className='load-strategy__recent-preview'>\n                        <div\n                            className={classNames('load-strategy__title', 'load-strategy__recent-preview-title', {\n                                'load-strategy__title--listed': has_dashboard_strategies && is_mobile,\n                            })}\n                        >\n                            {!is_mobile && <Localize i18n_default_text='Preview' />}\n                            <div className='tab__dashboard__preview__retrigger'>\n                                <button\n                                    onClick={() => {\n                                        setActiveTab(DBOT_TABS.TUTORIAL);\n                                        setActiveTabTutorial(0);\n                                    }}\n                                >\n                                    <Icon\n                                        className='tab__dashboard__preview__retrigger__icon'\n                                        width='2.4rem'\n                                        height='2.4rem'\n                                        icon={'IcDbotUserGuide'}\n                                    />\n                                    {!is_mobile && (\n                                        <Text\n                                            color='prominent'\n                                            size='xs'\n                                            line_height='s'\n                                            className={'tab__dashboard__preview__retrigger__text'}\n                                        >\n                                            {localize('User Guide')}\n                                        </Text>\n                                    )}\n                                </button>\n                            </div>\n                        </div>\n\n                        {!is_mobile && (\n                            <>\n                                <div className='load-strategy__preview-workspace'>\n                                    <BotPreview id_ref={el_ref} type={'local'} />\n                                </div>\n                                <div className='load-strategy__button-group'>\n                                    <input\n                                        type='file'\n                                        ref={file_input_ref}\n                                        accept='.xml'\n                                        style={{ display: 'none' }}\n                                        onChange={e => {\n                                            clearInjectionDiv('component', el_ref);\n                                            onConfirmSave();\n                                            setIsFileSupported(handleFileChange(e, false));\n                                        }}\n                                    />\n                                    {renderOpenButton()}\n                                </div>\n                            </>\n                        )}\n                        <MobileWrapper>\n                            <Dialog\n                                is_visible={has_mobile_preview_loaded}\n                                onCancel={() => setPreviewOnDialog(false)}\n                                is_mobile_full_width\n                                className='dc-dialog__wrapper--preview'\n                                has_close_icon\n                                title={localize('Preview')}\n                            >\n                                <BotPreview id_ref={el_ref} type='local' />\n                                <div className='load-strategy__button-group'>{renderOpenButton()}</div>\n                            </Dialog>\n                        </MobileWrapper>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst Local = connect(({ load_modal, save_modal, dashboard }: RootStore) => ({\n    handleFileChange: load_modal.handleFileChange,\n    is_open_button_loading: load_modal.is_open_button_loading,\n    setLoadedLocalFile: load_modal.setLoadedLocalFile,\n    dashboard_strategies: load_modal.dashboard_strategies,\n    onConfirmSave: save_modal.onConfirmSave,\n    setActiveTab: dashboard.setActiveTab,\n    loadFileFromRecent: load_modal.loadFileFromRecent,\n    setFileLoaded: dashboard.setFileLoaded,\n    setPreviewOnDialog: dashboard.setPreviewOnDialog,\n    setActiveTabTutorial: dashboard.setActiveTabTutorial,\n    has_mobile_preview_loaded: dashboard.has_mobile_preview_loaded,\n}))(LocalComponent);\n\nexport default Local;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Button, Icon, StaticUrl } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\n\ntype TGoogleDriveProps = {\n    is_authorised: boolean;\n    is_open_button_loading: boolean;\n    onDriveConnect: () => void;\n    onDriveOpen: () => void;\n    setOpenSettings: (toast_message: string, show_toast?: boolean) => void;\n};\n\nconst GoogleDrive = ({\n    is_authorised,\n    is_open_button_loading,\n    onDriveConnect,\n    onDriveOpen,\n    setOpenSettings,\n}: TGoogleDriveProps) => {\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__google-drive'>\n                <Icon\n                    icon={'IcGoogleDrive'}\n                    className={classnames('load-strategy__google-drive-icon', {\n                        'load-strategy__google-drive-icon--disabled': !is_authorised,\n                    })}\n                    size={isMobile() ? 96 : 128}\n                />\n                <div className='load-strategy__google-drive-connected-text'>\n                    {is_authorised ? (\n                        <Localize i18n_default_text='You are connected to Google Drive' />\n                    ) : (\n                        'Google Drive'\n                    )}\n                </div>\n                {is_authorised ? (\n                    <Button.Group>\n                        <Button text={localize('Disconnect')} onClick={onDriveConnect} has_effect secondary large />\n                        <Button\n                            text={localize('Open')}\n                            onClick={() => {\n                                onDriveOpen();\n                                setOpenSettings('import');\n                            }}\n                            is_loading={is_open_button_loading}\n                            has_effect\n                            primary\n                            large\n                        />\n                    </Button.Group>\n                ) : (\n                    <React.Fragment>\n                        <div className='load-strategy__google-drive-terms'>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize i18n_default_text=\"To import your bot from your Google Drive, you'll need to sign in to your Google account.\" />\n                            </div>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize\n                                    i18n_default_text='To know how Google Drive handles your data, please review Derivs <0>Privacy policy.</0>'\n                                    components={[\n                                        <StaticUrl\n                                            key={0}\n                                            className='link'\n                                            href='tnc/security-and-privacy.pdf'\n                                            is_document\n                                        />,\n                                    ]}\n                                />\n                            </div>\n                        </div>\n                        <Button text={localize('Sign in')} onClick={onDriveConnect} has_effect primary large />\n                    </React.Fragment>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default connect(({ load_modal, google_drive, dashboard }: RootStore) => ({\n    is_authorised: google_drive.is_authorised,\n    is_open_button_loading: load_modal.is_open_button_loading,\n    onDriveConnect: load_modal.onDriveConnect,\n    onDriveOpen: load_modal.onDriveOpen,\n    setOpenSettings: dashboard.setOpenSettings,\n}))(GoogleDrive);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport PropTypes from 'prop-types';\nimport { config, save_types } from '@deriv/bot-skeleton';\nimport { Button, Icon, Input, MobileFullPageModal, Modal, RadioGroup, Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\n\nconst SaveModalForm = ({\n    bot_name,\n    button_status,\n    is_authorised,\n    onConfirmSave,\n    onDriveConnect,\n    validateBotName,\n    toggleSaveModal,\n    is_mobile,\n    is_onscreen_keyboard_active,\n    setCurrentFocus,\n}) => (\n    <Formik\n        initialValues={{\n            is_local: true,\n            save_as_collection: false,\n            bot_name: bot_name === config.default_file_name ? '' : bot_name,\n        }}\n        validate={validateBotName}\n        onSubmit={onConfirmSave}\n    >\n        {({ values: { is_local }, setFieldValue, touched, errors }) => {\n            const content_height = !is_mobile ? '500px' : `calc(100%)`;\n            return (\n                <ThemedScrollbars height={content_height} autohide>\n                    <Form className={classNames({ 'form--active-keyboard': is_onscreen_keyboard_active })}>\n                        <div className='modal__content'>\n                            <Text size='xs' line_height='l'>\n                                {localize(\n                                    'Enter your bot name, choose to save on your computer or Google Drive, and hit '\n                                )}\n                                <strong>{localize('Save.')}</strong>\n                            </Text>\n                            <div className='modal__content-row'>\n                                <Field name='bot_name'>\n                                    {({ field }) => (\n                                        <Input\n                                            {...field}\n                                            className='save-type__input'\n                                            type='text'\n                                            placeholder={localize('Untitled Bot')}\n                                            error={touched[field.name] && errors[field.name]}\n                                            label={localize('Bot name')}\n                                            onFocus={e => setCurrentFocus(e.currentTarget.name)}\n                                            onBlur={() => setCurrentFocus(null)}\n                                        />\n                                    )}\n                                </Field>\n                            </div>\n                            <div className='modal__content-row'>\n                                <RadioGroup\n                                    className='radio-group__save-type'\n                                    name='is_local'\n                                    selected={(() => {\n                                        if (is_authorised) {\n                                            return is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE;\n                                        }\n\n                                        return save_types.LOCAL;\n                                    })()}\n                                    onToggle={() => setFieldValue('is_local', !is_local)}\n                                >\n                                    <RadioGroup.Item\n                                        id='local'\n                                        label={\n                                            <IconRadio\n                                                text={localize(is_mobile ? 'Local' : 'My computer')}\n                                                icon={<Icon icon={is_mobile ? 'IcLocal' : 'IcMyComputer'} size={48} />}\n                                            />\n                                        }\n                                        value={save_types.LOCAL}\n                                    />\n                                    <RadioGroup.Item\n                                        id='drive'\n                                        label={\n                                            <IconRadio\n                                                text={'Google Drive'}\n                                                icon={<Icon icon={'IcGoogleDrive'} size={48} />}\n                                                google_drive_connected={is_authorised}\n                                                onDriveConnect={onDriveConnect}\n                                            />\n                                        }\n                                        value={save_types.GOOGLE_DRIVE}\n                                        disabled={!is_authorised}\n                                        className={classNames({\n                                            'dc-radio-group__item-disabled': !is_authorised,\n                                        })}\n                                    />\n                                </RadioGroup>\n                            </div>\n                        </div>\n                        <div\n                            className={classNames('modal__footer', {\n                                'modal__footer--active-keyboard': is_onscreen_keyboard_active,\n                            })}\n                        >\n                            <Button\n                                type='button'\n                                className='modal__footer--button'\n                                text={localize('Cancel')}\n                                onClick={toggleSaveModal}\n                                secondary\n                            />\n                            <Button\n                                className='modal__footer--button'\n                                type='submit'\n                                is_loading={button_status === 1}\n                                is_submit_success={button_status === 2}\n                                text={localize('Save')}\n                                primary\n                            />\n                        </div>\n                    </Form>\n                </ThemedScrollbars>\n            );\n        }}\n    </Formik>\n);\nconst SaveModal = ({\n    bot_name,\n    button_status,\n    is_authorised,\n    is_save_modal_open,\n    onConfirmSave,\n    onDriveConnect,\n    toggleSaveModal,\n    validateBotName,\n    setCurrentFocus,\n    is_onscreen_keyboard_active,\n}) => {\n    const is_mobile = isMobile();\n    return is_mobile ? (\n        <MobileFullPageModal\n            is_modal_open={is_save_modal_open}\n            className='save-modal__wrapper'\n            header={localize('Save bot')}\n            onClickClose={toggleSaveModal}\n            height_offset='80px'\n            page_overlay\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                is_mobile={is_mobile}\n                is_onscreen_keyboard_active={is_onscreen_keyboard_active}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </MobileFullPageModal>\n    ) : (\n        <Modal\n            title={localize('Save bot')}\n            className='modal--save'\n            width='328px'\n            height='500px'\n            is_open={is_save_modal_open}\n            toggleModal={toggleSaveModal}\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </Modal>\n    );\n};\n\nconst IconRadio = ({ icon, text, google_drive_connected, onDriveConnect }) => {\n    const is_drive_radio = text === 'Google Drive';\n\n    return (\n        <div className='save-type__container'>\n            <div className='save-type__radio'>\n                {icon &&\n                    React.cloneElement(icon, {\n                        className: classNames(\n                            'save-type__icon',\n                            {\n                                'save-type__icon--active': is_drive_radio && google_drive_connected,\n                                'save-type__icon--disabled': is_drive_radio && !google_drive_connected,\n                            },\n                            icon.props.className\n                        ),\n                    })}\n                <Text\n                    as='p'\n                    align='center'\n                    size='xxs'\n                    color={is_drive_radio && !google_drive_connected ? 'disabled' : 'prominent'}\n                    line_height='s'\n                    className='save-type__radio-text'\n                >\n                    {localize(text)}\n                </Text>\n            </div>\n            {is_drive_radio && (\n                <Text\n                    as='p'\n                    align='center'\n                    size='xs'\n                    weight='bold'\n                    styles={{ color: 'var(--brand-red-coral)' }}\n                    className='save-type__drive-status'\n                    onClick={onDriveConnect}\n                >\n                    {localize(google_drive_connected ? localize('Disconnect') : localize('Connect'))}\n                </Text>\n            )}\n        </div>\n    );\n};\n\nSaveModal.propTypes = {\n    button_status: PropTypes.number,\n    is_authorised: PropTypes.bool,\n    is_save_modal_open: PropTypes.bool,\n    onConfirmSave: PropTypes.func,\n    onDriveConnect: PropTypes.func,\n    toggleSaveModal: PropTypes.func,\n    bot_name: PropTypes.string,\n    setCurrentFocus: PropTypes.func,\n};\n\nexport default connect(({ save_modal, google_drive, ui }) => ({\n    button_status: save_modal.button_status,\n    is_authorised: google_drive.is_authorised,\n    is_save_modal_open: save_modal.is_save_modal_open,\n    is_onscreen_keyboard_active: ui.is_onscreen_keyboard_active,\n    onConfirmSave: save_modal.onConfirmSave,\n    onDriveConnect: save_modal.onDriveConnect,\n    toggleSaveModal: save_modal.toggleSaveModal,\n    validateBotName: save_modal.validateBotName,\n    bot_name: save_modal.bot_name,\n    setCurrentFocus: ui.setCurrentFocus,\n}))(SaveModal);\n","import SaveModal from './save-modal.jsx';\nimport './google-drive.scss';\nimport './save-modal.scss';\n\nexport default SaveModal;\n","import React from 'react';\nimport localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { getSavedWorkspaces } from '@deriv/bot-skeleton';\nimport { Dialog, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\n\ntype TDeleteDialog = {\n    is_delete_modal_open: boolean;\n    onToggleDeleteDialog: (param: boolean) => void;\n    removeBotStrategy: (param: string) => void;\n    selected_strategy_id: string;\n    setDashboardStrategies: (param: string[]) => void;\n    setStrategies: (param: string[]) => void;\n    setOpenSettings: (toast_message: string, show_toast: boolean) => void;\n};\n\nconst DeleteDialog = ({\n    is_delete_modal_open,\n    onToggleDeleteDialog,\n    selected_strategy_id,\n    setDashboardStrategies,\n    setOpenSettings,\n}: TDeleteDialog) => {\n    const removeBotStrategy = async (strategy_id: string) => {\n        const workspaces = await getSavedWorkspaces();\n        workspaces.map((strategy_from_workspace: string[] | { [key: string]: string }, index: number) => {\n            if (strategy_from_workspace.id === strategy_id) {\n                if (index > -1) {\n                    workspaces.splice(index, 1);\n                }\n                setDashboardStrategies(workspaces);\n                localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n                onToggleDeleteDialog(false);\n            }\n        });\n    };\n\n    const onHandleChange = (type: string, param: boolean) => {\n        if (type === 'confirm') {\n            removeBotStrategy(selected_strategy_id);\n            setOpenSettings('delete', true);\n        }\n        onToggleDeleteDialog(param);\n    };\n\n    return (\n        <div>\n            <Dialog\n                title={localize('Delete bot')}\n                is_visible={is_delete_modal_open}\n                confirm_button_text={localize('Yes, delete')}\n                onConfirm={() => {\n                    onHandleChange('confirm', false);\n                    setOpenSettings('delete', true);\n                }}\n                cancel_button_text={localize('No')}\n                onCancel={() => {\n                    onHandleChange('cancel', false);\n                }}\n                is_mobile_full_width={false}\n                className={'dc-dialog__delete-strategy--delete'}\n                has_close_icon\n            >\n                <div>\n                    <Text color='prominent' line_height='s' size='xs'>\n                        {localize('Your bot will be permanently deleted when you hit ')}\n                        <strong>{localize('Yes, delete.')}</strong>\n                    </Text>\n                </div>\n                <div>\n                    <Text color='prominent' line_height='xl' size='xs'>\n                        {localize('Are you sure you want to delete it?')}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default connect(({ toolbar, load_modal, dashboard }) => ({\n    is_dialog_open: toolbar.is_dialog_open,\n    is_delete_modal_open: load_modal.is_delete_modal_open,\n    onToggleDeleteDialog: load_modal.onToggleDeleteDialog,\n    selected_strategy_id: load_modal.selected_strategy_id,\n    setDashboardStrategies: load_modal.setDashboardStrategies,\n    setOpenSettings: dashboard.setOpenSettings,\n}))(DeleteDialog);\n","import React from 'react';\n\ntype TComponentVisibility = {\n    ref?: React.RefObject<HTMLInputElement>;\n};\n\nexport const useComponentVisibility = (ref: TComponentVisibility) => {\n    const [is_dropdown_visible, setDropdownVisibility] = React.useState(false);\n\n    const handleHideDropdown = (event: KeyboardEvent) => {\n        if (event.key.toUpperCase() === 'ESCAPE') {\n            setDropdownVisibility(false);\n        }\n    };\n\n    const handleClickOutside = (event: Event) => {\n        if (!ref?.current?.contains(event.target as Node)) {\n            setDropdownVisibility(false);\n        }\n    };\n\n    React.useEffect(() => {\n        document.addEventListener('keydown', handleHideDropdown, true);\n        document.addEventListener('click', handleClickOutside, true);\n        return () => {\n            document.removeEventListener('keydown', handleHideDropdown, true);\n            document.removeEventListener('click', handleClickOutside, true);\n        };\n    }, []);\n\n    return {\n        is_dropdown_visible,\n        setDropdownVisibility,\n    };\n};\n","import { localize } from '@deriv/translations';\n\nexport const STRATEGY = {\n    EDIT: 'edit',\n    SAVE: 'save',\n    DELETE: 'delete',\n    PREVIEW: 'preview',\n    PREVIEW_LIST: 'list',\n};\n\nexport const MENU_DESKTOP = [\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n    },\n];\n\nexport const CONTEXT_MENU_MOBILE = [\n    {\n        type: STRATEGY.PREVIEW_LIST,\n        icon: 'IcPreview',\n        label: localize('Preview'),\n    },\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n        label: localize('Edit'),\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n        label: localize('Save'),\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n        label: localize('Delete'),\n    },\n];\n","import React from 'react';\nimport classnames from 'classnames';\nimport { timeSince } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { DesktopWrapper, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { isDesktop, isMobile } from '@deriv/shared';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { useComponentVisibility } from '../../hooks/useComponentVisibility';\nimport { CONTEXT_MENU_MOBILE, MENU_DESKTOP, STRATEGY } from './constants';\nimport './index.scss';\n\ntype TRecentWorkspace = {\n    active_tab: number;\n    dashboard_strategies: [];\n    getRecentFileIcon: (string: string) => void;\n    getSaveType: (type: string) => string;\n    index: number;\n    getSelectedStrategyID: (current_workspace_id: string) => void;\n    loadFileFromRecent: () => void;\n    onToggleDeleteDialog: (is_delete_modal_open: boolean) => void;\n    previewRecentStrategy: (workspaceId: string) => void;\n    selected_strategy_id: string;\n    setActiveTab: (active_tab: number) => void;\n    setPreviewOnDialog: (has_mobile_preview_loaded: boolean) => void;\n    toggleSaveModal: () => void;\n    workspace: { [key: string]: string };\n};\n\nconst RecentWorkspace = ({\n    active_tab,\n    dashboard_strategies,\n    getRecentFileIcon,\n    getSaveType,\n    index,\n    loadFileFromRecent,\n    onToggleDeleteDialog,\n    previewRecentStrategy,\n    selected_strategy_id,\n    getSelectedStrategyID,\n    setActiveTab,\n    setPreviewOnDialog,\n    toggleSaveModal,\n    workspace,\n}: TRecentWorkspace) => {\n    const trigger_div_ref = React.useRef<HTMLInputElement | null>(null);\n    const toggle_ref = React.useRef<HTMLDivElement>(null);\n    const visible = useComponentVisibility(toggle_ref);\n    const { setDropdownVisibility, is_dropdown_visible } = visible;\n    const is_mobile = isMobile();\n    const is_desktop = isDesktop();\n\n    React.useEffect(() => {\n        if (dashboard_strategies && dashboard_strategies.length && index === 0) {\n            setTimeout(() => {\n                trigger_div_ref?.current?.click();\n            }, 50);\n        }\n    }, []);\n\n    const onToggleDropdown = (e: React.MouseEvent<HTMLElement>) => {\n        e.preventDefault();\n        setDropdownVisibility(!is_dropdown_visible);\n    };\n\n    const viewRecentStrategy = (type: string) => {\n        if (is_mobile && type === STRATEGY.PREVIEW_LIST) {\n            setPreviewOnDialog(true);\n            setTimeout(() => {\n                previewRecentStrategy(workspace.id);\n            }, 0); // made this async to give it a split second delay\n        }\n        if (selected_strategy_id !== workspace.id || (active_tab === 0 && type === STRATEGY.PREVIEW)) {\n            setTimeout(() => {\n                previewRecentStrategy(workspace.id);\n            }, 0); // made this async to give it a split second delay\n        }\n\n        switch (type) {\n            case 'edit': {\n                loadFileFromRecent();\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                break;\n            }\n            case 'save': {\n                toggleSaveModal();\n                break;\n            }\n            case 'delete': {\n                onToggleDeleteDialog(true);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    const is_active_mobile = selected_strategy_id === workspace.id && is_dropdown_visible;\n\n    return (\n        <div\n            className={classnames('load-strategy__recent-item', {\n                'load-strategy__recent-item--selected': selected_strategy_id === workspace.id,\n                'load-strategy__recent-item__loaded': dashboard_strategies,\n                'load-strategy__recent-item--minimized': !!dashboard_strategies?.length && !is_desktop,\n            })}\n            key={workspace.id}\n            ref={trigger_div_ref}\n            onClick={e => {\n                e.stopPropagation(); //stop event bubbling for child element\n                if (is_dropdown_visible) setDropdownVisibility(false);\n                viewRecentStrategy(STRATEGY.PREVIEW);\n                getSelectedStrategyID(workspace.id);\n            }}\n        >\n            <div className='load-strategy__recent-item-text'>\n                <div className='load-strategy__recent-item-title'>\n                    <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                        {workspace.name}\n                    </Text>\n                </div>\n            </div>\n            <div className='load-strategy__recent-item-time'>\n                <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                    {timeSince(workspace.timestamp)}\n                </Text>\n            </div>\n            <div className='load-strategy__recent-item-location'>\n                <Icon\n                    icon={getRecentFileIcon(workspace.save_type)}\n                    className={classnames({\n                        'load-strategy__recent-icon--active': workspace.save_type === save_types.GOOGLE_DRIVE,\n                    })}\n                />\n                <div className='load-strategy__recent-item-saved'>\n                    <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                        {getSaveType(workspace.save_type)}\n                    </Text>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className='load-strategy__recent-item__button'>\n                    {MENU_DESKTOP.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__button'\n                            onClick={() => {\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <Icon icon={item.icon} />\n                        </div>\n                    ))}\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <div ref={toggle_ref} onClick={onToggleDropdown}>\n                    <Icon icon='IcMenuDots' />\n                </div>\n                <div\n                    className={classnames('load-strategy__recent-item__mobile', {\n                        'load-strategy__recent-item__mobile--active': is_active_mobile,\n                        'load-strategy__recent-item__mobile--min': dashboard_strategies.length <= 5,\n                    })}\n                >\n                    {CONTEXT_MENU_MOBILE.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__group'\n                            onClick={() => {\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <div>\n                                <Icon icon={item.icon} />\n                            </div>\n                            <Text\n                                color='prominent'\n                                className='load-strategy__recent-item__group__label'\n                                as='p'\n                                size='xxs'\n                            >\n                                {item.label}\n                            </Text>\n                        </div>\n                    ))}\n                </div>\n            </MobileWrapper>\n        </div>\n    );\n};\n\nexport default connect(({ load_modal, dashboard, save_modal }: RootStore) => ({\n    active_tab: dashboard.active_tab,\n    dashboard_strategies: load_modal.dashboard_strategies,\n    getRecentFileIcon: load_modal.getRecentFileIcon,\n    getSaveType: load_modal.getSaveType,\n    getSelectedStrategyID: load_modal.getSelectedStrategyID,\n    loadFileFromRecent: load_modal.loadFileFromRecent,\n    onToggleDeleteDialog: load_modal.onToggleDeleteDialog,\n    previewRecentStrategy: load_modal.previewRecentStrategy,\n    selected_strategy_id: load_modal.selected_strategy_id,\n    setActiveTab: dashboard.setActiveTab,\n    setPreviewOnDialog: dashboard.setPreviewOnDialog,\n    toggleSaveModal: save_modal.toggleSaveModal,\n}))(RecentWorkspace);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { getSavedWorkspaces } from '@deriv/bot-skeleton';\nimport { MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { TWorkspace } from 'Stores/load-modal-store';\nimport SaveModal from '../../../save-modal';\nimport DeleteDialog from './delete-dialog';\nimport RecentWorkspace from './recent-workspace';\nimport './index.scss';\n\ntype TRecentComponent = {\n    dashboard_strategies: Array<TWorkspace>;\n    setDashboardStrategies: (strategies: Array<TWorkspace>) => void;\n    setStrategySaveType: (param: string) => void;\n    strategy_save_type: string;\n};\n\nconst HEADERS = ['Bot name', 'Last modified', 'Status'];\n\nconst RecentComponent = ({\n    dashboard_strategies,\n    setDashboardStrategies,\n    setStrategySaveType,\n    strategy_save_type,\n}: TRecentComponent) => {\n    React.useEffect(() => {\n        setStrategySaveType('');\n        const getStrategies = async () => {\n            const recent_strategies = await getSavedWorkspaces();\n            setDashboardStrategies(recent_strategies);\n        };\n        getStrategies();\n        //this dependency is used when we use the save modal popup\n    }, [strategy_save_type]);\n\n    const is_mobile = isMobile();\n\n    if (!dashboard_strategies?.length) return null;\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            <div className='load-strategy__recent'>\n                <div className='load-strategy__recent__files'>\n                    <div className='load-strategy__title'>\n                        <Text size={is_mobile ? 'xs' : 's'} weight='bold'>\n                            <Localize i18n_default_text='Your bots' />\n                        </Text>\n                    </div>\n                    <div className='load-strategy__recent__files__list'>\n                        <div\n                            className={classNames('load-strategy__recent-item load-strategy__recent-item__loaded', {\n                                'load-strategy__recent-item__loaded--first-child': !is_mobile,\n                            })}\n                        >\n                            {HEADERS.map(tab_name => {\n                                return (\n                                    <Text size='xs' weight='bold' key={tab_name}>\n                                        {tab_name}\n                                    </Text>\n                                );\n                            })}\n                        </div>\n                        {dashboard_strategies.map((workspace, index) => {\n                            return <RecentWorkspace key={workspace.id} workspace={workspace} index={index} />;\n                        })}\n                    </div>\n                    <DeleteDialog setStrategies={setDashboardStrategies} />\n                    <MobileWrapper>\n                        <SaveModal />\n                    </MobileWrapper>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst Recent = connect(({ load_modal, dashboard }: RootStore) => ({\n    dashboard_strategies: load_modal.dashboard_strategies,\n    setDashboardStrategies: load_modal.setDashboardStrategies,\n    setStrategySaveType: dashboard.setStrategySaveType,\n    strategy_save_type: dashboard.strategy_save_type,\n}))(RecentComponent);\n\nexport default Recent;\n","//kept sometihings commented beacuse of mobx to integrate popup functionality here\nimport React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, Dialog, Icon, MobileFullPageModal, MobileWrapper, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport SaveModalStore from 'Stores/save-modal-store';\nimport GoogleDrive from './load-bot-preview/google-drive';\nimport Recent from './load-bot-preview/recent';\n\ntype TCardProps = {\n    dialog_options: { [key: string]: string };\n    has_dashboard_strategies: boolean;\n    is_dialog_open: boolean;\n    is_mobile: boolean;\n    save_modal: SaveModalStore;\n    closeResetDialog: () => void;\n    handleFileChange: (e: React.ChangeEvent, flag?: boolean) => boolean;\n    loadFileFromLocal: () => void;\n    loadDataStrategy: () => void;\n    setActiveTab: (active_tab: number) => void;\n    setFileLoaded: (param: boolean) => void;\n    setPreviewOnPopup: (show: boolean) => void;\n    setOpenSettings: (toast_message: string, show_toast?: boolean) => void;\n    showVideoDialog: (param: { [key: string]: string | React.ReactNode }) => void;\n};\n\ntype TCardArray = {\n    icon: string;\n    content: string;\n    method: () => void;\n};\n\nconst Cards = ({\n    closeResetDialog,\n    dialog_options,\n    handleFileChange,\n    has_dashboard_strategies,\n    is_dialog_open,\n    is_mobile,\n    loadFileFromLocal,\n    setActiveTab,\n    setFileLoaded,\n    setPreviewOnPopup,\n    setOpenSettings,\n    showVideoDialog,\n    loadDataStrategy,\n}: TCardProps) => {\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n\n    const openGoogleDriveDialog = () => {\n        showVideoDialog({\n            type: 'google',\n        });\n    };\n\n    const openFileLoader = () => {\n        file_input_ref?.current?.click();\n    };\n\n    const actions: TCardArray[] = [\n        {\n            icon: is_mobile ? 'IcLocal' : 'IcMyComputer',\n            content: is_mobile ? localize('Local') : localize('My computer'),\n            method: openFileLoader,\n        },\n        {\n            icon: 'IcGoogleDriveDbot',\n            content: localize('Google Drive'),\n            method: openGoogleDriveDialog,\n        },\n        {\n            icon: 'IcBotBuilder',\n            content: localize('Bot Builder'),\n            method: () => setActiveTab(DBOT_TABS.BOT_BUILDER),\n        },\n        {\n            icon: 'IcQuickStrategy',\n            content: localize('Quick strategy'),\n            method: () => {\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                loadDataStrategy();\n            },\n        },\n    ];\n\n    return React.useMemo(\n        () => (\n            <div\n                className={classNames('tab__dashboard__table', {\n                    'tab__dashboard__table--minimized': has_dashboard_strategies && is_mobile,\n                })}\n            >\n                <div\n                    className={classNames('tab__dashboard__table__tiles', {\n                        'tab__dashboard__table__tiles--minimized': has_dashboard_strategies && is_mobile,\n                    })}\n                    id='tab__dashboard__table__tiles'\n                >\n                    {actions.map(icons => {\n                        const { icon, content, method } = icons;\n                        return (\n                            <div\n                                key={content}\n                                className={classNames('tab__dashboard__table__block', {\n                                    'tab__dashboard__table__block--minimized': has_dashboard_strategies && is_mobile,\n                                })}\n                            >\n                                <Icon\n                                    className={classNames('tab__dashboard__table__images', {\n                                        'tab__dashboard__table__images--minimized': has_dashboard_strategies,\n                                    })}\n                                    width='8rem'\n                                    height='8rem'\n                                    icon={icon}\n                                    id={icon}\n                                    onClick={method}\n                                />\n                                <Text color='prominent' size={is_mobile ? 'xxs' : 'xs'}>\n                                    {content}\n                                </Text>\n                            </div>\n                        );\n                    })}\n                    <input\n                        type='file'\n                        ref={file_input_ref}\n                        accept='.xml'\n                        hidden\n                        onChange={e => {\n                            setIsFileSupported(handleFileChange(e, false));\n                            loadFileFromLocal();\n                            setFileLoaded(true);\n                            setOpenSettings('import');\n                        }}\n                    />\n                    <DesktopWrapper>\n                        <Dialog\n                            title={dialog_options.title}\n                            is_visible={is_dialog_open}\n                            onCancel={closeResetDialog}\n                            is_mobile_full_width\n                            className='dc-dialog__wrapper--google-drive'\n                            has_close_icon\n                        >\n                            <GoogleDrive />\n                        </Dialog>\n                    </DesktopWrapper>\n                    <MobileWrapper>\n                        <MobileFullPageModal\n                            is_modal_open={is_dialog_open}\n                            className='load-strategy__wrapper'\n                            header={localize('Load strategy')}\n                            onClickClose={() => {\n                                setPreviewOnPopup(false);\n                                closeResetDialog();\n                            }}\n                            height_offset='80px'\n                            page_overlay\n                        >\n                            <div label='Google Drive' className='google-drive-label'>\n                                <GoogleDrive />\n                            </div>\n                        </MobileFullPageModal>\n                    </MobileWrapper>\n                </div>\n                <Recent is_file_supported={is_file_supported} />\n            </div>\n        ),\n        [is_dialog_open, has_dashboard_strategies]\n    );\n};\n\nexport default connect(({ load_modal, dashboard, quick_strategy }: RootStore) => ({\n    closeResetDialog: dashboard.onCloseDialog,\n    dialog_options: dashboard.dialog_options,\n    handleFileChange: load_modal.handleFileChange,\n    is_dialog_open: dashboard.is_dialog_open,\n    loadFileFromLocal: load_modal.loadFileFromLocal,\n    onDriveConnect: load_modal.onDriveConnect,\n    setActiveTab: dashboard.setActiveTab,\n    setFileLoaded: dashboard.setFileLoaded,\n    setLoadedLocalFile: load_modal.setLoadedLocalFile,\n    setPreviewOnPopup: dashboard.setPreviewOnPopup,\n    setOpenSettings: dashboard.setOpenSettings,\n    showVideoDialog: dashboard.showVideoDialog,\n    loadDataStrategy: quick_strategy.loadDataStrategy,\n}))(Cards);\n","import { localize } from '@deriv/translations';\n\nexport type TSidebarItem = {\n    label: string;\n    content: string[];\n    link: boolean;\n};\n\nexport const SIDEBAR_INTRO: TSidebarItem[] = [\n    {\n        label: localize('Welcome to DBot!'),\n        content: [\n            localize(\n                'Ready to automate your trading strategy without writing any code? Youve come to the right place.'\n            ),\n            localize('Check out these guides and FAQs to learn more about building your bot:'),\n        ],\n        link: false,\n    },\n    {\n        label: localize('Guide'),\n        content: [localize('DBot - your automated trading partner')],\n        link: true,\n    },\n    {\n        label: localize('FAQs'),\n        content: [\n            localize('What is DBot?'),\n            localize('Where do I find the blocks I need?'),\n            localize('How do I remove blocks from the workspace?'),\n        ],\n        link: true,\n    },\n];\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, Icon, MobileWrapper, Modal, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { SIDEBAR_INTRO } from './constants';\n\ntype TInfoPanel = {\n    has_started_onboarding_tour: boolean;\n    is_info_panel_visible: boolean;\n    setActiveTab: (param: number) => void;\n    setActiveTabTutorial: (param: number) => void;\n    setInfoPanelVisibility: (state: boolean) => void;\n};\n\nconst InfoPanel = ({\n    has_started_onboarding_tour,\n    is_info_panel_visible,\n    setActiveTab,\n    setActiveTabTutorial,\n    setInfoPanelVisibility,\n}: TInfoPanel) => {\n    const is_mobile = isMobile();\n    const switchTab = (link: boolean, label: string) => {\n        const tutorial_link = link ? setActiveTab(DBOT_TABS.TUTORIAL) : null;\n        const tutorial_label = label === 'Guide' ? setActiveTabTutorial(0) : setActiveTabTutorial(1);\n        return {\n            tutorial_link,\n            tutorial_label,\n        };\n    };\n\n    const handleClose = () => {\n        setInfoPanelVisibility(false);\n        localStorage.setItem('dbot_should_show_info', JSON.stringify(Date.now()));\n    };\n\n    const renderInfo = () => (\n        <div className='db-info-panel'>\n            <div className='db-info-panel__close-action' onClick={handleClose}>\n                <Icon width='1rem' height='1rem' icon='IcCloseIconDbot' />\n            </div>\n\n            {SIDEBAR_INTRO.map(sidebar_item => {\n                const { label, content, link } = sidebar_item;\n                return (\n                    <div key={`${label}-${content}`}>\n                        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold' as='h1'>\n                            {label}\n                        </Text>\n                        {content.map(text => (\n                            <Text\n                                key={`info-panel-tour${text}`}\n                                className={classNames('db-info-panel__card', {\n                                    'db-info-panel__content': link,\n                                })}\n                                color='prominent'\n                                line_height='xl'\n                                as='p'\n                                onClick={() => switchTab(link, label)}\n                                size={is_mobile ? 'xxs' : 's'}\n                            >\n                                {text}\n                            </Text>\n                        ))}\n                    </div>\n                );\n            })}\n        </div>\n    );\n\n    return (\n        <>\n            <DesktopWrapper>\n                {!has_started_onboarding_tour && (\n                    <div\n                        className={classNames('tab__dashboard__info-panel', {\n                            'tab__dashboard__info-panel--active': is_info_panel_visible,\n                        })}\n                    >\n                        {renderInfo()}\n                    </div>\n                )}\n            </DesktopWrapper>\n            <MobileWrapper>\n                <Modal\n                    className='statistics__modal statistics__modal--mobile'\n                    is_open={is_info_panel_visible}\n                    toggleModal={handleClose}\n                    width={'440px'}\n                >\n                    <Modal.Body>{renderInfo()}</Modal.Body>\n                </Modal>\n            </MobileWrapper>\n        </>\n    );\n};\n\nexport default connect(({ dashboard }: RootStore) => ({\n    has_started_onboarding_tour: dashboard.has_started_onboarding_tour,\n    is_info_panel_visible: dashboard.is_info_panel_visible,\n    setActiveTab: dashboard.setActiveTab,\n    setActiveTabTutorial: dashboard.setActiveTabTutorial,\n    setInfoPanelVisibility: dashboard.setInfoPanelVisibility,\n}))(InfoPanel);\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\n\ntype TUserGuide = {\n    setActiveTab: (param: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n};\n\nconst UserGuide = ({ setActiveTab, setActiveTabTutorial }: TUserGuide) => {\n    return (\n        <div className='tab__dashboard__home__retrigger'>\n            <button\n                data-testid='btn-user-guide'\n                onClick={() => {\n                    setActiveTab(DBOT_TABS.TUTORIAL);\n                    setActiveTabTutorial(0);\n                }}\n            >\n                <Icon\n                    className='tab__dashboard__home__retrigger__icon'\n                    width='2.4rem'\n                    height='2.4rem'\n                    icon={'IcDbotUserGuide'}\n                />\n                <Text color='prominent' size='xs' line_height='s' className={'tab__dashboard__home__retrigger__text'}>\n                    {localize('User Guide')}\n                </Text>\n            </button>\n        </div>\n    );\n};\n\nexport default UserGuide;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport Local from './load-bot-preview/local';\nimport Cards from './cards';\nimport InfoPanel from './info-panel';\nimport UserGuide from './user-guide';\n\ntype TMobileIconGuide = {\n    has_dashboard_strategies: boolean;\n    handleTabChange: (active_number: number) => void;\n};\n\ntype TDashboardMobileCommonProps = {\n    is_mobile: boolean;\n    has_dashboard_strategies: boolean;\n};\n\nconst DashboardTitle = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__header', {\n            'tab__dashboard__header--not-listed': !has_dashboard_strategies && is_mobile,\n        })}\n    >\n        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold'>\n            {localize('Load or build your bot')}\n        </Text>\n    </div>\n);\n\nconst MobileIconGuide = ({ handleTabChange }: TMobileIconGuide) => (\n    <MobileWrapper>\n        <div>\n            <Local handleTabChange={handleTabChange} />\n        </div>\n    </MobileWrapper>\n);\n\nconst DashboardDescription = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__description', {\n            'tab__dashboard__description__loaded--listed': has_dashboard_strategies && !is_mobile,\n            'tab__dashboard__description__loaded--not-listed':\n                !has_dashboard_strategies || (!has_dashboard_strategies && is_mobile),\n        })}\n    >\n        <Text color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n            {localize(\n                'Import a bot from your computer or Google Drive, build it from scratch, or start with a quick strategy.'\n            )}\n        </Text>\n    </div>\n);\n\nconst DashboardComponent = observer(({ handleTabChange }: TMobileIconGuide) => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { dashboard_strategies } = load_modal;\n    const { setActiveTab, setActiveTabTutorial, has_started_onboarding_tour } = dashboard;\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n    const is_mobile = isMobile();\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames('tab__dashboard', {\n                    'tab__dashboard--tour-active': has_started_onboarding_tour,\n                })}\n            >\n                <div className='tab__dashboard__content'>\n                    <div\n                        className={classNames('tab__dashboard__centered', {\n                            'tab__dashboard__centered--listed': !is_mobile && has_dashboard_strategies,\n                            'tab__dashboard__centered--not-listed': !has_dashboard_strategies,\n                        })}\n                    >\n                        {!has_dashboard_strategies && !is_mobile && (\n                            <DashboardTitle is_mobile={is_mobile} has_dashboard_strategies={has_dashboard_strategies} />\n                        )}\n                        <DesktopWrapper>\n                            {!has_dashboard_strategies && (\n                                <UserGuide setActiveTab={setActiveTab} setActiveTabTutorial={setActiveTabTutorial} />\n                            )}\n                        </DesktopWrapper>\n                        <div>\n                            <div\n                                className={classNames({\n                                    'tab__dashboard__mobile-container': is_mobile,\n                                    'tab__dashboard__mobile-container--minimized':\n                                        is_mobile && has_dashboard_strategies,\n                                })}\n                            >\n                                {is_mobile && !has_dashboard_strategies && (\n                                    <DashboardTitle\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                {(!is_mobile || (is_mobile && has_dashboard_strategies)) && (\n                                    <DashboardDescription\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                <MobileIconGuide\n                                    handleTabChange={handleTabChange}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            </div>\n                            {is_mobile && !has_dashboard_strategies && (\n                                <DashboardDescription\n                                    is_mobile={is_mobile}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            )}\n                        </div>\n                        <Cards has_dashboard_strategies={has_dashboard_strategies} is_mobile={is_mobile} />\n                    </div>\n\n                    {has_dashboard_strategies && !is_mobile && (\n                        <div className='tab__dashboard__preview'>\n                            <Local handleTabChange={handleTabChange} />\n                        </div>\n                    )}\n                </div>\n            </div>\n            <InfoPanel />\n        </React.Fragment>\n    );\n});\n\nexport default DashboardComponent;\n","import DashboardComponent from './dashboard-component';\n\nexport default DashboardComponent;\n","import React from 'react';\nimport ReactJoyride, { Step, Styles } from 'react-joyride';\nimport { handleJoyrideCallback } from './joyride-config';\n\nconst ReactJoyrideWrapper = ({ steps, styles, ...props }: { steps: Step[]; styles: Styles }) => {\n    return (\n        <ReactJoyride\n            steps={steps}\n            continuous\n            callback={handleJoyrideCallback}\n            locale={{ back: 'Previous' }}\n            {...props}\n            styles={{\n                options: {\n                    arrowColor: 'var(--general-main-2)',\n                    backgroundColor: 'var(--general-main-2)',\n                    primaryColor: 'var(--brand-red-coral)',\n                    textColor: 'var(--text-general)',\n                    spotlightShadow: '0 0 15px rgba(0, 0, 0, 0.5)',\n                },\n                buttonBack: {\n                    border: '0.2rem solid var(--text-less-prominent)',\n                    marginRight: '1rem',\n                    borderRadius: '0.4rem',\n                    color: 'var(--text-general)',\n                    padding: '0.6rem',\n                },\n                overlay: {\n                    height: '100%',\n                },\n                ...styles,\n            }}\n        />\n    );\n};\n\nexport default ReactJoyrideWrapper;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, ProgressBarOnboarding, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { BOT_BUILDER_MOBILE, DBOT_ONBOARDING_MOBILE, TStepMobile } from './joyride-config';\n\ntype TTourButton = {\n    type?: string;\n    onClick: () => void;\n    label: string;\n};\n\ntype TTourSlider = {\n    has_started_bot_builder_tour: boolean;\n    has_started_onboarding_tour: boolean;\n    onCloseTour: () => void;\n    onTourEnd: (step: number, has_started_onboarding_tour: boolean) => void;\n    setTourActiveStep: (param: number) => void;\n    toggleTourLoadModal: (toggle: boolean) => void;\n};\n\ntype TAccordion = {\n    content_data: TStepMobile;\n    expanded: boolean;\n};\n\nconst TourButton = ({ label, type = 'default', ...props }: TTourButton) => {\n    return (\n        <button className={type} {...props}>\n            <Text color='prominent' align='center' weight='bold' as='span' line_height='s' size='xs'>\n                {label}\n            </Text>\n        </button>\n    );\n};\n\nconst Accordion = ({ content_data, expanded = false, ...props }: TAccordion) => {\n    const [is_open, setOpen] = React.useState(expanded);\n    const { content, header } = content_data;\n\n    return (\n        <div className='dbot-accordion' {...props}>\n            <div>\n                <div className='dbot-accordion__navbar' onClick={() => setOpen(!is_open)}>\n                    <div className='dbot-accordion__header'>\n                        <Text as='span' size='xs' weight='bold'>\n                            {localize(header)}\n                        </Text>\n                    </div>\n                    <div className='dbot-accordion__icon'>\n                        <Icon icon={is_open ? 'IcChevronDownBold' : 'IcChevronUpBold'} />\n                    </div>\n                </div>\n                <div\n                    className={classNames('dbot-accordion__content', {\n                        'dbot-accordion__content--open': is_open,\n                    })}\n                >\n                    <Text as='span' size='xxs' line_height='s' color='colored-background'>\n                        {localize(content)}\n                    </Text>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst TourSlider = ({\n    onCloseTour,\n    onTourEnd,\n    has_started_onboarding_tour,\n    has_started_bot_builder_tour,\n    setTourActiveStep,\n    toggleTourLoadModal,\n}: TTourSlider) => {\n    const [step, setStep] = React.useState<number>(1);\n    const [slider_content, setContent] = React.useState<string | string[]>('');\n    const [slider_header, setheader] = React.useState<string>('');\n    const [slider_image, setimg] = React.useState<string>('');\n    const [step_key, setStepKey] = React.useState<number>(0);\n\n    React.useEffect(() => {\n        setTourActiveStep(step);\n        Object.values(!has_started_onboarding_tour ? BOT_BUILDER_MOBILE : DBOT_ONBOARDING_MOBILE).forEach(data => {\n            if (data.key === step) {\n                setContent(data?.content);\n                setheader(data?.header);\n                setimg(data?.img);\n                setStepKey(data?.step_key);\n            }\n        });\n        const el_ref = document.querySelector('.toolbar__group-btn svg:nth-child(2)');\n        if (has_started_bot_builder_tour && step === 1) {\n            //component does not rerender\n            el_ref?.classList.add('dbot-tour-blink');\n        } else {\n            el_ref?.classList.remove('dbot-tour-blink');\n        }\n        if (has_started_bot_builder_tour && step === 2) {\n            toggleTourLoadModal(true);\n        } else toggleTourLoadModal(false);\n    }, [step]);\n\n    const onChange = React.useCallback(\n        (param: string) => {\n            const MOBILE_TOUR = !has_started_onboarding_tour ? BOT_BUILDER_MOBILE : DBOT_ONBOARDING_MOBILE;\n            if (param === 'inc' && step < Object.keys(MOBILE_TOUR).length) setStep(step + 1);\n            else if (param === 'dec' && step > 1) setStep(step - 1);\n            else if (param === 'skip') onCloseTour();\n        },\n        [step]\n    );\n\n    const content_data = BOT_BUILDER_MOBILE.find(({ key }) => key === step);\n    const onClickNext = React.useCallback(() => {\n        onChange('inc');\n        onTourEnd(step, has_started_onboarding_tour);\n    }, [step]);\n\n    const bot_tour_text = !has_started_onboarding_tour && step === 3 ? localize('Finish') : localize('Next');\n\n    const tour_button_text = has_started_onboarding_tour && step_key === 0 ? localize('Start') : bot_tour_text;\n\n    return (\n        <>\n            <div\n                className={classNames('dbot-slider', {\n                    'dbot-slider__bot-builder-tour': !has_started_onboarding_tour,\n                    'dbot-slider--active': has_started_onboarding_tour && step === 1,\n                    'dbot-slider--tour-position': has_started_onboarding_tour && step_key !== 0,\n                })}\n            >\n                {has_started_onboarding_tour && slider_header && step_key !== 0 && (\n                    <div className='dbot-slider__navbar'>\n                        <Text\n                            color='less-prominent'\n                            weight='less-prominent'\n                            line_height='s'\n                            size='xxs'\n                        >{`${step_key}/6`}</Text>\n                        <Text\n                            color='prominent'\n                            weight='--text-less-prominent'\n                            line_height='s'\n                            size='xxs'\n                            onClick={onCloseTour}\n                        >\n                            {localize('Exit Tour')}\n                        </Text>\n                    </div>\n                )}\n\n                {has_started_onboarding_tour && slider_header && (\n                    <Text\n                        color='prominent'\n                        weight='bold'\n                        align='center'\n                        className='dbot-slider__title'\n                        as='span'\n                        line_height='s'\n                        size='xs'\n                    >\n                        {localize(slider_header)}\n                    </Text>\n                )}\n                {has_started_onboarding_tour && slider_image && (\n                    <div className='dbot-slider__image'>\n                        <img src={slider_image} />\n                    </div>\n                )}\n                {has_started_onboarding_tour && slider_content && (\n                    <>\n                        {slider_content.map(data => {\n                            return (\n                                <Text\n                                    key={data}\n                                    align='center'\n                                    color='prominent'\n                                    className='dbot-slider__content'\n                                    as='div'\n                                    line_height='s'\n                                    size='xxs'\n                                >\n                                    {localize(data)}\n                                </Text>\n                            );\n                        })}\n                    </>\n                )}\n                {!has_started_onboarding_tour && content_data && <Accordion content_data={content_data} expanded />}\n                <div className='dbot-slider__status'>\n                    <div className='dbot-slider__progress-bar'>\n                        {(!has_started_onboarding_tour || (has_started_onboarding_tour && step !== 1)) && (\n                            <ProgressBarOnboarding\n                                step={step}\n                                amount_of_steps={Object.keys(\n                                    !has_started_onboarding_tour ? BOT_BUILDER_MOBILE : DBOT_ONBOARDING_MOBILE\n                                )}\n                                setStep={setStep}\n                            />\n                        )}\n                    </div>\n                    <div className='dbot-slider__button-group'>\n                        {has_started_onboarding_tour && step === 1 && (\n                            <TourButton\n                                onClick={() => {\n                                    onChange('skip');\n                                }}\n                                label={localize('Skip')}\n                            />\n                        )}\n                        {((has_started_bot_builder_tour && step !== 1) ||\n                            (has_started_onboarding_tour && step !== 1 && step !== 2)) && (\n                            <TourButton\n                                onClick={() => {\n                                    onChange('dec');\n                                }}\n                                label={localize('Previous')}\n                            />\n                        )}\n                        <TourButton type='danger' onClick={onClickNext} label={tour_button_text} />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default connect(({ dashboard, load_modal }: RootStore) => ({\n    active_tab: dashboard.active_tab,\n    has_started_bot_builder_tour: dashboard.has_started_bot_builder_tour,\n    has_started_onboarding_tour: dashboard.has_started_onboarding_tour,\n    onCloseTour: dashboard.onCloseTour,\n    onTourEnd: dashboard.onTourEnd,\n    setActiveTab: dashboard.setActiveTab,\n    setTourActiveStep: dashboard.setTourActiveStep,\n    toggleTourLoadModal: load_modal.toggleTourLoadModal,\n}))(TourSlider);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { setTourSettings, tour_status_ended, tour_type } from './joyride-config';\n\ntype TTourTriggrerDialog = {\n    active_tab: number;\n    has_tour_ended: boolean;\n    is_tour_dialog_visible: boolean;\n    setTourDialogVisibility: (param: boolean) => void;\n    toggleOnConfirm: (active_tab: number, value: boolean) => void;\n};\n\nconst TourTriggrerDialog = ({\n    active_tab,\n    has_tour_ended,\n    is_tour_dialog_visible,\n    setTourDialogVisibility,\n    toggleOnConfirm,\n}: TTourTriggrerDialog) => {\n    const is_mobile = isMobile();\n\n    const toggleTour = (value: boolean, type: string) => {\n        if (tour_type.key === 'onboard_tour') {\n            if (type === 'onConfirm') {\n                toggleOnConfirm(active_tab, value);\n            } else {\n                setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n            }\n            tour_type.key = 'onboard_tour';\n        } else if (tour_type.key === 'bot_builder') {\n            if (type === 'onConfirm') {\n                toggleOnConfirm(active_tab, value);\n            } else {\n                setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n            }\n            tour_type.key = 'bot_builder';\n        }\n        setTourDialogVisibility(false);\n    };\n\n    const dashboardTourContent = () => {\n        if (!has_tour_ended) {\n            return (\n                <Localize\n                    key={0}\n                    i18n_default_text={'Hi! Hit <0>Start</0> for a quick tour to help you get started.'}\n                    components={[<strong key={0} />]}\n                />\n            );\n        }\n        return (\n            <Localize key={0} i18n_default_text={'If yes, go to <0>Tutorials</0>.'} components={[<strong key={0} />]} />\n        );\n    };\n\n    const getTourHeaders = (tour_check: boolean, tab_id: number) => {\n        let text;\n        if (!tour_check) {\n            if (tab_id === 1) text = localize(is_mobile ? 'Bot Builder guide' : \"Let's build a Bot!\");\n            else text = localize('Get started on DBot');\n        } else if (tab_id === 1) text = localize('Congratulations');\n        else text = localize('Want to retake the tour?');\n        return text;\n    };\n\n    const getTourContent = (type: string) => {\n        return (\n            <>\n                {type === 'header' && getTourHeaders(has_tour_ended, active_tab)}\n                {type === 'content' && active_tab === 0 && dashboardTourContent()}\n                {type === 'content' &&\n                    active_tab === 1 &&\n                    (!has_tour_ended ? (\n                        <>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        is_mobile\n                                            ? 'Heres a quick guide on how to use DBot on the go.'\n                                            : 'Learn how to build your bot from scratch using a simple strategy.'\n                                    }\n                                />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        is_mobile\n                                            ? 'You can import a bot from your mobile device or from Google drive, see a preview in the bot builder, and start trading by running the bot.'\n                                            : 'Hit the <0>Start</0> button to begin and follow the tutorial.'\n                                    }\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        'Note: You can also find this tutorial in the <0>Tutorials</0> tab.'\n                                    }\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                        </>\n                    ) : (\n                        <>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        'You have successfully created your bot using a simple strategy.'\n                                    }\n                                />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={'Now, <0>run the bot</0> to test out the strategy.'}\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        'Note: If you wish to learn more about the Bot Builder, you can proceed to the <0>Tutorials</0> tab.'\n                                    }\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                        </>\n                    ))}\n            </>\n        );\n    };\n\n    const confirm_button = active_tab === 0 ? localize('Got it, thanks!') : localize('OK');\n\n    const onHandleConfirm = React.useCallback(() => {\n        const status = tour_status_ended.key === 'finished';\n        toggleTour(status ? false : !has_tour_ended, 'onConfirm');\n        tour_status_ended.key = '';\n        return status ? tour_status_ended.key : null;\n    }, [has_tour_ended, active_tab]);\n\n    return (\n        <div>\n            <Dialog\n                is_visible={is_tour_dialog_visible}\n                cancel_button_text={localize('Skip')}\n                onCancel={() => toggleTour(false, 'onCancel')}\n                confirm_button_text={has_tour_ended ? confirm_button : localize('Start')}\n                onConfirm={onHandleConfirm}\n                is_mobile_full_width\n                className={classNames('dc-dialog', {\n                    'tour-dialog': active_tab === 0 || active_tab === 1,\n                    'tour-dialog--end': (active_tab === 0 || active_tab === 1) && has_tour_ended,\n                })}\n                has_close_icon={false}\n            >\n                <div className='dc-dialog__content__header'>\n                    <Text weight='bold' color='prominent' size={is_mobile ? 'xs' : 's'}>\n                        {is_tour_dialog_visible && getTourContent('header')}\n                    </Text>\n                </div>\n                <div className='dc-dialog__content__description'>\n                    <Text size={is_mobile ? 'xxs' : 's'} color='prominent'>\n                        {is_tour_dialog_visible && getTourContent('content')}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default connect(({ dashboard }: RootStore) => ({\n    active_tab: dashboard.active_tab,\n    has_tour_ended: dashboard.has_tour_ended,\n    is_tour_dialog_visible: dashboard.is_tour_dialog_visible,\n    setTourDialogVisibility: dashboard.setTourDialogVisibility,\n    toggleOnConfirm: dashboard.toggleOnConfirm,\n}))(TourTriggrerDialog);\n","import React from 'react';\nimport { Accordion, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { TDescription } from './tutorial-content';\n\ntype TFAQContent = {\n    faq_list: TFAQList[];\n    faq_search_value: string;\n    hide_header?: boolean;\n};\n\ntype TFAQList = {\n    title: string;\n    description: TDescription[];\n};\n\nconst FAQ = ({ type, content, src }: TDescription) => {\n    if (type === 'image') return <img src={src} />;\n    const is_mobile = isMobile();\n\n    return (\n        <Text\n            as='p'\n            size={is_mobile ? 'xs' : 's'}\n            line_height={is_mobile ? 'xl' : 'xxl'}\n            className='faq__description'\n            weight='normal'\n            key={content}\n            dangerouslySetInnerHTML={{ __html: content }}\n        />\n    );\n};\n\nconst FAQContent = ({ faq_list, faq_search_value, hide_header = false }: TFAQContent) => {\n    const getList = () => {\n        return faq_list.map(({ title, description }: TFAQList) => ({\n            header: (\n                <Text\n                    as='p'\n                    line_height='xl'\n                    className='faq__title'\n                    weight='bold'\n                    key={title}\n                    size={isMobile() ? 'xs' : 's'}\n                >\n                    {title}\n                </Text>\n            ),\n            content: description.map(item => <FAQ {...item} key={`faq-description-item-${item}`} />),\n        }));\n    };\n\n    return (\n        <div>\n            <div className='faq__wrapper'>\n                {!hide_header && (\n                    <Text as='p' line_height='xl' className='faq__wrapper__header' weight='bold'>\n                        {localize('FAQ')}\n                    </Text>\n                )}\n                {faq_list?.length ? (\n                    <Accordion className='faq__wrapper__content' list={getList()} icon_close='' icon_open='' />\n                ) : (\n                    <div className='faq__wrapper__nosearch'>\n                        <Text as='h1' weight='bold' line_height='xxs'>\n                            {localize('No results found \"{{ faq_search_value }}\"', {\n                                faq_search_value,\n                            })}\n                        </Text>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default connect(({ dashboard }: RootStore) => ({\n    faq_search_value: dashboard.faq_search_value,\n}))(FAQContent);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Icon, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { removeKeyValue } from '../../../utils/settings';\nimport { tour_type } from '../joyride-config';\n\ntype TGuideContent = {\n    dialog_options: { [key: string]: string };\n    faq_search_value: string;\n    guide_list: [];\n    is_dialog_open: boolean;\n    onOkButtonClick: () => void;\n    setActiveTab: (tab_title: number) => void;\n    setHasTourEnded: (param: boolean) => boolean;\n    setOnBoardTourRunState: (param: boolean) => boolean;\n    setTourActive: (param: boolean) => boolean;\n    setTourDialogVisibility: (param: boolean) => boolean;\n    showVideoDialog: (param: { [key: string]: string }) => void;\n};\n\nconst GuideContent = ({\n    dialog_options,\n    faq_search_value,\n    guide_list,\n    is_dialog_open,\n    onOkButtonClick,\n    setActiveTab,\n    setHasTourEnded,\n    setOnBoardTourRunState,\n    setTourActive,\n    setTourDialogVisibility,\n    showVideoDialog,\n}: TGuideContent) => {\n    const triggerTour = (type: string) => {\n        const storage = JSON.parse(localStorage?.dbot_settings);\n        if (type === 'OnBoard') {\n            if (storage.onboard_tour_token) {\n                removeKeyValue('onboard_tour_token');\n                removeKeyValue('onboard_tour_status');\n                removeKeyValue('bot_builder_status');\n            }\n            tour_type.key = 'onboard_tour';\n            setHasTourEnded(false);\n            if (is_mobile) {\n                setTourActive(true);\n                setOnBoardTourRunState(true);\n            } else {\n                setTourDialogVisibility(true);\n            }\n            setActiveTab(DBOT_TABS.DASHBOARD);\n        } else {\n            if (storage.bot_builder_token) {\n                removeKeyValue('bot_builder_token');\n                removeKeyValue('bot_builder_status');\n                removeKeyValue('onboard_tour_status');\n            }\n            tour_type.key = 'bot_builder';\n            setHasTourEnded(false);\n            setTourDialogVisibility(true);\n            setActiveTab(DBOT_TABS.BOT_BUILDER);\n        }\n    };\n    const is_mobile = isMobile();\n\n    return React.useMemo(\n        () => (\n            <div className='tutorials-wrap'>\n                {guide_list?.length > 0 && (\n                    <Text align='center' weight='bold' color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n                        Step-by-step guides\n                    </Text>\n                )}\n                <div className='tutorials-wrap__group'>\n                    {guide_list &&\n                        guide_list.map(({ id, content, src, type, subtype }) => {\n                            return (\n                                type === 'Tour' && (\n                                    <div\n                                        className='tutorials-wrap__group__cards tutorials-wrap--tour'\n                                        key={id}\n                                        onClick={() => triggerTour(subtype)}\n                                    >\n                                        <div\n                                            className={classNames('tutorials-wrap__placeholder__tours', {\n                                                'tutorials-wrap__placeholder--disabled': !src,\n                                            })}\n                                            style={{\n                                                backgroundImage: `url(${src})`,\n                                            }}\n                                        />\n                                        <Text\n                                            align='center'\n                                            color='prominent'\n                                            line_height='s'\n                                            size={is_mobile ? 'xxs' : 's'}\n                                        >\n                                            {content}\n                                        </Text>\n                                    </div>\n                                )\n                            );\n                        })}\n                </div>\n                {guide_list?.length > 0 && (\n                    <Text align='center' weight='bold' color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n                        Videos on DBot\n                    </Text>\n                )}\n                <div className='tutorials-wrap__group'>\n                    {guide_list &&\n                        guide_list.map(({ id, content, url, type, src }) => {\n                            return (\n                                type !== 'Tour' && (\n                                    <div className='tutorials-wrap__group__cards tutorials-wrap--placeholder' key={id}>\n                                        <div\n                                            className={classNames('tutorials-wrap__placeholder', {\n                                                'tutorials-wrap__placeholder--disabled': !url,\n                                            })}\n                                            style={{\n                                                backgroundImage: `url(${src})`,\n                                            }}\n                                        >\n                                            <div className='tutorials-wrap__placeholder__button-group'>\n                                                <Icon\n                                                    className='tutorials-wrap__placeholder__button-group--play'\n                                                    width='4rem'\n                                                    height='4rem'\n                                                    icon={'IcPlayOutline'}\n                                                    onClick={() =>\n                                                        showVideoDialog({\n                                                            type: 'url',\n                                                            url,\n                                                        })\n                                                    }\n                                                />\n                                            </div>\n                                        </div>\n                                        <Text\n                                            align='center'\n                                            color='prominent'\n                                            line_height='s'\n                                            size={is_mobile ? 'xxs' : 's'}\n                                        >\n                                            {content}\n                                        </Text>\n                                    </div>\n                                )\n                            );\n                        })}\n                    {!guide_list.length && (\n                        <div className='tutorials-wrap__group__nosearch'>\n                            <Text as='h1' weight='bold' line_height='xxs'>\n                                {localize('No results found \"{{ faq_search_value }}\"', {\n                                    faq_search_value,\n                                })}\n                            </Text>\n                        </div>\n                    )}\n                </div>\n                <Dialog\n                    title={dialog_options.title}\n                    is_visible={is_dialog_open}\n                    cancel_button_text={localize('Cancel')}\n                    onCancel={onOkButtonClick}\n                    confirm_button_text={localize('OK')}\n                    onConfirm={onOkButtonClick}\n                    is_mobile_full_width\n                    className={'dc-dialog'}\n                    has_close_icon\n                    onClose={onOkButtonClick}\n                >\n                    <iframe width='100%' height='100%' src={dialog_options.url} frameBorder='0' allowFullScreen />\n                </Dialog>\n            </div>\n        ),\n        [guide_list, is_dialog_open]\n    );\n};\n\nexport default connect(({ dashboard, load_modal }: RootStore) => ({\n    dialog_options: dashboard.dialog_options,\n    faq_search_value: dashboard.faq_search_value,\n    is_dialog_open: dashboard.is_dialog_open,\n    onOkButtonClick: dashboard.onCloseDialog,\n    setActiveTab: dashboard.setActiveTab,\n    setHasTourEnded: dashboard.setHasTourEnded,\n    setOnBoardTourRunState: dashboard.setOnBoardTourRunState,\n    setTourActive: dashboard.setTourActive,\n    setTourDialogVisibility: dashboard.setTourDialogVisibility,\n    showVideoDialog: dashboard.showVideoDialog,\n    toggleLoadModal: load_modal.toggleLoadModal,\n}))(GuideContent);\n","import { getImageLocation } from '../../../public-path';\nimport { localize } from '@deriv/translations';\n\nexport type TDescription = Pick<TContent, 'type' | 'content' | 'src'>;\n\nexport type TFaqContent = Pick<TContent, 'title' | 'description' | 'src'>;\n\nexport type TGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TUserGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TContent = {\n    content?: string;\n    description: TDescription[];\n    id: number;\n    src?: string;\n    subtype?: string;\n    title: string;\n    type: string;\n    url?: string;\n};\nexport const user_guide_content: TUserGuideContent[] = [\n    {\n        id: 1,\n        type: 'Tour',\n        subtype: 'OnBoard',\n        content: localize('Get started on DBot'),\n        src: getImageLocation('onboard-tour.png'),\n    },\n    {\n        id: 2,\n        type: 'Tour',\n        subtype: 'BotBuilder',\n        content: localize('Lets build a bot!'),\n        src: getImageLocation('builder-tour.png'),\n    },\n];\n\nexport const guide_content: TGuideContent[] = [\n    {\n        id: 1,\n        type: 'DBotVideo',\n        content: localize('DBot - your automated trading partner'),\n        url: 'https://www.youtube.com/embed/QdI5zCkO4Gk',\n        src: getImageLocation('video_dbot.webp'),\n    },\n];\n\nexport const faq_content: TFaqContent[] = [\n    {\n        title: localize('What is DBot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"DBot is a web-based strategy builder for trading digital options. Its a platform where you can build your own automated trading bot using drag-and-drop 'blocks'.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('Where do I find the blocks I need?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('Follow these steps:'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Bot Builder</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    \"2. Under the <strong>Blocks menu</strong>, you'll see a list of categories. Blocks are grouped within these categories. Choose the block you want and drag them to the workspace.\"\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '3. You can also search for the blocks you want using the search bar above the categories.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu_search.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    'For more info, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on the basics of building a trading bot.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I remove blocks from the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Click on the block you want to remove and press <strong>Delete</strong> on your keyboard.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I create variables?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '1. Under the <strong>Blocks</strong> menu, go to <strong>Utility > Variables</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '2. Enter a name for your variable, and hit <strong>Create</strong>. New blocks containing your new variable will appear below.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('3. Choose the block you want and drag it to the workspace.'),\n            },\n        ],\n    },\n    {\n        title: localize('Do you offer pre-built trading bots on DBot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Yes, you can get started with a pre-built bot using the <strong>Quick strategy</strong> feature. Youll find some of the most popular trading strategies here: Martingale, D'Alembert, and Oscar's Grind. Just select the strategy, enter your trade parameters, and your bot will be created for you. You can always tweak the parameters later.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('What is a quick strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"A quick strategy is a ready-made strategy that you can use in DBot. There are 3 quick strategies you can choose from: Martingale, D'Alembert, and Oscar's Grind.\"\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Using a quick strategy</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Quick strategy</strong> and select the strategy you want.'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select the asset and trade type.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Set your trade parameters and hit <strong>Create</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '4. Once the blocks are loaded onto the workspace, tweak the parameters if you want, or hit <strong>Run</strong> to start trading.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '5. Hit <strong>Save</strong> to download your bot. You can choose to download your bot to your device or your Google Drive.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I save my strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Save</strong> on the toolbar at the top to download your bot. Give your bot a name, and choose to download your bot to your device or Google Drive. Your bot will be downloaded as an XML file.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I import my own trading bot into DBot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Just drag the XML file from your computer onto the workspace, and your bot will be loaded accordingly. Alternatively, you can hit <strong>Import</strong> in <strong>Bot Builder</strong>, and choose to import your bot from your computer or from your Google Drive.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your computer</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Local</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Open</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your Google Drive</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Google Drive</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Select</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n        ],\n    },\n    {\n        title: localize('How do I reset the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Reset</strong> on the toolbar at the top. This will clear the workspace. Please note that any unsaved changes will be lost.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I clear my transaction log?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('1. Hit <strong>Reset</strong> at the bottom of stats panel.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log.png'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Hit <strong>Ok</strong> to confirm.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log_message.png'),\n            },\n        ],\n    },\n    {\n        title: localize('How do I control my losses with DBot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'There are several ways to control your losses with DBot. Heres a simple example of how you can implement loss control in your strategy:'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control.png'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Create the following variables:'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>currentPL</strong>: Use this variable to store the cumulative profit or loss while your bot is running. Set the initial value to <strong>0</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>currentStake</strong>: Use this variable to store the stake amount used in the last contract. You can assign any amount you want, but it must be a positive number.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>maximumLoss</strong>: Use this variable to store your maximum loss limit. You can assign any amount you want, but it must be a positive number.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>tradeAgain</strong>: Use this variable to stop trading when your loss limit is reached. Set the initial value to <strong>true</strong>.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_trade_parameters.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '2. Use a logic block to check if <strong>currentPL</strong> exceeds <strong>maximumLoss</strong>. If it does, set <strong>tradeAgain</strong> to false to prevent the bot from running another cycle.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_purchase_conditions.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '3. Update <strong>currentPL</strong> with the profit from the last contract. If the last contract was lost, the value of <strong>currentPL</strong> will be negative.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_restart_trade_conditions.png'),\n            },\n        ],\n    },\n    {\n        title: localize('Can I run DBot on multiple tabs in my web browser?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Yes, you can. However, there are limits on your account, such as maximum number of open positions and maximum aggregate payouts on open positions. So, just keep these limits in mind when opening multiple positions. You can find more info about these limits at <a href=\"https://app.deriv.com/account/account-limits\" target=\"_blank\">Settings > Account limits</a>.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('Can I trade cryptocurrencies on DBot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\"No, we don't offer cryptocurrencies on DBot.\"),\n            },\n        ],\n    },\n    {\n        title: localize('Do you sell trading bots?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"No, we don't. However, you'll find quick strategies on DBot that'll help you build your own trading bot for free.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('In which countries is DBot available?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'We offer our services in all countries, except for the ones <a href=\"https://deriv.com/tnc/general-terms.pdf\" target=\"_blank\">mentioned in our terms and conditions.</a>'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('If I close my web browser, will DBot continue to run?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('No, DBot will stop running when your web browser is closed.'),\n            },\n        ],\n    },\n    {\n        title: localize('What are the most popular strategies for automated trading?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Three of the most commonly used strategies in automated trading are Martingale, D'Alembert, and Oscar's Grind  you can find them all ready-made and waiting for you in DBot.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I build a trading bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '<a href=\"https://www.youtube.com/watch?v=QdI5zCkO4Gk&t=203s\" target=\"_blank\">Watch this video</a> to learn how to build a trading bot on DBot. Also, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on building a trading bot.'\n                ),\n            },\n        ],\n    },\n];\n","import React from 'react';\nimport classNames from 'classnames';\nimport debounce from 'lodash.debounce';\nimport { DesktopWrapper, Icon, MobileWrapper, SelectNative, Tabs } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport FAQContent from './faq-content';\nimport GuideContent from './guide-content';\nimport { faq_content, guide_content, user_guide_content } from './tutorial-content';\n\ntype TSidebarProps = {\n    active_tab_tutorials: number;\n    active_tab: number;\n    faq_search_value: string;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n    setFAQSearchValue: (setFAQSearchValue: string) => void;\n};\n\nconst Sidebar = ({\n    active_tab_tutorials,\n    active_tab,\n    faq_search_value,\n    setActiveTabTutorial,\n    setFAQSearchValue,\n}: TSidebarProps) => {\n    const guide_tab_content = [...user_guide_content, ...guide_content];\n    const [search_filtered_list, setsearchFilteredList] = React.useState(guide_tab_content);\n    const [search_faq_list, setsearchFAQList] = React.useState(faq_content);\n    const search_input = React.useRef<HTMLInputElement | null>(null);\n    const menu_items = [\n        {\n            label: localize('Guide'),\n            content: <GuideContent guide_list={search_filtered_list} />,\n        },\n        {\n            label: localize('FAQ'),\n            content: <FAQContent faq_list={search_faq_list} hide_header={isMobile()} />,\n        },\n    ];\n    const selected_tab = menu_items?.[active_tab_tutorials] || {};\n\n    React.useEffect(() => {\n        if (search_input?.current?.value) {\n            search_input.current.value = '';\n            setsearchFAQList([]);\n        }\n\n        setsearchFilteredList(guide_tab_content);\n        setsearchFAQList(faq_content);\n    }, [active_tab_tutorials, active_tab]);\n\n    React.useEffect(() => {\n        const content_list = active_tab_tutorials === 0 ? guide_tab_content : faq_content;\n        const filtered_list = content_list.filter(data => {\n            return content_list === guide_tab_content\n                ? data.content.toLowerCase().includes(faq_search_value)\n                : data.title.toLowerCase().includes(faq_search_value);\n        });\n        return active_tab_tutorials === 0 ? setsearchFilteredList(filtered_list) : setsearchFAQList(filtered_list);\n    }, [faq_search_value]);\n\n    const onSearch = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const value = event.target.value;\n        debounce(() => {\n            setFAQSearchValue(value);\n        }, 700)();\n    };\n\n    const onChangeHandle = React.useCallback(\n        ({ target }: React.ChangeEvent<HTMLInputElement>) => {\n            setActiveTabTutorial(menu_items.findIndex(i => i.label === target.value));\n        },\n        [active_tab_tutorials]\n    );\n\n    return (\n        <>\n            <DesktopWrapper>\n                <div className='dc-tabs__wrapper'>\n                    <div className='dc-tabs__wrapper__group'>\n                        <Icon data-testid='id-test-search' width='1.6rem' height='1.6rem' icon={'IcSearch'} />\n                        <input\n                            data-testid='id-test-search'\n                            ref={search_input}\n                            type='text'\n                            placeholder={localize('Search')}\n                            className='dc-tabs__wrapper__group__search-input'\n                            onChange={onSearch}\n                        />\n                    </div>\n                    <Tabs\n                        className='tutorials'\n                        active_index={active_tab_tutorials}\n                        onTabItemClick={setActiveTabTutorial}\n                        top\n                    >\n                        {menu_items.map(({ label, content }) => (\n                            <div label={label} key={label}>\n                                {content}\n                            </div>\n                        ))}\n                    </Tabs>\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <div className='tutorials-mobile'>\n                    <div className='tutorials-mobile__select'>\n                        <SelectNative\n                            data-testid='id-test-search'\n                            list_items={menu_items.map(({ label }, idx) => ({ id: idx, value: label, text: label }))}\n                            value={selected_tab.label}\n                            label={''}\n                            should_show_empty_option={false}\n                            onChange={onChangeHandle}\n                        />\n                    </div>\n                    <div className={classNames({ 'tutorials-mobile__guide': active_tab_tutorials === 0 })}>\n                        {selected_tab.content}\n                    </div>\n                </div>\n            </MobileWrapper>\n        </>\n    );\n};\n\nexport default connect(({ dashboard }: RootStore) => ({\n    active_tab_tutorials: dashboard.active_tab_tutorials,\n    active_tab: dashboard.active_tab,\n    faq_search_value: dashboard.faq_search_value,\n    setActiveTabTutorial: dashboard.setActiveTabTutorial,\n    setFAQSearchValue: dashboard.setFAQSearchValue,\n}))(Sidebar);\n","import Sidebar from './sidebar';\nimport './index.scss';\n\nexport default Sidebar;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { initTrashCan } from '@deriv/bot-skeleton/src/scratch/hooks/trashcan';\nimport { DesktopWrapper, Dialog, MobileWrapper, Tabs } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport Chart from 'Components/chart';\nimport { DBOT_TABS, TAB_IDS } from 'Constants/bot-contents';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport RunPanel from '../run-panel';\nimport RunStrategy from './dashboard-component/run-strategy';\nimport BotNotification from './bot-notification';\nimport DashboardComponent from './dashboard-component';\nimport {\n    DBOT_ONBOARDING,\n    getTourSettings,\n    setTourSettings,\n    setTourType,\n    tour_status_ended,\n    tour_type,\n} from './joyride-config';\nimport ReactJoyrideWrapper from './react-joyride-wrapper';\nimport TourSlider from './tour-slider';\nimport TourTriggrerDialog from './tour-trigger-dialog';\nimport Tutorial from './tutorial-tab';\n\ntype TDialogOptions = {\n    title: string;\n    message: string;\n    cancel_button_text?: string;\n    ok_button_text?: string;\n};\n\ntype TDashboard = {\n    active_tab: number;\n    dialog_options: TDialogOptions;\n    has_started_bot_builder_tour: boolean;\n    has_file_loaded: boolean;\n    has_started_onboarding_tour: boolean;\n    has_tour_started: boolean;\n    is_dialog_open: boolean;\n    is_drawer_open: boolean;\n    is_tour_dialog_visible: boolean;\n    is_strategy_modal_open: boolean;\n    onCancelButtonClick: () => void;\n    onCloseDialog: () => void;\n    onEntered: () => void;\n    onOkButtonClick: () => void;\n    setActiveTab: (active_tab: number) => void;\n    setBotBuilderTourState: (param: boolean) => void;\n    setOnBoardTourRunState: (param: boolean) => void;\n    setBotBuilderTokenCheck: (param: string | number) => void;\n    setOnBoardingTokenCheck: (param: string | number) => void;\n    setTourActive: (param: boolean) => void;\n    setTourDialogVisibility: (param: boolean) => void;\n    setHasTourEnded: (param: boolean) => void;\n};\n\nconst Dashboard = ({\n    active_tab,\n    is_drawer_open,\n    dialog_options,\n    has_file_loaded,\n    has_tour_started,\n    has_started_onboarding_tour,\n    has_started_bot_builder_tour,\n    is_dialog_open,\n    is_tour_dialog_visible,\n    is_strategy_modal_open,\n    onCancelButtonClick,\n    onCloseDialog,\n    onEntered,\n    onOkButtonClick,\n    setActiveTab,\n    setBotBuilderTokenCheck,\n    setBotBuilderTourState,\n    setOnBoardingTokenCheck,\n    setOnBoardTourRunState,\n    setTourActive,\n    setTourDialogVisibility,\n    setHasTourEnded,\n}: TDashboard) => {\n    const { DASHBOARD, BOT_BUILDER, CHART } = DBOT_TABS;\n    const is_tour_complete = React.useRef(true);\n    let bot_tour_token: string | number = '';\n    let onboard_tour_token: string | number = '';\n    let storage = '';\n    let tour_status: { [key: string]: string };\n    const is_mobile = isMobile();\n\n    const setTourStatus = (status: { [key: string]: string }) => {\n        if (status) {\n            const { action } = status;\n            const actions = ['skip', 'close'];\n\n            if (actions.includes(action)) {\n                if (tour_type.key === 'bot_builder') {\n                    setBotBuilderTourState(false);\n                } else {\n                    setOnBoardTourRunState(false);\n                }\n                setTourActive(false);\n            }\n        }\n    };\n\n    React.useEffect(() => {\n        if (active_tab === BOT_BUILDER) {\n            if (is_drawer_open) {\n                initTrashCan(400);\n            } else {\n                initTrashCan(20);\n            }\n            setTimeout(() => {\n                window.dispatchEvent(new Event('resize')); // make the trash can work again after resize\n            }, 500);\n        }\n        if (active_tab === DASHBOARD && has_file_loaded) {\n            onEntered();\n        }\n        if (active_tab === DASHBOARD) {\n            setTourType('onboard_tour');\n            onboard_tour_token = getTourSettings('token');\n            setOnBoardingTokenCheck(onboard_tour_token);\n        }\n        if (active_tab === BOT_BUILDER && !has_started_onboarding_tour) {\n            setTourType('bot_builder');\n            bot_tour_token = getTourSettings('token');\n            setBotBuilderTokenCheck(bot_tour_token);\n        }\n\n        if (!is_tour_dialog_visible) {\n            window.removeEventListener('storage', botStorageSetting);\n        }\n        tour_status = getTourSettings('onboard_tour_status');\n        setTourStatus(tour_status);\n    }, [active_tab, is_drawer_open, has_started_onboarding_tour, tour_status_ended, is_tour_dialog_visible]);\n\n    const botStorageSetting = () => {\n        tour_status = getTourSettings('bot_builder_status');\n        if (tour_status_ended.key === 'finished' && !is_mobile) {\n            setTourDialogVisibility(true);\n            setHasTourEnded(true);\n            is_tour_complete.current = false;\n            window.removeEventListener('storage', botStorageSetting);\n        }\n        setTourStatus(tour_status);\n        bot_tour_token = getTourSettings('token');\n        if (active_tab === 1 && !storage.bot_builder_token && !has_started_onboarding_tour) {\n            setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        }\n    };\n    if (!bot_tour_token && !is_mobile && !has_started_onboarding_tour) {\n        window.addEventListener('storage', botStorageSetting);\n    }\n\n    if (localStorage?.dbot_settings !== undefined) {\n        storage = JSON.parse(localStorage?.dbot_settings);\n    }\n\n    React.useEffect(() => {\n        const dbot_settings = JSON.parse(localStorage.getItem('dbot_settings') as string);\n        const has_onboard_token_set = active_tab === DASHBOARD && !dbot_settings?.onboard_tour_token;\n        const has_bot_builder_token_set = active_tab === BOT_BUILDER && !dbot_settings?.bot_builder_token;\n        const show_tour_dialog_desktop = (active_tab === DASHBOARD && !is_mobile) || active_tab === BOT_BUILDER;\n        const show_tour_dialog_mobile = active_tab !== DASHBOARD && is_mobile;\n        if (has_bot_builder_token_set || has_onboard_token_set) {\n            if (is_mobile && has_started_onboarding_tour) {\n                setTourActive(true);\n                setOnBoardTourRunState(true);\n            } else {\n                setHasTourEnded(false);\n                if (show_tour_dialog_mobile || show_tour_dialog_desktop) {\n                    setTourDialogVisibility(true);\n                } else {\n                    setTourActive(true);\n                    setOnBoardTourRunState(true);\n                }\n            }\n        }\n        if (has_started_bot_builder_tour && active_tab !== BOT_BUILDER && is_mobile) {\n            setTourActive(false);\n            setBotBuilderTourState(false);\n            setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        }\n    }, [active_tab]);\n\n    const handleTabChange = React.useCallback(\n        (tab_index: number) => {\n            setActiveTab(tab_index);\n            const el_id = TAB_IDS[tab_index];\n            if (el_id) {\n                const el_tab = document.getElementById(el_id);\n                el_tab?.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'center',\n                    inline: 'center',\n                });\n            }\n        },\n        [active_tab]\n    );\n\n    return (\n        <React.Fragment>\n            <div className='dashboard__main'>\n                <div\n                    className={classNames('dashboard__container', {\n                        'dashboard__container--active': has_tour_started && active_tab === DASHBOARD && is_mobile,\n                    })}\n                >\n                    <TourTriggrerDialog />\n                    {has_tour_started &&\n                        active_tab === DASHBOARD &&\n                        (is_mobile ? (\n                            <TourSlider />\n                        ) : (\n                            <ReactJoyrideWrapper steps={DBOT_ONBOARDING} spotlightClicks hideCloseButton />\n                        ))}\n                    <Tabs\n                        active_index={active_tab}\n                        className='dashboard__tabs'\n                        onTabItemChange={onEntered}\n                        onTabItemClick={handleTabChange}\n                        top\n                    >\n                        <div icon='IcDashboardComponentTab' label={localize('Dashboard')} id='id-dbot-dashboard'>\n                            <DashboardComponent handleTabChange={handleTabChange} />\n                        </div>\n                        <div icon='IcBotBuilderTabIcon' label={localize('Bot Builder')} id='id-bot-builder' />\n                        <div icon='IcChartsTabDbot' label={localize('Charts')} id='id-charts'>\n                            <Chart />\n                        </div>\n                        <div icon='IcTutorialsTabs' label={localize('Tutorials')} id='id-tutorials'>\n                            <div className='tutorials-wrapper'>\n                                <Tutorial />\n                            </div>\n                        </div>\n                    </Tabs>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className={'dashboard__run-strategy-wrapper'}>\n                    <RunStrategy />\n                    {([BOT_BUILDER, CHART].includes(active_tab) || has_started_onboarding_tour) &&\n                        !has_started_bot_builder_tour && <RunPanel />}\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>{!is_strategy_modal_open && <RunPanel />}</MobileWrapper>\n            <Dialog\n                cancel_button_text={dialog_options.cancel_button_text || localize('Cancel')}\n                className={'dc-dialog__wrapper--fixed'}\n                confirm_button_text={dialog_options.ok_button_text || localize('OK')}\n                has_close_icon\n                is_mobile_full_width={false}\n                is_visible={is_dialog_open}\n                onCancel={onCancelButtonClick}\n                onClose={onCloseDialog}\n                onConfirm={onOkButtonClick || onCloseDialog}\n                portal_element_id='modal_root'\n                title={dialog_options.title}\n            >\n                {dialog_options.message}\n            </Dialog>\n            <BotNotification />\n        </React.Fragment>\n    );\n};\n\nexport default connect(({ dashboard, run_panel, load_modal, quick_strategy }: RootStore) => ({\n    active_tab: dashboard.active_tab,\n    has_file_loaded: dashboard.has_file_loaded,\n    has_tour_started: dashboard.has_tour_started,\n    setTourActive: dashboard.setTourActive,\n    has_started_onboarding_tour: dashboard.has_started_onboarding_tour,\n    setOnBoardTourRunState: dashboard.setOnBoardTourRunState,\n    setBotBuilderTourState: dashboard.setBotBuilderTourState,\n    onEntered: load_modal.onEntered,\n    setTourDialogVisibility: dashboard.setTourDialogVisibility,\n    setHasTourEnded: dashboard.setHasTourEnded,\n    is_dialog_open: run_panel.is_dialog_open,\n    is_drawer_open: run_panel.is_drawer_open,\n    has_started_bot_builder_tour: dashboard.has_started_bot_builder_tour,\n    is_tour_dialog_visible: dashboard.is_tour_dialog_visible,\n    dialog_options: run_panel.dialog_options,\n    onCancelButtonClick: run_panel.onCancelButtonClick,\n    onCloseDialog: run_panel.onCloseDialog,\n    onOkButtonClick: run_panel.onOkButtonClick,\n    setActiveTab: dashboard.setActiveTab,\n    setBotBuilderTokenCheck: dashboard.setBotBuilderTokenCheck,\n    setOnBoardingTokenCheck: dashboard.setOnBoardingTokenCheck,\n    has_tour_ended: dashboard.has_tour_ended,\n    is_strategy_modal_open: quick_strategy.is_strategy_modal_open,\n}))(Dashboard);\n","import Dashboard from './dashboard';\nimport './dashboard.scss';\n\nexport default Dashboard;\n","import React from 'react';\nimport { TQuickStrategyProps, TSymbolItem } from '../quick-strategy.types';\nimport { MarketOption, QuickStrategyForm, TradeTypeOption } from '.';\n\nconst QuickStrategyContainer = (props: TQuickStrategyProps) => {\n    const {\n        symbol_dropdown,\n        trade_type_dropdown,\n        active_index,\n        description,\n        duration_unit_dropdown,\n        types_strategies_dropdown,\n        initial_values,\n        is_onscreen_keyboard_active,\n        is_stop_button_visible,\n        selected_symbol,\n        selected_trade_type,\n        selected_duration_unit,\n        selected_type_strategy,\n        is_running,\n        is_contract_dialog_open,\n        is_stop_bot_dialog_open,\n        createStrategy,\n        getSizeDesc,\n        onChangeDropdownItem,\n        onChangeInputValue,\n        onHideDropdownList,\n        onScrollStopDropdownList,\n        setCurrentFocus,\n        toggleStopBotDialog,\n    } = props;\n\n    const symbol_dropdown_options = React.useMemo(\n        () =>\n            symbol_dropdown\n                .map((symbol: TSymbolItem) => ({\n                    component: <MarketOption key={symbol.text} symbol={symbol} />,\n                    ...symbol,\n                }))\n                // Until Crypto enabled for Dbot\n                .filter(option => option.group !== 'Cryptocurrencies')\n                .filter(\n                    option => option.text !== 'Volatility 150 (1s) Index' && option.text !== 'Volatility 250 (1s) Index'\n                ),\n        [symbol_dropdown]\n    );\n\n    const trade_type_dropdown_options = React.useMemo(\n        () =>\n            trade_type_dropdown.map(trade_type => ({\n                component: <TradeTypeOption key={trade_type.text} trade_type={trade_type} />,\n                ...trade_type,\n            })),\n        [trade_type_dropdown]\n    );\n\n    return (\n        <QuickStrategyForm\n            active_index={active_index}\n            description={description}\n            duration_unit_dropdown={duration_unit_dropdown}\n            types_strategies_dropdown={types_strategies_dropdown}\n            initial_values={initial_values}\n            is_onscreen_keyboard_active={is_onscreen_keyboard_active}\n            is_stop_button_visible={is_stop_button_visible}\n            symbol_dropdown={symbol_dropdown_options}\n            trade_type_dropdown={trade_type_dropdown_options}\n            selected_symbol={selected_symbol}\n            selected_trade_type={selected_trade_type}\n            selected_duration_unit={selected_duration_unit}\n            selected_type_strategy={selected_type_strategy}\n            getSizeDesc={getSizeDesc}\n            createStrategy={createStrategy}\n            onChangeDropdownItem={onChangeDropdownItem}\n            onChangeInputValue={onChangeInputValue}\n            onHideDropdownList={onHideDropdownList}\n            onScrollStopDropdownList={onScrollStopDropdownList}\n            setCurrentFocus={setCurrentFocus}\n            toggleStopBotDialog={toggleStopBotDialog}\n            is_running={is_running}\n            is_contract_dialog_open={is_contract_dialog_open}\n            is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n        />\n    );\n};\n\nexport default React.memo(QuickStrategyContainer);\n","import { popover_zindex } from 'Constants/z-indexes';\n\nexport type TCommonInputsProperties = {\n    className?: string;\n    zIndex?: number;\n};\n\nconst common_inputs_properties: Readonly<TCommonInputsProperties> = {\n    className: 'quick-strategy__input',\n    zIndex: popover_zindex.QUICK_STRATEGY,\n};\n\nexport default common_inputs_properties;\n","import { TDropdownItems, TInputBaseFields, TInputsFieldNames, TSelectsFieldNames } from '../../quick-strategy.types';\nimport { common_inputs_properties } from '..';\nimport { TCommonInputsProperties } from './common-input-properties';\n\nconst getMessage = (property: string) => `The bot will stop trading if your total ${property} exceeds this amount.`;\n\nexport type TDataFields = {\n    id: string;\n    field_name: TSelectsFieldNames | TInputsFieldNames;\n    className?: string;\n    input_value?: TInputBaseFields;\n    select_value?: TDropdownItems;\n    label: string;\n    placeholder?: string;\n    trailing_icon_message?: string;\n    is_able_disabled?: boolean;\n    is_uniq_strategy_field?: boolean;\n} & Readonly<TCommonInputsProperties>;\n\nconst data_fields: ReadonlyArray<TDataFields> = [\n    {\n        id: 'type-strategy',\n        field_name: 'quick-strategy__type-strategy',\n        className: '',\n        select_value: 'type-strategy',\n        label: '',\n    },\n    {\n        id: 'symbol',\n        field_name: 'quick-strategy__symbol',\n        className: 'quick-strategy__dropdown quick-strategy__leading',\n        select_value: 'symbol',\n        label: 'Asset',\n    },\n    {\n        id: 'trade-type',\n        field_name: 'quick-strategy__trade-type',\n        className: 'quick-strategy__dropdown quick-strategy__leading',\n        select_value: 'trade-type',\n        label: 'Trade type',\n    },\n    {\n        id: 'duration-unit',\n        field_name: 'quick-strategy__duration-unit',\n        className: '',\n        select_value: 'duration-unit',\n        label: 'Duration unit',\n        is_able_disabled: true,\n    },\n    {\n        id: 'duration-value',\n        field_name: 'quick-strategy__duration-value',\n        input_value: 'input_duration_value',\n        label: 'Duration value',\n        placeholder: '5',\n        trailing_icon_message: 'The trade length of your purchased contract.',\n        ...common_inputs_properties,\n    },\n    {\n        id: 'stake',\n        field_name: 'quick-strategy__stake',\n        input_value: 'input_stake',\n        label: 'Initial stake',\n        placeholder: '10',\n        trailing_icon_message: 'The amount that you pay to enter a trade.',\n        ...common_inputs_properties,\n    },\n    {\n        id: 'loss',\n        field_name: 'quick-strategy__loss',\n        input_value: 'input_loss',\n        label: 'Loss threshold',\n        placeholder: '5000',\n        trailing_icon_message: getMessage('loss'),\n        ...common_inputs_properties,\n    },\n    {\n        id: 'strategy-data',\n        is_uniq_strategy_field: true,\n        label: '',\n        field_name: '',\n    },\n    {\n        id: 'profit',\n        field_name: 'quick-strategy__profit',\n        input_value: 'input_profit',\n        label: 'Profit threshold',\n        placeholder: '5000',\n        trailing_icon_message: getMessage('profit'),\n        ...common_inputs_properties,\n    },\n];\n\nexport default data_fields;\n","import QuickStrategyStore from 'Stores/quick-strategy-store';\nimport RootStore from 'Stores/root-store';\nimport { TInputUniqFields } from '../../quick-strategy.types';\nimport common_inputs_properties, { TCommonInputsProperties } from './common-input-properties';\n\nconst quick_strategy_store = new QuickStrategyStore(RootStore);\n\nexport type TDataUniqInput = {\n    id: TFieldNameUniqInput;\n    field_name: TFieldNameUniqInput;\n    input_value: TInputUniqFields;\n    label: TFieldNameUniqLabel;\n    placeholder: string;\n    trailing_icon_message: string;\n} & Readonly<TCommonInputsProperties>;\n\ntype TFieldNameUniqInput = 'martingale-size' | 'alembert-unit' | 'oscar-unit';\ntype TFieldNameUniqLabel = 'Size' | '' | 'Units';\n\nconst data_uniq_input_obj: ReadonlyArray<TDataUniqInput> = [\n    {\n        id: 'martingale-size',\n        field_name: 'martingale-size',\n        input_value: 'input_martingale_size',\n        label: 'Size',\n        placeholder: '2',\n        trailing_icon_message: quick_strategy_store.getSizeDesc(0),\n        ...common_inputs_properties,\n    },\n    {\n        id: 'alembert-unit',\n        field_name: 'alembert-unit',\n        input_value: 'input_alembert_unit',\n        label: 'Units',\n        placeholder: '2',\n        trailing_icon_message: quick_strategy_store.getSizeDesc(1),\n        ...common_inputs_properties,\n    },\n    {\n        id: 'oscar-unit',\n        field_name: 'oscar-unit',\n        input_value: 'input_oscar_unit',\n        label: 'Units',\n        placeholder: '2',\n        trailing_icon_message: quick_strategy_store.getSizeDesc(2),\n        ...common_inputs_properties,\n    },\n];\n\nexport default data_uniq_input_obj;\n","import React from 'react';\nimport { Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\n\ntype TDescription = {\n    id: string;\n    description: string;\n};\n\nconst Description = ({ id, description }: TDescription) => (\n    <React.Fragment>\n        {id === 'type-strategy' && (\n            <div key='description' className='quick-strategy__text'>\n                <Text size={isMobile() ? 'xxs' : 's'} align='justify'>\n                    {description}\n                </Text>\n            </div>\n        )}\n    </React.Fragment>\n);\n\nDescription.displayName = 'Description';\n\nexport default React.memo(Description);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { isMobile } from '@deriv/shared';\nimport { TDropdownItems, TSelectsFieldNames } from '../quick-strategy.types';\nimport { TDurationFields } from './components.types';\nimport { SelectField } from '.';\n\nconst DurationFields = ({\n    id,\n    field_name,\n    dropdown_list,\n    selected_value,\n    label,\n    select_value,\n    className,\n    is_able_disabled,\n    values,\n    selected_trade_type,\n    selected_symbol,\n    setFieldValue,\n    onChangeDropdownItem,\n    onHideDropdownList,\n    onScrollStopDropdownList,\n}: TDurationFields) => {\n    const is_mobile = isMobile();\n    return id === 'duration-unit' ? (\n        <div\n            className={classNames('quick-strategy__form-row', {\n                'quick-strategy__form-row--multiple': !is_mobile,\n            })}\n        >\n            <SelectField\n                field_name={field_name as TSelectsFieldNames}\n                id={id}\n                is_mobile={is_mobile}\n                dropdown_list={dropdown_list}\n                selected_value={selected_value}\n                label={label}\n                select_value={select_value as TDropdownItems}\n                setFieldValue={setFieldValue}\n                className={className}\n                is_able_disabled={is_able_disabled}\n                values={values}\n                onChangeDropdownItem={onChangeDropdownItem}\n                onHideDropdownList={onHideDropdownList}\n                onScrollStopDropdownList={onScrollStopDropdownList}\n                selected_trade_type={selected_trade_type}\n                selected_symbol={selected_symbol}\n            />\n        </div>\n    ) : (\n        <></>\n    );\n};\n\nexport default React.memo(DurationFields);\n","import React from 'react';\nimport { TDropdownItems, TDropdowns, TSelectedValuesSelect } from '../quick-strategy.types';\nimport { TDropdownLists, TQuickStrategyFields, TSelectedValues } from './components.types';\nimport { data_fields, data_uniq_input_obj, Description, DurationFields, Inputs, Selects } from '.';\n\nconst QuickStrategyFields = React.memo(\n    ({\n        types_strategies_dropdown,\n        symbol_dropdown,\n        trade_type_dropdown,\n        duration_unit_dropdown,\n        selected_type_strategy,\n        selected_trade_type,\n        selected_symbol,\n        selected_duration_unit,\n        onChangeDropdownItem,\n        onHideDropdownList,\n        setFieldValue,\n        onScrollStopDropdownList,\n        handleChange,\n        onChangeInputValue,\n        setCurrentFocus,\n        values,\n        description,\n        errors,\n    }: TQuickStrategyFields) => {\n        const uniq_selected_input = React.useMemo(\n            () => data_uniq_input_obj.filter((_elem, index) => index === selected_type_strategy.index)[0],\n            [selected_type_strategy]\n        );\n\n        const dropdown_lists: TDropdownLists = {\n            symbol: symbol_dropdown,\n            'trade-type': trade_type_dropdown,\n            'duration-unit': duration_unit_dropdown,\n            'type-strategy': types_strategies_dropdown,\n        };\n\n        const selected_values: TSelectedValues = {\n            symbol: selected_symbol,\n            'trade-type': selected_trade_type,\n            'duration-unit': selected_duration_unit,\n            'type-strategy': selected_type_strategy,\n        };\n\n        const fields = React.useMemo(\n            () => {\n                return data_fields.map((item, idx) => {\n                    const {\n                        id,\n                        field_name,\n                        className,\n                        input_value,\n                        select_value,\n                        label,\n                        placeholder,\n                        trailing_icon_message,\n                        zIndex,\n                        is_able_disabled,\n                    } = item;\n\n                    const is_uniq_strategy_field = item?.is_uniq_strategy_field;\n                    const is_input_field = is_uniq_strategy_field || !!input_value;\n                    const is_select_field = !!select_value;\n\n                    const dropdown_list: TDropdowns = !is_uniq_strategy_field\n                        ? dropdown_lists[id as TDropdownItems]\n                        : [];\n\n                    const selected_value: Partial<TSelectedValuesSelect> = !is_uniq_strategy_field\n                        ? selected_values[id as TDropdownItems]\n                        : {};\n\n                    return (\n                        <React.Fragment key={id}>\n                            {id === 'duration-unit' && (\n                                <DurationFields\n                                    id={id}\n                                    field_name={field_name}\n                                    idx={idx}\n                                    dropdown_list={dropdown_list}\n                                    selected_value={selected_value}\n                                    label={label}\n                                    select_value={select_value}\n                                    setFieldValue={setFieldValue}\n                                    className={className}\n                                    is_able_disabled={is_able_disabled}\n                                    values={values}\n                                    onChangeDropdownItem={onChangeDropdownItem}\n                                    onHideDropdownList={onHideDropdownList}\n                                    onScrollStopDropdownList={onScrollStopDropdownList}\n                                    selected_trade_type={selected_trade_type}\n                                    selected_symbol={selected_symbol}\n                                    handleChange={handleChange}\n                                    onChangeInputValue={onChangeInputValue}\n                                    setCurrentFocus={setCurrentFocus}\n                                    errors={errors}\n                                />\n                            )}\n                            {is_input_field && (\n                                <Inputs\n                                    idx={idx}\n                                    handleChange={handleChange}\n                                    onChangeInputValue={onChangeInputValue}\n                                    setCurrentFocus={setCurrentFocus}\n                                    field_name={field_name}\n                                    id={id}\n                                    className={className}\n                                    label={label}\n                                    input_value={input_value}\n                                    placeholder={placeholder}\n                                    is_uniq_strategy_field={is_uniq_strategy_field}\n                                    trailing_icon_message={trailing_icon_message}\n                                    zIndex={zIndex}\n                                    uniq_selected_input={uniq_selected_input}\n                                    errors={errors}\n                                    is_input_field={is_input_field}\n                                />\n                            )}\n                            {is_select_field && id !== 'duration-unit' && (\n                                <Selects\n                                    field_name={field_name}\n                                    id={id}\n                                    dropdown_list={dropdown_list}\n                                    selected_value={selected_value}\n                                    label={label}\n                                    select_value={select_value}\n                                    setFieldValue={setFieldValue}\n                                    className={className}\n                                    is_able_disabled={is_able_disabled}\n                                    values={values}\n                                    onChangeDropdownItem={onChangeDropdownItem}\n                                    onHideDropdownList={onHideDropdownList}\n                                    onScrollStopDropdownList={onScrollStopDropdownList}\n                                    selected_trade_type={selected_trade_type}\n                                    selected_symbol={selected_symbol}\n                                    is_input_field={is_input_field}\n                                />\n                            )}\n                            <Description key={description} id={id} description={description} />\n                        </React.Fragment>\n                    );\n                });\n            },\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            [\n                types_strategies_dropdown,\n                symbol_dropdown,\n                trade_type_dropdown,\n                duration_unit_dropdown,\n                selected_type_strategy,\n                selected_trade_type,\n                selected_symbol,\n                selected_duration_unit,\n                errors,\n            ]\n        );\n\n        return <div className='quick-strategy__fields'>{fields}</div>;\n    },\n    (prevProps, nextProps) =>\n        prevProps.values === nextProps.values &&\n        prevProps.errors === nextProps.errors &&\n        prevProps.duration_unit_dropdown === nextProps.duration_unit_dropdown\n);\n\nQuickStrategyFields.displayName = 'QuickStrategyFields';\n\nexport default QuickStrategyFields;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { isDesktop } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { TQuickStrategyFooter } from './components.types';\n\nconst QuickStrategyFooter = ({\n    is_submit_enabled,\n    is_running,\n    setFieldValue,\n    submitForm,\n    toggleStopBotDialog,\n}: TQuickStrategyFooter) => {\n    const handleCreateEdit = React.useCallback(() => {\n        setFieldValue('button', 'edit');\n        submitForm();\n    }, [is_submit_enabled]);\n\n    const handleRun = React.useCallback(async () => {\n        if (is_running) {\n            await Promise.resolve(setFieldValue('button', 'edit'))\n                .then(() => submitForm())\n                .then(() => toggleStopBotDialog());\n        } else {\n            setFieldValue('button', 'run');\n            submitForm();\n        }\n    }, [is_submit_enabled]);\n\n    return (\n        <div className={'quick-strategy__form-footer'}>\n            <Button.Group>\n                {isDesktop() && (\n                    <Button\n                        type='button'\n                        id='db-quick-strategy__button-edit'\n                        text={localize('Edit')}\n                        is_disabled={!is_submit_enabled}\n                        secondary\n                        large\n                        onClick={handleCreateEdit}\n                    />\n                )}\n                <Button\n                    type='button'\n                    id='db-quick-strategy__button-run'\n                    text={localize('Run')}\n                    is_disabled={!is_submit_enabled}\n                    primary\n                    large\n                    onClick={handleRun}\n                />\n            </Button.Group>\n        </div>\n    );\n};\n\nexport default React.memo(QuickStrategyFooter);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Form, Formik, FormikProps } from 'formik';\nimport * as Yup from 'yup';\nimport { Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile, isSafari } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { TQuickStrategyFormValues } from '../quick-strategy.types';\nimport { TQuickStrategyForm } from './components.types';\nimport { QuickStrategyFields, QuickStrategyFooter } from '.';\n\nconst QuickStrategyForm = ({\n    duration_unit_dropdown,\n    types_strategies_dropdown,\n    initial_values,\n    is_onscreen_keyboard_active,\n    is_stop_button_visible,\n    symbol_dropdown,\n    trade_type_dropdown,\n    selected_symbol,\n    selected_trade_type,\n    selected_duration_unit,\n    selected_type_strategy,\n    description,\n    is_contract_dialog_open,\n    is_stop_bot_dialog_open,\n    is_running,\n    createStrategy,\n    onChangeDropdownItem,\n    onChangeInputValue,\n    onHideDropdownList,\n    onScrollStopDropdownList,\n    setCurrentFocus,\n    toggleStopBotDialog,\n}: TQuickStrategyForm) => {\n    const { min, max } = selected_duration_unit;\n\n    const setDefaultValidationNumber = () =>\n        Yup.number()\n            .typeError(localize('Must be a number'))\n            .round('ceil')\n            .min(1, localize('Must be a number higher than 0'));\n\n    const SchemaFields = Yup.object().shape({\n        'quick-strategy__duration-value': Yup.number()\n            .typeError(localize('Must be a number'))\n            .required(localize('Field cannot be empty'))\n            .min(min, localize('Minimum duration: {{ min }}', { min }))\n            .max(max, localize('Maximum duration: {{ max }}', { max })),\n        'quick-strategy__stake': setDefaultValidationNumber(),\n        'quick-strategy__loss': setDefaultValidationNumber(),\n        'martingale-size': Yup.number()\n            .typeError(localize('Must be a number'))\n            .round('floor')\n            .min(2, localize('The value must be equal to or greater than 2.')),\n        'alembert-unit': setDefaultValidationNumber(),\n        'oscar-unit': setDefaultValidationNumber(),\n        'quick-strategy__profit': setDefaultValidationNumber(),\n    });\n    return (\n        <Formik\n            initialValues={initial_values}\n            validationSchema={SchemaFields}\n            onSubmit={createStrategy}\n            enableReinitialize={true}\n            validateOnMount={true}\n        >\n            {({\n                errors,\n                handleChange,\n                values,\n                isSubmitting,\n                setFieldValue,\n                submitForm,\n            }: FormikProps<TQuickStrategyFormValues>) => {\n                const is_valid =\n                    Object.keys(errors).length === 0 && !Object.values(values).some(elem => (elem as string) === '');\n                const is_submit_enabled = !isSubmitting && is_valid;\n                const is_mobile = isMobile();\n\n                return (\n                    <Form\n                        className={classNames('quick-strategy__form', {\n                            'quick-strategy__form--active-keyboard': is_onscreen_keyboard_active,\n                        })}\n                    >\n                        <ThemedScrollbars autohide is_bypassed={is_mobile} className='quick-strategy__form-scrollbar'>\n                            <div\n                                className={classNames('quick-strategy__form-content', {\n                                    'quick-strategy__form-content--active-keyboard': is_onscreen_keyboard_active,\n                                    'quick-strategy__form-content--safari-fix': isSafari(),\n                                })}\n                            >\n                                <div className={classNames('quick-strategy__text', 'quick-strategy__text--margin')}>\n                                    <Text weight='normal' size={is_mobile ? 'xxs' : 's'}>\n                                        {localize('Choose a template and set your trade parameters.')}\n                                    </Text>\n                                </div>\n\n                                <QuickStrategyFields\n                                    types_strategies_dropdown={types_strategies_dropdown}\n                                    symbol_dropdown={symbol_dropdown}\n                                    trade_type_dropdown={trade_type_dropdown}\n                                    duration_unit_dropdown={duration_unit_dropdown}\n                                    selected_type_strategy={selected_type_strategy}\n                                    selected_trade_type={selected_trade_type}\n                                    selected_symbol={selected_symbol}\n                                    selected_duration_unit={selected_duration_unit}\n                                    onChangeDropdownItem={onChangeDropdownItem}\n                                    onHideDropdownList={onHideDropdownList}\n                                    setFieldValue={setFieldValue}\n                                    onScrollStopDropdownList={onScrollStopDropdownList}\n                                    handleChange={handleChange}\n                                    onChangeInputValue={onChangeInputValue}\n                                    setCurrentFocus={setCurrentFocus}\n                                    values={values}\n                                    description={description}\n                                    errors={errors}\n                                />\n                            </div>\n                        </ThemedScrollbars>\n                        <QuickStrategyFooter\n                            is_submit_enabled={is_submit_enabled}\n                            is_stop_button_visible={is_stop_button_visible}\n                            setFieldValue={setFieldValue}\n                            submitForm={submitForm}\n                            is_running={is_running}\n                            is_contract_dialog_open={is_contract_dialog_open}\n                            toggleStopBotDialog={toggleStopBotDialog}\n                            is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n                        />\n                    </Form>\n                );\n            }}\n        </Formik>\n    );\n};\n\nexport default React.memo(QuickStrategyForm);\n","import React from 'react';\nimport { Field, FieldProps } from 'formik';\nimport { Icon, Input, Popover } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { TFormValues, TInputBaseFields, TInputCommonFields } from '../quick-strategy.types';\nimport { TDataFields } from './data/data-fields';\nimport { TDataUniqInput } from './data/data-uniq-input-obj';\nimport { TInputFieldProps } from './components.types';\nimport { data_fields } from '.';\n\nconst InputField = ({\n    idx,\n    handleChange,\n    onChangeInputValue,\n    setCurrentFocus,\n    is_mobile,\n    field_name,\n    id,\n    className,\n    label,\n    input_value,\n    placeholder,\n    is_uniq_strategy_field,\n    trailing_icon_message,\n    zIndex,\n    uniq_selected_input,\n    errors,\n}: TInputFieldProps) => {\n    const dataField = () => {\n        if (is_uniq_strategy_field) {\n            return uniq_selected_input;\n        }\n        return idx ? data_fields[idx] : {};\n    };\n\n    const {\n        field_name: new_field_name,\n        id: new_id,\n        className: new_className,\n        label: new_label,\n        input_value: new_input_value,\n        placeholder: new_placeholder,\n        trailing_icon_message: new_trailing_icon_message,\n        zIndex: new_zIndex,\n    } = (dataField() as TDataUniqInput | TDataFields) || {};\n\n    return (\n        <Field name={field_name || new_field_name} key={id || new_id} id={id || new_id}>\n            {({ field }: FieldProps<string, TFormValues>) => {\n                return (\n                    <Input\n                        {...field}\n                        className={className || new_className}\n                        type='text'\n                        error={errors[(field.name as keyof typeof errors) || (new_field_name as keyof typeof errors)]}\n                        label={localize(label || new_label)}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                            handleChange(e);\n                            onChangeInputValue(\n                                input_value\n                                    ? (input_value as TInputBaseFields)\n                                    : (new_input_value as TInputCommonFields),\n                                e\n                            );\n                        }}\n                        onFocus={(e: React.FocusEvent<HTMLInputElement>) => setCurrentFocus(e.currentTarget.name)}\n                        onBlur={() => setCurrentFocus(null)}\n                        placeholder={placeholder || new_placeholder}\n                        trailing_icon={\n                            <Popover\n                                alignment={is_mobile ? 'top' : 'bottom'}\n                                message={localize(trailing_icon_message || new_trailing_icon_message)}\n                                zIndex={zIndex || new_zIndex}\n                            >\n                                <Icon icon='IcInfoOutline' />\n                            </Popover>\n                        }\n                    />\n                );\n            }}\n        </Field>\n    );\n};\n\nexport default React.memo(InputField);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { isMobile } from '@deriv/shared';\nimport { TInputsFieldNames } from '../quick-strategy.types';\nimport { TInputs } from './components.types';\nimport { InputField } from '.';\n\nconst Inputs = ({\n    idx,\n    field_name,\n    id,\n    className,\n    label,\n    input_value,\n    placeholder,\n    is_uniq_strategy_field,\n    trailing_icon_message,\n    zIndex,\n    uniq_selected_input,\n    errors,\n    is_input_field,\n    handleChange,\n    onChangeInputValue,\n    setCurrentFocus,\n}: TInputs) => {\n    const is_mobile = isMobile();\n    return is_input_field ? (\n        <div\n            className={classNames('quick-strategy__form-row', {\n                'quick-strategy__form-row--multiple': !is_mobile,\n            })}\n        >\n            <InputField\n                idx={idx}\n                handleChange={handleChange}\n                onChangeInputValue={onChangeInputValue}\n                setCurrentFocus={setCurrentFocus}\n                is_mobile={is_mobile}\n                field_name={field_name as TInputsFieldNames}\n                id={id}\n                className={className}\n                label={label}\n                input_value={input_value}\n                placeholder={placeholder}\n                is_uniq_strategy_field={is_uniq_strategy_field}\n                trailing_icon_message={trailing_icon_message}\n                zIndex={zIndex}\n                uniq_selected_input={uniq_selected_input}\n                errors={errors}\n            />\n        </div>\n    ) : (\n        <></>\n    );\n};\n\nInputs.displayName = 'Inputs';\n\nexport default React.memo(Inputs);\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { TMarketOptionProps } from './components.types';\n\nconst MarketOption = ({ symbol }: TMarketOptionProps) => (\n    <div key={symbol.value} className='quick-strategy__option'>\n        <Icon icon={`IcUnderlying${symbol.value}`} size={32} />\n        <Text className='quick-strategy__symbol' size='xs' color='prominent'>\n            {symbol.text}\n        </Text>\n    </div>\n);\n\nexport default React.memo(MarketOption);\n","import React from 'react';\nimport { Field, FieldProps } from 'formik';\nimport { Autocomplete, Icon, IconTradeTypes, SelectNative, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { TFormValues, TSelectsFieldNames } from '../quick-strategy.types';\nimport { TSelectFieldProps } from './components.types';\n\nconst SelectField = React.memo(\n    ({\n        field_name,\n        id,\n        is_mobile,\n        dropdown_list,\n        selected_value,\n        label,\n        select_value,\n        setFieldValue,\n        className,\n        is_able_disabled,\n        values,\n        onChangeDropdownItem,\n        onHideDropdownList,\n        onScrollStopDropdownList,\n        selected_trade_type,\n        selected_symbol,\n    }: TSelectFieldProps) => (\n        <Field name={field_name} key={id} id={id}>\n            {({ field }: FieldProps<string, TFormValues>) => (\n                <>\n                    {is_mobile ? (\n                        <SelectNative\n                            list_items={dropdown_list}\n                            value={typeof selected_value === 'string' ? selected_value : selected_value.value}\n                            label={localize(label)}\n                            should_show_empty_option={false}\n                            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                                onChangeDropdownItem(select_value, e.target.value, setFieldValue);\n                            }}\n                        />\n                    ) : (\n                        <Autocomplete\n                            {...field}\n                            autoComplete='off'\n                            className={className}\n                            type='text'\n                            label={localize(label)}\n                            list_items={dropdown_list}\n                            disabled={is_able_disabled && dropdown_list?.length === 1}\n                            onHideDropdownList={() => {\n                                onHideDropdownList(\n                                    select_value,\n                                    values[field.name] as TSelectsFieldNames,\n                                    setFieldValue\n                                );\n                            }}\n                            onItemSelection={({ value }: { value: string }) => {\n                                onChangeDropdownItem(select_value, value, setFieldValue);\n                            }}\n                            onScrollStop={() => onScrollStopDropdownList(select_value)}\n                            leading_icon={\n                                (select_value === 'trade-type' && selected_trade_type?.icon && (\n                                    <Text>\n                                        <IconTradeTypes type={selected_trade_type?.icon[0]} />\n                                        <IconTradeTypes type={selected_trade_type?.icon[1]} />\n                                    </Text>\n                                )) ||\n                                (select_value === 'symbol' && (selected_symbol?.value as string) && (\n                                    <Icon icon={`IcUnderlying${selected_symbol?.value}`} size={24} />\n                                ))\n                            }\n                        />\n                    )}\n                </>\n            )}\n        </Field>\n    ),\n    (prevProps, nextProps) => {\n        return (\n            prevProps.dropdown_list === nextProps.dropdown_list && prevProps.selected_value === nextProps.selected_value\n        );\n    }\n);\nSelectField.displayName = 'SelectField';\n\nexport default SelectField;\n","import React from 'react';\nimport { isMobile } from '@deriv/shared';\nimport { TDropdownItems, TSelectsFieldNames } from '../quick-strategy.types';\nimport { TSelects } from './components.types';\nimport { SelectField } from '.';\n\nconst Selects = ({\n    field_name,\n    id,\n    dropdown_list,\n    selected_value,\n    label,\n    select_value,\n    setFieldValue,\n    className,\n    is_able_disabled,\n    values,\n    onChangeDropdownItem,\n    onHideDropdownList,\n    onScrollStopDropdownList,\n    selected_trade_type,\n    selected_symbol,\n    is_input_field,\n}: TSelects & { is_input_field: boolean }) =>\n    !is_input_field && id !== 'duration-unit' ? (\n        <div className='quick-strategy__form-row'>\n            <SelectField\n                field_name={field_name as TSelectsFieldNames}\n                id={id}\n                is_mobile={isMobile()}\n                dropdown_list={dropdown_list}\n                selected_value={selected_value}\n                label={label}\n                select_value={select_value as TDropdownItems}\n                setFieldValue={setFieldValue}\n                className={className}\n                is_able_disabled={is_able_disabled}\n                values={values}\n                onChangeDropdownItem={onChangeDropdownItem}\n                onHideDropdownList={onHideDropdownList}\n                onScrollStopDropdownList={onScrollStopDropdownList}\n                selected_trade_type={selected_trade_type}\n                selected_symbol={selected_symbol}\n            />\n        </div>\n    ) : (\n        <></>\n    );\n\nSelects.displayName = 'Selects';\n\nexport default React.memo(Selects);\n","import React from 'react';\nimport { IconTradeTypes, Text } from '@deriv/components';\nimport { TTradeTypeOptionProps } from './components.types';\n\nconst TradeTypeOption = ({ trade_type }: TTradeTypeOptionProps) => (\n    <div key={trade_type.value} className='quick-strategy__option'>\n        <IconTradeTypes type={trade_type.icon[0]} className='quick-strategy__icon' />\n        <IconTradeTypes type={trade_type.icon[1]} className='quick-strategy__icon' />\n        <Text className='quick-strategy__symbol' size='xs' color='prominent'>\n            {trade_type.text}\n        </Text>\n    </div>\n);\n\nexport default React.memo(TradeTypeOption);\n","import React from 'react';\nimport { MobileFullPageModal, Modal } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { TQuickStrategyProps } from './quick-strategy.types';\nimport { QuickStrategyContainer } from './quick-strategy-components';\n\nconst QuickStrategy = (props: TQuickStrategyProps) => {\n    const is_mobile = isMobile();\n    const { is_strategy_modal_open, loadDataStrategy } = props;\n\n    return (\n        <>\n            {is_mobile ? (\n                <MobileFullPageModal\n                    is_modal_open={is_strategy_modal_open}\n                    className='quick-strategy__wrapper'\n                    header={localize('Quick Strategy')}\n                    onClickClose={loadDataStrategy}\n                    height_offset='8rem'\n                >\n                    <QuickStrategyContainer {...props} />\n                </MobileFullPageModal>\n            ) : (\n                <Modal\n                    title={localize('Quick strategy')}\n                    className='modal--strategy'\n                    is_open={is_strategy_modal_open}\n                    toggleModal={loadDataStrategy}\n                    width={'78rem'}\n                >\n                    <div className='modal__content'>\n                        <QuickStrategyContainer {...props} />\n                    </div>\n                </Modal>\n            )}\n        </>\n    );\n};\n\nexport default connect(({ run_panel, quick_strategy, ui }: RootStore) => ({\n    active_index: quick_strategy.active_index,\n    description: quick_strategy.description,\n    createStrategy: quick_strategy.createStrategy,\n    duration_unit_dropdown: quick_strategy.duration_unit_dropdown,\n    types_strategies_dropdown: quick_strategy.types_strategies_dropdown,\n    getSizeDesc: quick_strategy.getSizeDesc,\n    initial_values: quick_strategy.initial_values,\n    is_onscreen_keyboard_active: ui.is_onscreen_keyboard_active,\n    is_stop_button_visible: run_panel.is_stop_button_visible,\n    onChangeDropdownItem: quick_strategy.onChangeDropdownItem,\n    onChangeInputValue: quick_strategy.onChangeInputValue,\n    onHideDropdownList: quick_strategy.onHideDropdownList,\n    onScrollStopDropdownList: quick_strategy.onScrollStopDropdownList,\n    selected_symbol: quick_strategy.selected_symbol,\n    selected_trade_type: quick_strategy.selected_trade_type,\n    selected_duration_unit: quick_strategy.selected_duration_unit,\n    selected_type_strategy: quick_strategy.selected_type_strategy,\n    symbol_dropdown: quick_strategy.symbol_dropdown,\n    loadDataStrategy: quick_strategy.loadDataStrategy,\n    trade_type_dropdown: quick_strategy.trade_type_dropdown,\n    is_strategy_modal_open: quick_strategy.is_strategy_modal_open,\n    setCurrentFocus: ui.setCurrentFocus,\n    toggleStopBotDialog: quick_strategy.toggleStopBotDialog,\n    is_running: run_panel.is_running,\n    is_contract_dialog_open: quick_strategy.is_contract_dialog_open,\n    is_stop_bot_dialog_open: quick_strategy.is_stop_bot_dialog_open,\n}))(QuickStrategy);\n","import QuickStrategy from './quick-strategy';\nimport './quick-strategy.scss';\n\nexport default QuickStrategy;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { connect } from 'Stores/connect';\n\nconst FlyoutBlock = ({ initBlockWorkspace, block_node, should_center_block, should_hide_display_name }) => {\n    let el_block_workspace = React.useRef();\n\n    React.useEffect(() => {\n        initBlockWorkspace(el_block_workspace, block_node, should_center_block);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <div\n            ref={el => (el_block_workspace = el)}\n            className={classNames({\n                'flyout__block-workspace--center': should_hide_display_name,\n                'flyout__block-workspace--top': !should_hide_display_name,\n            })}\n        />\n    );\n};\n\nFlyoutBlock.propTypes = {\n    block_node: PropTypes.any,\n    initBlockWorkspace: PropTypes.func,\n    should_center_block: PropTypes.bool,\n    should_hide_display_name: PropTypes.bool,\n};\n\nexport default connect(({ flyout }) => ({\n    initBlockWorkspace: flyout.initBlockWorkspace,\n}))(FlyoutBlock);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { PropTypes } from 'prop-types';\nimport { Button, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport FlyoutBlock from './flyout-block.jsx';\n\nconst FlyoutBlockGroup = ({ onInfoClick, block_node, is_active, should_hide_display_name }) => {\n    const block_type = block_node.getAttribute('type');\n    const block_meta = Blockly.Blocks[block_type].meta();\n    const is_variables_get = block_type === 'variables_get';\n    const is_variables_set = block_type === 'variables_set';\n    const { display_name, description } = block_meta;\n\n    const AddButton = () => (\n        <div className='flyout__item-buttons'>\n            <Button\n                id={`db-flyout__add--${block_type}`}\n                className='flyout__button-add flyout__button-add--hide'\n                has_effect\n                is_plus\n                onClick={() => Blockly.derivWorkspace.addBlockNode(block_node)}\n                type='button'\n            />\n        </div>\n    );\n\n    return (\n        <>\n            {is_variables_set && <div className='flyout__hr' />}\n            <div className={classNames('flyout__item', { 'flyout__item--active': is_active })}>\n                {!should_hide_display_name && (\n                    <>\n                        <div className='flyout__item-header'>\n                            <Text\n                                size={is_variables_get ? 'xs' : 'xsm'}\n                                line_height={is_variables_get ? undefined : 'xl'}\n                                weight={is_variables_get ? undefined : 'bold'}\n                            >\n                                {display_name}\n                            </Text>\n                            {!is_variables_get && <AddButton />}\n                        </div>\n                        <div className='flyout__item-description'>\n                            {description}\n                            {onInfoClick && (\n                                <a\n                                    id={display_name.replace(/\\s/gi, '-')}\n                                    className='flyout__item-info'\n                                    onClick={onInfoClick}\n                                >\n                                    <Localize i18n_default_text='Learn more' />\n                                </a>\n                            )}\n                        </div>\n                    </>\n                )}\n                <div className='flyout__block-workspace__header'>\n                    <FlyoutBlock should_center_block block_node={block_node} should_hide_display_name />\n                    {is_variables_get && <AddButton />}\n                </div>\n            </div>\n        </>\n    );\n};\n\nFlyoutBlockGroup.propTypes = {\n    block_nodes: PropTypes.array,\n    onInfoClick: PropTypes.func,\n};\n\nexport default FlyoutBlockGroup;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst FlyoutImage = props => {\n    const { width, url } = props;\n    const style = { width };\n\n    return (\n        <div className='flyout__item'>\n            <img src={url} className='flyout__image' style={style} />\n        </div>\n    );\n};\n\nFlyoutImage.propTypes = {\n    url: PropTypes.string,\n};\n\nexport default FlyoutImage;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { Text } from '@deriv/components';\n\nconst FlyoutText = props => {\n    const { text } = props;\n\n    return (\n        <Text as='p' size='xs' styles={{ lineHeight: '1.3em' }}>\n            {text}\n        </Text>\n    );\n};\n\nFlyoutText.propTypes = {\n    text: PropTypes.oneOfType(PropTypes.string, PropTypes.object),\n};\n\nexport default FlyoutText;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst FlyoutVideo = props => {\n    return (\n        <div className='flyout__item'>\n            <iframe\n                className='flyout__video'\n                src={props.url}\n                frameBorder='0'\n                allow='accelerometer; encrypted-media; gyroscope; picture-in-picture'\n                allowFullScreen\n                width={'100%'}\n            />\n        </div>\n    );\n};\n\nFlyoutVideo.propTypes = {\n    url: PropTypes.string,\n};\n\nexport default FlyoutVideo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { help_content_config, help_content_types } from 'Utils/help-content/help-content.config';\nimport { connect } from 'Stores/connect';\nimport FlyoutBlock from '../flyout-block.jsx';\nimport FlyoutImage from './flyout-img.jsx';\nimport FlyoutText from './flyout-text.jsx';\nimport FlyoutVideo from './flyout-video.jsx';\n\nconst HelpBase = ({\n    block_node,\n    block_type,\n    examples,\n    help_string,\n    is_search_flyout,\n    onBackClick,\n    onSequenceClick,\n    should_next_disable,\n    should_previous_disable,\n    title,\n}) => {\n    const block_help_component = help_string && help_content_config(__webpack_public_path__)[block_type];\n    let text_count = 0;\n\n    return (\n        <React.Fragment>\n            <div className='flyout__help-header'>\n                <button className='dc-btn flyout__button-back' onClick={onBackClick}>\n                    <Icon icon='IcArrowLeft' />\n                </button>\n                <Text weight='bold' className='flyout__help-title'>\n                    {title}\n                </Text>\n                <div className='flyout__item-buttons'>\n                    <Button\n                        className='flyout__button-add'\n                        has_effect\n                        id={`db-flyout-help__add--${block_type}`}\n                        onClick={() => Blockly.derivWorkspace.addBlockNode(block_node)}\n                        primary\n                        text={localize('Add')}\n                        type='button'\n                    />\n                </div>\n            </div>\n            <div className='flyout__help-content'>\n                {block_help_component &&\n                    block_help_component.map((component, index) => {\n                        const { type, width, url, example_id } = component;\n                        const { text } = help_string;\n                        const example_node = examples.find(example => example.id === example_id);\n                        switch (type) {\n                            case help_content_types.TEXT:\n                                if (text_count < text.length) {\n                                    return <FlyoutText key={`${block_type}_${index}`} text={text[text_count++]} />;\n                                }\n                                return null;\n                            case help_content_types.VIDEO:\n                                return <FlyoutVideo key={`${block_type}_${index}`} url={url} />;\n                            case help_content_types.IMAGE:\n                                return <FlyoutImage key={`${block_type}_${index}`} width={width} url={url} />;\n                            case help_content_types.BLOCK: {\n                                return (\n                                    <FlyoutBlock\n                                        key={`${block_type}_${index}`}\n                                        should_center_block={true}\n                                        block_node={block_node}\n                                    />\n                                );\n                            }\n                            case help_content_types.EXAMPLE:\n                                if (example_node) {\n                                    return (\n                                        <FlyoutBlock\n                                            key={`${block_type}_${index}`}\n                                            should_center_block={true}\n                                            block_node={example_node.childNodes[0]}\n                                        />\n                                    );\n                                }\n                                return null;\n                            default:\n                                return null;\n                        }\n                    })}\n            </div>\n            {!is_search_flyout && !(should_previous_disable && should_next_disable) && (\n                <div className='flyout__help-footer'>\n                    <Button\n                        className='flyout__button-previous'\n                        secondary\n                        onClick={() => onSequenceClick(false)}\n                        text={localize('Previous')}\n                        type='button'\n                        is_disabled={should_previous_disable}\n                        renderText={text =>\n                            should_previous_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                    <Button\n                        className='flyout__button-next'\n                        secondary\n                        onClick={() => onSequenceClick(true)}\n                        text={localize('Next')}\n                        type='button'\n                        is_disabled={should_next_disable}\n                        renderText={text =>\n                            should_next_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                </div>\n            )}\n        </React.Fragment>\n    );\n};\n\nHelpBase.propTypes = {\n    block_node: PropTypes.object,\n    block_type: PropTypes.string,\n    examples: PropTypes.array,\n    help_string: PropTypes.object,\n    is_search_flyout: PropTypes.bool,\n    onBackClick: PropTypes.func,\n    onSequenceClick: PropTypes.func,\n    should_next_disable: PropTypes.bool,\n    should_previous_disable: PropTypes.bool,\n    title: PropTypes.string,\n};\n\nexport default connect(({ flyout, flyout_help }) => ({\n    block_node: flyout_help.block_node,\n    block_type: flyout_help.block_type,\n    examples: flyout_help.examples,\n    help_string: flyout_help.help_string,\n    is_search_flyout: flyout.is_search_flyout,\n    onBackClick: flyout_help.onBackClick,\n    onSequenceClick: flyout_help.onSequenceClick,\n    should_next_disable: flyout_help.should_next_disable,\n    should_previous_disable: flyout_help.should_previous_disable,\n    title: flyout_help.title,\n}))(HelpBase);\n","import HelpBase from './flyout-help-base.jsx';\n\nexport default HelpBase;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { Icon, Input, Text, ThemedScrollbars } from '@deriv/components';\nimport { getPlatformSettings } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { help_content_config } from 'Utils/help-content/help-content.config';\nimport { connect } from 'Stores/connect';\nimport FlyoutBlockGroup from './flyout-block-group.jsx';\nimport HelpBase from './help-contents';\n\nconst SearchResult = ({ search_term, total_result }) => (\n    <div className='flyout__search-header'>\n        <Text weight='bold' className='flyout__search-header-text'>\n            {localize('Results for \"{{ search_term }}\"', {\n                search_term,\n                interpolation: { escapeValue: false },\n            })}\n        </Text>\n        <Text weight='bold' color='profit-success' className='flyout__search-header-text'>\n            {`${total_result} ${total_result > 1 ? localize('results') : localize('result')}`}\n        </Text>\n    </div>\n);\n\nconst FlyoutContent = props => {\n    const flyout_ref = React.useRef();\n    const {\n        flyout_content,\n        active_helper,\n        setHelpContent,\n        initFlyoutHelp,\n        is_empty,\n        is_search_flyout,\n        selected_category,\n        first_get_variable_block_index,\n    } = props;\n\n    return (\n        <div\n            ref={flyout_ref}\n            className={classNames('flyout__content', { 'flyout__normal-content': !is_search_flyout })}\n        >\n            <ThemedScrollbars className='flyout__content-scrollbar'>\n                {selected_category?.getAttribute('id') === 'indicators' && (\n                    <div className='flyout__content-disclaimer'>\n                        <span className='flyout__content-disclaimer-icon'>\n                            <Icon\n                                icon='IcBlackWarning'\n                                custom_color='#000000'\n                                className='flyout__content-disclaimer__warning-icon'\n                            />\n                        </span>\n                        <span className='flyout__content-disclaimer-text'>\n                            {localize(\n                                'Indicators on the chart tab are for indicative purposes only and may vary slightly from the ones on the {{platform_name_dbot}} workspace.',\n                                { platform_name_dbot: getPlatformSettings('dbot').name }\n                            )}\n                        </span>\n                    </div>\n                )}\n                {is_empty ? (\n                    <div className='flyout__search-empty'>\n                        <Text as='h2' weight='bold' line_height='xxs'>\n                            {localize('No results found')}\n                        </Text>\n                    </div>\n                ) : (\n                    flyout_content.map((node, index) => {\n                        const tag_name = node.tagName.toUpperCase();\n\n                        switch (tag_name) {\n                            case Blockly.Xml.NODE_BLOCK: {\n                                const block_type = node.getAttribute('type');\n\n                                return (\n                                    <FlyoutBlockGroup\n                                        key={`${node.getAttribute('type')}${Blockly.utils.genUid()}`}\n                                        id={`flyout__item-workspace--${index}`}\n                                        block_node={node}\n                                        should_hide_display_name={\n                                            block_type === 'variables_get'\n                                                ? index !== first_get_variable_block_index\n                                                : false\n                                        }\n                                        onInfoClick={\n                                            help_content_config(__webpack_public_path__)[block_type] &&\n                                            (is_search_flyout\n                                                ? () => setHelpContent(node)\n                                                : () => initFlyoutHelp(node, block_type))\n                                        }\n                                        is_active={active_helper === block_type}\n                                    />\n                                );\n                            }\n                            case Blockly.Xml.NODE_LABEL: {\n                                return (\n                                    <div\n                                        key={`${node.getAttribute('text')}${index}`}\n                                        className='flyout__item-label-bold'\n                                    >\n                                        {node.getAttribute('text')}\n                                    </div>\n                                );\n                            }\n                            case Blockly.Xml.NODE_INPUT: {\n                                return (\n                                    <Input\n                                        key={`${node.getAttribute('name')}${index}`}\n                                        className={`${node.getAttribute('className')}`}\n                                        type={`${node.getAttribute('type')}`}\n                                        name={`${node.getAttribute('name')}`}\n                                        placeholder={`${node.getAttribute('placeholder')}`}\n                                        autoComplete='off'\n                                    />\n                                );\n                            }\n                            case Blockly.Xml.NODE_BUTTON: {\n                                const callback_key = node.getAttribute('callbackKey');\n                                const callback_id = node.getAttribute('id');\n\n                                return (\n                                    <button\n                                        id={callback_id}\n                                        key={`${callback_key}${index}`}\n                                        className={classNames(\n                                            'dc-btn',\n                                            'dc-btn-effect',\n                                            'dc-btn--primary',\n                                            `${node.getAttribute('className')}`\n                                        )}\n                                        onClick={button => {\n                                            const workspace = Blockly.derivWorkspace;\n                                            const button_cb = workspace.getButtonCallback(callback_key);\n                                            const callback = button_cb || (() => {});\n\n                                            // Workaround for not having a flyout workspace.\n                                            // eslint-disable-next-line no-underscore-dangle\n                                            button.targetWorkspace_ = workspace;\n                                            button.getTargetWorkspace = () => {\n                                                // eslint-disable-next-line no-underscore-dangle\n                                                return button.targetWorkspace_;\n                                            };\n\n                                            callback(button);\n                                        }}\n                                    >\n                                        {node.getAttribute('text')}\n                                    </button>\n                                );\n                            }\n                            default:\n                                return null;\n                        }\n                    })\n                )}\n            </ThemedScrollbars>\n        </div>\n    );\n};\n\nconst Flyout = props => {\n    const {\n        flyout_content,\n        flyout_width,\n        is_help_content,\n        is_search_flyout,\n        is_visible,\n        onMount,\n        onUnmount,\n        pushDataLayer,\n        search_term,\n    } = props;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    if (is_visible && is_search_flyout) {\n        pushDataLayer({ event: 'dbot_search_results', value: true });\n    }\n\n    const total_result = Object.keys(flyout_content).length;\n    const is_empty = total_result === 0;\n\n    return (\n        is_visible && (\n            <div\n                id='gtm-search-results'\n                className={classNames('flyout', {\n                    flyout__search: is_search_flyout,\n                    flyout__help: is_help_content,\n                    flyout__normal: !is_help_content && !is_search_flyout,\n                })}\n                style={{ width: `${flyout_width}px` }}\n            >\n                {is_search_flyout && !is_help_content && (\n                    <SearchResult search_term={search_term} total_result={total_result} />\n                )}\n                {is_help_content ? <HelpBase /> : <FlyoutContent is_empty={is_empty} {...props} />}\n            </div>\n        )\n    );\n};\n\nFlyout.propTypes = {\n    active_helper: PropTypes.string,\n    flyout_content: PropTypes.any,\n    flyout_width: PropTypes.number,\n    initFlyoutHelp: PropTypes.func,\n    is_help_content: PropTypes.bool,\n    is_search_flyout: PropTypes.bool,\n    is_visible: PropTypes.bool,\n    onMount: PropTypes.func,\n    onUnmount: PropTypes.func,\n    setActiveHelper: PropTypes.func,\n    search_term: PropTypes.string,\n    setHelpContent: PropTypes.func,\n    selected_category: PropTypes.object,\n    first_get_variable_block_index: PropTypes.number,\n};\n\nexport default connect(({ flyout, flyout_help, gtm }) => ({\n    active_helper: flyout_help.active_helper,\n    pushDataLayer: gtm.pushDataLayer,\n    flyout_content: flyout.flyout_content,\n    flyout_width: flyout.flyout_width,\n    initFlyoutHelp: flyout_help.initFlyoutHelp,\n    is_help_content: flyout.is_help_content,\n    is_search_flyout: flyout.is_search_flyout,\n    is_visible: flyout.is_visible,\n    onMount: flyout.onMount,\n    onUnmount: flyout.onUnmount,\n    setActiveHelper: flyout_help.setActiveHelper,\n    search_term: flyout.search_term,\n    setHelpContent: flyout_help.setHelpContent,\n    selected_category: flyout.selected_category,\n    first_get_variable_block_index: flyout.first_get_variable_block_index,\n}))(Flyout);\n","import Flyout from './flyout.jsx';\nimport './flyout.scss';\n\nexport default Flyout;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\n\ntype TLocalFooterProps = {\n    is_open_button_loading: boolean;\n    loadFileFromLocal: () => void;\n    setLoadedLocalFile: (loaded_local_file: boolean | null) => void;\n    setOpenSettings: (toast_message: string, show_toast?: boolean) => void;\n    setPreviewOnPopup: (show: boolean) => void;\n    toggleLoadModal: () => void;\n};\n\nconst LocalFooter = ({\n    is_open_button_loading,\n    loadFileFromLocal,\n    setLoadedLocalFile,\n    setOpenSettings,\n    setPreviewOnPopup,\n    toggleLoadModal,\n}: TLocalFooterProps) => {\n    const is_mobile = isMobile();\n    const Wrapper = is_mobile ? Button.Group : React.Fragment;\n\n    return (\n        <Wrapper>\n            {is_mobile && (\n                <Button text={localize('Cancel')} onClick={() => setLoadedLocalFile(null)} has_effect secondary large />\n            )}\n            <Button\n                text={localize('Open')}\n                onClick={() => {\n                    loadFileFromLocal();\n                    toggleLoadModal();\n                    setPreviewOnPopup(false);\n                    setOpenSettings('import');\n                }}\n                is_loading={is_open_button_loading}\n                has_effect\n                primary\n                large\n            />\n        </Wrapper>\n    );\n};\n\nexport default connect(({ load_modal, dashboard }: RootStore) => ({\n    is_open_button_loading: load_modal.is_open_button_loading,\n    loadFileFromLocal: load_modal.loadFileFromLocal,\n    setLoadedLocalFile: load_modal.setLoadedLocalFile,\n    setOpenSettings: dashboard.setOpenSettings,\n    setPreviewOnPopup: dashboard.setPreviewOnPopup,\n    toggleLoadModal: load_modal.toggleLoadModal,\n}))(LocalFooter);\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\n\ntype TWorkspaceControlProps = {\n    onZoomInOutClick: (zoom_in: boolean) => void;\n};\n\nconst WorkspaceControl = ({ onZoomInOutClick }: TWorkspaceControlProps) => (\n    <div className='load-strategy__preview-workspace-controls'>\n        <Icon\n            icon={'IcAddRounded'}\n            className='load-strategy__preview-workspace-icon'\n            onClick={() => onZoomInOutClick(true)}\n        />\n        <Icon\n            icon={'IcMinusRounded'}\n            className='load-strategy__preview-workspace-icon'\n            onClick={() => onZoomInOutClick(false)}\n        />\n    </div>\n);\n\nexport default connect(({ dashboard }: RootStore) => ({\n    onZoomInOutClick: dashboard.onZoomInOutClick,\n}))(WorkspaceControl);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Button, Icon } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\nimport LocalFooter from './local-footer';\nimport WorkspaceControl from './workspace-control';\n\ntype TLocalComponentProps = {\n    active_tab: number;\n    has_started_bot_builder_tour: boolean;\n    handleFileChange: (\n        e: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body?: boolean\n    ) => boolean;\n    is_open_button_loading: boolean;\n    loaded_local_file: string;\n    setLoadedLocalFile: (loaded_local_file: boolean | null) => void;\n};\n\nconst LocalComponent = ({\n    active_tab,\n    has_started_bot_builder_tour,\n    handleFileChange,\n    loaded_local_file,\n    setLoadedLocalFile,\n}: TLocalComponentProps) => {\n    const file_input_ref = React.useRef(null);\n    const [is_file_supported, setIsFileSupported] = React.useState(true);\n    const is_mobile = isMobile();\n\n    if (loaded_local_file && is_file_supported) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--active': active_tab === 1 && has_started_bot_builder_tour,\n                    })}\n                >\n                    <div className='load-strategy__title'>\n                        <Localize i18n_default_text='Preview' />\n                    </div>\n                    <div className='load-strategy__preview-workspace'>\n                        <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                            <div className='load-strategy__local-preview-close'>\n                                <Icon icon='IcCross' onClick={() => setLoadedLocalFile(null)} />\n                            </div>\n                            <WorkspaceControl />\n                        </div>\n                    </div>\n                </div>\n                {is_mobile && (\n                    <div className='load-strategy__local-footer'>\n                        <LocalFooter />\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__local-dropzone'>\n                <input\n                    type='file'\n                    ref={file_input_ref}\n                    accept='.xml'\n                    style={{ display: 'none' }}\n                    onChange={e => setIsFileSupported(handleFileChange(e, false))}\n                />\n                <div\n                    className='load-strategy__local-dropzone-area'\n                    onDrop={e => {\n                        handleFileChange(e, false);\n                    }}\n                >\n                    {is_mobile ? (\n                        <Icon icon='IcLocal' className='load-strategy__local-icon' size={is_mobile ? 96 : 128} />\n                    ) : (\n                        <React.Fragment>\n                            <Icon icon='IcPc' className='load-strategy__local-icon' size={is_mobile ? 96 : 128} />\n                            <div className='load-strategy__local-title'>\n                                <Localize i18n_default_text='Drag your XML file here' />\n                            </div>\n                            <div className='load-strategy__local-description'>\n                                <Localize i18n_default_text='or, if you prefer...' />\n                            </div>\n                        </React.Fragment>\n                    )}\n                    <Button\n                        text={\n                            is_file_supported\n                                ? localize('Select an XML file from your device')\n                                : localize('Please upload an XML file')\n                        }\n                        onClick={() => file_input_ref.current.click()}\n                        has_effect\n                        primary\n                        large\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst Local = connect(({ load_modal, dashboard }: RootStore) => ({\n    active_tab: dashboard.active_tab,\n    has_started_bot_builder_tour: dashboard.has_started_bot_builder_tour,\n    handleFileChange: load_modal.handleFileChange,\n    is_open_button_loading: load_modal.is_open_button_loading,\n    loaded_local_file: load_modal.loaded_local_file,\n    setLoadedLocalFile: load_modal.setLoadedLocalFile,\n}))(LocalComponent);\n\nexport default Local;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { timeSince } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { Icon } from '@deriv/components';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\n\ntype TRecentWorkspaceProps = {\n    getRecentFileIcon: (workspace_type: string) => string;\n    getSaveType: (workspace_type: string) => string;\n    previewRecentStrategy: (workspaceId: string) => void;\n    selected_strategy_id: string;\n    workspace: { [key: string]: any };\n};\n\nconst RecentWorkspace = ({\n    getRecentFileIcon,\n    getSaveType,\n    previewRecentStrategy,\n    selected_strategy_id,\n    workspace,\n}: TRecentWorkspaceProps) => {\n    return (\n        <div\n            className={classnames('load-strategy__recent-item load-dialog', {\n                'load-strategy__recent-item--selected': selected_strategy_id === workspace.id,\n            })}\n            key={workspace.id}\n            onClick={selected_strategy_id === workspace.id ? undefined : () => previewRecentStrategy(workspace.id)}\n        >\n            <div className='load-strategy__recent-item-text load-dialog'>\n                <div className='load-strategy__recent-item-title'>{workspace.name}</div>\n                <div className='load-strategy__recent-item-time'>{timeSince(workspace.timestamp)}</div>\n            </div>\n            <div className='load-strategy__recent-item-location load-dialog'>\n                <Icon\n                    icon={getRecentFileIcon(workspace.save_type)}\n                    className={classnames({\n                        'load-strategy__recent-icon--active': workspace.save_type === save_types.GOOGLE_DRIVE,\n                    })}\n                />\n                <div className='load-strategy__recent-item-saved'>{getSaveType(workspace.save_type)}</div>\n            </div>\n        </div>\n    );\n};\n\nexport default connect(({ load_modal }: RootStore) => ({\n    getRecentFileIcon: load_modal.getRecentFileIcon,\n    getSaveType: load_modal.getSaveType,\n    previewRecentStrategy: load_modal.previewRecentStrategy,\n    selected_strategy_id: load_modal.selected_strategy_id,\n}))(RecentWorkspace);\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\nimport RecentWorkspace from './recent-workspace';\nimport WorkspaceControl from './workspace-control';\n\ntype TRecentComponentProps = {\n    is_explanation_expand: boolean;\n    recent_strategies: any[];\n    toggleExplanationExpand: boolean;\n};\n\nconst RecentComponent = ({\n    is_explanation_expand,\n    recent_strategies,\n    toggleExplanationExpand,\n}: TRecentComponentProps) => {\n    if (recent_strategies.length) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div className='load-strategy__recent'>\n                    <div className='load-strategy__recent-files'>\n                        <div className='load-strategy__title'>\n                            <Localize i18n_default_text='Recent' />\n                        </div>\n                        <div className='load-strategy__recent-files-list'>\n                            {recent_strategies.map(workspace => (\n                                <RecentWorkspace key={workspace.id} workspace={workspace} />\n                            ))}\n                        </div>\n                    </div>\n                    <div className='load-strategy__recent-preview'>\n                        <div className='load-strategy__title load-strategy__recent-preview-title'>\n                            <Localize i18n_default_text='Preview' />\n                        </div>\n                        <div className='load-strategy__preview-workspace'>\n                            <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                                <WorkspaceControl />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__recent-empty'>\n                <Icon icon='IcEmptyFolder' className='load-strategy__recent-empty-icon' size={128} />\n                <div className='load-strategy__recent-empty-title'>\n                    <Localize i18n_default_text='You do not have any recent bots' />\n                </div>\n                <div className='load-strategy__recent-empty-description'>\n                    <Localize i18n_default_text='Create one or upload one from your local drive or Google Drive.' />\n                </div>\n                <div className='load-strategy__recent-empty-expand' onClick={toggleExplanationExpand}>\n                    <Localize i18n_default_text=\"Why can't I see my recent bots?\" />\n                </div>\n                <div\n                    className={classnames('load-strategy__recent-empty-explanation', {\n                        'load-strategy__recent-empty-explanation--show': is_explanation_expand,\n                    })}\n                >\n                    <div>\n                        <Localize i18n_default_text=\"If you've recently used bots but don't see them in this list, it may be because you:\" />\n                    </div>\n                    <ol className='load-strategy__recent-empty-explanation-list'>\n                        <li>\n                            <Localize i18n_default_text='1. Logged in from a different device' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='2. Logged in from a different browser' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='3. Cleared your browser cache' />\n                        </li>\n                    </ol>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst Recent = connect(({ load_modal }: RootStore) => ({\n    is_explanation_expand: load_modal.is_explanation_expand,\n    recent_strategies: load_modal.recent_strategies,\n    toggleExplanationExpand: load_modal.toggleExplanationExpand,\n}))(RecentComponent);\n\nexport default Recent;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\n\ntype TRecentFooterProps = {\n    is_open_button_loading: boolean;\n    loadFileFromRecent: () => void;\n    setOpenSettings: (toast_message: string, show_toast?: boolean) => void;\n    toggleLoadModal: () => void;\n};\n\nconst RecentFooter = ({\n    is_open_button_loading,\n    loadFileFromRecent,\n    setOpenSettings,\n    toggleLoadModal,\n}: TRecentFooterProps) => {\n    return (\n        <Button\n            text={localize('Open')}\n            onClick={() => {\n                loadFileFromRecent();\n                toggleLoadModal();\n                setOpenSettings('import');\n            }}\n            is_loading={is_open_button_loading}\n            has_effect\n            primary\n            large\n        />\n    );\n};\n\nexport default connect(({ load_modal, dashboard }: RootStore) => ({\n    is_open_button_loading: load_modal.is_open_button_loading,\n    loadFileFromRecent: load_modal.loadFileFromRecent,\n    setOpenSettings: dashboard.setOpenSettings,\n    toggleLoadModal: load_modal.toggleLoadModal,\n}))(RecentFooter);\n","import React from 'react';\nimport { MobileFullPageModal, Modal, Tabs } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { tabs_title } from 'Constants/load-modal';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\nimport GoogleDrive from '../dashboard/dashboard-component/load-bot-preview/google-drive';\nimport Local from './local';\nimport LocalFooter from './local-footer';\nimport Recent from './recent';\nimport RecentFooter from './recent-footer';\n\ntype TLoadModalProps = {\n    active_index: number;\n    is_load_modal_open: boolean;\n    loaded_local_file: string;\n    onEntered: () => void;\n    recent_strategies: any[];\n    setActiveTabIndex: () => void;\n    setPreviewOnPopup: (show: boolean) => void;\n    tab_name: string;\n    toggleLoadModal: () => void;\n};\n\nconst LoadModal = ({\n    active_index,\n    is_load_modal_open,\n    loaded_local_file,\n    onEntered,\n    recent_strategies,\n    setActiveTabIndex,\n    setPreviewOnPopup,\n    tab_name,\n    toggleLoadModal,\n}: TLoadModalProps) => {\n    const header_text = localize('Load strategy');\n\n    if (isMobile()) {\n        return (\n            <MobileFullPageModal\n                is_modal_open={is_load_modal_open}\n                className='load-strategy__wrapper'\n                header={localize('Load strategy')}\n                onClickClose={() => {\n                    setPreviewOnPopup(false);\n                    toggleLoadModal();\n                }}\n                height_offset='80px'\n                page_overlay\n            >\n                <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </MobileFullPageModal>\n        );\n    }\n\n    const has_loaded_file = loaded_local_file && tab_name === tabs_title.TAB_LOCAL;\n    const has_recent_strategies = recent_strategies.length > 0 && tab_name === tabs_title.TAB_RECENT;\n\n    return (\n        <Modal\n            title={header_text}\n            className='load-strategy'\n            width='1000px'\n            height='80vh'\n            is_open={is_load_modal_open}\n            toggleModal={toggleLoadModal}\n            onEntered={onEntered}\n            elements_to_ignore={[document.querySelector('.injectionDiv')]}\n        >\n            <Modal.Body>\n                <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top header_fit_content>\n                    <div label={localize('Recent')}>\n                        <Recent />\n                    </div>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </Modal.Body>\n            {has_recent_strategies && (\n                <Modal.Footer has_separator>\n                    <RecentFooter />\n                </Modal.Footer>\n            )}\n            {has_loaded_file && (\n                <Modal.Footer has_separator>\n                    <LocalFooter />\n                </Modal.Footer>\n            )}\n        </Modal>\n    );\n};\n\nexport default connect(({ load_modal, dashboard }: RootStore) => ({\n    active_index: load_modal.active_index,\n    is_load_modal_open: load_modal.is_load_modal_open,\n    loaded_local_file: load_modal.loaded_local_file,\n    onEntered: load_modal.onEntered,\n    recent_strategies: load_modal.recent_strategies,\n    setActiveTabIndex: load_modal.setActiveTabIndex,\n    tab_name: load_modal.tab_name,\n    toggleLoadModal: load_modal.toggleLoadModal,\n    setPreviewOnPopup: dashboard.setPreviewOnPopup,\n}))(LoadModal);\n","import LoadModal from './load-modal';\nimport './load-modal.scss';\n\nexport default LoadModal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { MobileWrapper, Toast } from '@deriv/components';\nimport { connect } from 'Stores/connect';\n\n// TODO: Need to sanitize,\n// Same sort of component is being used inside DTrader,\n// In Future we might move the `NetworkStatusToastError` to the core packages for resuability.\n\n/**\n * Network status Toast components\n */\nconst NetworkStatusToastError = ({ status, portal_id, message }) => {\n    const [is_open, setIsOpen] = React.useState(false);\n\n    if (!document.getElementById(portal_id) || !message) return null;\n\n    if (!is_open && status !== 'online') {\n        setIsOpen(true); // open if status === 'blinker' or 'offline'\n    } else if (is_open && status === 'online') {\n        setTimeout(() => {\n            setIsOpen(false);\n        }, 1500);\n    }\n\n    return ReactDOM.createPortal(\n        <MobileWrapper>\n            <Toast\n                className={classNames({\n                    'dc-toast--blinker': status === 'blinker',\n                })}\n                is_open={is_open}\n                timeout={0}\n                type='error'\n            >\n                {message}\n            </Toast>\n        </MobileWrapper>,\n        document.getElementById(portal_id)\n    );\n};\n\nNetworkStatusToastError.propTypes = {\n    portal_id: PropTypes.string,\n    status: PropTypes.string,\n    message: PropTypes.string,\n};\n\nexport default connect(({ common }) => ({\n    network_status: common.network_status,\n}))(({ network_status }) => (\n    <NetworkStatusToastError portal_id='popup_root' message={network_status.tooltip} status={network_status.class} />\n));\n","import NetworkToastPopup from './network-toast-popup.jsx';\n\nexport default NetworkToastPopup;\n","import React from 'react';\nimport { Button, ExpansionPanel, Icon } from '@deriv/components';\n\nconst getIcon = type => {\n    switch (type) {\n        case 'error':\n            return 'IcAlertDanger';\n        case 'warn':\n            return 'IcAlertWarning';\n        case 'info':\n            return 'IcAlertInfo';\n        default:\n            return 'IcAlertWarning';\n    }\n};\n\nexport const messageWithButton = ({ unique_id, type, message, btn_text, onClick }) => (\n    <>\n        <div key={`${unique_id}_message`} className='notify__item-container'>\n            <Icon key={`${unique_id}_icon`} icon={getIcon(type)} size='22' />\n            <div key={`${unique_id}_text`} className='notify__item-message'>\n                {message}\n            </div>\n        </div>\n        <Button\n            key={`${unique_id}_btn`}\n            className='notify__item-button'\n            text={btn_text}\n            onClick={onClick}\n            has_effect\n            secondary\n        />\n    </>\n);\n\nexport const messageWithImage = (message, image) => (\n    <>\n        <div className='notify__item-message'>{message}</div>\n        <img src={image} style={{ width: '100%' }} />\n    </>\n);\n\n// eslint-disable-next-line react/display-name\nexport const arrayAsMessage = parsedArray => measure => <ExpansionPanel message={parsedArray} onResize={measure} />;\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\n\ntype TRoutePromptDialog = {\n    onCancel: () => void;\n    onConfirm: () => void;\n    continueRoute: () => void;\n    is_confirmed: boolean;\n    should_show: boolean;\n    last_location: string[];\n};\n\nconst RoutePromptDialog = ({\n    continueRoute,\n    is_confirmed,\n    last_location,\n    should_show,\n    onCancel,\n    onConfirm,\n}: TRoutePromptDialog) => {\n    React.useEffect(continueRoute, [is_confirmed, last_location, continueRoute]);\n\n    return (\n        <Dialog\n            title={localize('Leaving already?')}\n            confirm_button_text={localize(\"Yes, I'll come back later\")}\n            cancel_button_text={localize(\"No, I'll stay\")}\n            onConfirm={onConfirm}\n            onCancel={onCancel}\n            is_visible={should_show}\n        >\n            <Localize i18n_default_text='If you leave, your current contract will be completed, but your bot will stop running immediately.' />\n        </Dialog>\n    );\n};\n\nexport default connect(({ route_prompt_dialog }: RootStore) => ({\n    continueRoute: route_prompt_dialog.continueRoute,\n    should_show: route_prompt_dialog.should_show,\n    is_confirmed: route_prompt_dialog.is_confirmed,\n    last_location: route_prompt_dialog.last_location,\n    onCancel: route_prompt_dialog.onCancel,\n    onConfirm: route_prompt_dialog.onConfirm,\n}))(RoutePromptDialog);\n","import RoutePromptDialog from './route-prompt-dialog';\n\nexport default RoutePromptDialog;\n","import React from 'react';\nimport { Dialog, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\nexport type TStopBotModalContent = {\n    is_running: boolean;\n    is_dialog_open: boolean;\n    is_contract_dialog_open: boolean;\n    is_stop_bot_dialog_open: boolean;\n    is_multiplier: boolean;\n    closeMultiplierContract: () => void;\n    onOkButtonClick: () => void;\n    toggleStopBotDialog: () => void;\n};\n\nconst StopBotModalContent = ({\n    is_running,\n    is_multiplier,\n    is_contract_dialog_open,\n    is_stop_bot_dialog_open,\n    closeMultiplierContract,\n    onOkButtonClick,\n    toggleStopBotDialog,\n}: TStopBotModalContent) => {\n    const confirm_button_text = is_running && is_multiplier ? localize('Keep my contract') : localize('Stop my bot');\n    const cancel_button_text = is_running && is_multiplier ? localize('Close my contract') : localize('Back');\n    const title_text =\n        is_running && is_multiplier ? localize('Keep your current contract?') : localize('Stop your current bot?');\n    const toggle_dialog_or_stop = is_running && is_multiplier ? closeMultiplierContract : toggleStopBotDialog;\n\n    return (\n        <React.Fragment>\n            <Dialog\n                portal_element_id='modal_root'\n                title={title_text}\n                is_visible={is_running ? is_stop_bot_dialog_open : is_contract_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={toggle_dialog_or_stop}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running && is_multiplier ? (\n                    <>\n                        <Text as='p' line_height='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            {localize(\n                                'Close your contract now or keep it running. If you decide to keep it running, you can check and close it later on the '\n                            )}\n                            <Text as='span' line_height='s' size='xs'>\n                                <strong>{localize('Reports')}</strong>\n                            </Text>\n                            {localize(' page.')}\n                        </Text>\n                        <Text as='p' line_height='s' size='xs'>\n                            {localize('The Quick Strategy you just created will be loaded to the workspace.')}\n                        </Text>\n                    </>\n                ) : (\n                    <>\n                        <Text as='p' line_height='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            {localize(\n                                'Stopping the current bot will load the Quick Strategy you just created to the workspace.'\n                            )}\n                        </Text>\n                        <Text as='p' line_height='s' size='xs'>\n                            {localize(' Any open contracts can be viewed on the ')}\n                            <Text as='span' line_height='s' size='xs'>\n                                <strong>{localize('Reports')}</strong>\n                            </Text>\n                            {localize(' page.')}\n                        </Text>\n                    </>\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n};\n\nexport default StopBotModalContent;\n","import React from 'react';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/root-store';\nimport StopBotModalContent, { TStopBotModalContent } from '../stop-bot-modal-content';\n\ntype TStopBotModal = TStopBotModalContent & {\n    stopMyBot: () => void;\n};\n\nconst StopBotModal = ({\n    is_running,\n    is_contract_dialog_open,\n    is_stop_bot_dialog_open,\n    is_multiplier,\n    is_dialog_open,\n    closeMultiplierContract,\n    stopMyBot,\n    toggleStopBotDialog,\n}: TStopBotModal) => (\n    <StopBotModalContent\n        is_running={is_running}\n        onOkButtonClick={stopMyBot}\n        is_contract_dialog_open={is_contract_dialog_open}\n        is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n        is_multiplier={is_multiplier}\n        closeMultiplierContract={closeMultiplierContract}\n        is_dialog_open={is_dialog_open}\n        toggleStopBotDialog={toggleStopBotDialog}\n    />\n);\n\nexport default connect(({ run_panel, quick_strategy, summary_card }: RootStore) => ({\n    is_dialog_open: quick_strategy.is_dialog_open,\n    is_running: run_panel.is_running,\n    is_multiplier: summary_card.is_multiplier,\n    is_contract_dialog_open: quick_strategy.is_contract_dialog_open,\n    is_stop_bot_dialog_open: quick_strategy.is_stop_bot_dialog_open,\n    closeMultiplierContract: run_panel.closeMultiplierContract,\n    onOkButtonClick: run_panel.onOkButtonClick,\n    stopMyBot: run_panel.stopMyBot,\n    toggleStopBotDialog: quick_strategy.toggleStopBotDialog,\n    is_strategy_modal_open: quick_strategy.is_strategy_modal_open,\n}))(StopBotModal);\n","import React from 'react';\nimport { Button, Popover } from '@deriv/components';\n\ntype TToolbarButton = {\n    popover_message?: string;\n    button_id: string;\n    button_classname: string;\n    buttonOnClick: () => void;\n    icon?: React.ReactElement;\n    button_text: string;\n};\n\nconst ToolbarButton = ({\n    popover_message,\n    button_id,\n    button_classname,\n    buttonOnClick,\n    icon,\n    button_text,\n}: TToolbarButton) => (\n    <Popover alignment='bottom' message={popover_message} should_disable_pointer_events>\n        <Button id={button_id} className={button_classname} has_effect onClick={buttonOnClick} icon={icon} green>\n            {button_text}\n        </Button>\n    </Popover>\n);\n\nexport default ToolbarButton;\n","import React from 'react';\nimport { Icon, Popover } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { popover_zindex } from 'Constants/z-indexes';\n\ntype TToolbarIcon = {\n    popover_message: string;\n    icon: string;\n    icon_id: string;\n    action: () => void;\n    icon_color?: string;\n};\n\nconst ToolbarIcon = ({ popover_message, icon, icon_id, icon_color, action }: TToolbarIcon) => {\n    const renderIcon = () => (\n        <Icon\n            icon={icon}\n            id={icon_id}\n            className='toolbar__icon'\n            onClick={action}\n            {...(icon_color && { color: icon_color })}\n        />\n    );\n\n    if (isMobile()) {\n        return renderIcon();\n    }\n\n    return (\n        <Popover\n            alignment='bottom'\n            message={popover_message}\n            zIndex={popover_zindex.TOOLBAR}\n            should_disable_pointer_events\n        >\n            {renderIcon()}\n        </Popover>\n    );\n};\n\nexport default ToolbarIcon;\n","import React from 'react';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport ToolbarIcon from './toolbar-icon';\n\ntype TWorkspaceGroup = {\n    has_redo_stack: boolean;\n    has_undo_stack: boolean;\n    onResetClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: (param?: boolean) => void;\n    onZoomInOutClick: (param?: boolean) => void;\n    setPreviewOnPopup: (param: boolean) => void;\n    toggleLoadModal: () => void;\n    toggleSaveModal: () => void;\n};\n\nconst WorkspaceGroup = ({\n    has_redo_stack,\n    has_undo_stack,\n    onResetClick,\n    onSortClick,\n    onUndoClick,\n    onZoomInOutClick,\n    setPreviewOnPopup,\n    toggleLoadModal,\n    toggleSaveModal,\n}: TWorkspaceGroup) => (\n    <div className='toolbar__group toolbar__group-btn'>\n        <ToolbarIcon\n            popover_message={localize('Reset')}\n            icon='IcReset'\n            icon_id='db-toolbar__reset-button'\n            action={onResetClick}\n        />\n        <ToolbarIcon\n            popover_message={localize('Import')}\n            icon='IcFolderOpen'\n            icon_id='db-toolbar__import-button'\n            action={() => {\n                setPreviewOnPopup(true);\n                toggleLoadModal();\n            }}\n        />\n        <ToolbarIcon\n            popover_message={localize('Save')}\n            icon='IcSave'\n            icon_id='db-toolbar__save-button'\n            action={toggleSaveModal}\n        />\n        <div className='vertical-divider' />\n        <ToolbarIcon\n            popover_message={localize('Undo')}\n            icon='IcUndo'\n            icon_id='db-toolbar__undo-button'\n            icon_color={has_undo_stack ? undefined : 'disabled'}\n            action={() => onUndoClick(/* redo */ false)}\n        />\n        <ToolbarIcon\n            popover_message={localize('Redo')}\n            icon='IcRedo'\n            icon_id='db-toolbar__redo-button'\n            icon_color={has_redo_stack ? undefined : 'disabled'}\n            action={() => onUndoClick(/* redo */ true)}\n        />\n        <ToolbarIcon\n            popover_message={localize('Sort')}\n            icon='IcSort'\n            icon_id='db-toolbar__sort-button'\n            action={onSortClick}\n        />\n        <ToolbarIcon\n            popover_message={localize('Zoom in')}\n            icon='IcZoomIn'\n            icon_id='db-toolbar__zoom-in-button'\n            action={() => onZoomInOutClick(/* in */ true)}\n        />\n        <ToolbarIcon\n            popover_message={localize('Zoom out')}\n            icon='IcZoomOut'\n            icon_id='db-toolbar__zoom-out'\n            action={() => onZoomInOutClick(/* in */ false)}\n        />\n    </div>\n);\n\nexport default connect(({ dashboard }: RootStore) => ({\n    setPreviewOnPopup: dashboard.setPreviewOnPopup,\n}))(WorkspaceGroup);\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport ToolbarButton from './toolbar-button';\nimport WorkspaceGroup from './workspace-group';\n\ntype TToolbar = {\n    active_tab: string;\n    file_name: string;\n    has_redo_stack: boolean;\n    has_undo_stack: boolean;\n    is_dialog_open: boolean;\n    is_drawer_open: boolean;\n    is_running: boolean;\n    is_stop_button_disabled: boolean;\n    is_stop_button_visible: boolean;\n    closeResetDialog: () => void;\n    onOkButtonClick: () => void;\n    onResetClick: () => void;\n    onRunButtonClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: () => void;\n    onZoomInOutClick: () => void;\n    toggleSaveLoadModal: () => void;\n    toggleLoadModal: () => void;\n    toggleSaveModal: () => void;\n    loadDataStrategy: () => void;\n};\n\nconst Toolbar = (props: TToolbar) => {\n    const { is_running, is_dialog_open, onOkButtonClick, closeResetDialog } = props;\n    const confirm_button_text = is_running ? localize('Yes') : localize('OK');\n    const cancel_button_text = is_running ? localize('No') : localize('Cancel');\n\n    return (\n        <React.Fragment>\n            <div className='toolbar dashboard__toolbar' data-testid='dashboard__toolbar'>\n                <div className='toolbar__section'>\n                    {isMobile() && (\n                        <ToolbarButton\n                            popover_message={localize('Click here to start building your DBot.')}\n                            button_id='db-toolbar__get-started-button'\n                            button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                            buttonOnClick={props.loadDataStrategy}\n                            button_text={localize('Quick strategy')}\n                        />\n                    )}\n                    <WorkspaceGroup {...props} />\n                </div>\n            </div>\n            <Dialog\n                portal_element_id='modal_root'\n                title={localize('Are you sure?')}\n                is_visible={is_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={closeResetDialog}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running ? (\n                    <Localize\n                        i18n_default_text='DBot will not proceed with any new trades. Any ongoing trades will be completed by our system. Any unsaved changes will be lost.<0>Note: Please check your statement to view completed transactions.</0>'\n                        components={[\n                            <div\n                                key={0}\n                                className='toolbar__dialog-text--second'\n                                data-testid='toolbar__dialog-text--second'\n                            />,\n                        ]}\n                    />\n                ) : (\n                    localize('Any unsaved changes will be lost.')\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n};\n\nexport default connect(({ blockly_store, run_panel, save_modal, load_modal, toolbar, quick_strategy }: RootStore) => ({\n    active_tab: blockly_store.active_tab,\n    file_name: toolbar.file_name,\n    has_redo_stack: toolbar.has_redo_stack,\n    has_undo_stack: toolbar.has_undo_stack,\n    is_dialog_open: toolbar.is_dialog_open,\n    is_drawer_open: run_panel.is_drawer_open,\n    is_running: run_panel.is_running,\n    is_stop_button_disabled: run_panel.is_stop_button_disabled,\n    is_stop_button_visible: run_panel.is_stop_button_visible,\n    closeResetDialog: toolbar.closeResetDialog,\n    onOkButtonClick: toolbar.onResetOkButtonClick,\n    onResetClick: toolbar.onResetClick,\n    onRunButtonClick: run_panel.onRunButtonClick,\n    onSortClick: toolbar.onSortClick,\n    onUndoClick: toolbar.onUndoClick,\n    onZoomInOutClick: toolbar.onZoomInOutClick,\n    toggleLoadModal: load_modal.toggleLoadModal,\n    toggleSaveModal: save_modal.toggleSaveModal,\n    loadDataStrategy: quick_strategy.loadDataStrategy,\n}))(Toolbar);\n","import Toolbar from './toolbar';\nimport './toolbar.scss';\n\nexport default Toolbar;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\n\ntype TSearchIcon = {\n    search: string;\n    is_search_loading: boolean;\n    onClick: () => void;\n};\n\nconst SearchIcon = ({ search, is_search_loading, onClick }: TSearchIcon) => {\n    if (!search) return <Icon icon='IcSearch' />;\n    if (is_search_loading) return <div className='loader' />;\n    return <Icon icon='IcCloseCircle' onClick={onClick} color='secondary' />;\n};\n\nexport default SearchIcon;\n","import React from 'react';\nimport { Field as FormField, FieldProps, Form, Formik } from 'formik';\nimport { Input } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport SearchIcon from './search-icon';\n\ntype TSearchBox = {\n    is_search_loading: boolean;\n    onSearch: () => void;\n    onSearchBlur: () => void;\n    onSearchClear: (param: (field: string, value: number | string, shouldValidate?: boolean) => void) => void;\n    onSearchKeyUp: (param: () => void) => void;\n};\n\ntype TFormValues = { [key: string]: string };\n\nconst SearchBox = ({ is_search_loading, onSearch, onSearchBlur, onSearchClear, onSearchKeyUp }: TSearchBox) => (\n    <div className='db-toolbox__search'>\n        <Formik initialValues={{ search: '' }} onSubmit={onSearch}>\n            {({ submitForm, values: { search }, setFieldValue }) => (\n                <Form>\n                    <FormField name='search'>\n                        {({ field }: FieldProps<string, TFormValues>) => (\n                            <Input\n                                {...field}\n                                className='db-toolbox__search-field'\n                                type='text'\n                                name='search'\n                                placeholder={localize('Search')}\n                                onKeyUp={() => onSearchKeyUp(submitForm)}\n                                onFocus={submitForm}\n                                onBlur={onSearchBlur}\n                                leading_icon={\n                                    <SearchIcon\n                                        search={search}\n                                        is_search_loading={is_search_loading}\n                                        onClick={() => onSearchClear(setFieldValue)}\n                                    />\n                                }\n                            />\n                        )}\n                    </FormField>\n                </Form>\n            )}\n        </Formik>\n    </div>\n);\n\nexport default SearchBox;\n","import SearchBox from './search-box';\n\nexport default SearchBox;\n","import React from 'react';\nimport ReactDomServer from 'react-dom/server';\nimport { localize } from '@deriv/translations';\n\nconst Arg = ({ ...props }) => {\n    return React.createElement('arg', props);\n};\n\nconst Block = ({ ...props }) => {\n    return React.createElement('block', props);\n};\n\nconst Category = ({ ...props }) => {\n    return React.createElement('category', props);\n};\n\nconst Example = ({ ...props }) => {\n    return React.createElement('example', props);\n};\n\nconst Examples = ({ ...props }) => {\n    return React.createElement('examples', props);\n};\n\nconst Field = ({ ...props }) => {\n    return React.createElement('field', props);\n};\n\nconst Mutation = ({ ...props }) => {\n    return React.createElement('mutation', props);\n};\n\nconst Next = ({ ...props }) => {\n    return React.createElement('next', props);\n};\n\nconst Shadow = ({ ...props }) => {\n    return React.createElement('shadow', props);\n};\n\nconst Statement = ({ ...props }) => {\n    return React.createElement('statement', props);\n};\n\nconst Value = ({ ...props }) => {\n    return React.createElement('value', props);\n};\n\nconst Xml = ({ ...props }) => {\n    return React.createElement('xml', props);\n};\n\nexport const ToolboxItems = ReactDomServer.renderToStaticMarkup(\n    <Xml xmlns='http://www.w3.org/1999/xhtml' id='toolbox'>\n        <Category id='trade_parameters' name={localize('Set up your trade')}>\n            <Block type='trade_definition'>\n                <Statement name='TRADE_OPTIONS'>\n                    <Block type='trade_definition_market' deletable='false' movable='false'>\n                        <Field name='MARKET_LIST' />\n                        <Field name='SUBMARKET_LIST' />\n                        <Field name='SYMBOL_LIST' />\n                        <Next>\n                            <Block type='trade_definition_tradetype' deletable='false' movable='false'>\n                                <Field name='TRADETYPECAT_LIST' />\n                                <Field name='TRADETYPE_LIST' />\n                                <Next>\n                                    <Block type='trade_definition_contracttype' deletable='false' movable='false'>\n                                        <Field name='TYPE_LIST' />\n                                        <Next>\n                                            <Block\n                                                type='trade_definition_candleinterval'\n                                                deletable='false'\n                                                movable='false'\n                                            >\n                                                <Field name='CANDLEINTERVAL_LIST'>60</Field>\n                                                <Next>\n                                                    <Block\n                                                        type='trade_definition_restartbuysell'\n                                                        deletable='false'\n                                                        movable='false'\n                                                    >\n                                                        <Field name='TIME_MACHINE_ENABLED'>FALSE</Field>\n                                                        <Next>\n                                                            <Block\n                                                                type='trade_definition_restartonerror'\n                                                                deletable='false'\n                                                                movable='false'\n                                                            >\n                                                                <Field name='RESTARTONERROR'>TRUE</Field>\n                                                            </Block>\n                                                        </Next>\n                                                    </Block>\n                                                </Next>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Statement>\n            </Block>\n            <Block type='trade_definition_tradeoptions'>\n                <Mutation has_first_barrier='false' has_second_barrier='false' has_prediction='false' />\n                <Field name='DURATIONTYPE_LIST' />\n                <Field name='CURRENCY_LIST'>USD</Field>\n                <Value name='DURATION'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Field name='AMOUNT_LIMITS' />\n            </Block>\n            <Block type='trade_definition_multiplier'>\n                <Field name='MULTIPLIERTYPE_LIST' />\n                <Field name='CURRENCY_LIST'>USD</Field>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Field name='AMOUNT_LIMITS' />\n            </Block>\n            <Block type='multiplier_take_profit'>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>0</Field>\n                    </Shadow>\n                </Value>\n            </Block>\n            <Block type='multiplier_stop_loss'>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>0</Field>\n                    </Shadow>\n                </Value>\n            </Block>\n        </Category>\n        <Category id='purchase_conditions' name={localize('Purchase contract')}>\n            <Block type='before_purchase' />\n            <Block type='purchase' />\n        </Category>\n        <Category id='sell_conditions' name={localize('Sell contract (optional)')}>\n            <Block type='during_purchase' />\n            <Block type='sell_at_market' />\n        </Category>\n        <Category id='trade_results' name={localize('Trade again')}>\n            <Block type='after_purchase' />\n            <Block type='trade_again' />\n        </Category>\n\n        <Category id='analysis' name={localize('Analysis')}>\n            <Category id='indicators' name={localize('Indicators')}>\n                <Block type='sma_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='smaa_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='bb_statement'>\n                    <Field name='BBRESULT_LIST'>0</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                            <Value name='UPMULTIPLIER'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>5</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='std_dev_multiplier_down'>\n                                                    <Value name='DOWNMULTIPLIER'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>5</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='bba_statement'>\n                    <Field name='BBRESULT_LIST'>0</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                            <Value name='UPMULTIPLIER'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>5</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='std_dev_multiplier_down'>\n                                                    <Value name='DOWNMULTIPLIER'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>5</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='ema_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='emaa_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='rsi_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='rsia_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='macda_statement'>\n                    <Field name='MACDFIELDS_LIST'>1</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='fast_ema_period' deletable='false' movable='false'>\n                                    <Value name='FAST_EMA_PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>12</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='slow_ema_period' deletable='false' movable='false'>\n                                            <Value name='SLOW_EMA_PERIOD'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>26</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='signal_ema_period' deletable='false' movable='false'>\n                                                    <Value name='SIGNAL_EMA_PERIOD'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>9</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Category>\n\n            <Category name={localize('Tick and candle analysis')} id='tick_analysis'>\n                <Block type='tick_analysis' />\n                <Block type='tick' />\n                <Block type='last_digit' />\n                <Block type='ticks' />\n                <Block type='lastDigitList' />\n                <Block type='check_direction' />\n                <Block type='is_candle_black' />\n                <Block type='read_ohlc'>\n                    <Field name='OHLCFIELD_LIST'>open</Field>\n                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                    <Value name='CANDLEINDEX'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='read_ohlc_obj' />\n                <Block type='ohlc_values' />\n                <Block type='ohlc_values_in_list' />\n                <Block type='get_ohlc'>\n                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                    <Value name='CANDLEINDEX'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='ohlc' />\n            </Category>\n\n            <Category name={localize('Contract')} id='contract_details'>\n                <Block type='contract_check_result' />\n                <Block type='read_details' />\n                <Block type='sell_price' />\n                <Block type='check_sell' />\n                <Block type='payout' />\n                <Block type='ask_price' />\n            </Category>\n\n            <Category name={localize('Stats')} id='stats'>\n                <Block type='balance' />\n                <Block type='total_profit' />\n                <Block type='total_runs' />\n            </Category>\n        </Category>\n\n        <Category id='utility' name={localize('Utility')}>\n            <Category name={localize('Custom functions')} id='custom_functions' dynamic='PROCEDURE' />\n\n            <Category name={localize('Variables')} id='variables' dynamic='VARIABLE' />\n\n            <Category name={localize('Notifications')} id='notifications'>\n                <Block type='text_print'>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_prompt_ext'>\n                    <Field name='TYPE'>TEXT</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='notify'>\n                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='notify_telegram'>\n                    <Value name='TELEGRAM_ACCESS_TOKEN'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                    <Value name='TELEGRAM_CHAT_ID'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                    <Value name='TELEGRAM_MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Time')} id='time'>\n                <Block type='epoch' />\n                <Block type='timeout' />\n                <Block type='totimestamp'>\n                    <Value name='DATETIME'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>yyyy-mm-dd hh:mm:ss</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='todatetime'>\n                    <Value name='TIMESTAMP'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Math')} id='math'>\n                <Block type='math_number' />\n                <Block type='math_arithmetic'>\n                    <Field name='OP'>ADD</Field>\n                    <Value name='A'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='B'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_single'>\n                    <Field name='OP'>ROOT</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>9</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_trig'>\n                    <Field name='OP'>SIN</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>45</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_constant' />\n                <Block type='math_number_property'>\n                    <Mutation divisor_input='false' />\n                    <Field name='PROPERTY'>EVEN</Field>\n                    <Value name='NUMBER_TO_CHECK'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_change'>\n                    <Field name='VAR' variabletype=''>\n                        item\n                    </Field>\n                    <Value name='DELTA'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_on_list' />\n                <Block type='math_round'>\n                    <Field name='OP'>ROUND</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>3.1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_modulo'>\n                    <Value name='DIVIDEND'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>64</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='DIVISOR'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_constrain'>\n                    <Value name='Value'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>50</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='LOW'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='HIGH'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>100</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_random_int'>\n                    <Value name='FROM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='TO'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>100</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_random_float' />\n            </Category>\n\n            <Category name={localize('Text')} id='text'>\n                <Block type='text'>\n                    <Field name='TEXT'>abc</Field>\n                </Block>\n                <Block type='text_join'>\n                    <Field name='VARIABLE' variabletype=''>\n                        text\n                    </Field>\n                    <Statement name='STACK'>\n                        <Block type='text_statement' movable='false'>\n                            <Value name='TEXT'>\n                                <Shadow type='text'>\n                                    <Field name='TEXT'>abc</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='text_append'>\n                    <Field name='VAR' variabletype=''>\n                        text\n                    </Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_length'>\n                    <Value name='Value'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_isEmpty'>\n                    <Value name='Value'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_indexOf'>\n                    <Field name='END'>FIRST</Field>\n                    <Value name='Value'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                text\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='FIND'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_charAt'>\n                    <Mutation at='true' />\n                    <Field name='WHERE'>FROM_START</Field>\n                    <Value name='Value'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                item\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='AT'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_getSubstring'>\n                    <Mutation at1='true' at2='true' />\n                    <Field name='WHERE1'>FROM_START</Field>\n                    <Field name='WHERE2'>FROM_START</Field>\n                    <Value name='STRING'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                text\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='AT1'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='AT2'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>2</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_changeCase'>\n                    <Field name='CASE'>UPPERCASE</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_trim'>\n                    <Field name='MODE'>BOTH</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Logic')} id='logic'>\n                <Block type='controls_if' />\n                <Block type='logic_compare' />\n                <Block type='logic_operation' />\n                <Block type='logic_negate' />\n                <Block type='logic_boolean' />\n                <Block type='logic_null' />\n                <Block type='logic_ternary' />\n            </Category>\n\n            <Category name={localize('Lists')} id='lists'>\n                <Block type='lists_create_with'>\n                    <Field name='VARIABLE' variabletype=''>\n                        list\n                    </Field>\n                    <Statement name='STACK'>\n                        <Block type='lists_statement' movable='false'>\n                            <Next>\n                                <Block type='lists_statement' movable='false' />\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='lists_repeat'>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>5</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='lists_length' />\n                <Block type='lists_isEmpty' />\n                <Block type='lists_indexOf' />\n                <Block type='lists_getIndex' />\n                <Block type='lists_setIndex' />\n                <Block type='lists_getSublist' />\n                <Block type='lists_split'>\n                    <Mutation mode='SPLIT' />\n                    <Field name='MODE'>SPLIT</Field>\n                    <Value name='DELIM'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>,</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='lists_sort' />\n            </Category>\n\n            <Category name={localize('Loops')} id='loops'>\n                <Block type='controls_repeat' />\n                <Block type='controls_repeat_ext' />\n                <Block type='controls_whileUntil' />\n                <Block type='controls_for' />\n                <Block type='controls_forEach' />\n                <Block type='controls_flow_statements' />\n            </Category>\n\n            <Category name={localize('Miscellaneous')} id='misc'>\n                <Block type='loader' />\n                <Block type='block_holder' />\n                <Block type='console'>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n        </Category>\n\n        <Examples id='examples'>\n            <Example id='sell_available'>\n                <Block type='during_purchase'>\n                    <Statement name='DURING_PURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='check_sell' />\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='sell_at_market' />\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='trade_again'>\n                <Block type='after_purchase'>\n                    <Statement name='AFTERPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='total_profit' />\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                target_profit\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_block_example'>\n                <Block type='sma_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        sma\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST'>\n                                <Block type='ohlc_values'>\n                                    <Field name='OHLCFIELD_LIST'>open</Field>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_array'>\n                <Block type='smaa_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        smaa\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_block_example_1'>\n                <Block type='sma_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        sma\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST'>\n                                <Block type='ticks' />\n                            </Value>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='in_candle_list_read'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        op\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                            <Value name='CANDLEINDEX'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>1</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='read_candle_value'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        op\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc_obj'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Value name='OHLCOBJ'>\n                                <Block type='read_ohlc'>\n                                    <Field name='OHLCFIELD_LIST'>open</Field>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    <Value name='CANDLEINDEX'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>1</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='candle_list'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle_list\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='ohlc_values'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='candle_list_1'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        cl\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='ohlc_values_in_list'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Value name='OHLCLIST'>\n                                <Block type='ohlc'>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='get_candle'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle_open_price\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc_obj'>\n                            <Field name='OHLCFIELD_LIST'>epoch</Field>\n                            <Value name='OHLCOBJ'>\n                                <Block type='get_ohlc'>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    <Value name='CANDLEINDEX'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>2</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='check_result'>\n                <Block type='after_purchase'>\n                    <Statement name='AFTERPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='contract_check_result'>\n                                    <Field name='CHECK_RESULT'>win</Field>\n                                </Block>\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='trade_again' />\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sell_pl'>\n                <Block type='during_purchase'>\n                    <Statement name='DURING_PURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='check_sell' />\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_compare'>\n                                            <Field name='OP'>EQ</Field>\n                                            <Value name='A'>\n                                                <Block type='sell_price' />\n                                            </Value>\n                                            <Value name='B'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        stake\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='sell_at_market' />\n                                    </Statement>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='if-return'>\n                <Block type='procedures_defreturn'>\n                    <Mutation>\n                        <Arg name='x' />\n                    </Mutation>\n                    <Field name='NAME'>do something</Field>\n                    <Statement name='STACK'>\n                        <Block type='procedures_ifreturn'>\n                            <Mutation value='1' />\n                            <Value name='CONDITION'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Value name='VALUE'>\n                                <Block type='text'>\n                                    <Field name='TEXT'>x must be positive or zero</Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                    <Value name='RETURN'>\n                        <Block type='math_single'>\n                            <Field name='OP'>ROOT</Field>\n                            <Value name='NUM'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>9</Field>\n                                </Shadow>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='notify_telegram'>\n                <Block type='notify_telegram'>\n                    <Value name='TELEGRAM_ACCESS_TOKEN'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                access_token\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='TELEGRAM_CHAT_ID'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                chat_id\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='TELEGRAM_MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>Enjoy!</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='epoch'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                            <Value name='CANDLEINDEX'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>1</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='variables_set'>\n                            <Field name='VAR' variabletype=''>\n                                Open Time\n                            </Field>\n                            <Value name='VALUE'>\n                                <Block type='read_ohlc_obj'>\n                                    <Field name='OHLCFIELD_LIST'>epoch</Field>\n                                    <Value name='OHLCOBJ'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                candle\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='variables_set'>\n                                    <Field name='VAR' variabletype=''>\n                                        Open Time\n                                    </Field>\n                                    <Value name='VALUE'>\n                                        <Block type='math_arithmetic'>\n                                            <Field name='OP'>MINUS</Field>\n                                            <Value name='A'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>1</Field>\n                                                </Shadow>\n                                                <Block type='epoch' />\n                                            </Value>\n                                            <Value name='B'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>1</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        Open Time\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Next>\n                                        <Block type='controls_if'>\n                                            <Value name='IF0'>\n                                                <Block type='logic_compare'>\n                                                    <Field name='OP'>GTE</Field>\n                                                    <Value name='A'>\n                                                        <Block type='variables_get'>\n                                                            <Field name='VAR' variabletype=''>\n                                                                Time Since Candle Opened\n                                                            </Field>\n                                                        </Block>\n                                                    </Value>\n                                                    <Value name='B'>\n                                                        <Block type='math_number'>\n                                                            <Field name='NUM'>30</Field>\n                                                        </Block>\n                                                    </Value>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='totimestamp'>\n                <Block type='before_purchase'>\n                    <Statement name='BEFOREPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='epoch' />\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='totimestamp'>\n                                            <Value name='DATETIME'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>1957-08-31 00:00:00</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='purchase'>\n                                    <Field name='PURCHASE_LIST'>CALL</Field>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='todatetime'>\n                <Block type='notify'>\n                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                    <Field name='NOTIFICATION_SOUND'>silent</Field>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                        <Block type='todatetime'>\n                            <Value name='TIMESTAMP'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>0</Field>\n                                </Shadow>\n                                <Block type='epoch' />\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='constrain'>\n                <Block type='math_constrain'>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>5</Field>\n                        </Block>\n                    </Value>\n                    <Value name='LOW'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='HIGH'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>20</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='controls_if'>\n                <Block type='controls_if'>\n                    <Mutation elseif='1' else='1' />\n                    <Value name='IF0'>\n                        <Block type='logic_compare'>\n                            <Field name='OP'>EQ</Field>\n                            <Value name='A'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var1\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Value name='B'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var2\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                    <Value name='IF1'>\n                        <Block type='logic_compare'>\n                            <Field name='OP'>EQ</Field>\n                            <Value name='A'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var3\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Value name='B'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var4\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='compare_logic'>\n                <Block type='logic_compare'>\n                    <Field name='OP'>EQ</Field>\n                </Block>\n            </Example>\n            <Example id='compare_logic_1'>\n                <Block type='logic_operation'>\n                    <Field name='OP'>AND</Field>\n                </Block>\n            </Example>\n            <Example id='repeat_while'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_whileUntil'>\n                            <Field name='MODE'>WHILE</Field>\n                            <Value name='BOOL'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>LTE</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='math_change'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                    <Value name='DELTA'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>1</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='repeat_until'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>20</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_whileUntil'>\n                            <Field name='MODE'>UNTIL</Field>\n                            <Value name='BOOL'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='math_change'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                    <Value name='DELTA'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>-1</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='controls_for'>\n                <Block type='controls_for'>\n                    <Field name='VAR' variabletype=''>\n                        i\n                    </Field>\n                    <Value name='FROM'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Block>\n                    </Value>\n                    <Value name='TO'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Block>\n                    </Value>\n                    <Value name='BY'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>2</Field>\n                        </Block>\n                    </Value>\n                    <Statement name='DO'>\n                        <Block type='notify'>\n                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                            <Value name='MESSAGE'>\n                                <Shadow type='text'>\n                                    <Field name='TEXT'>abc</Field>\n                                </Shadow>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        i\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='controls_forEach'>\n                <Block type='lists_create_with'>\n                    <Field name='VARIABLE'>list</Field>\n                    <Statement name='STACK'>\n                        <Block type='lists_statement'>\n                            <Value name='VALUE'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        item1\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='lists_statement'>\n                                    <Value name='VALUE'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                item2\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Next>\n                                        <Block type='lists_statement'>\n                                            <Value name='VALUE'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        item3\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                    <Next>\n                        <Block type='controls_forEach'>\n                            <Field name='VAR' variabletype=''>\n                                i\n                            </Field>\n                            <Value name='LIST'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        list\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='notify'>\n                                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                                    <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                    <Value name='MESSAGE'>\n                                        <Shadow type='text'>\n                                            <Field name='TEXT'>abc</Field>\n                                        </Shadow>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                i\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='break_out'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='logic_boolean'>\n                            <Field name='BOOL'>TRUE</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_repeat'>\n                            <Field name='TIMES'>10</Field>\n                            <Statement name='DO'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_negate'>\n                                            <Value name='BOOL'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='controls_flow_statements'>\n                                            <Field name='FLOW'>BREAK</Field>\n                                        </Block>\n                                    </Statement>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='continue'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='logic_boolean'>\n                            <Field name='BOOL'>FALSE</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_repeat'>\n                            <Field name='TIMES'>10</Field>\n                            <Statement name='DO'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_negate'>\n                                            <Value name='BOOL'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='variables_set'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                            <Value name='VALUE'>\n                                                <Block type='logic_boolean'>\n                                                    <Field name='BOOL'>TRUE</Field>\n                                                </Block>\n                                            </Value>\n                                            <Next>\n                                                <Block type='controls_flow_statements'>\n                                                    <Field name='FLOW'>CONTINUE</Field>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Statement>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n        </Examples>\n    </Xml>\n);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport ToolbarButton from '../toolbar/toolbar-button';\nimport SearchBox from './search-box';\nimport { ToolboxItems } from './toolbox-items';\n\ntype TToolbox = {\n    hasSubCategory: (param: HTMLCollection) => boolean;\n    is_search_loading: boolean;\n    is_toolbox_open: boolean;\n    onMount: (param?: React.RefObject<typeof ToolboxItems>) => void;\n    onSearch: () => void;\n    onSearchBlur: () => void;\n    onSearchClear: () => void;\n    onSearchKeyUp: () => void;\n    onToolboxItemClick: (category: ChildNode) => void;\n    onToolboxItemExpand: (index: number) => void;\n    onUnmount: () => void;\n    setVisibility: (param: boolean) => void;\n    sub_category_index: number[];\n    toggleDrawer: () => void;\n    toolbox_dom: HTMLElement;\n    loadDataStrategy: () => void;\n};\n\nconst Toolbox = ({\n    hasSubCategory,\n    is_search_loading,\n    onMount,\n    onSearch,\n    onSearchBlur,\n    onSearchClear,\n    onSearchKeyUp,\n    onToolboxItemClick,\n    onToolboxItemExpand,\n    onUnmount,\n    setVisibility,\n    sub_category_index,\n    toolbox_dom,\n    loadDataStrategy,\n}: TToolbox) => {\n    const toolbox_ref = React.useRef(ToolboxItems);\n    const [is_open, setOpen] = React.useState(true);\n\n    React.useEffect(() => {\n        onMount(toolbox_ref);\n        return () => onUnmount();\n    }, []);\n\n    if (!isMobile()) {\n        return (\n            <div className='dashboard__toolbox' data-testid='dashboard__toolbox'>\n                <ToolbarButton\n                    popover_message={localize('Click here to start building your DBot.')}\n                    button_id='db-toolbar__get-started-button'\n                    button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                    buttonOnClick={loadDataStrategy}\n                    button_text={localize('Quick strategy')}\n                />\n                <div id='gtm-toolbox' className='db-toolbox__content'>\n                    <div className='db-toolbox__header'>\n                        <div\n                            className='db-toolbox__title'\n                            data-testid='db-toolbox__title'\n                            onClick={() => {\n                                setOpen(!is_open);\n                                setVisibility(false);\n                            }}\n                        >\n                            {localize('Blocks menu')}\n                            <span\n                                className={classNames('db-toolbox__title__chevron', {\n                                    'db-toolbox__title__chevron--active': is_open,\n                                })}\n                            >\n                                <Icon icon='IcChevronDownBold' />\n                            </span>\n                        </div>\n                    </div>\n                    <div\n                        className={classNames('db-toolbox__content-wrapper', { active: is_open })}\n                        data-testid='db-toolbox__content-wrapper'\n                    >\n                        <SearchBox\n                            is_search_loading={is_search_loading}\n                            onSearch={onSearch}\n                            onSearchBlur={onSearchBlur}\n                            onSearchClear={onSearchClear}\n                            onSearchKeyUp={onSearchKeyUp}\n                        />\n                        <div className='db-toolbox__category-menu'>\n                            {toolbox_dom &&\n                                (Array.from(toolbox_dom.childNodes) as HTMLElement[]).map((category, index) => {\n                                    if (category.tagName.toUpperCase() === 'CATEGORY') {\n                                        const has_sub_category = hasSubCategory(category.children);\n                                        const is_sub_category_open = sub_category_index.includes(index);\n                                        return (\n                                            <div\n                                                key={`db-toolbox__row--${category.getAttribute('id')}`}\n                                                className='db-toolbox__row'\n                                            >\n                                                <div\n                                                    className='db-toolbox__item'\n                                                    onClick={() => {\n                                                        // eslint-disable-next-line no-unused-expressions\n                                                        has_sub_category\n                                                            ? onToolboxItemExpand(index)\n                                                            : onToolboxItemClick(category);\n                                                    }}\n                                                >\n                                                    <div className='db-toolbox__category-text'>\n                                                        <div className='db-toolbox__label'>\n                                                            {localize(category.getAttribute('name') as string)}\n                                                        </div>\n                                                        {has_sub_category && (\n                                                            <div\n                                                                className={classNames('db-toolbox__category-arrow', {\n                                                                    'db-toolbox__category-arrow--active':\n                                                                        is_sub_category_open,\n                                                                })}\n                                                            >\n                                                                <Icon icon='IcChevronDownBold' />\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                                {has_sub_category &&\n                                                    is_sub_category_open &&\n                                                    (Array.from(category.childNodes) as HTMLElement[]).map(\n                                                        subCategory => {\n                                                            return (\n                                                                <div\n                                                                    key={`db-toolbox__sub-category-row--${subCategory.getAttribute(\n                                                                        'id'\n                                                                    )}`}\n                                                                    className='db-toolbox__sub-category-row'\n                                                                    onClick={() => {\n                                                                        onToolboxItemClick(subCategory);\n                                                                    }}\n                                                                >\n                                                                    <Text size='xxs'>\n                                                                        {localize(\n                                                                            subCategory.getAttribute('name') as string\n                                                                        )}\n                                                                    </Text>\n                                                                </div>\n                                                            );\n                                                        }\n                                                    )}\n                                            </div>\n                                        );\n                                    }\n                                    return null;\n                                })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    return null;\n};\n\nexport default connect(({ toolbox, flyout, quick_strategy }: RootStore) => ({\n    hasSubCategory: toolbox.hasSubCategory,\n    is_search_loading: toolbox.is_search_loading,\n    is_toolbox_open: toolbox.is_toolbox_open,\n    onMount: toolbox.onMount,\n    onSearch: toolbox.onSearch,\n    onSearchBlur: toolbox.onSearchBlur,\n    onSearchClear: toolbox.onSearchClear,\n    onSearchKeyUp: toolbox.onSearchKeyUp,\n    onToolboxItemClick: toolbox.onToolboxItemClick,\n    onToolboxItemExpand: toolbox.onToolboxItemExpand,\n    onUnmount: toolbox.onUnmount,\n    setVisibility: flyout.setVisibility,\n    sub_category_index: toolbox.sub_category_index,\n    toggleDrawer: toolbox.toggleDrawer,\n    toolbox_dom: toolbox.toolbox_dom,\n    loadDataStrategy: quick_strategy.loadDataStrategy,\n}))(Toolbox);\n","import Toolbox from './toolbox';\nimport './toolbox.scss';\n\nexport default Toolbox;\n","import React from 'react';\nimport Flyout from 'Components/flyout';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport StopBotModal from '../dashboard-component/load-bot-preview/stop-bot-modal';\nimport Toolbar from './toolbar';\nimport Toolbox from './toolbox';\nimport './workspace.scss';\n\ntype TWorkspaceWrapper = {\n    onMount: () => void;\n    onUnmount: () => void;\n    is_loading: boolean;\n};\n\nconst WorkspaceWrapper = ({ onMount, onUnmount, is_loading }: TWorkspaceWrapper) => {\n    React.useEffect(() => {\n        onMount();\n        return () => {\n            onUnmount();\n        };\n    }, []);\n\n    if (is_loading) return null;\n\n    if (Blockly?.derivWorkspace)\n        return (\n            <React.Fragment>\n                <Toolbox />\n                <Toolbar />\n                <Flyout />\n                <StopBotModal />\n            </React.Fragment>\n        );\n\n    return null;\n};\n\nexport default connect(({ blockly_store }: RootStore) => ({\n    onMount: blockly_store.onMount,\n    onUnmount: blockly_store.onUnmount,\n    is_loading: blockly_store.is_loading,\n}))(WorkspaceWrapper);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, MobileWrapper } from '@deriv/components';\nimport LoadModal from 'Components/load-modal';\nimport SaveModal from 'Components/save-modal';\nimport AppStore from 'Stores/app-store';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\nimport { BOT_BUILDER_TOUR } from '../joyride-config';\nimport QuickStrategy from '../quick-strategy';\nimport ReactJoyrideWrapper from '../react-joyride-wrapper';\nimport TourSlider from '../tour-slider';\nimport WorkspaceWrapper from './workspace-wrapper';\n\ntype TBotBuilder = {\n    app: AppStore;\n    active_tab: number;\n    has_started_onboarding_tour: boolean;\n    has_started_bot_builder_tour: boolean;\n    is_preview_on_popup: boolean;\n    is_dark_mode_on: boolean;\n    setOnBoardTourRunState: (has_started_onboarding_tour: boolean) => boolean;\n    loadFileFromRecent: () => void;\n    selected_strategy_id: string;\n    previewRecentStrategy: (selected_strategy_id: string) => void;\n};\n\nconst BotBuilder = ({\n    app,\n    active_tab,\n    has_started_onboarding_tour,\n    has_started_bot_builder_tour,\n    is_preview_on_popup,\n}: TBotBuilder) => {\n    const [is_tour_running] = React.useState<boolean>(true);\n    const { onMount, onUnmount } = app;\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, []);\n\n    return (\n        <>\n            <div\n                className={classNames('bot-builder', {\n                    'bot-builder--active': active_tab === 1 && !is_preview_on_popup,\n                    'bot-builder--inactive': is_preview_on_popup,\n                    'bot-builder--tour-active': has_started_bot_builder_tour,\n                })}\n            >\n                {is_preview_on_popup ? null : (\n                    <div\n                        id='scratch_div'\n                        ref={el_ref}\n                        style={{\n                            width: 'calc(100vw - 3.2rem)',\n                            height: 'var(--bot-content-height)',\n                        }}\n                    >\n                        <WorkspaceWrapper />\n                    </div>\n                )}\n            </div>\n            {has_started_bot_builder_tour && active_tab === 1 && !has_started_onboarding_tour && (\n                <>\n                    <MobileWrapper>\n                        <TourSlider />\n                    </MobileWrapper>\n                    <DesktopWrapper>\n                        <ReactJoyrideWrapper\n                            steps={BOT_BUILDER_TOUR}\n                            run={is_tour_running}\n                            showProgress\n                            styles={{\n                                options: {\n                                    arrowColor: 'transparent',\n                                    backgroundColor: 'var(--general-main-2)',\n                                    primaryColor: 'var(--brand-red-coral)',\n                                    textColor: 'var(--text-general)',\n                                },\n                            }}\n                        />\n                    </DesktopWrapper>\n                </>\n            )}\n            {/* removed this outside from toolbar becuase it needs to loaded seperately without dependency */}\n            <LoadModal />\n            <SaveModal />\n            <QuickStrategy />\n        </>\n    );\n};\n\nexport default connect(({ app, dashboard }: RootStore) => ({\n    app,\n    active_tab: dashboard.active_tab,\n    has_started_onboarding_tour: dashboard.has_started_onboarding_tour,\n    has_started_bot_builder_tour: dashboard.has_started_bot_builder_tour,\n    is_preview_on_popup: dashboard.is_preview_on_popup,\n    setOnBoardTourRunState: dashboard.setOnBoardTourRunState,\n}))(BotBuilder);\n","import BotBuilder from './bot-builder';\nimport './workspace.scss';\n\nexport default BotBuilder;\n","import BlocklyLoading from './blockly-loading';\nimport './blockly-loading.scss';\n\nexport default BlocklyLoading;\n","import React from 'react';\nimport { Loading } from '@deriv/components';\nimport { connect } from 'Stores/connect';\nimport RootStore from 'Stores/index';\n\ntype TBlocklyLoadingProps = {\n    is_loading: boolean;\n};\n\nconst BlocklyLoading = ({ is_loading }: TBlocklyLoadingProps) => (\n    <>\n        {is_loading && (\n            <div className='bot__loading'>\n                <Loading />\n            </div>\n        )}\n    </>\n);\n\nexport default connect(({ blockly_store }: RootStore) => ({\n    is_loading: blockly_store.is_loading,\n}))(BlocklyLoading);\n","import React from 'react';\nimport { ApiHelpers, ServerTime, setColors } from '@deriv/bot-skeleton';\nimport { Loading } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport {\n    Audio,\n    BotFooterExtensions,\n    BotNotificationMessages,\n    Dashboard,\n    NetworkToastPopup,\n    RoutePromptDialog,\n} from 'Components';\nimport BotBuilder from 'Components/dashboard/bot-builder';\nimport GTM from 'Utils/gtm';\nimport { MobxContentProvider } from 'Stores/connect';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport BlocklyLoading from '../components/blockly-loading';\nimport './app.scss';\n\nconst AppContent = observer(() => {\n    const [is_loading, setIsLoading] = React.useState(true);\n    const RootStore = useStore();\n    const {\n        common,\n        client,\n        ui: { is_dark_mode_on },\n    } = RootStore;\n    const DBotStores = useDBotStore();\n    const { app } = DBotStores;\n    const { showDigitalOptionsMaltainvestError } = app;\n\n    // TODO: Remove this when connect is removed completely\n    const combinedStore = { ...DBotStores, core: { ...RootStore } };\n\n    //Do not remove this is for the bot-skeleton package to load blockly with the theme\n    React.useEffect(() => {\n        setColors(is_dark_mode_on);\n    }, [is_dark_mode_on]);\n\n    React.useEffect(() => {\n        /**\n         * Inject: External Script Hotjar - for DBot only\n         */\n        (function (h, o, t, j) {\n            /* eslint-disable */\n            h.hj =\n                h.hj ||\n                function () {\n                    (h.hj.q = h.hj.q || []).push(arguments);\n                };\n            /* eslint-enable */\n            h._hjSettings = { hjid: 3050531, hjsv: 6 };\n            const a = o.getElementsByTagName('head')[0];\n            const r = o.createElement('script');\n            r.async = 1;\n            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;\n            a.appendChild(r);\n        })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');\n    }, []);\n\n    React.useEffect(() => {\n        showDigitalOptionsMaltainvestError(client, common);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [client.is_options_blocked, client.account_settings.country_code]);\n\n    React.useEffect(() => {\n        GTM.init(combinedStore);\n        ServerTime.init(common);\n        app.setDBotEngineStores(combinedStore);\n        ApiHelpers.setInstance(app.api_helpers_store);\n        const { active_symbols } = ApiHelpers.instance;\n        setIsLoading(true);\n        active_symbols.retrieveActiveSymbols(true).then(() => {\n            setIsLoading(false);\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    React.useEffect(() => {\n        const onDisconnectFromNetwork = () => {\n            setIsLoading(false);\n        };\n        window.addEventListener('offline', onDisconnectFromNetwork);\n        return () => {\n            window.removeEventListener('offline', onDisconnectFromNetwork);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return is_loading ? (\n        <Loading />\n    ) : (\n        // TODO: remove MobxContentProvider when all connect method is removed\n        <MobxContentProvider store={combinedStore}>\n            <BlocklyLoading />\n            <div className='bot-dashboard bot'>\n                <Audio />\n                <BotFooterExtensions />\n                <BotNotificationMessages />\n                <Dashboard />\n                <NetworkToastPopup />\n                <BotBuilder />\n                <RoutePromptDialog />\n            </div>\n        </MobxContentProvider>\n    );\n});\n\nexport default AppContent;\n","import React from 'react';\nimport { StoreProvider } from '@deriv/stores';\nimport type { TRootStore, TWebSocket } from 'Types';\nimport { DBotStoreProvider } from 'Stores/useDBotStore';\n\nconst DBotProviders = ({ children, store, WS }: React.PropsWithChildren<{ store: TRootStore; WS: TWebSocket }>) => {\n    return (\n        <StoreProvider store={store}>\n            <DBotStoreProvider ws={WS}>{children}</DBotStoreProvider>\n        </StoreProvider>\n    );\n};\n\nexport default DBotProviders;\n","import '../public-path'; // Leave this here (at the top)! OK boss!\nimport React from 'react';\nimport type { TRootStore, TWebSocket } from 'Types';\nimport AppContent from './app-content';\nimport DBotProviders from './dbot-providers';\n\ntype TAppProps = {\n    passthrough: {\n        WS: TWebSocket;\n        root_store: TRootStore;\n    };\n};\n\nconst App = ({ passthrough }: TAppProps) => {\n    const { root_store, WS } = passthrough;\n\n    React.useEffect(() => {\n        const initSurvicate = () => {\n            if (document.getElementById('dbot-survicate')) {\n                const survicate_box = document.getElementById('survicate-box') || undefined;\n                if (survicate_box) {\n                    survicate_box.style.display = 'block';\n                }\n                return;\n            }\n            const script = document.createElement('script');\n            script.id = 'dbot-survicate';\n            script.async = true;\n            script.src = 'https://survey.survicate.com/workspaces/83b651f6b3eca1ab4551d95760fe5deb/web_surveys.js';\n            document.body.appendChild(script);\n        };\n\n        initSurvicate();\n        return () => {\n            const survicate_box = document.getElementById('survicate-box') || undefined;\n            if (survicate_box) {\n                survicate_box.style.display = 'none';\n            }\n        };\n    }, []);\n\n    return (\n        <DBotProviders store={root_store} WS={WS}>\n            <AppContent />\n        </DBotProviders>\n    );\n};\n\nexport default App;\n","var map = {\n\t\"./dalembert.xml\": [\n\t\t9022,\n\t\t406\n\t],\n\t\"./martingale.xml\": [\n\t\t1732,\n\t\t101\n\t],\n\t\"./oscars_grind.xml\": [\n\t\t6373,\n\t\t113\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 7328;\nmodule.exports = webpackAsyncContext;"],"names":["parseOhlc","ohlc","open","high","low","close","epoch","open_time","getType","isCandle","TicksService","forget","subscription_id","api_base","this","ticks","Map","candles","tickListeners","ohlcListeners","subscriptions","ticks_history_promise","active_symbols_promise","candles_promise","observe","pipSizes","Promise","resolve","options","symbol","granularity","style","has","get","hasIn","Number","getIn","requestStream","callback","type","key","getUUID","request","e","globalObserver","setIn","deleteIn","unsubscribeIfEmptyListeners","needToUnsubscribe","tickListener","size","ohlcListener","unsubscribeAllAndSubscribeListeners","ohlcSubscriptions","tickSubscription","subscription","Array","from","values","all","map","id","doUntilDone","set","listeners","forEach","address","subscribe","newTick","data","msg_type","tick","updateTicksAndCallListeners","quote","parseTick","getLast","slice","updateCandlesAndCallListeners","lastCandle","prevCandles","updateCandles","stringified_options","JSON","stringify","promise","requestPipSizes","then","requestTicks","request_object","ticks_history","end","count","undefined","reject","r","historyToTicks","history","t","parseCandles","parse","createScope","observer","Observer","ticksService","stopped","createError","name","message","Error","code","trackAndEmitError","object","window","trackJs","track","isPositiveNumber","num","isFinite","isPositiveInteger","isInteger","expectInitArg","args","token","localize","contractTypes","expectOptions","candle","Object","every","expectCandle","takeField","arr","field","x","takeLast","n","length","mean","reduce","a","b","simpleMovingAverage","config","periods","acc","sum","simpleMovingAverageArray","pipSize","sequence","i","toFixed","bollingerBands","stdDevUp","stdDevDown","vals","middle","std_dev","data_mean","sq_diff","Math","pow","avg_sq_diff","sqrt","stddev","upper","lower","bollingerBandsArray","exponentialMovingAverage","init_val","weighting_multiplier","mean_val","prev","exponentialMovingAverageArray","paddingLeft","fill","macdArray","fastEmaPeriod","slowEmaPeriod","signalEmaPeriod","fast_ema_array","slow_ema_array","macd_calc_array","signal_ema_array","calcGain","q1","q2","calcLoss","calcFirstAvgDiff","comp","q","diff","calcSecondAvgDiff","init_avg","relativeStrengthIndex","memoized_diff","rest_seq","init_avg_gain","init_avg_loss","gain","loss","avg_gain","avg_loss","relativeStrengthIndexArray","decorate","f","input","tradeEngine","getPipSize","dateTimeStringToTimestamp","datetime_string","invalid_msg","validated_datetime","date_time","replace","trim","split","d","test","date_obj","Date","isNaN","getTime","parseInt","isCandleBlack","candleValues","c","expectCandles","o","candleField","notify","console","notifyTelegram","access_token","chat_id","text","url","onError","fetch","method","mode","headers","body","response","ok","getTotalRuns","getBalance","getTotalProfit","toString","tradeOptions","currency","getMiscInterface","sma","smaa","ema","emaa","rsi","rsia","bb","bba","macda","getIndicatorsInterface","highlightBlock","block_id","block","Blockly","derivWorkspace","getBlockById","highlightExecutedBlock","getLastTick","getLastDigit","getTicks","checkDirection","getOhlcFromEnd","getOhlc","getLastDigitList","getProposal","contract_type","proposals","find","proposal","purchase_reference","getPurchaseReference","balance_string","BEFORE_PURCHASE","DURING_PURCHASE","PROPOSALS_READY","CLEAR_PROPOSALS","PURCHASE_SUCCESSFUL","OPEN_CONTRACT","SELL","START","STOP","NEW_TICK","dispatchIfScopeIs","dispatch","getState","scope","dispatchIfBeforePurchaseReady","proposalsReady","constants","dispatchIfScopeIsBeforePurchase","delayIndex","initialState","state","action","openContract","payload","tickListenerKey","skeleton","totalProfit","totalWins","totalLosses","totalStake","totalPayout","totalRuns","globalStat","prevTick","watchScope","store","stopScope","passScope","passFlag","unsubscribe","newState","TradeEngine","$scope","contract","createStore","rootReducer","applyMiddleware","thunk","initArgs","startPromise","loginAndGetBalance","watchTicks","checkLimits","makeProposals","checkProposalReady","transaction","transaction_recovery_timeout","setTimeout","is_same_contract","contract_id","is_open_contract","status","proposal_open_contract","accountInfo","observeOpenContract","observeBalance","observeProposals","watchName","watchDuring","Engine","balance","getFormattedText","info","accountID","loginid","client","DBotStore","Balance","regeneratePurchaseReference","selectProposal","askPrice","onSuccess","filter","p","echo_req","buy","contractStatus","transaction_id","contractId","renewProposalsOnPurchase","log","log_types","longcode","updateAndReturnTotalRuns","transaction_ids","buy_price","price","isSold","timeMachineEnabled","recoverFromError","errorCode","makeDelay","clearProposals","emit","Purchase","isSellAvailable","isExpired","isSellAtMarketAvailable","delay_index","onContractSold","sell_response","sold_for","sell","waitForAfter","sellContractAndGetContractInfo","error","sell_error","proposal_open_contract_response","sell_price","errors_to_ignore","error_code","Sell","expectedContractId","setContractFlags","broadcastContract","clearTimeout","updateTotals","afterPromise","is_expired","is_valid_to_sell","is_sold","entry_tick","Boolean","hasEntryTick","bidPrice","bid_price","buyPrice","getRoundedNumber","OpenContract","trade_option","isNewTradeOption","proposal_templates","tradeOptionToProposal","to_buy","ask_price","requestProposals","has_informed_error","push","passthrough","findIndex","template","some","value","Proposal","stopMonitor","monitor","ticks_list","raw","last_tick","getLastDigitsFromList","dir","getDirection","candleInterval","index","msg","expectPositiveInteger","sessionRuns","sessionProfit","clearStatistics","bind","sellPrice","profit","win","accountStat","getAccountStat","tradeOption","limitations","maxLoss","maxTrades","sleep","arg","getInterface","getDetail","createDetails","init","start","stop","purchase","getAskPrice","getPayout","payout","sellAtMarket","getSellPrice","isResult","result","isTradeAgain","readDetails","getBotInterface","getToolsInterface","getTicksInterface","watch","alert","prompt","toLocaleTimeString","JSInterpreter","cloneThorough","stateStack","snapshot","global","initFunc_","botInitialized","bot","shouldRestartOnError","errorName","unrecoverable_errors","onFinish","Interface","interpreter","revert","restoreStateSnapshot","paused_","loop","run","pseudoToNative","createAsync","js_interpreter","func","asyncFunc","pop","reversed_args","reverse","first_defined_arg_idx","function_args","rv","nativeToPseudo","defineProperty","MAX_ACCEPTABLE_FUNC_ARGS","createAsyncFunction","initFunc","bot_interface","custom_console","ticks_interface","setProperty","pseudo_bot_interface","entries","startState","takeStateSnapshot","beforeState","duringState","terminateSession","is_error_triggered","unsubscribeFromTicksService","register","global_timeouts","is_timeouts_cancellable","keys","timeout","is_cancellable","includes","shouldStopOnError","botStarted","terminateConnection","workspace","before_run_funcs","public_path","api_helpers_store","is_mobile","getSavedWorkspaces","recent_files","__webpack_public_path__","ApiHelpers","window_width","innerWidth","workspaceScale","handleFileChange","document","getElementById","offsetWidth","el_scratch_div","inject","media","trashcan","zoom","wheel","startScale","scrollbars","cached_xml","main","main_xml","addChangeListener","valueInputLimitationsListener","event","updateDisabledBlocks","dispatchBlockEventEffects","addBeforeRunFunction","unselectBlocks","disableStrayBlocks","checkForErroredBlocks","checkForRequiredBlocks","current_strategy_id","utils","genUid","strategy_to_load","mainWorkspace","file_name","latest_file","xml","event_group","now","Events","setGroup","Xml","domToWorkspace","textToDom","updateBotName","cleanUp","clearUndo","dispatchEvent","Event","addEventListener","DBot","handleDragOver","handleDropOver","parentNode","overflow","saveWorkspaceToRecent","workspaceToDom","save_types","generateCode","Interpreter","stopBot","JavaScript","workspaceToCode","selected","unselect","getTopBlocks","isMainBlock","isIndependentBlock","disableBlocksRecursively","setDisabled","nextConnection","targetConnection","sourceBlock_","error_blocks","getAllBlocks","is_error_highlighted","disabled","self","error_message","centerOnBlock","should_animate","block_to_highlight","setErrorHighlighted","blink","hasAllRequiredBlocks","isAllRequiredBlocksEnabled","force_check","isDragging","hideChaff","END_DRAG","BLOCK_DELETE","BLOCK_CREATE","UI","element","BLOCK_CHANGE","blockId","inputList","connection","target_block","targetBlock","isChangeInMyInputs","parent_block","getParent","isParentEnabledEvent","unhighlightRecursively","child_blocks","child_block","getChildren","getRequiredValueInputs","required_inputs_object","should_highlight","input_name","is_selected","is_disabled","getInheritedDisabled","isCollapsed","hasErrorHighlightedDescendant","getInput","domToMutation","order","ORDER_ATOMIC","valueToCode","inputValidatorFn","warn","removeSelect","current_collapsed_block","setCollapsed","notify_blocks","strategy_sounds","selected_sound","fieldRow","value_","stopPropagation","preventDefault","dataTransfer","dropEffect","main_workspace_dom","local_drag_zone","contains","target","effectAllowed","common_store","clock_started","pending","NetworkMonitor","apiInstance","parentElement","api","addEvents","navigator","setStatus","onLine","setInterval","html","send","ping","PendingPromise","server_time","clone","timePromise","getContractTypeName","opposites","opposites_name","contract_type_obj","contract_type_names","shortcode_suffix","shortcode","is_risefall","importExternal","script","createElement","src","async","onload","external_global_component","onerror","appendChild","timeSince","timestamp","secondPast","minutePast","hourPast","timestampDate","day","getDate","month","toDateString","match","year","getFullYear","setColors","is_dark_mode","Colours","RootBlock","colour","colourSecondary","colourTertiary","Base","Special1","Special2","Special3","darkMode","lightMode","CRYPTO_CURRENCIES","lists","PAYOUTTYPE","DETAILS","CHECK_RESULT","CHECK_DIRECTION","BALANCE_TYPE","NOTIFICATION_TYPE","NOTIFICATION_SOUND","CURRENCY","MULTIPLIER","MULTUP","MULTDOWN","CALLPUT","CALL","PUT","CALLPUTEQUAL","CALLE","PUTE","HIGHERLOWER","TOUCHNOTOUCH","ONETOUCH","NOTOUCH","ENDSINOUT","EXPIRYRANGE","EXPIRYMISS","STAYSINOUT","RANGE","UPORDOWN","ASIANS","ASIANU","ASIAND","MATCHESDIFFERS","DIGITMATCH","DIGITDIFF","EVENODD","DIGITEVEN","DIGITODD","OVERUNDER","DIGITOVER","DIGITUNDER","HIGHLOWTICKS","TICKHIGH","TICKLOW","RESET","RESETCALL","RESETPUT","RUNS","RUNHIGH","RUNLOW","CALLPUTSPREAD","CALLSPREAD","PUTSPREAD","BARRIER_TYPES","ohlcFields","candleIntervals","mainBlocks","mandatoryMainBlocks","procedureDefinitionBlocks","single_instance_blocks","TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING","callput","asian","digits","TRADE_TYPE_CATEGORIES","multiplier","touchnotouch","inout","reset","callputspread","highlowticks","runs","TRADE_TYPE_CATEGORY_NAMES","BARRIER_CATEGORIES","euro_atm","euro_non_atm","american","non_financial","lookback","DEFAULT_DURATION_DROPDOWN_OPTIONS","BARRIER_LABELS","ABSOLUTE_BARRIER_DROPDOWN_OPTION","NOT_AVAILABLE_DROPDOWN_OPTIONS","NOT_AVAILABLE_DURATIONS","display","unit","min","BARRIER_TRADE_TYPES","PREDICTION_TRADE_TYPES","DIGIT_CATEGORIES","INDEPEDENT_BLOCKS","bbResult","macdFields","gd","discovery_docs","workspaces","flyoutWorkspacesStartScale","mainWorkspaceStartScale","previewWorkspaceStartScale","strategies","martingale","label","description","dalembert","oscars_grind","default_file_name","message_types","freeze","ERROR","NOTIFY","SUCCESS","error_types","RECOVERABLE_ERRORS","UNRECOVERABLE_ERRORS","LOAD_BLOCK","PURCHASE","NOT_OFFERED","PROFIT","LOST","WELCOME_BACK","UNSAVED","LOCAL","GOOGLE_DRIVE","require","goog","defineContract","blueInfo","sellContract","finishSign","plusIconDark","plusIconLight","minusIconDark","Blocks","procedures_defnoreturn","arguments","argument_var_models","jsonInit","definition","getField","setValidator","Procedures","rename","fieldImage","FieldImage","onAddClick","appendDummyInput","appendField","setStatements","message0","function_name","function_params","args0","tooltip","category","Categories","Functions","meta","display_name","onchange","allowedEvents","isFlyout","getProcedureCallers","setFieldValue","newValue","readOnly","isInFlyout","promptMessage","paramName","variable","Variables","getOrCreateVariablePackage","setText","join","setProcedureParameters","initSvg","render","hasStatements","appendStatementInput","moveInputBefore","removeInput","updateParams","paramString","disable","enable","mutationToDom","optParamIds","container","setAttribute","getFieldValue","parameter","getId","paramIds","xmlElement","childNodes","childNode","nodeName","toLowerCase","var_name","getAttribute","var_id","getProcedureDef","callType","getVars","getVarModels","customContextMenu","option","enabled","xmlMutation","argumentName","xmlArg","xmlBlock","ContextMenu","callbackFactory","argumentVarModel","getOption","xmlField","generateVariableFieldDom","xmlOptionBlock","functionName","variableDB_","getName","NAME_TYPE","branch","statementToCode","STATEMENT_PREFIX","prefixLines","INDENT","INFINITE_LOOP_TRAP","returnValue","ORDER_NONE","scrub_","definitions_","procedures_defreturn","dummy","message1","args1","check","align","ALIGN_RIGHT","renameVarById","displayRenamedVar","registerWorkspaceListener","procedures_callnoreturn","previousDisabledState","previousStatement","nextStatement","recordUndo","ids","indexOf","getProcedureCall","def","getDefinition","defType","group","xy","getRelativeToSurfaceXY","SNAP_RADIUS","RTL","y","mutation","createTextNode","procedure_definition","dispose","oldGroup","getGroup","getProcedureDefinition","tuple","Names","equals","renameProcedure","oldName","newName","paramNames","concat","updateShape","setValue","FieldLabel","appendValueInput","topRow","removeField","select","ORDER_COMMA","procedures_callreturn","output","outputShape","OUTPUT_SHAPE_ROUND","ORDER_FUNCTION_CALL","procedures_ifreturn","hasReturnValue","condition","legal","FUNCTION_TYPES","getSurroundParent","rerender","lists_create_with","protected_statements","allowed_children","field_image","onIconClick","List","runGroupedEvents","statement_block","newBlock","required_parent_id","setMovable","getLastConnectionInStatement","connect","previousConnection","getBlocksInStatement","runIrreversibleEvents","unplug","elements","isArray","lists_repeat","input_item","number","ITEM","emptyTextValidator","NUM","provideFunction_","FUNCTION_NAME_PLACEHOLDER_","repeat_count","lists_length","input_list","VALUE","list","ORDER_MEMBER","lists_isEmpty","getAllVariables","ORDER_LOGICAL_NOT","lists_indexOf","first_or_last","input_value","FIND","operator","item","oneBasedIndex","ORDER_ADDITION","lists_getIndex","MODE_OPTIONS","WHERE_OPTIONS","modeMenu","FieldDropdown","isStatement","updateStatement","setCheck","setColourFromRawValues_","setTooltip","setOutput","setOutputShape","updateAt","outputConnection","isAt","INPUT_VALUE","newStatement","setPreviousStatement","setNextStatement","menu","newAt","where","listOrder","at","getAdjusted","lists_setIndex","ORDER_ASSIGNMENT","cacheList","listVar","getDistinctName","ORDER_SUBTRACTION","xVar","lists_getSublist","WHERE_OPTIONS_1","WHERE_OPTIONS_2","isAt1","isAt2","at1","at2","where1","where2","where_pascal_case","FROM_START","FROM_END","FIRST","LAST","getIndex","list_name","opt_at","has_at1","has_at2","lists_split","dropdown","newMode","updateType","delimInput","spaceField","insertFieldAt","delimiter","lists_sort","sort_type","sort_direction","LIST","direction","getCompareFunctionName","lists_statement","required_parent_type","surround_parent","original_parent","last_connection","controls_repeat_ext","Loop","TIMES","repeats","String","loopVar","endVar","isNumber","controls_repeat","precision","controls_whileUntil","while_or_until","boolean","BOOL","until","argument0","maxLoopVar","currentLoopVar","controls_for","start_number","end_number","step_size","FROM","TO","BY","variable0","argument1","increment","addLoopTrap","up","parseFloat","step","abs","assignment","statement","startVar","incVar","incVal","controls_forEach","indexVar","controls_flow_statements","break_or_continue","keyword","variables_get","VAR_RENAME","function_blocks","category_","old_param","new_param","param_index","variables_set","varName","after_purchase","width","height","alt","class","After_Purchase","stack","contract_check_result","win_or_loss","top_parent","getTopParent","checkWith","read_details","contract_detail","restricted_parents","detailIndex","trade_again","key_words","before_purchase","Before_Purchase","populatePurchaseList","menuGenerator_","trade_definition_block","getTradeDefinitionBlock","trade_type","getChildByType","purchase_type_list","purchase_type","getValue","contract_type_options","getContractTypeOptions","updateOptions","default_value","should_pretend_empty","purchaseList","enforceLimitations","during_purchase","During_Purchase","sell_at_market","check_sell","bb_statement","required_child_blocks","band_type","Indicators","bb_result","childValueToCode","period","std_dev_up","std_dev_down","bba_statement","ema_statement","emaa_statement","rsi_statement","rsia_statement","sma_statement","smaa_statement","macda_statement","macd_field","fast_ema_period","slow_ema_period","signal_ema_period","setDeletable","setParentId","allowed_parents","has_parent","is_illegal_parent","INPUT_LIST","input_period","PERIOD","std_dev_multiplier_up","input_number","UPMULTIPLIER","std_dev_multiplier_down","DOWNMULTIPLIER","FAST_EMA_PERIOD","SLOW_EMA_PERIOD","SIGNAL_EMA_PERIOD","Tick_Analysis","tick_string","parent","ticks_string","candle_interval_type","selectedGranularity","ohlc_values","candle_property","ohlcField","read_ohlc","CANDLEINDEX","get_ohlc","check_direction","direction_type","tick_analysis","last_digit","lastDigitList","is_candle_black","input_candle","Candle","OHLCOBJ","ohlcObj","ohlc_values_in_list","candle_list","OHLCLIST","ohlcList","read_ohlc_obj","Miscellaneous","balanceType","barrier_offset","block_holder","loader","blocks_added_by_me","current_url","input_url","loader_block","loadBlocksFromCurrentUrl","oldValue","isValidUrl","isKnownUrl","loadBlocksFromRemote","log_type","error_msg","notification_type","notification_sound","input_message","MESSAGE","notificationType","sound","message_block","getInputTargetBlock","variable_name","variable_id","getVariableById","notify_telegram","input_access_token","input_chat_id","TELEGRAM_ACCESS_TOKEN","TELEGRAM_CHAT_ID","TELEGRAM_MESSAGE","total_profit","getRootInputTargetBlock","total_profit_string","total_runs","useless_block","message_type","console_type","Time","stack_input","SECONDS","seconds","todatetime","input_timestamp","TIMESTAMP","invalid_timestamp","totimestamp","input_datetime","DATETIME","trade_definition","message2","message3","message4","message5","args2","args3","args4","args5","Trade_Definition","blocks_in_trade_options","is_logged_in","account","getToken","market_block","trade_type_block","contract_type_block","candle_interval_block","restart_on_error_block","restart_on_buy_sell_block","candle_interval","should_restart_on_error","should_restart_on_buy_sell","contract_type_list","toUpperCase","opposite","initialization","trade_options_statement","trade_definition_market","input_market","input_submarket","input_symbol","is_allowed_event","event_name","active_symbols","market_dropdown","submarket_dropdown","symbol_dropdown","market","submarket","market_options","getMarketDropdownOptions","populateMarketDropdown","getSubmarketDropdownOptions","getSymbolDropdownOptions","getRootBlock","isEmpty","isDescendantOf","trade_definition_tradetype","trade_type_category","contracts_for","trade_type_cat","getTradeTypeCategories","categories","trade_type_cat_field","getTradeTypes","trade_types","trade_definition_contracttype","is_load_event","trade_definition_candleinterval","trade_definition_restartbuysell","checkbox","checked","required_inputs","trade_definition_restartonerror","trade_definition_tradeoptions","durations","is_stake","duration_unit","duration_value","getCurrencyDisplayCode","selected_block","parentBlock_","input_target","startsWith","new_value","selected_symbol","selected_market","selected_trade_type_category","selected_trade_type","selected_duration","selected_barrier_types","setCurrency","updateAmountLimits","updateBarrierInputs","updateDurationInput","updatePredictionInput","enforceSingleBarrierType","fake_creation_event","Create","fire","createPredictionInput","prediction_range","prediction_input","shadow_block","setShadow","createBarrierInputs","barriers","input_names","account_limits","landing_company_shortcode","getStakePayoutLimits","limits","amount_limits","max_payout","min_stake","should_use_default_unit","should_update_value","multiplier_block","parent_connection","child_connection","stake_input","stake_shadow_block","take_profit_block","take_profit_input","take_profit_shadow_block","stop_loss_block","stop_loss_input","stop_loss_shadow_block","getDurations","duration_field_dropdown","duration_input","duration_options","duration","isShadow","min_duration","should_use_default_type","should_use_default_values","getBarriers","barrier_field_dropdown","barrier_field_value","allow_both_types","allow_absolute_type","barrier_value","should_use_default_value","getPredictionRange","initial_prediction","max","barrier_input_name","should_force_distinct","other_barrier_input_name","other_barrier_field","has_other_barrier","other_barrier_type","other_barrier_value","has_first_barrier","has_second_barrier","has_prediction","currency_field","AMOUNT","DURATION","is_valid_duration","trade_definition_tradeoptions_payout","prediction_value","barrier_offset_value","second_barrier_offset_value","amount","duration_type","decimal_places","getDecimalPlaces","stake_amount","getBarrierValue","barrier_offset_type","trade_definition_multiplier","validateBlocksInStatement","blocks_in_multiplier","block_types_in_multiplier","Set","selected_multiplier","updateMultiplierInput","duration_block","duration_shadow_block","getMultiplierRange","multiplier_range","multiplier_list_dropdown","multiplier_options","setContractUpdateConfig","multiplier_value","stop_loss","take_profit","limit_order","multiplier_stop_loss","multiplier_take_profit","logic_compare","Logic","A","B","EQ","NEQ","LT","LTE","GT","GTE","ORDER_EQUALITY","ORDER_RELATIONAL","controls_if","value_connections","statement_connections","else_statement_connection","else_if_count","else_count","rebuildShape","getIfInputNames","if_input","IF","do_input","DO","reconnectChildBlocks","update","updateFn","old_mutation_dom","old_mutation","domToText","is_rendered","rendered","call","new_mutation_dom","new_mutation","change_event","BlockChange","bumpNeighbours_","BUMP_DELAY","IF_LABEL","THEN_LABEL","DELETE_ICON","j","modifyElseIf","modifyElse","storeConnections","else_input","opt_value_conns","opt_statement_conns","opt_else_statement_conns","value_connection","statement_connection","Mutator","reconnect","is_add","opt_idx","idx","logic_boolean","logic_operation","selectedOperator","ORDER_LOGICAL_AND","ORDER_LOGICAL_OR","logic_null","logic_ternary","return_value","THEN","ELSE","valueIf","ORDER_CONDITIONAL","valueThen","valueElse","logic_negate","math_change","Mathematical","DELTA","math_constant","constant","ORDER_DIVISION","math_constrain","low_number","high_number","LOW","HIGH","argument2","math_modulo","number1","number2","DIVIDEND","DIVISOR","ORDER_MODULUS","math_number","numberValidator","MAX_SAFE_INTEGER","math_number_positive","math_number_property","setOnChange","hasDivisorInput","toolip","divisorInput","inputExists","NUMBER_TO_CHECK","property","divisor","math_on_list","calculation","type_list","childBlocks_","operation","math_random_float","math_random_int","math_round","math_arithmetic","ADD","MINUS","MULTIPLY","ORDER_MULTIPLICATION","DIVIDE","POWER","math_single","ORDER_UNARY_NEGATION","math_trig","Text","quote_","text_join","text_block","text_statement","stack_blocks","getMainWorkspace","text_append","input_text","TEXT","forceString","text_length","text_isEmpty","text_indexOf","input_text1","input_text2","cateogry","substring","text_charAt","AT","textOrder","text_getSubstring","position1","index1","position2","index2","is_at","old_label_text","text_","new_input","new_at","hasInput","STRING","AT1","AT2","string_name","text_changeCase","transform_type","UPPERCASE","LOWERCASE","TITLECASE","text_trim","side","LEFT","RIGHT","BOTH","text_print","text_prompt_ext","string_or_number","is_dark_mode_on","dashboard","flyout","toolbar","toolbox","save_modal","load_modal","toggleStrategyModal","setLoading","reaction","singleton","instance","BlockSvg","MIN_BLOCK_X_WITH_STATEMENT","GRID_UNIT","START_HAT_PATH","CORNER_RADIUS","EXTRA_STATEMENT_ROW_Y","EDITABLE_FIELD_PADDING","prototype","updateColour","strokeColour","getColourTertiary","renderShadowed","scratchBlocksUtils","isShadowArgumentReporter","FieldColour","FieldColourSlider","colourPickerStroke","svgPath_","fillColour","getColour","isGlowingBlock_","getShadowColour","getColourSecondary","getOpacity","outlinePath","icons","getIcons","computeOutputPadding_","input_rows","getOutputShape","row","shape","paddingStart","paddingEnd","otherShape","firstInput","inputConnection","getSourceBlock","OUTPUT_SHAPE_HEXAGONAL","deltaHeight","renderHeight","MIN_BLOCK_Y_REPORTER","SHAPE_IN_SHAPE_PADDING","lastInput","addSelect","setVisibility","addClass","svgGroup_","superClass_","updateDisabled","disabledPatternId","removeClass","child","showContextMenu_","contextMenu","menu_options","isDeletable","isMovable","blockDuplicateOption","blockDetachOption","isEditable","comments","blockCommentOption","blockDeleteOption","isShadow_","collapse","collapsed_","expand_option","collapse_option","is_trade_parameter","disable_option","restricted_parent","has_next_block","isConnected","downloadBlock","should_delete_next","block_xml","blockToDom","deleteNext","save","blockEnableOption","blockDisableOption","show","currentBlock","should_be_error_highlighted","highlight_class","highlight_block_class","hasClass","blink_class","collapsed","userAgent","search","getAllFields","forceRerender","render_list","COLLAPSED_INPUT_NAME","setVisible","visibility","icon","ScratchBlockComment","field_class","class_","dropdown_path","pathToMedia","isDarkRgbColour","field_expand_icon","COLLAPSE_CHARS","field_label","setWarningText","blocksCoordinate","getCanvas","children","asserts","assert","isInsertionMarker","initOutlinePath","createIcon","updateMovable","eventsInit_","bindEventWithChecks_","getSvgRoot","onMouseDown_","Connection","DRAG_RADIUS","FLYOUT_DRAG_RADIUS","Css","CONTENT","dropDownShadow","fieldShadow","motion","tertiary","secondary","primary","optAlt","optOnClick","optFlipRtl","height_","width_","size_","math","Size","flipRtl_","tooltip_","clickHandler_","inherits","Field","fromJson","replaceMessageReferences","flipRtl","EDITABLE","fieldGroup_","createSvgElement","visible_","imageElement_","src_","Tooltip","bindMouseEvents","maybeAddClickHandler_","dom","removeNode","mouseDownWrapper_","cursor","newTip","setAttributeNS","getFlipRtl","render_","updateWidth","showEditor_","FieldTextInput","notInShadow","className_","maxDisplayLength","box_","rx","ry","stroke","insertBefore","textElement_","Gesture","updateIsDraggingFromFlyout_","targetBlock_","flyout_","isScrollable","isDragTowardWorkspace","currentDragDeltaXY_","startWorkspace_","targetWorkspace_","updateScreenCalculationsIfScrolled","startBlock_","createBlock","mostRecentEvent_","Icon","renderIcon","cursorX","collapseHidden","block_","iconGroup_","newCursorX","SIZE","computeIconLocation","SEP_SPACE_X","Block","Dimensions","getDisplayName","block_meta","getSiblings","siblings","getDescendants","getChildFieldValue","childType","childField","childBlock","statementInputName","firstBlock","statement_input_name","first_block_in_stack","lastConnectionInStack","isEnabled","parentBlock","nextParent","getDimensions","block_node","existing_dimensions_key","outer_html","outerHTML","Options","el_injection_div","svg","createDom_","createMainWorkspace_","block_hw","domToBlock","getHeightWidth","current_block","current_input","getInputWithBlock","hasHighlightedDescendant","is_self_highlighted","is_descendant_highlighted","isDynamic","block_type","duplicate_","wsCleanupOption","ws","numTopBlocks","wsCollapseOption","hasExpandedBlocks","topBlocks","toggleCollapseFn_","wsExpandOption","hasCollapsedBlocks","blocks","shouldCollapse","wsDeleteOption","delete_list","WorkspaceSvg","buildDeleteList_","delete_count","shift","currentGesture_","cancel","confirm","comment_option","IE","comment","setCommentText","is_collapsed","canDisconnect","getConnections_","moveBy","checkAreSomeEnabled","enabledArr","checkAreSomeDisabled","disabledArr","enableBlocksRecursively","DataCategory","variableModelList","getVariablesOfType","xmlList","addCreateVariable","generateVariableFieldXmlString","variableModel","string","htmlEscape","firstVariable","gap","setBlockText","setBlock","firstChild","sort","first_variable","second_variable","getBlockText","getBlock","el_button_xml","createDom","el_input_xml","button_text","callback_key","input_placeholder","registerButtonCallback","button","el_input","querySelector","getTargetWorkspace","createVariable","refreshCategory","dropdown_options","DropDownDiv","isVisible","hideWithoutAnimation","previous_value","has_default_value","runInvisibleEvents","should_trigger_event","arrowSize_","arrowX_","arrowY_","arrow_","disableColourChange_","FieldCheckbox","getAltText","is_checked","old_value","el_field_group","child_node","removeChild","Flyout","original_block","main_workspace","variables_before_creation","setResizesEnabled","new_block","placeNewBlock_","new_variables","getAddedVariables","ws_block","new_variable","VarCreate","autoClose","hide","setIsSearchFlyout","old_block","main_offset_pixels","getOriginOffsetInPixels","old_block_pos_pixels","Coordinate","clientX","clientY","final_offset_main_ws","difference","scale","flyoutCategory","nameField","allProcedures","populateDynamicProcedures","populateProcedures","procedureList","templateName","isNameUsed","optExclude","procName","WorkspaceDragger","drag","currentDragDeltaXY","workspace_","metrics","startDragMetrics_","newXY","startScrollXY_","contentLeft","contentTop","viewWidth","contentWidth","viewHeight","contentHeight","updateScroll_","Workspace","wait_events","undoStack_","redoStack_","setHasRedoStack","setHasUndoStack","clearPendingUndo","fireChangeListener","MAX_UNDO","unshift","listeners_","listener","waitForBlockEvent","opt_event_type","event_promise","event_type","isPending","wait_event","is_same_block_type","is_same_event_type","splice","is_ordered","fields","MouseEvent","cachedParentSvg_","constructor","gesture","getGesture","handleWsStart","scrollbar","heightWidth","blockCenterY","blockCenterX","pixelX","pixelY","getMetrics","scrollToBlockX","scrollToBlockY","scrollToCenterX","scrollToCenterY","addBlockNode","getFlyout","top_blocks","last_block","last_block_xy","extra_spacing","startHat_","START_HAT_HEIGHT","svgResize","blocks_to_clean","is_import","root_blocks","blockIndex","main_block_type","blocks_per_column","ceil","original_cursor_y","column_index","cursor_x","cursor_y","fat_neighbour_block","position_x","MIN_BLOCK_X","snapToGrid","MIN_BLOCK_Y","lowest_root_block","getTopLevelWorkspaceMetrics_","toolbox_dimensions","getDimensionsPx_","toolbox_","flyout_dimensions","svg_size","svgSize","getParentSvg","toolboxPosition","TOOLBOX_AT_TOP","TOOLBOX_AT_BOTTOM","TOOLBOX_AT_LEFT","TOOLBOX_AT_RIGHT","content_dimensions","getContentDimensions_","absolute_left","absolute_top","top","left","viewTop","scrollY","viewLeft","scrollX","absoluteTop","absoluteLeft","toolboxWidth","toolboxHeight","flyoutWidth","flyoutHeight","paste","xml_block","tagName","pasteWorkspaceComment_","removeLimitedBlocks","pasteBlock_","all_blocks","wsUndoOption","wsRedoOption","has_collapsed_blocks","has_expanded_blocks","workspaceCommentOption","disposeFn","svgBlockCanvas_","svgBubbleCanvas_","zoomControls_","audioManager_","grid_","toolboxCategoryCallbacks_","flyoutButtonCallbacks_","parentWorkspace","resizeHandlerWrapper_","unbindEvent_","asyncClear","clear","HOVER_MS","show_","params","DIV","poisonedElement_","element_","blocked_","innerHTML","wrap","LIMIT","param","div","text_span","verticalAlign","img","img_span","paddingRight","client_width","documentElement","clientWidth","client_height","clientHeight","visible","last_x","lastX_","OFFSET_X","last_y","lastY_","OFFSET_Y","offsetHeight","MARGINS","showPid_","createVirtualWorkspace_","fragment","blockDragSurface","workspaceDragSurface","zoomOptions","bubble_","setColour","VariableMap","opt_type","opt_id","opt_is_local","opt_is_cloud","getVariable","optional_id","optional_type","VariableModel","variableMap_","allUsedVarModels","variableHash","create","blockVariables","blockVariable","variableList","WorkspaceAudio","preload","NODE_BLOCK","NODE_BUTTON","NODE_LABEL","NODE_SHADOW","NODE_INPUT","saveAs","filename","blob","Blob","filesaver","contract_options","BlockConversion","blocks_pending_reconnect","createWorkspace","workspace_variables","generateGrowingListBlock","child_value_input_name","block_child_nodes","mutation_dom","items_amount","value_input_name","value_input_index","value_block_node","value_block","convertBlockNode","generateUniqueVariable","variable_block","block_to_attach","statement_blocks","generateIndicatorBlock","value_input_name_mappings","old","new","bb_result_list","macd_fields_list","required_child_block_name","block_in_statement","value_name_mappings","value_name_mapping","el_value","value_input","el_value_child","converted_block","is_symbol_type","block_node_to_use","barrier_inputs","block_child_node","field_name","trade","block_fields","blocks_to_connect","child_block_name","illegal_blocks","active_symbol","symbol_name","DocumentFragment","el_block","el_field","textContent","current_previous_connection","previous_block","getPreviousBlock","renamed_fields","MARKET_LIST","volidx","TRADETYPECAT_LIST","endsinout","staysinout","callputequal","TRADETYPE_LIST","risefall","risefallequals","innerText","old_name","current_name","counter","ws_variable","id_","strategy_node","showIncompatibleStrategyDialog","updateRenamedFields","hasAttribute","getIllegalBlocks","illegal_block_type","variable_nodes","block_nodes","strategy_child_node","registerVariables","el_variables","el_variable","querySelectorAll","previous_sibling_id","previous_sibling_block","sibling_previous_connection","sibling_previous_target_connection","highest_previous_connection","naivelyFixLegacyStrategyAfterConversion","converted_xml","conversions","getConversions","is_old_block","is_immovable","is_undeletable","setBlockAttributes","conversion_obj","previous_connection","getClosestLegalPreviousConnection","conversion_parent","el_block_child","FieldVariable","processValueInputs","statement_name","processStatementInputs","closest_statement","closest","el_sibling_block","sibling_block","is_minimised","comment_text","iconXY_","el_input_child_block","input_child_block","el_node_with_children","block_to_use","statement_input","supposed_parent_block","getFirstBlockInStack","is_protected_statement","isConnectedToProtectedStatementInput","new_parent","target_connection","getInputWithConnection","updateWorkspaceName","bot_name","title","string_to_replace","substr","new_document_title","collection","xmlDom","domToPrettyText","load","block_string","drop_event","strategy_id","showInvalidStrategyError","DOMParser","parseFromString","getElementsByTagName","blockConversion","convertStrategy","blockly_xml","is_collection","loadBlocks","loadWorkspace","is_user_disabled_state","added_blocks","blockly_metrics","scale_cancellation","blockly_left","blockly_top","cleanUpOnLoad","has_possible_missing_index_xml","onFetchError","xml_string","addLoaderBlocksFirst","addDomAsBlock","loadBlocksFromHeader","promises","remove","domToVariables","block_conversion","el","blocks_in_workspace","mandatory_tradeoptions_block","required_block_types","all_block_types","enabled_blocks_types","required_type","scrollWorkspace","scroll_amount","is_horizontal","is_chronological","ws_metrics","scroll_x","scroll_y","use_existing_group","callbackFn","opt_group_name","should_disable","string_rgb","rgb","ActiveSymbols","trading_times","sortDropdownOptions","closedFunc","is_a_closed","is_b_closed","disabled_markets","disabled_symbols","disabled_submarkets","init_promise","is_initialised","processed_symbols","is_forced_update","initialise","authorized","activeSymbols","processActiveSymbols","onMarketOpenCloseChanged","changes","symbol_obj","exchange_is_open","isExistingValue","prop","market_display_name","submarkets","submarket_display_name","symbols","pip_size","pip","is_active","is_trading_suspended","should_be_open","all_symbols","market_name","isMarketClosed","submarket_name","market_display","submarket_display","symbol_display","market_option","sorted_options","submarket_options","market_obj","isSubmarketClosed","symbol_options","accumulator","symbol_display_name","isSymbolClosed","getLoginId","login_id","localStorage","getItem","account_id","pip_sizes","account_info","is_running","time_interval","has_activeSymbols","reconnectIfNotConnected","readyState","getActiveSymbols","toExponential","toggleRunButton","toggle","run_button","socket_url","deriv_socket","force_update","terminate","getSocketURL","getAppId","getLanguage","website_name","WebSocket","DerivAPIBasic","initEventListeners","authorizeAndSubscribe","clearInterval","disconnect","active_loginid","client_accounts","active_account","authorize","s","_","time","AccountLimits","landing_company_details","landing_company","currency_config","TradingTimes","ContractsFor","cache_age_in_min","disabled_options","retrieving_contracts_for","barrier_types","barrier_props","getContractsByTradeType","contracts_for_category","offset_regexp","RegExp","isOffset","has_absolute_default_value","barrier_type","has_selected_offset_type","real_trade_type","getContractCategoryByTradeType","barrier_category","has_matching_category","contract_category","has_matching_duration","has_matching_barrier_category","has_matching_barrier_type","barrier","high_barrier","barrier_prop_name","barrier_match","assign","expiry_type","getTradeTypeCategoryByTradeType","getContractsFor","contracts","getBarrierCategoryByTradeType","has_matching_barrier","getContractsForFromApi","available","filtered_contracts","start_type","unix","convert_day_to_hours","getDurationIndex","convertDuration","unit_to_convert","duration_index","target_index","default_duration","converted_duration","min_contract_duration","max_contract_duration","start_index","end_index","day_duration_index","subcategory","last_digit_range","trade_type_options","trade_type_category_name","getTradeTypeCategoryNameByTradeType","getTradeTypeByTradeCategory","isDisabledOption","subcategories","has_durations","types","trade_type_categories","category_names","compare_obj","disabled_obj","last_update_moment","local","updateTradingTimes","periodicUpdate","updateMarketOpenClosed","next_update_date","nextUpdateDate","now_moment","next_update_moment","add","isAfter","is_open_map","is_opened","hour","minute","second","toDate","wait_period","update_timer","last_update_date","format","tradingTimes","date_str","toISOString","getUTCDate","markets","processed_times","times","is_open_all_day","is_closed_all_day","calcIsMarketOpened","session","nextDate","symbol_names","className","extra","basis","prediction","selected_tick","barrierOffset","secondBarrierOffset","barrier2","isEmptyObject","tickOld","tickNew","number_string","promiseFn","recoverFn","details","updateErrorMessage","shouldThrowError","recoverResolve","getGlobalTimeouts","next_delay_in_seconds","logError","delay","req_id","getBackoffDelayInMs","findValueByKeyRecursively","repeatFn","formatTime","entry_tick_time","exit_tick_time","exit_tick","random","save_type","updateListStrategies","workspace_id","current_xml","current_timestamp","current_workspace_index","current_workspace","localForage","LZString","decompress","removeExistingWorkspace","eam","_action","once","unregisterIfError","unregisterAllBefore","unregisterAll","apiError","unregister","unreg","actionList","searchBy","_resolve","_reject","res","onWorkspaceResize","block_types","path","getUrlBase","l","location","pathname","get_path","getImageLocation","image_name","setSmartChartsPublicPath","createContext","QueryClient","useContext","StoreContext","useState","is_loading","setIsLoading","is_subscribed","setSubscribed","setError","setData","subscriber","useRef","WS","useWS","useCallback","props","current","useEffect","useSubscription","useStore","exchange_rates","base_currency","merge","BaseStore","onHydrationDone","makeObservable","observable","unmount","makePersistable","properties","storage","Function","stopPersisting","ExchangeRatesStore","FLAGS","foo","bar","baz","FeatureFlagsStore","flag","memoizedValue","useMemo","is_mock","feature_flags","MobxContent","React","MobxContentProvider","Provider","core","propsToSelectFn","Component","BaseComponent","own_props","ObservedComponent","isReactComponent","isClassComponent","useObserver","displayName","injectStorePropsToComponent","Popover","alignment","zIndex","StaticUrl","href","is_document","populateFooterExtensions","ui","populateFooter","position","SecurityAndPrivacy","has_right_separator","tabs_title","WORKSPACE","CHART","DBOT_TABS","DASHBOARD","BOT_BUILDER","TUTORIAL","TAB_IDS","run_panel","is_drawer_open","Notifications","notification_messages_ui","active_tab","is_info_panel_visible","classNames","updateChartType","updateGranularity","ToolbarWidget","isMobile","ChartMode","portalNodeId","onChartType","onGranularity","isDesktop","StudyLegend","searchInputClassName","Views","DrawTools","Share","chart_store","common","chart_type","getMarketsOrder","last_contract","is_digit_contract","is_socket_opened","onSymbolChange","setChartStatus","settings","assetInformation","countdown","isHighestLowestMarkerEnabled","language","current_language","is_chart_layout_default","theme","wsForget","wsForgetStream","wsSendRequest","wsSubscribe","show_digits_stats","SmartChart","showLastDigitStats","chartControlsWidgets","enabledChartFooter","chartStatusListener","v","toolbarWidget","chartType","enabledNavigationWidget","requestAPI","requestForget","requestForgetStream","requestSubscribe","topWidgets","ChartTitle","onChange","isConnectionOpened","speed","backgroundColor","foregroundColor","has_won_contract","weight","color","contract_stages","NOT_RUNNING","STARTING","PURCHASE_SENT","PURCHASE_RECEIVED","IS_STOPPING","CONTRACT_CLOSED","toggle_ref","checked_filters","filters","filterMessage","is_filter_dialog_visible","toggleFilterDialog","wrapper_ref","useOnClickOutside","classNameLabel","ref","hasFilter","Checkbox","defaultChecked","logType","classnames","Localize","i18n_default_text","components","styles","interpolation","escapeValue","formatMoney","getLogMessage","is_new_row","measure","in_prop","useNewRowTransition","date","date_el","DateItem","CSSTransition","in","getJournalItemContent","download","onClickDownloadTransaction","onClickDownloadJournal","is_clear_stat_disabled","clickFunction","popover_message","tab","classNameBubble","Button","onClick","DesktopWrapper","enter","enterDone","exit","unmountOnExit","journal","filtered_messages","unfiltered_messages","is_stop_button_visible","contract_stage","filtered_messages_length","unfiltered_messages_length","DataList","data_source","rowRenderer","keyMapper","unique_id","as","line_height","SelfExclusionForm","max_losses_error","setMaxLossesError","is_onscreen_keyboard_active","initial_values","api_max_losses","onRunButtonClick","resetSelfExclusion","updateSelfExclusion","setRunLimit","reality_check_is_visible","onSubmitLimits","form_max_losses","max_losses","set_losses","run_limit","Formik","initialValues","validate","errors","is_number","is_integer","requested_field_message","valid_number_message","max_number_message","max_decimal_message","max_losses_limit_message","amount_decimal_array","onSubmit","touched","isValid","handleChange","Form","Input","hint","large","SelfExclusion","is_restricted","FadeWrapper","is_visible","keyname","PageOverlay","header","onClickClose","MobileWrapper","Div100vhContainer","Modal","is_open","has_close_icon","toggleModal","propTypes","PropTypes","virtual_account_loginid","self_exclusion","is_reality_check_visible","getContractUpdateConfig","contract_update","getLimitOrderAmount","contract_update_stop_loss","contract_update_take_profit","has_contract_update_stop_loss","has_contract_update_take_profit","connectWithContractUpdate","validation_errors","getCardLabels","APPLY","STAKE","CLOSE","CANCEL","CURRENT_STAKE","DEAL_CANCEL_FEE","TAKE_PROFIT","BUY_PRICE","STOP_LOSS","TOTAL_PROFIT_LOSS","PROFIT_LOSS","POTENTIAL_PROFIT_LOSS","INDICATIVE_PRICE","INITIAL_STAKE","PAYOUT","PURCHASE_PRICE","POTENTIAL_PAYOUT","TICK","WON","DAYS","DAY","INCREMENT_VALUE","DECREMENT_VALUE","TAKE_PROFIT_LOSS_NOT_AVAILABLE","DONT_SHOW_THIS_AGAIN","RESALE_NOT_OFFERED","NOT_AVAILABLE","getContractConfig","is_high_low","LBFLOATCALL","LBFLOATPUT","LBHIGHLOW","getSupportedContracts","getContractTypeDisplay","summary_card","addToast","contract_store","current_focus","is_contract_completed","is_contract_inactive","is_multiplier","onClickSell","is_sell_requested","removeToast","setCurrentFocus","contract_info","is_contract_loading","card_header","ContractCard","has_progress_slider","card_body","error_message_alignment","getContractById","card_footer","contract_el","profit_loss","should_show_result_overlay","ThemedScrollbars","summary","CircularWrapper","AnimationInfo","toggleAnimationInfoModal","AnimationInfoModal","is_animation_info_modal_open","ContractStageText","TradeAnimation","is_stop_button_disabled","should_show_overlay","onStopButtonClick","info_direction","cashier_validation","performSelfExclusionCheck","is_button_disabled","updateIsButtonDisabled","is_unavailable_for_payment_agent","status_classes","progress_status","has_effect","green","status_class","account_status","transaction_elements","CONTRACT","DIVIDER","popover_zindex","QUICK_STRATEGY","TOOLBAR","TRANSACTION","SUMMARY_TOOLTIPS","RUN_PANEL","TransactionIconWithText","TransactionFieldLoader","TransactionIconLoader","PopoverItem","PopoverContent","tick_count","low_barrier","date_start","convertDateFormat","Transaction","active_transaction_id","setActiveTransactionId","underlying","IconTradeTypes","Money","show_currency","is_completed","transactions","TransactionItem","Transactions","onMount","onUnmount","transactions__content","getRowSize","StatisticsTile","content","contentClassName","StatisticsSummary","lost_contracts","number_of_runs","total_stake","total_payout","has_started_onboarding_tour","toggleStatisticsInfoModal","won_contracts","has_sign","DrawerHeader","onClearStatClick","DrawerContent","active_index","setActiveTabIndex","Tabs","onTabItemClick","DrawerFooter","MobileDrawerFooter","StatisticsInfoModal","is_statistics_info_modal_open","RunPanel","toggleDrawer","footer","Drawer","anchor","statistics","show_toast","toast_message","setOpenSettings","el_portal","ReactDOM","Toast","AppStore","root_store","onBeforeUnload","onClickOutsideBlockly","composedPath","classList","showDigitalOptionsMaltainvestError","is_eu_country","is_eu","routes","isEuResidenceWithOnlyVRTC","active_accounts","is_options_blocked","showDigitalOptionsUnavailableError","showError","link","has_error","registerReloadOnLanguageChange","registerCurrencyReaction","registerOnAccountSwitch","registerLandingCompanyChangeReaction","registerResidenceChangeReaction","setDBotEngineStores","dbot_store","blockly_store","setContainerSize","getCachedActiveTab","save_workspace_interval","disposeReloadOnLanguageChangeReaction","disposeCurrencyReaction","disposeSwitchAccountListener","disposeLandingCompanyChangeReaction","disposeResidenceChangeReaction","removeEventListener","setAccountSwitcherDisabledMessage","setPromptHandler","reload","trade_options_block","switch_broadcast","retrieveActiveSymbols","disposeCache","fake_create_event","account_settings","country_code","quick_strategy","loadDataStrategy","getSettingsFromLocal","getSetting","storeSetting","setItem","removeKeyValue","BlocklyStore","setActiveTab","g_subscribers_map","ChartStore","is_chart_loading","req","subscribeTicksHistory","stream_id","forgetStream","ServerTime","synthetic_index","has_synthetic_index","is_contract_ended","computed","onStartBot","onStopBot","updateSymbol","is_ended","TAB_LOCAL","TAB_GOOGLE","TAB_RECENT","clearInjectionDiv","el_ref","getElementsByClassName","setOnBoardTourRunState","setTourActive","onCloseTour","step_index","has_image_loaded","setImageLoaded","tour_image","Image","loading","Loading","content_text","current_target","setTourSettings","tour_type","getTourSettings","setTourType","tour_status_ended","tour","handleJoyrideCallback","joyride_props","showProgress","spotlightClicks","disableBeacon","disableOverlay","disableCloseOnEsc","DBOT_ONBOARDING","dashboard_tab_index","placement","locale","last","Step1","show_label","Step1A","Step2","Step3","Step4","Step5","Step6","BOT_BUILDER_TOUR","BOT_BUILDER_MOBILE","DBOT_ONBOARDING_MOBILE","step_key","DashboardStore","active_tab_tutorials","active_tour_step_number","dialog_options","faq_search_value","getFileArray","has_builder_token","has_file_loaded","has_mobile_preview_loaded","has_onboarding_token","has_started_bot_builder_tour","has_tour_ended","has_tour_started","is_dialog_open","is_file_supported","is_preview_on_popup","is_tour_dialog_visible","strategy_save_type","setIsFileSupported","setTourActiveStep","setPreviewOnDialog","onLoadModalClose","setStrategySaveType","setHasTourEnded","setBotBuilderTokenCheck","setOnBoardingTokenCheck","setBotBuilderTourState","setPreviewOnPopup","setTourDialogVisibility","setFileLoaded","onCloseDialog","setActiveTabTutorial","setFAQSearchValue","showVideoDialog","setInfoPanelVisibility","onZoomInOutClick","is_zoom_in","addition","toggleOnConfirm","setTourEnd","onTourEnd","initInfoPanel","previewRecentStrategy","current_workspace_id","refreshBotBuilderTheme","app","DataCollectionStore","IS_PENDING","IS_PROCESSED","endpoint","run_id","run_start","should_post_xml","strategy_content","cleanXmlDom","xml_dom","useless_attributes","updated_dom","cloneObject","removeAttributesRecursively","useless_attribute","removeAttribute","getHash","btoa","crc32","trackRun","trackTransaction","setRunId","setRunStart","setStrategyContent","isProduction","hostname","xml_hash","pako","getPayload","gzip","Referer","DownloadStore","getSuccessJournalMessage","transaction_csv_titles","transaction_csv_content","transaction_encoded_uri","encodeURI","transaction_link","click","journal_csv_titles","array_message","journal_csv_content","journal_encoded_uri","journal_link","help_content_types","IMAGE","BLOCK","EXAMPLE","help_content_config","example_id","variables_gets","pushDataLayer","onRunBot","onTransactionClosed","FlyoutHelpStore","css","move","sounds","examples","help_string","should_next_disable","should_previous_disable","active_helper","setHelpContent","setExamples","example_blocks","example","setFlyoutWidth","runInAction","is_help_content","help_strings","is_search_flyout","updateSequenceButtons","getHelpContent","target_blocks","xml_list_group","block_content","getFilledBlocksIndex","blocks_type","blocks_content","getNextHelpContentIndex","is_last","filled_blocks_index","setActiveHelper","onBackClick","onSequenceClick","initFlyoutHelp","getElementsByName","onSearch","should_go_next","xml_list","current_block_index","getNextBlock","current_index","is_next","next_index","next_blocks_type","next_filled_block","next_filled_block_index","next_block_type","getCategoryContents","selected_category","groupBy","last_filled_content_index","first_filled_content_index","nodes","should_include_block_only","block_group","node","all_examples","toolbox_examples","GTM","counters","reference_id","refrence_id","_root_store","run_statistics","gtm","FlyoutStore","block_listeners","block_workspaces","flyout_min_width","flyout_content","flyout_width","search_term","initFlyout","initBlockWorkspace","setContents","setSelectedCategory","getSelectedCategory","onClickOutsideFlyout","variables_blocks_count","first_get_variable_block_index","horizontalLayout","HorizontalFlyout","VerticalFlyout","targetWorkspace","getVariableMap","createPotentialVariableMap","el_block_workspace","block_svg_root","blockMouseDown_","bindEvent_","processed_xml","longest_block_width","is_search","is_flyout_click","is_search_focus","button_status","NORMAL","LOADING","COMPLETED","GoogleDriveStore","is_authorised","setKey","client_id","process","app_id","api_key","gapi","initialiseClient","google","accounts","oauth2","initTokenClient","updateSigninStatus","saveFile","loadFile","signIn","signOut","getPickerLanguage","checkFolderExists","createSaveFilePicker","createLoadFilePicker","showGoogleDriveFilePicker","bot_folder_name","google_auth","is_signed_in","requestAccessToken","setToken","revoke","removeItem","drive","files","pageSize","picker","pickerBackground","xml_doc","mime_type","file","mimeType","resource","setButtonStatus","Action","PICKED","folder_id","docs","strategy_file","strategy_file_metadata","parents","form_data","FormData","append","xhr","XMLHttpRequest","responseType","setRequestHeader","loadPickerCallback","fileId","is_save","docs_view","DocsView","setIncludeFolders","setMimeTypes","setSelectFolderEnabled","PickerBuilder","setOrigin","protocol","host","setTitle","setLocale","setAppId","setOAuthToken","addView","setDeveloperKey","setSize","setCallback","build","showErrorMessageWithButton","showErrorMessage","centerAndHighlightBlock","messageWithButton","btn_text","parseArray","getStoredItemsByUser","storage_key","getStoredItemsByKey","session_storage_item","sessionStorage","decompressed_item","stored_items","setStoredItemsByKey","compressed_value","JournalStore","JOURNAL_CACHE","journal_filters","playAudio","play","onLogSuccess","onNotify","pushMessage","getServerTime","welcomeBackUser","registerReactions","disposeReactionsFn","when","dbot","is","NaN","message_length","parsedArray","arrayAsMessage","isCustomJournalMessage","parsed_message","formatDate","item_id","disposeWriteJournalMessageListener","stored_journals","unfiltered_message","disposeJournalMessageListener","LoadModalStore","recent_workspace","local_workspace","drop_zone","is_load_modal_open","is_explanation_expand","is_open_button_loading","loaded_local_file","recent_strategies","dashboard_strategies","selected_strategy_id","is_strategy_loaded","is_delete_modal_open","is_strategy_removed","getSelectedStrategyID","is_body","setLoadedLocalFile","getDashboardStrategies","readFile","refreshStrategiesTheme","strategy","selected_strategy","loadFileFromRecent","loadFileFromLocal","onActiveIndexChange","tab_name","onDriveConnect","google_drive","onEntered","preview_workspace","zoomCenter","setSelectedStrategyId","dark_mode","setRecentStrategies","refreshStrategies","toggleExplanationExpand","toggleLoadModal","toggleTourLoadModal","getRecentFileIcon","getSaveType","onToggleDeleteDialog","is_preview","reader","FileReader","load_options","readAsText","onDriveOpen","setDashboardStrategies","QuickStrategyStore","qs_cache","selected_type_strategy","selected_duration_unit","input_duration_value","input_stake","input_martingale_size","input_alembert_unit","input_oscar_unit","input_loss","input_profit","types_strategies_dropdown","trade_type_dropdown","duration_unit_dropdown","is_contract_dialog_open","is_stop_bot_dialog_open","is_strategy_modal_open","onScrollStopDropdownList","getSizeDesc","getFieldMap","setSelected","setSelectedSymbol","setSelectedTradeType","setSelectedDurationUnit","setSelectedTypeStrategy","list_items","list_obj","getQuickStrategyFields","getHiddenCategories","hidden_categories","has_barrier","getTradeTypeOptions","is_muliplier","toggleStopBotDialog","setDescription","setActiveTypeStrategyIndex","setDurationUnitDropdown","setSymbolDropdown","setTradeTypeDropdown","setTypesStrategiesDropdown","setDurationInputValue","onChangeDropdownItem","onChangeInputValue","onHideDropdownList","createStrategy","updateSymbolDropdown","updateTypesStrategiesDropdown","updateTradeTypeDropdown","updateDurationDropdown","updateDurationValue","type_strategy","duration_unit_options","types_strategies_options","field_map","typeStrategy","currentTarget","stake","alembert_unit","oscar_unit","getMarketBySymbol","getSubmarketBySymbol","strategy_name","strategy_xml","strategy_dom","modifyValueInputs","el_value_input","modifyFieldDropdownValues","name_list","fields_to_update","tradetype","tradetypecat","durationtype","getAllSymbols","filtered_trade_type_categories","first_trade_type","types_strategies","first_type_strategy","first_duration_unit","duration_input_value","cache_unit","RoutePromptDialogStore","should_show","is_confirmed","last_location","shouldNavigateAfterPrompt","onConfirm","onCancel","continueRoute","next_location","routeTo","SUMMARY","TRANSACTIONS","JOURNAL","switch_account_notification","is_persistent","RunPanelStore","has_open_contract","error_type","unregisterBotListeners","clearStat","showStopMultiplierContractDialog","showLoginDialog","showRealAccountDialog","showClearStatDialog","showContractUpdateErrorDialog","onBotSellEvent","onBotStopEvent","onBotTradeAgain","onContractStatusEvent","onBotContractEvent","switchToJournal","setContractStage","setHasOpenContract","setIsRunning","handleInvalidToken","registerBotListeners","onBotRunningEvent","preloadAudio","stopMyBot","closeMultiplierContract","stats","trx","checkRestriction","route_prompt_dialog","is_ios","mobileOSDetect","saveRecentWorkspace","unHighlightAllBlocks","isSafari","should_bot_run","setIsRestricted","shouldRunBot","runBot","terminateBot","onOkButtonClick","onCancelButtonClick","rel","ok_button_text","cancel_button_text","notifications","registerIsSocketOpenedListener","disposeIsSocketOpenedListener","addNotificationMessage","disposeLogoutListener","disposeStopBotListener","ignore_new_version","indicateBotStopped","clearContractUpdateConfigValues","listen_new_version","is_trade_again","contract_status","is_virtual","platform","platform_name","is_disposable","removeNotificationMessage","toggleNotificationsModal","removeNotificationByKey","logout","getStrategySounds","audioElement","muted","pause","SaveModalStore","is_save_modal_open","toggleSaveModal","validateBotName","addStrategyToWorkspace","is_local","save_as_collection","local_type","save_collection","workspace_structure","updated_strategies","onConfirmSave","SelfExclusionStore","setApiMaxLosses","getSelfExclusion","attribute","hasOwnProperty","to_replace","rules","error_count","rule","is_rule_string","rule_object","validator","getPreBuildDVRs","name1","name2","ruleObject","Validator","getRuleObject","is_valid","is_ok","addFailure","SummaryCardStore","indicative_movement","profit_movement","validation_rules","trigger","getBuyPrice","contract_update_config","indicative","getLimitOrder","populateContractUpdateConfig","updateLimitOrder","setValidationErrorMessages","validateProperty","isMultiplierContract","getIndicativePrice","movements","isEqualObject","contractUpdate","propertyName","messages","inputs","isPassed","disposeSwitchAcountListener","SummaryStore","ToolbarStore","has_undo_stack","has_redo_stack","onResetClick","closeResetDialog","onResetOkButtonClick","onSortClick","onUndoClick","is_redo","undo","hasUndoStack","hasRedoStack","ToolboxStore","is_toolbox_open","is_search_loading","sub_category_index","toolbox_dom","setWorkspaceOptions","adjustWorkspace","onToolboxItemClick","onToolboxItemExpand","getAllCategories","hasSubCategory","onSearchBlur","onSearchClear","onSearchKeyUp","showSearch","toolbox_ref","disposeToolboxToggleReaction","languageTree","hasCategories","hasCollapse","hasComments","hasDisable","toolbox_width","getBoundingClientRect","block_canvas_rect","round","scroll_distance","category_id","open_ids","open_id","dynamic","getToolboxCategoryCallback","fnToApply","subCategory","submitForm","typing_timer","search_words","all_variables","all_procedures","general_term","term","block_contents","contents","flat","pushIfNotExists","array","element_to_push","priority","block_definitions","block_name","block_type_terms","block_name_terms","definition_key_to_search","word","definition_strings","matched_meta","block_meta_strings","pushBlockWithPriority","matched_variables","unique_var_blocks","searched_procedures","procedure","unique_proce_blocks","procedure_block","TransactionsStore","TRANSACTION_CACHE","recovered_completed_transactions","recovered_transactions","is_called_proposal_open_contract","pushTransaction","onClickOutsideTransaction","recoverPendingContracts","updateResultsCompletedContract","sortOutPositionsBeforeAction","recoverPendingContractsById","isEnded","entry_tick_display_value","exit_tick_display_value","same_contract_index","disposeTransactionElementsListener","stored_transactions","disposeRecoverContracts","positions","element_id","contract_details","portfolio","isBot","subscribeProposalOpenContract","RootStore","flyout_help","data_collection_store","DBotStoreContext","DBotStoreProvider","stores","useDBotStore","custom_color","id_ref","Local","file_input_ref","has_dashboard_strategies","renderOpenButton","accept","Dialog","is_mobile_full_width","SaveModalForm","content_height","autohide","placeholder","onFocus","onBlur","RadioGroup","onToggle","IconRadio","google_drive_connected","is_submit_success","SaveModal","MobileFullPageModal","is_modal_open","height_offset","page_overlay","is_drive_radio","removeBotStrategy","strategy_from_workspace","onHandleChange","confirm_button_text","STRATEGY","MENU_DESKTOP","CONTEXT_MENU_MOBILE","trigger_div_ref","is_dropdown_visible","setDropdownVisibility","handleHideDropdown","handleClickOutside","useComponentVisibility","is_desktop","viewRecentStrategy","is_active_mobile","HEADERS","Recent","getStrategies","setStrategies","actions","hidden","SIDEBAR_INTRO","handleClose","renderInfo","sidebar_item","tutorial_link","tutorial_label","switchTab","DashboardTitle","MobileIconGuide","handleTabChange","DashboardDescription","DashboardComponent","steps","continuous","back","arrowColor","primaryColor","textColor","spotlightShadow","buttonBack","border","marginRight","borderRadius","padding","overlay","TourButton","Accordion","content_data","expanded","setOpen","setStep","slider_content","setContent","slider_header","setheader","slider_image","setimg","setStepKey","MOBILE_TOUR","onClickNext","bot_tour_text","tour_button_text","ProgressBarOnboarding","amount_of_steps","toggleTour","getTourContent","tab_id","confirm_button","onHandleConfirm","FAQ","dangerouslySetInnerHTML","__html","faq_list","hide_header","icon_close","icon_open","guide_list","subtype","dbot_settings","onboard_tour_token","bot_builder_token","triggerTour","backgroundImage","onClose","frameBorder","allowFullScreen","user_guide_content","guide_content","faq_content","guide_tab_content","search_filtered_list","setsearchFilteredList","search_faq_list","setsearchFAQList","search_input","menu_items","selected_tab","content_list","filtered_list","onChangeHandle","debounce","SelectNative","should_show_empty_option","tour_status","is_tour_complete","bot_tour_token","setTourStatus","margin","Trashcan","MARGIN_BOTTOM_","MARGIN_SIDE_","initTrashCan","botStorageSetting","has_onboard_token_set","has_bot_builder_token_set","show_tour_dialog_desktop","show_tour_dialog_mobile","tab_index","el_id","el_tab","scrollIntoView","behavior","inline","hideCloseButton","onTabItemChange","portal_element_id","QuickStrategyContainer","symbol_dropdown_options","component","trade_type_dropdown_options","getMessage","select_value","is_able_disabled","trailing_icon_message","common_inputs_properties","is_uniq_strategy_field","quick_strategy_store","Description","DurationFields","dropdown_list","selected_value","QuickStrategyFields","uniq_selected_input","data_uniq_input_obj","_elem","dropdown_lists","selected_values","data_fields","is_input_field","is_select_field","prevProps","nextProps","QuickStrategyFooter","is_submit_enabled","handleCreateEdit","handleRun","QuickStrategyForm","setDefaultValidationNumber","Yup","typeError","SchemaFields","required","validationSchema","enableReinitialize","validateOnMount","isSubmitting","elem","is_bypassed","InputField","new_field_name","new_id","new_className","new_label","new_input_value","new_placeholder","new_trailing_icon_message","new_zIndex","trailing_icon","Inputs","MarketOption","SelectField","Autocomplete","autoComplete","onItemSelection","onScrollStop","leading_icon","Selects","TradeTypeOption","FlyoutBlock","should_center_block","should_hide_display_name","FlyoutBlockGroup","onInfoClick","is_variables_get","is_variables_set","AddButton","is_plus","FlyoutImage","FlyoutText","lineHeight","FlyoutVideo","allow","HelpBase","block_help_component","text_count","example_node","renderText","SearchResult","total_result","FlyoutContent","flyout_ref","is_empty","platform_name_dbot","getPlatformSettings","callback_id","getButtonCallback","flyout__search","flyout__help","flyout__normal","Wrapper","onDrop","header_text","has_loaded_file","has_recent_strategies","elements_to_ignore","header_fit_content","has_separator","NetworkStatusToastError","portal_id","setIsOpen","network_status","getIcon","ExpansionPanel","onResize","title_text","toggle_dialog_or_stop","paddingBottom","paddingTop","button_id","button_classname","buttonOnClick","should_disable_pointer_events","icon_id","icon_color","onKeyUp","Arg","Category","Example","Examples","Mutation","Next","Shadow","Statement","Value","ToolboxItems","ReactDomServer","xmlns","deletable","movable","divisor_input","variabletype","elseif","else","active","has_sub_category","is_sub_category_open","is_tour_running","AppContent","DBotStores","combinedStore","h","hj","_hjSettings","hjid","hjsv","onDisconnectFromNetwork","survicate_box","initSurvicate","webpackAsyncContext","__webpack_require__","module","exports"],"sourceRoot":""}